
.!** set up Qume page format
.LEFT MARGIN  0
.RIGHT MARGIN 80
.PAGE SIZE    60,80

.!* ensure that .NO FILL also retains blank lines
.KEEP

.!* enable the use of ^^^*...\* and * as bolding flags
.ENABLE BOLDING;.FLAGS  BOLD

.!* change the way .HL works
.!*        n1=6        lowest  level to have 'run-in' format
.!*        n2=2        highest level to have title in uppercase - ie 1 & 2 will have
.!*        n4=0        lowest  level not to have section number at left
.!*        n6=0        number of blank lines before header
.STYLE HEADERS 6,2,,0,,0

.!* Set the page layout for double sided copying, ie page numbers at bottom
.!* centre and title switching sides according to odd or even page number
.!.LAYOUT 2,2

.!* ensure that .INDEX entries will be transmitted as they were typed
.XLOWER

.!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
.TITLE PROFILE - Vector Profile Generation from a DTM
.PAGE

.!******************************************************************************
.!*** TITLE								     ***
.!******************************************************************************

.FIGURE 14
.CENTRE ;^&MODULE PROFILE\&
.BL
.CENTRE ;^&Vector Profile Generation from a DTM\&
.FIGURE 2
.CENTRE ;^&Issue 2.0 - 9_ March_ 1989\&
.FOOT
.FLAGS SUBSTITUTE
.NOFILL
Copyright (C) 1989  Laser-Scan Ltd
Science Park, Milton Road, Cambridge, England CB4 4FY  tel: (0223) 420414

Document "PROFILE Reference"			Category "Reference"
Document Issue  2.0	D R Catlow		09-March-1989
		1.1	F J Brown		30-November-1988
		1.0	D R Catlow		13-May-1988
.FILL
.NOFLAGS SUBSTITUTE
.END FOOT


.!******************************************************************************
.!*** First page, introduction						     ***
.!******************************************************************************
.PAGE
.BR
^*--------------------------------------------------------------------------------\*
.BR
^*MODULE#####PROFILE\*
.INDEX PROFILE

.P0
^*--------------------------------------------------------------------------------\*
.HL 2 ^*FUNCTION\*

.LM +10
.P 0;PROFILE is a utility to construct a series of path profiles lines through
a Digital Terrain Model (DTM). Typically, the origin of the profiles will be a
base station, and the profile data will be used for radio frequency
propagation analysis. Profiles are constructed either radially around the base
station, or between each DTM node and the base station.  Options are provided
in the program to restrict profile generation to a rectangular area of
interest or to a sector of interest. 
.P 0;Input is a DTM, and optionally a series of clutter grid files, held in
a Laser Scan Digital Terrain Image (DTI) format.  Output is to a Laser
Scan vector Internal Feature Format (IFF) file.
.P 0;Each profile is written to the IFF file as a separate feature.  The
bearing and length of the profile is stored in the IFF file, along with the x
y and z coordinates of the profile sample points. Additionally a clutter index
value is stored for each sample point. 
.LM -10
.TP 17
.P0
^*--------------------------------------------------------------------------------\*
.HL 2 ^*FORMAT\*

.LM +10

.P0
$ PROFILE
.LM -10

.TP 10
.P0
^*--------------------------------------------------------------------------------\*
.HL 2 ^*PROMPTS\*

.LM +10

.P0
PROFILE is an interactive, command driven program. Command input is expected
when the following prompt is issued:

.P+12
^*PROFILE >\*

.P0
Commands may be issued at the terminal in response to the prompt, or in the
case of a number of commands, by pressing a button on a digitising puck. 
.LM -10

.TP 10
.P0
^*--------------------------------------------------------------------------------\*

.!******************************************************************************
.!*** Description             						     ***
.!******************************************************************************

.page
.P0
^*--------------------------------------------------------------------------------\*
.HL 2 ^*DESCRIPTION\*
.P0
^*--------------------------------------------------------------------------------\*
.lm +8
.HL 2 ^*GENERAL\*
.P 0;PROFILE constructs a  series of path profiles lines through a Digital
Terrain Model (DTM). 
.P 0;The input to the program is a DTM, and optionally a series of clutter
grid files, held in a Laser Scan Digital Terrain Image (DTI) format. 
Utilities to convert data held in other formats (eg. DTED, NTF) to a DTI
format are available.
.P 0;The DTM defines the elevation of the terrain surface. It consists of
a set of elevation values recorded on a regular rectangular grid. The
DTM is specified using the FILEIN command.
.P 0
A clutter grid file contains height information relating to surface features
such as buildings, vegetation or water.  Information on each group of
features must be contained in a separate file. The specification for a clutter
file is given by means of the BUILDING, VEGETATION and WATER commands. The
use of a clutter file is optional.
.P 0
Output from the program is to a Laser Scan vector Internal Feature Format (IFF)
file. Each profile is written to the IFF file as a separate feature.  The
bearing and length of the profile is held, along with the x y
and z coordinates of the profile sample points. Additionally a clutter index
value is stored for each profile sample point. 
.P 0
Typically, the origin of the profiles will be a base station.  The profiles
are constructed either radially around the base station position, or between
each DTM node and the base station.  Options are provided in the program to
restrict profile generation to a rectangular area of interest or to a sector
of interest. 
.lm -8 
.P0
^*--------------------------------------------------------------------------------\*
.lm +8
.HL 2 ^*The Output IFF File\*
The profiles calculated by PROFILE are output to a Laser Scan Internal
Feature Format (IFF) file.
.P 0;The Map Descriptor entry of the IFF file is taken from any projection
details held in the header of the DTI file.  
.p 0;Each profile is output to the IFF file as a separate feature.
Attributes associated with a profile are held either in an Ancillary
Code (AC) entry, or on a per point basis with the coordinate information in a
Coordinate Block (CB) entry. The bearing and length of the profile is stored,
along with the x y and z coordinates of the profile sample points.
Additionally a clutter index value is stored for each sample point. 
.P 0;A profile feature will have the following structure in the IFF file:
.LIT

NF
FS 
AC
AC
CB
EF

.END LIT
.P 0
The NF indicates the start of a feature, and defines the feature serial number
(FSN).  The FSN is incremented by 1 for each new feature up to a maximum value
of 65535, at which point the FSN is reset to 1. Depending on the number of
features in the file, the FSN may therefore be used to uniquely identify a
profile. 
.p 0
The Feature Status (FS) entry holds the feature code of a profile. PROFILE
assigns the same feature code to all features in the IFF file.  By default
features are given a value of 1.  An alternative feature code may be specified
using the command SET FC. 
.p 0
The first Ancillary Code (AC) entry in a feature, holds the length of the
profile.  This is the distance of the profile end point from the profile
origin (base station).  The distance is stored in metres as a real (floating
point) number.   By default, PROFILE uses an AC type 1002 to hold the distance
value.  An alternative AC type may be specified using the command SET
AC__LENGTH. 
.p 0
The second Ancillary Code (AC) entry in a feature, holds the bearing of the
profile from the profile origin (base station). The bearing is specified in
degrees from north eg. 90.0 indicates a bearing that is due east. A real
(floating point) value is held in the AC.  By default PROFILE uses an AC type
1001 to hold the bearing value. An alternative AC type may be specified using
the command SET AC__BEARING. 
.p 0
The Coordinate Block (CB) entry stores coordinate and attribute information
associated with profile sample points. 
.br;The x and y coordinates are held as real (floating point) values in the
first two columns of the coordinate block. They define the position of the
sample points in metres, relative to the SW corner of the DTM rectangular area
of interest. The true (absolute) position of a sample point may be determined
by adding the x and y local origin values held in the IFF map descriptor (MD)
record to the CB coordinate values.
.br;The height (z value) of a sample point is held as a real (floating point)
value in column 3 of the coordinate block. The z value is the
height of the terrain surface (above sea level), plus the height of any
clutter feature present at the sample point. 
.br;Column 4 of the coordinate block holds a clutter index, and is used to
determine the type of clutter present at the sample point.  By default, PROFILE
assigns an attribute code of 1003 to the clutter index attribute code.
An alternative attribute code may be specified using the command SET
AC__CLUTTER. The clutter index value should be interpreted as a longword
integer number, and has the following meaning: 
.LIT

Clutter Index     0         No clutter feature is present at the sample 
                            point. In this case the Z value represents a
                            terrain surface height derived from the DTM.
Clutter Index     1         A building is present at the sample point.
Clutter Index     2         A wood or some other type of significant
                            vegetation is present at the sample point.
Clutter Index     3         A water feature is present at the sample 
                            point.

.END LIT
.p 0
Depending on the distance of the profile, and the rate of sampling along the
profile, a feature may contain multiple CB entries.  Coordinate data
for a maximum of 200 sample points are stored in a single coordinate block.
.P 0
Note that in order to reduce the amount of space occupied by a coordinate
block, the coordinate block is compressed by PROFILE before
it is written to the output IFF file.  This means that if either the Z value 
or the clutter index value is constant for all the points in the CB, it will
be written as a fixed attribute, rather than as an attribute on a per point
basis.
.p 0
The End of Feature (EF) entry indicates the end of an IFF feature ie. the end
of a profile. 
.lm -8
.P0
^*--------------------------------------------------------------------------------\*
.lm +8
.HL 2 ^*Area of Interest\*
It is possible to restrict profile generation both to a rectangular area of
interest, and to a sector of interest in the DTM.
.P 0
A rectangular area of interest is defined using the ^*WINDOW\* command.  The
coordinates of the SW (bottom left) corner and NE (top right) corner of the
rectangle are required, and may be entered via the terminal keyboard in the
current units of measurement, or from the digitising table.  The window
coordinates are converted to the nearest DTM column and row positions on
input. Using this command for example, calculation of profiles may be
restricted to a 10km square area. 
.p 0
In addition to a rectangular area, it is also possible to define a sector of
interest. A sector of interest is specified using the ^*SECTOR\* command, and is
defined in terms of a sector radius, and optionally 2 bearing values that
define the angular limits of the sector.  The origin of the sector is the
profile origin.
.P 0
If no bearing values are supplied a 360 degrees scan around the base station
position is carried out.  The sector radius determines the outer limit
of the circular scan. 
.P0;The order in which the bearing values are specified determines whether the
area of interest is inclusive or exclusive to the angular limits. A clockwise
convention is used.  For example if the first bearing is defined as 40 degrees
and the second bearing as 80 degrees, the angular width of the sector of
interest will be 40 degrees rather than 320 degrees.  If the values are
supplied in the order 80 and 40 degrees, the angular width of the sector of
interest will be 320 degrees. 
.p0; Note that a sector of interest will be clipped to any rectangular area
of interest that may have been defined (see Figure 1).
.lm -8 
.TP 10
.P0
^*--------------------------------------------------------------------------------\*
.lm +8
.HL 2 ^*Sample Interval\*
The sample interval determines the separation of profile sample points, and
therefore controls the rate at which the DTM height values are sampled.
.p 0
A sample interval that is constant along the length of a profile may be
specified using the command ^*SAMPLE__INTERVAL\*. Alternatively, a sample
interval that varies with the distance of the profile sample point from the
profile origin (base station) may be selected, using one or more ^*BAND\*
commands. 
.P 0
The ^*BAND\* command is used to specify the width of a concentric band
surrounding the base station, and the sampling rate within the band. Up to 20
bands may be specified.  Band 1 is the band immediately surrounding the
profile origin; band 2 surrounds band 1 and so on (Figure 2). The bands must
be defined in ascending sequence.  Typically this mechanism is used to sample
at a lower rate in the immediate vicinity of a base station, and at a higher
rate towards the edge of the area of interest. 
.p 0
If the band width is not exactly divisible by the band sample interval, the
program will ensure that a sample point is generated exactly on the outer edge
of the band. If the total width of all the bands is less than the sector
distance, or is insufficient to extend to the corners of the rectangular area
of interest, the width of the highest band will be extended as necessary. 
.lm -8
.P0
^*--------------------------------------------------------------------------------\*
.lm +8
.HL 2 ^*Calculation of the Height at a Profile Sample Point\*
The height of the terrain surface at a sample point is calculated from the
DTM. If the sample point does not lie exactly on a DTM node, bilinear
interpolation, using the height of the surrounding 4 nodes, is applied
to derive a height value. 
.p 0
If one or more clutter grid files have been specified, any clutter height
value at the sample point is added to the terrain height.
If the sample point does not lie exactly on a grid node,
the height value associated with the nearest node in the clutter grid file is
used. 
.p 0; A clutter value indicating whether the terrain height has been adjusted
using a building, vegetation or water value, is stored in the IFF file for
each sample point. 
.P 0; If a value of -1 is found in the clutter matrix, it indicates to the
program that no feature is present at the sample point.  In this situation a
clutter index of 0 will be recorded for the sample point in the coordinate
block.
.P 0; Note that a warning message will be generated if a height 
for a sample point is recorded in more than one clutter file. In this
situation the user will be informed which clutter value has been used.
.p 0
.Lm -8
.P0
^*--------------------------------------------------------------------------------\*
.lm +8
.HL 2 ^*Profile Interval\*
The ^*PROFILE__INTERVAL\* command may be used to determine both how the profiles
are constructed, and how many profiles are constructed. Profiles may either be
generated radially around the base station at a fixed angular interval, or
alternatively between the base station and each DTM node in the area of
interest. 
.P 0
If the value supplied with the ^*PROFILE__INTERVAL\* command is greater than 0,
then profiles are constructed radially around the base station.  The angular
separation (ie. the profile interval) is specified by means of the command
parameter. The SECTOR command may be used in conjunction with this command to
control the number of profiles that are constructed.  The radial profiles are
constructed in clockwise order. 
.P 0
If the profile interval is specified as 0, then PROFILE will construct a path
profile between the base station and each DTM node that lies within the
rectangular or sector areas of interest.  For example if a rectangular area of
interest of 100 columns and 100 rows has been defined, then a total of 9999
separate profiles will be generated. (A profile between the base station and
the base station is not constructed.)  ^*Note that this is the default action
of the program.\* 
.Lm -8
.P0
^*--------------------------------------------------------------------------------\*
.lm +8
.HL 2 ^*Use of a Digitising Table and Puck Buttons\*
If your workstation incorporates a digitising table with a 16 button puck, then
it is possible to register a source document to the DTM, and to
issue a number of the PROFILE commands by pressing an appropriate button on the
table puck. 
.P 0 
The Laser Scan Table Monitor Utility controls reading from the digitising
table. It must be set up on your system if PROFILE is to take input from the
digitising table. The automatic initialisation of the table monitor utility
is optionally invoked by means of the logical name:
.LIT

        LSL$AUTO_ENABLE_TABLE

.END LIT
If the logical name is defined as "1", initialisation should be carried
out on program startup. If the logical name is absent, or is defined to anything
other than "1", the table monitor system is not automatically invoked.
To cause automatic initialisation of the table monitor utility on program
startup issue the following command before running PROFILE:
.LIT

	ASSIGN 1 LSL$AUTO_ENABLE_TABLE

.END LIT
.P 0;After program startup initialisation of the table monitor system can
be invoked by the command ^*ENABLE TABLE\* and subsequently halted by the
command ^*DISABLE TABLE\*.
.P 0;If table monitor initialisation fails, either at program startup or
after an ^*ENABLE TABLE\* command, then the message: 
.LIT

	*** WARNING *** Unable to initialise the table monitor
	PROFILE will assume no table is available

.END LIT
will be output before the prompt ^*PROFILE>\* is displayed on the terminal. If
the event of failure, input from the digitising table or puck button is not
possible, and the program will accept commands only from the terminal. 
.P 0
Table initialisation failure is generally because no Table Monitor is
currently active, or because the Table Monitor is locked by another user. If
neither of these reasons appear to apply, you should consult the TABLIB
Reference Manual, or seek guidance from your system manager. 
.BL 2
A map is registered to the DTM using the command ^*SETUP MAP\*.  Before giving
this command you should have first selected the input DTM, and have securely
attached the source document to the digitising table. 
.P0;Registration is performed by digitising 4 registration points.
The registration points represent 4 points on the map that correspond to the 4
corners of the DTM.  The points are digitised in the order top left (NW),
bottom left (SW), bottom right (SE) and top right (NE) using any button on the
table puck. A point is digitised in response to an explanatory prompt on the
terminal. 
.p0; An error message is generated if any of the angles of the digitised
rectangle are less than 88 degrees, or greater than 92 degrees (ie. if the
corner points of the rectangle are more than 2 degrees off rectangular). In
this situation you will be asked to redigitise the 4 registration points.
.P0; Once a map has been positioned on the table, it is possible to define an
area of interest in the DTM by giving the WINDOW command and digitising two
points on the map.  It is also possible to digitise the position of the base
station (profile origin), a sector radius and angular limits, and a profile
end point. 

.bl 2
.TP 40
The buttons on the table puck have the following meanings.
.LIT

  	+---------------------------------------------------+
	|            |            |            |            |
	|          0 |          1 |          2 |          3 |
	|            |            |            |            |
	|            |            |            |            |
	|  POSITION  |   WINDOW   |   SECTOR   |    POINT   |
	|            |            |            |            |
	|------------|------------|------------|------------|
	|          4 |          5 |          6 |          7 |
	|            |            |            |            |
	|            |            |            |            |
	| undefined  | undefined  | undefined  | undefined  |
	|            |            |            |            |
	|------------|------------|------------|------------|
	|          8 |          9 |          A |          B |
	|            |            |            |            |
	|            |            |            |            |
	| undefined  | undefined  | undefined  | undefined  |
	|            |            |            |            |
	|------------|------------|------------|------------|
	|          C |          D |          E |          F |
	|            |            |            |            |
	|            |            |            |            |
	| undefined  | undefined  | undefined  |  ABANDON   |
	|            |            |            |            |
	|____________|____________|____________|____________|



.END LIT
.P 0;^*BUTTON 0\* is used to define the position of the base station ie. the
profile origin point. A single point inside the map area should be digitised. 
.P 0;^*BUTTON 1\* is used to give a WINDOW command.  The button may be pressed
either inside or outside the map area. After pressing the button, you will be
asked to digitise 2 points inside the map area, defining the SW corner (bottom
left) and NE corner (top right) of a rectangular area of interest. 
.P 0;^*BUTTON 2\* is used to give a SECTOR command.  A single point inside
the map area should be digitised.  The coordinates of this point are used to
calculate the radius of the sector (ie. the distance from the profile
origin to the sector arc). The position of the base station must have been
previously defined.
.BR; In addition you will be asked to digitise two points that define the
angular limits of the sector.  The points are digitised in response to
prompts on the terminal. Any button on the table puck may be used.  If
^*Button F\* is used to abandon the command, the program will assume a
360 degrees scan around the base station is required.
.P 0;^*BUTTON 3\* is used to define the position of a profile end point. A
single point inside the map area should be digitised. The program will
immediately calculate the profile, and write the coordinate and attribute
values to the output IFF file. Any number of profiles may be defined in this
way. 
.BR; The position of the base station, a sampling interval and the name of an
output IFF file must have been defined before the command is issued for the
first time.
.P 0;^*BUTTONS 4 to E\* are currently undefined.
.P 0;^*BUTTON F\* may be used to abandon map set up, window or sector
definition.  When the button is pressed, control is returned to the terminal
and the prompt ^*PROFILE>\* is displayed. 
.lm -8
.P 0
^*--------------------------------------------------------------------------------\*
.!******************************************************************************
.!*** Commands                						     ***
.!******************************************************************************

.PAGE
.SUBTITLE
.FIGURE 5
.STYLE HEADERS ,,,,1
.HL 2 ^*PROFILE commands\*
.STYLE HEADERS ,,,,7

.!******************************************************************************
.PAGE
.SUBTITLE _@ command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*_@\*
.INDEX PROFILE> commands> _@
.INDEX PROFILE _@ command

.LEFT MARGIN +8
.P 0;Take command input from the specified file.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:        _@ file-spec


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;file-spec
.P 0;The file to be opened and used for command input.

.P 0;Any parts of the file-spec not supplied will be taken from the default
specification 'SYS$DISK:[].COM;0'. 
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;PROFILE offers the facility of command input from an indirect command
file. The '@' character preceding a file-spec will cause PROFILE to open
and read commands from the specified file until: 
.LIST
.LE ;a RETURN command is detected and command input is returned to SYS$COMMAND.
.LE ;the end of file is detected. This provokes an error message and command
input is returned to SYS$COMMAND. 
.END LIST 

.P 0;Nested command files are not supported (i_.e_. a command file containing an
'@' command), although sequential '@' commands are supported when read from
SYS$COMMAND.

.P 0;As an aid to batch log interpretation PROFILE will echo all commands
read from an indirect command file. 
.P 0;Typically the commands contained in the file will define frequently used
values, such as default BAND and SECTOR parameters. 
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following messages are specific to the _@ command:

.LIT

*** ERROR *** Specifying command @
Command file specification is missing

*** ERROR *** Specifying command @
Unable to open indirect command file 'file-spec'

*** ERROR *** Specifying command @
Nested command files not supported

.END LIT
.TEST PAGE 8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;PROFILE> ^*@DEFAULT__BANDS<CR_>\*
.BR;PROFILE> BAND 1 500.0 50.0
.BR;PROFILE> BAND 2 1000.0 100.0
.BR;PROFILE> BAND 3 2000.0 200.0
.BR;PROFILE> RETURN
.BR;Returning to terminal input
.BR;PROFILE>

.!******************************************************************************
.PAGE
.SUBTITLE _! command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*_!\*
.INDEX PROFILE> commands> _!
.INDEX PROFILE> _! command

.LEFT MARGIN +8
.P0; Treat all text to the right of the '!' as a comment.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:        _! [comment text]

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;comment text
.P0; text that is to be treated as a comment and which will be excluded from
command interpretation.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P0; All text (and numbers) which lie to the right of a '!' character are
excluded from command interpretation. Comments are useful for annotating
command procedures used in batch processing etc. 
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;PROFILE> ^*FILEIN TEST !open the file_<CR_>\*
.BR;PROFILE> ^*!Define a window_<CR_>\*
.BR;PROFILE> ^*WINDOW 1 1 10 10_<CR_>\*
.BR;PROFILE>


.!******************************************************************************
.PAGE
.SUBTITLE  BAND command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*BAND\*

.LM +8
.p 0;BAND is used to define the width of a concentric band surrounding the
base station (profile origin), and the rate at which the DTM is sampled within
the band. A series of BAND commands may be used to specify a sample interval
along a profile, that varies with distance from the profile origin.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		BAND band_number width sample_interval
.end lit
.p 0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8;band__number
.P0; Band__number is the band identifier.  The band immediately surrounding the
base station is band 1; band 2 surrounds band 1 and so on.  An integer value in
the range 1 to 20 is required.
.P-8;width
.p0; Width defines the width of the band.  The width is specified in metres, as
a real (floating point) value. 
.P-8;sample__interval
.p0; Sample__interval defines the rate at which the DTM is sampled within the
band.  The sample interval is specified in metres as a real
(floating point) value. 
.LM -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.p0;BAND is used to define the rate at which the DTM is sampled along a
profile. Up to 20 different bands may be specified, each with a different width
and sample interval.  This allows a profile to be generated using a sample
interval that varies with distance from the base station. It is generally used
to sample the DTM at a lower rate in the immediate vicinity of the
base station, and at a higher rate towards the edge of the area of interest. 
.BR;If BAND is specified, any constant sample interval defined using the
SAMPLE__INTERVAL command is ignored.  
.P0;It is a requirement of the program that bands are defined in ascending
sequence.  For example, if an attempt to define parameters for band 3 is made,
before bands 1 or 2 have been defined, an error message will be generated. 
.P0;The command SHOW PARAMETERS may be used to output details of band
parameters to the terminal. 
.P0;A sample interval or a series of sample intervals must be specified using
the SAMPLE__INTERVAL or BAND commands, before the command GO is given to
generate the profiles.
.TP 15
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error messages are specific to the BAND command:
.LIT

*** ERROR *** Specifying command BAND
Command requires 3 arguments

*** ERROR *** Specifying command BAND
Band number must be in the range 1 to 20

*** ERROR *** Specifying command BAND
Parameters for lower band <number> must be defined first

*** ERROR *** Specifying command BAND
Band width must be specified as a positive real number

*** ERROR *** Specifying command BAND
Sample interval must be specified as a positive real number

.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Example:\*
             
.P0;PROFILE>^*BAND 1 1000.5 50.0_<CR>\*
.BR;PROFILE>^*BAND 2 2500.0 100.0_<CR>\*
.BR;PROFILE>

.P0
.!******************************************************************************.bl
.PAGE
.SUBTITLE  BUILDING command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*BUILDING\*

.LM +8
.p 0;Selects and opens a DTI file that contains clutter information relating
to buildings.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 BUILDING file-spec
.end lit
.p 0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8;file-spec
.P0; The file specification for the input grid file containing clutter
information relating to buildings. 
.br; Any part of the file specification not supplied is taken from the default
'LSL$DTI:DTI.DTI', although if no file-spec is supplied, you will be asked to
supply one in response to the prompt ^*Input DTI filename>\*
.LM -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.p 0;This command opens and maps into memory a DTI file, containing height
information relating to buildings. Details derived from the header of the file
are displayed on the terminal to confirm that the file has been successfully
opened. 
.P0;A clutter file may only be specified, after a DTM has been selected using
the FILEIN command.  
.P0;If the clutter file contains a DTI Projection Record, the position of the
SW corner of the grid may be determined. This enables the clutter data to be
correctly positioned with respect to the DTM. If the origin is unset or
the file contains no projection record, the SW corner of the clutter file is
assumed to register to the SW corner of the DTM. 
.P0 
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P0;The following error messages are specific to the BUILDING command:
.LIT

*** ERROR *** Specifying command BUILDING
Input DTI filename is missing

*** ERROR *** Specifying command BUILDING
The input DTM must be specified first

.END LIT
.TP 15
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Example:\*
             
.P0;PROFILE>^*BUILDING TEST__BUILDING<CR>\*

.lit

LSL$DTI:TEST_BUILDING.DTI	
Header: MIKE	 Data: WORD

Units are Metres

Matrix coverage    SW:    1     1    NE:   301   251
Matrix Window      SW:    1     1    NE:   301   251
Matrix Interval	    E:	  1	      N:     1
Value Range	     :      0   to   25

.end lit
.BR;PROFILE>
.bl
.!******************************************************************************
.PAGE                     
.SUBTITLE DISABLE ABSOLUTE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DISABLE ABSOLUTE\*
.INDEX PROFILE> commands> DISABLE ABSOLUTE
.INDEX PROFILE> DISABLE ABSOLUTE command

.LM +8
.P 0;Disables the use of absolute coordinates. 
.LM -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                DISABLE ABSOLUTE \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;DISABLE ABSOLUTE disables the use of absolute coordinates, and is
therefore used to cancel an ENABLE ABSOLUTE command.
DISABLE  ABSOLUTE causes the program to work in relative coordinates. The
coordinates displayed in a SHOW FILEIN or SHOW PARAMETERS output will be
relative, and those entered in a WINDOW, POINT, or POSITION command are
expected also to be relative to the SW corner of the data.
.BR;By default coordinates are entered and displayed in absolute form.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error message is specific to the DISABLE command:
.LIT

*** ERROR *** Specifying command DISABLE
Valid command qualifiers are ABSOLUTE, DIAGNOSTICS or TABLE

.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;PROFILE> ^*DISABLE ABSOLUTE_<CR_>\*
.BR;PROFILE>

.!******************************************************************************
.PAGE
.SUBTITLE DISABLE DIAGNOSTICS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DISABLE DIAGNOSTICS\*
.INDEX PROFILE> commands> DISABLE DIAGNOSTICS
.INDEX PROFILE> DISABLE DIAGNOSTICS command

.LM +8
.P 0;Disables the output of diagnostics messages. 
.LM -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                DISABLE DIAGNOSTICS \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;DISABLE DIAGNOSTICS disables the output of diagnostic messages, and is
therefore used to cancel an ENABLE DIAGNOSTICS command.
.BR;By default diagnostic printout, which is sent to SYS$OUTPUT, is enabled.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error message is specific to the DISABLE command:
.LIT

*** ERROR *** Specifying command DISABLE
Valid command qualifiers are ABSOLUTE, DIAGNOSTICS or TABLE

.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;PROFILE> ^*DISABLE DIAGNOSTICS_<CR_>\*
.BR;PROFILE>

.!******************************************************************************
.PAGE         
.SUBTITLE DISABLE TABLE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DISABLE TABLE\*
.INDEX PROFILE> commands> DISABLE TABLE
.INDEX PROFILE> DISABLE TABLE command

.LM +8
.P 0;Disables the use of a digitising table. 
.LM -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                DISABLE TABLE \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;DISABLE TABLE disables the use of a digitising table, and is
therefore used to cancel an ENABLE TABLE command.
.BR;By default the use of a digitising table is determined on program startup
by the value assigned to the logical name LSL$AUTO_ENABLE_TABLE.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error message is specific to the DISABLE command:
.LIT

*** ERROR *** Specifying command DISABLE
Valid command qualifiers are ABSOLUTE, DIAGNOSTICS or TABLE

.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;PROFILE> ^*DISABLE TABLE_<CR_>\*
.BR;PROFILE>

.!******************************************************************************
.PAGE
.SUBTITLE ENABLE ABSOLUTE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*ENABLE ABSOLUTE\*
.INDEX PROFILE> commands> ENABLE ABSOLUTE
.INDEX PROFILE> ENABLE ABSOLUTE command

.LEFT MARGIN +8
.P 0;Causes the program to work in absolute coordinates.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                ENABLE ABSOLUTE \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;ENABLE ABSOLUTE enables the use of absolute coordinates, and is
cancelled by a DISABLE ABSOLUTE command.
ENABLE ABSOLUTE causes the program to work in absolute coordinates. The
coordinates displayed in a SHOW FILEIN or SHOW PARAMETERS output will be
absolute, and those entered in a WINDOW, POINT, or POSITION command are
expected also to be absolute
.BR;By default coordinates are entered and displayed in absolute form.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error message is specific to the ENABLE command:
.LIT

*** ERROR *** Specifying command ENABLE
Valid command qualifiers are ABSOLUTE, DIAGNOSTICS or TABLE

.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK        
.BR;PROFILE> ^*ENABLE ABSOLUTE_<CR_>\*
.BR;PROFILE>

.!******************************************************************************
.PAGE
.SUBTITLE ENABLE DIAGNOSTICS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*ENABLE DIAGNOSTICS\*
.INDEX PROFILE> commands> ENABLE DIAGNOSTICS
.INDEX PROFILE> ENABLE DIAGNOSTICS command

.LEFT MARGIN +8
.P 0;Selects the output of diagnostic printout.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                ENABLE DIAGNOSTICS \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;ENABLE DIAGNOSTICS selects output of diagnostic messages.  The messages
are sent to SYS$OUTPUT.
.BR;The diagnostic printout consists of messages describing the process
being performed, the percentage complete, and the number of profiles
generated.
.P0;Note that if you are using a hardcopy
terminal no percentage complete figures are generated.
.P0;By default diagnostic printout is selected, and may be turned off using the
command DISABLE DIAGNOSTICS 
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error message is specific to the ENABLE command:
.LIT

*** ERROR *** Specifying command ENABLE
Valid command qualifiers are ABSOLUTE, DIAGNOSTICS or TABLE

.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;PROFILE> ^*ENABLE DIAGNOSTICS_<CR_>\*
.BR;PROFILE>

.!******************************************************************************
.PAGE
.SUBTITLE ENABLE TABLE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*ENABLE TABLE\*
.INDEX PROFILE> commands> ENABLE TABLE
.INDEX PROFILE> ENABLE TABLE command

.LEFT MARGIN +8
.P 0;Enables the use of a digitising table.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                ENABLE TABLE \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;ENABLE TABLE allows the use of a digitising table. Its effect is cancelled
be the DISABLE TABLE command.
.BR;By default the use of a digitising table is determined on program startup
by the value assigned to the logical name LSL$AUTO_ENABLE_TABLE.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error message is specific to the ENABLE command:
.LIT

*** ERROR *** Specifying command ENABLE
Valid command qualifiers are ABSOLUTE, DIAGNOSTICS or TABLE

.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;PROFILE> ^*ENABLE TABLE_<CR_>\*
.BR;PROFILE>

.!******************************************************************************
.PAGE
.SUBTITLE EXIT command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*EXIT\*
.LEFT MARGIN +8
.P0; Terminates the program.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 EXIT

.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P0; The EXIT command is used to exit from PROFILE.
.br; <CTRL/Z> (pressing the Ctrl and Z keys together) may also be used to exit
from the program. 
.P 0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*_ None.

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Examples:\*

.P0;PROFILE>^*EXIT<CR>\*
.P0;$
.!******************************************************************************
.PAGE
.SUBTITLE  FILEIN command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FILEIN\*

.LM +8
.p 0;Selects and opens a DTI file that contains the terrain elevation data
to be used in profile generation.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 FILEIN file-spec
.end lit
.p 0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8;file-spec
.P0; The file specification for the input DTM.
.br; Any part of the file specification not supplied is taken from the default
'LSL$DTI:DTI.DTI', although if no file-spec is supplied, you will be asked to
supply one in response to the prompt ^*Input DTI filename>\*
.LM -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.p 0;This command opens and maps into memory a DTI file, containing the terrain
elevation data to be used for profile generation. Details derived from the
header of the file are displayed on the terminal to confirm that the file has
been successfully opened. 
.P0;On opening the DTM, a default area of interest covering the whole of the
DTM area is defined.  A smaller area of interest may be specified using the
WINDOW command.
.P0;If the input file contains a DTI Projection Record, the absolute position
of the SW corner of the DTM is determined.  If the file contains no
Projection Record, an origin of 0,0 is assumed, and therefore any coordinate
values represent DTM offset values.
.P 0;The input DTM must be specified before the commands BUILDING, GO, 
POSITION, SETUP MAP, VEGETATION, WATER and WINDOW.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P0;The following error message is specific to the FILEIN command:
.LIT

*** ERROR *** Specifying command FILEIN
Input DTI filename is missing

.END LIT
.tp 15
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Example:\*
             
.P0;PROFILE>^*FILEIN TEST<CR>\*


.lit

LSL$DTI:TEST.DTI	
Header: MIKE	 Data: WORD

Units are Metres

Matrix coverage    SW:    1     1    NE:   301   251
Matrix Window      SW:    1     1    NE:   301   251
Matrix Interval	    E:	  1	      N:     1
Value Range	     :      0   to    851

.end lit
.BR;PROFILE>
.bl
.!******************************************************************************
.PAGE
.SUBTITLE   GO command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*GO\*

.LM +8
.p 0;The command is used to create the profile features in the output IFF
file. 
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 GO

.end lit
.p 0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\* _None

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.p 0;GO is used to initiate the generation of the path profiles, and the
output of the profiles to the IFF file.
.p 0;Before the command is given, the input DTM and output IFF file, the
position of the profile origin (base station), and
a sample interval using either the SAMPLE__INTERVAL or BAND
commands, must have been defined.
All other optional commands such as WINDOW, PROFILE__INTERVAL
and SECTOR should be first specified, if required.
.P 0;If diagnostics are enabled, details on the progress of the processing
operation are output to the terminal. Successful completion of processing
is indicated by the display of the prompt ^*PROFILE>\* on the terminal.
.P 0;<CTRL/C> (pressing the Ctrl and C key together) may be used to abort
processing.  If <CTRL/C> is used, the output IFF file will be correctly closed
and all features created so far will be preserved. 
.P0
.TP 20
^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*
.P0;The following error message is specific to the GO command:
.LIT

*** ERROR *** Specifying command GO
The input DTM must be specified before GO

*** ERROR *** Specifying command GO
The output IFF file must be specified before GO

*** ERROR *** Specifying command GO
Profile origin position has not been defined

*** ERROR *** Specifying command GO
Profile sample interval has not been defined

*** ERROR *** Specifying command GO
Profile origin is not within the current area of interest
Redefine the position, or window before issuing GO

.END LIT
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
             
.P0;PROFILE>^*GO\*
.BR;PROFILE>
.!******************************************************************************
.PAGE
.SUBTITLE   HELP command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*HELP\*

.LM +8
.p 0;Invokes help on PROFILE commands.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 HELP [command]

.end lit
.p 0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.p -8;command
.P0; the command on which help is required
.LM -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.p 0;A brief description is given of the function and format of the specified 
command. 
.BR;If no parameter is supplied then a list of all commands available is 
given.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*_ None. 

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
             
.P0;PROFILE>^*HELP FILEIN\*
.LIT

FILEIN

	Opens and maps into memory a DTI file, containing the terrain
elevation data to be used for profile generation.  Details derived from the
header are displayed on the terminal to confirm that the file has been
successfully opened

.END LIT
.BR;PROFILE>
.!******************************************************************************
.PAGE
.SUBTITLE   IFF command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*IFF\*

.LM +8
.p 0;Specifies the name of the output IFF file.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 IFF file-spec
.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*
.LM +8
.P-8;file-spec
.P0; The file specification for the output IFF file.
.br; Any part of the file specification not supplied is taken from the default
'LSL$IF:IFF.IFF', although if no file-spec is supplied, you will be asked to
supply one in response to the prompt ^*Output IFF filename>\*
.LM -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P 0;IFF specifies the name of the output IFF file.  This is the file 
which will contain the terrain profiles.
.P 0;The commands SET FC and SET LAYER may be used to control the feature
code assigned to each profile feature, and define the layer in which the
features will be held.  The SET AC__BEARING, SET AC__CLUTTER, and
SET AC__DISTANCE commands may be used to control the AC type used to hold
the profile bearing, a sample point clutter index, and the profile distance
value respectively.
.P 0;An IFF file must be specified before the command GO is issued.
.P 0;If the input DTM contains a DTI Projection Record, details from the record
are transferred to the Map Descriptor (MD) entry of the IFF file.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following message is specific to the IFF command:
.LIT

*** ERROR *** Specifying command IFF
Output IFF filename is missing 

.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
             
.P0;PROFILE>^*IFF TEST__PROFILES<CR>\*
.BR;PROFILE
.!******************************************************************************
.PAGE
.SUBTITLE  POINT command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*POINT\*

.LM +8
.p 0;Defines the geographical position of a profile end point, and
writes the path profile data for a single profile to the output IFF
file.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 POINT x_coordinate y_coordinate
.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8; x__coordinate
.p 0; The x coordinate position of the profile end point.
.P-8; y__coordinate
.p 0; The y coordinate position of the profile end point.
.LM -8
.BL
.P0;The format of the command parameters is controlled by the UNITS command.
.LIST " "
.LE; UNITS MATRIX - 2 real values are required defining the position
in terms of a DTM column and row number.
.LE; UNITS METRES  Requires 2 real (floating point) values defining the
position in metre values. By default, or if the ENABLE ABSOLUTE command has
been given, the values are absolute coordinates (eg. 6 figure U.K. National Grid
coordinates); if the DISABLE ABSOLUTE command has been given, then the
coordinates are offsets from the SW corner of the matrix.
.LE; UNITS SECONDS - Requires 2 real (floating point) values defining the
absolute point in seconds of arc.  The values are supplied
in the order latitude followed by longitude for the SW corner, and latitude
followed by longitude for the NE corner.  A negative latitude value indicates a
position in the Southern Hemisphere, and a negative longitude value a point to
the west of Greenwich. 
.LE; UNITS LATLONG - Requires 2 values defining the absolute latitude and
longitude position in the format DDD MM SS H where DDD is
the number of degrees, MM is the number of minutes, SS is the number of
seconds, and H is the hemisphere (N,S,E,W). The values are supplied in the
order latitude followed by longitude for the SW corner, and latitude 
followed by longitude for the NE corner.
.LE; UNITS PROJECTION  Requires 2 real (floating point) values defining the
position in projection record units.  By default, or if the ENABLE ABSOLUTE
command has been given, the values are absolute coordinates; if the DISABLE
ABSOLUTE command has been given, then the coordinates are offsets from the SW
corner of the matrix. 

.END LIST

.p0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.p0;The POINT command is used to define the geographical position of a
profile end point. The point must lie within the geographical bounds of
the DTM, but may be outside any currently defined area of interest.
.P0;On giving the command the program will immediately calculate the profile,
and write the coordinate and attribute values to the IFF file.  Any
number of profiles may be defined in this way.
.P0;If a digitising table is available, and a map has been registered to the
DTM using the SETUP MAP command, puck ^*button 4\* may be used to digitise the
position of a profile end point.
.P 0;The position of the base station (profile origin), a sampling
interval and the name of an output IFF file must have been defined before
the POINT command is given for the first time.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error messages are specific to the POINT command:
.LIT

*** ERROR *** Specifying command POINT using puck button
No map set up has been performed

*** ERROR *** Specifying command POINT
The input DTM is undefined

*** ERROR *** Specifying command POINT
Point must lie within DTM bounds

*** ERROR *** Specifying command POINT
Command requires 2 x y coordinate values

*** ERROR *** Specifying command POINT
Latitude and longitude values supplied in wrong format

*** ERROR *** Specifying command POINT
Profile origin position has not been defined

*** ERROR *** Specifying command POINT
The sampling interval has not been defined

*** ERROR *** Specifying command POINT
No output IFF file has been specified

.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*

.P0;PROFILE>^*POINT 4500000 85000<CR>\*
.BR;PROFILE>
.!******************************************************************************
.PAGE
.SUBTITLE  POSITION command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*POSITION\*

.LM +8
.p 0;Defines the geographical position of the base station.  This is the
point from which all profiles are generated.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 POSITION x_coordinate y_coordinate
.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8; x__coordinate
.p 0; The x coordinate position of the base station.
.P-8; y__coordinate
.p 0; The y coordinate position of the base station.
.LM -8
.BL
.P0;The format of the command parameters is controlled by the UNITS command.
.LIST " "
.LE; UNITS MATRIX - 2 real values are required defining the position
in terms of a DTM column and row number.
.LE; UNITS METRES  Requires 2 real (floating point) values defining the
position in metre values. By default, or if the ENABLE ABSOLUTE command has
been given, the values are absolute coordinates (eg. 6 figure U.K. National Grid
coordinates); if the DISABLE ABSOLUTE command has been given, then the
coordinates are offsets from the SW corner of the matrix.
.LE; UNITS SECONDS - Requires 2 real (floating point) values defining the
absolute point in seconds of arc.  The values are supplied
in the order latitude followed by longitude for the SW corner, and latitude
followed by longitude for the NE corner.  A negative latitude value indicates a
position in the Southern Hemisphere, and a negative longitude value a point to
the west of Greenwich. 
.LE; UNITS LATLONG - Requires 2 values defining the absolute latitude and
longitude position in the format DDD MM SS H where DDD is
the number of degrees, MM is the number of minutes, SS is the number of
seconds, and H is the hemisphere (N,S,E,W). The values are supplied in the
order latitude followed by longitude for the SW corner, and latitude 
followed by longitude for the NE corner.
.LE; UNITS PROJECTION  Requires 2 real (floating point) values defining the
position in projection record units.  By default, or if the ENABLE ABSOLUTE
command has been given, the values are absolute coordinates; if the DISABLE
ABSOLUTE command has been given, then the coordinates are offsets from the SW
corner of the matrix. 
.END LIST

.p0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.p0;The POSITION command is used to define the geographical position of the
base station.  This is the point from which all profiles are constructed. The
base station must be located within the geographical bounds of the DTM. 
.P0;It is not necessary for the base station to be positioned exactly on a DTM
node. If located between nodes, the terrain height at the profile origin
will be interpolated from the DTM. 
.P0;The height of the terrain surface at the base station position is
displayed on the terminal after the POSITION command is given.
.P0;If a digitising table is available, and a map has been registered to the
DTM using the SETUP MAP command, puck ^*button 0\* may be used to digitise the
position of the base station.
.P 0;The base station position must be defined before the GO command is 
issued.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error messages are specific to the POSITION command:
.LIT

*** ERROR *** Specifying command POSITION using puck button
No map set up has been performed

*** ERROR *** Specifying command POSITION
The input DTM is undefined

*** ERROR *** Specifying command POSITION 
Point must lie within DTM bounds

*** ERROR *** Specifying command POSITION
Command requires 2 x y coordinate values

*** ERROR *** Specifying command POSITION
Latitude and longitude values supplied in wrong format
.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*

.P0;PROFILE>^*POSITION 4500000 85000<CR>\*
.BR;Height of terrain surface at base station is 106.00 

.BR;PROFILE>

.!******************************************************************************
.PAGE
.SUBTITLE  PROFILE__INTERVAL command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*PROFILE__INTERVAL\*

.LM +8
.p 0;PROFILE__INTERVAL is used to define the angular separation of
radial profiles.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		PROFILE_INTERVAL  angle
.end lit
.p 0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8;angle
.P0; Angle is the angular separation of the radial profiles. Angle is specified
in degrees as a real (floating point) number.  A value in the range 0 to 180 is
required. 
.LM -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.p0;The command PROFILE__INTERVAL defines the angular separation of profiles
generated radially around the base station position.
.p0;In conjunction with the SECTOR command it determines the number of
profiles that are generated. For example, if a 360 degree area of interest is
defined, and the profile interval is 1 degree, 360 profiles will be generated
in the IFF file. 
.P0; A profile interval of 0 may be specified. This causes the program to
construct a profile between every node in the DTM area of interest and the
base station. On program startup, the profile interval will be 
set to 0.
.P 0;The current profile interval value may be examined using the command
SHOW PARAMETERS.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error messages are specific to the PROFILE__INTERVAL command:
.LIT

*** ERROR *** Specifying command PROFILE_INTERVAL
Command requires 1 real argument

*** ERROR *** Specifying command PROFILE_INTERVAL
Command requires a real argument in the range 0 to 180

.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Example:\*
             
.P0;PROFILE>^*PROFILE__INTERVAL 15.0_<CR>\*
.BR;PROFILE>
.P0
.!******************************************************************************.bl
.PAGE
.SUBTITLE RESET BAND command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*RESET BAND\*
.INDEX PROFILE> commands> RESET BAND
.INDEX PROFILE> RESET BAND command

.LEFT MARGIN +8
.P 0; Cancels all previous BAND commands, causing the program to revert to
the use of a constant sample interval specified by means of the
SAMPLE__INTERVAL command.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                RESET BAND \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0; Cancels all previous BAND commands, causing the program to revert to
the use of a constant sample interval specified by means of the
SAMPLE__INTERVAL command.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following message is specific to the RESET BAND command:
.LIT

*** ERROR *** Specifying command RESET
Command qualifier is BAND

.END LIT
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;PROFILE> RESET BAND
.BR;PROFILE>
.!******************************************************************************
.PAGE
.SUBTITLE RETURN command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*RETURN\*
.INDEX PROFILE> commands> RETURN
.INDEX PROFILE> RETURN command

.LEFT MARGIN +8
.P 0;Restores command input from an indirect command file to SYS$COMMAND.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                RETURN \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;Restores command input from an indirect command file to SYS$COMMAND.
.P 0;A typical application is to use an indirect command file to set up a
number of run time defaults, and then return to input from the terminal for the
run specific commands. To do this, RETURN must be the last command in the
indirect command file. 
.p 0;A RETURN command is only valid if present in a command file.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following messages are specific to the RETURN command:
.LIT

*** ERROR *** Specifying command RETURN
The RETURN command is only valid in a command file

Returning to terminal input

.END LIT
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;PROFILE> ^*@DEFAULT__BANDS_<CR_>\*
.BR;PROFILE> BAND 1 1000.0 50.0
.BR;PROFILE> BAND 2 2000.0 100.0
.BR;PROFILE> RETURN
.BR;Returning to terminal input
.BR;PROFILE>
.!******************************************************************************
.PAGE
.SUBTITLE  SAMPLE__INTERVAL command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SAMPLE__INTERVAL\*

.LM +8
.p 0;SAMPLE__INTERVAL is used to define a constant DTM sampling interval.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		SAMPLE_INTERVAL  sample_interval
.end lit
.p 0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8;sample__interval
.P0; Sample__interval is the rate at which the DTM is sampled when generating a
profile.  The sample interval is specified in metres as
a positive real (floating point) number.
.LM -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.p0;The command SAMPLE__INTERVAL defines the rate at which the DTM is sampled
when generating a profile.  It therefore defines the separation of
successive profile sample point coordinates. 
.P0;The sample interval specified with this command is used for all profiles,
and is constant along the profile irrespective of the distance of the sample
point from the profile origin (base station).  If a sample rate that varies
with distance from the profile origin (base station) is required, one or more
BAND commands should be used. 
.P0;A sample interval or a series of sample intervals must be specified using
the SAMPLE__INTERVAL or BAND commands, before the command GO is given to
generate the terrain profiles.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error messages are specific to the SAMPLE__INTERVAL command:
.LIT

*** ERROR *** Specifying command SAMPLE__INTERVAL
Command requires 1 real argument

*** ERROR *** Specifying command SAMPLE__INTERVAL
Command requires a positive value

.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Example:\*
             
.P0;PROFILE>^*SAMPLE__INTERVAL 10.5_<CR>\*
.BR;PROFILE>

.P0
.!******************************************************************************.bl
.PAGE
.SUBTITLE  SECTOR command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SECTOR\*

.LM +8
.p 0;SECTOR is used to restrict profile calculation to a sector of
interest in the DTM.  The sector is defined in terms of a sector radius,
and 2 sector bearings.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		SECTOR radius [bearing_1] [bearing_2]
.end lit
.p 0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8;radius
.P0; Radius is the distance from the base station (sector origin) to the
sector arc. A positive real (floating point) value is required. 
.P-8;bearing__1
.p0; Bearing__1 is the bearing of the first sector radius. A real (floating
point) value in the range 0 to 360 degrees is required. 
.P-8;bearing__2
.p0; Bearing__2 is the bearing of the first sector radius. A real (floating
point) value in the range 0 to 360 degrees is required.
.LM -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.p0;SECTOR is used to define a sector of interest in the DTM. 
Profiles are only constructed between the profile origin (base station) and
DTM nodes that lie within the sector of interest.
.P0;The sector of interest is defined in terms of a sector radius, 
and optionally 2 bearing values defining the angular limits of the sector.  
.P0;If only a sector radius is supplied, a full circular scan around the
base station will be performed, and the bearing values will be set to 0 and
360 degrees. 
.P0;The order in which the bearing values are specified determines whether the
area of interest is inclusive or exclusive to the angular limits. A clockwise
convention is used.  For example if the first bearing is defined as 40 degrees
and the second bearing as 80 degrees, the angular width of the sector of
interest will be 40 degrees rather than 320 degrees.  If the values are
supplied in the order 80 and 40 degrees, the angular width of the sector of
interest will be 320 degrees. 
.p0; Note that a sector of interest will be clipped to any rectangular area
of interest that may have been defined.
.TP 15
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error messages are specific to the SECTOR command:
.LIT

*** ERROR *** Specifying command SECTOR
Command requires either 1 or 3 real arguments

*** ERROR *** Specifying command SECTOR
Sector distance must be specified as a positive real number

*** ERROR *** Specifying command SECTOR
Sector bearing values must be in the range 0 to 360

.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Example:\*
             
.P0;PROFILE>^*POSITION 100.5 450.3_<CR>\*
.BR;PROFILE>^*SECTOR 1000.0 40.5 90.0_<CR>\*
.BR;PROFILE>

.P0
.!******************************************************************************.bl
.PAGE
.SUBTITLE  SET AC__BEARING command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SET AC__BEARING\*

.LM +8
.P 0;Specifies the AC type that will hold the profile bearing value in the
output IFF file.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SET AC_BEARING ac_type
.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8;ac__type
.p 0;The AC type of the Ancillary Code entry that will hold the profile bearing
value. An integer value in the range 1 to 32767 is required. 
.LM -8

.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.p0; The SET AC__BEARING command is used to specify the AC type value of the AC
entry in the output IFF file that will hold the bearing of the profile. 
.P0; By default an AC type 1001 will be used.
.P0; Use of the SHOW SETTINGS command is recommended to check on the current
setting. 
.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error messages are specific to the SET and SET AC__BEARING
commands:
.LIT

*** ERROR *** Specifying command SET
Command qualifiers are AC_BEARING, AC_CLUTTER, AC_LENGTH, FC, LAYER or SCALE

*** ERROR *** Specifying command SET AC_BEARING
Command requires an integer argument

*** ERROR *** Specifying command SET AC_BEARING
Command requires a feature code in the range 1 to 32767

.END LIT
.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*

.P0;PROFILE>^*SET AC__BEARING 2005 <CR>\*
.br;PROFILE>
.p 0
.!******************************************************************************
.PAGE
.SUBTITLE  SET AC__CLUTTER command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SET AC__CLUTTER\*

.LM +8
.P 0;Specifies the attribute code that will be used to used to identify
the clutter index in an IFF Coordinate Block (CB) entry.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SET AC_CLUTTER ac_type
.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8;ac__type
.p 0;The attribute code of the column in the CB entry that holds the clutter
index. An integer value in the range 1 to 32767 is required.
.LM -8

.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;Specifies the attribute code that will be used to used to identify
the clutter index in an IFF Coordinate Block (CB) entry.
.P0; By default a value of 1003 is used.
.P0; Use of the SHOW SETTINGS command is recommended to check on the current
setting. 
.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error messages are specific to the SET and SET AC__CLUTTER
commands:
.LIT

*** ERROR *** Specifying command SET
Command qualifiers are AC_BEARING, AC_CLUTTER, AC_LENGTH, FC, LAYER or SCALE

*** ERROR *** Specifying command SET AC_CLUTTER
Command requires an integer argument

*** ERROR *** Specifying command SET AC_CLUTTER
Command requires a feature code in the range 1 to 32767

.END LIT
.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*

.P0;PROFILE>^*SET AC__CLUTTER 2003 <CR>\*
.br;PROFILE>
.p 0
.!******************************************************************************
.PAGE
.SUBTITLE  SET AC__LENGTH command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SET AC__LENGTH\*

.LM +8
.P 0;Specifies the AC type that will hold the profile length value in the
output IFF file.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SET AC_LENGTH ac_type
.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8;ac__type
.p 0;The AC type of the the Ancillary Code entry that will hold the profile
length value. An integer value in the range 1 to 32767 is required. 
.LM -8

.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.p0; The SET AC__LENGTH command is used to specify the AC type value of the AC
entry in the output IFF file that will hold the length of the profile. 
.P0; By default an AC type 1002 will be used.
.P0; Use of the SHOW SETTINGS command is recommended to check on the current
setting. 
.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error messages are specific to the SET and SET AC__LENGTH
commands:
.LIT

*** ERROR *** Specifying command SET
Command qualifiers are AC_BEARING, AC_CLUTTER, AC_LENGTH, FC, LAYER or SCALE

*** ERROR *** Specifying command SET AC_LENGTH
Command requires an integer argument

*** ERROR *** Specifying command SET AC_LENGTH
Command requires a feature code in the range 1 to 32767

.END LIT
.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*

.P0;PROFILE>^*SET AC__LENGTH 2004 <CR>\*
.br;PROFILE>
.p 0
.!******************************************************************************
.PAGE
.SUBTITLE  SET FC command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SET FC\*

.LM +8
.P 0;Specifies the feature code that will be given to all features in the
output IFF file.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SET FC feature_code
.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8;feature__code
.p 0;The feature code value. An integer number in the range 1 to 32767 is
required. 
.LM -8

.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.p0; The SET FC command is used to specify the feature code value that is given
to all features in the output IFF file.
.P0; By default all features are given a feature code value of 1.
.P0; Use of the SHOW SETTINGS command is recommended to check on the current
setting.
.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error messages are specific to the SET and SET FC
commands:
.LIT

*** ERROR *** Specifying command SET
Command qualifiers are AC_BEARING, AC_CLUTTER, AC_LENGTH, FC, LAYER or SCALE

*** ERROR *** Specifying command SET FC
Command requires 1 integer argument

*** ERROR *** Specifying command SET FC
Command requires a feature code in the range 1 to 32767

.END LIT
.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*

.P0;PROFILE>^*SET FC 4 <CR>\*
.br;PROFILE>
.p 0
.!******************************************************************************
.PAGE
.SUBTITLE  SET LAYER command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SET LAYER\*

.LM +8
.P 0;Specifies the layer into which features are placed in the output IFF file.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SET LAYER layer
.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8;layer
.p 0;The IFF layer number. An integer value in the range 1 to 32767 is
required. 
.LM -8

.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.p0; The SET LAYER command is used to specify the layer into which features
are placed in the output IFF file. 
.P0; By default features are written to layer 1 in the IFF file.
.P0; Use of the SHOW SETTINGS command is recommended to check on the current
setting.
.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error messages are specific to the SET and SET LAYER
commands:
.LIT

*** ERROR *** Specifying command SET
Command qualifiers are AC_BEARING, AC_CLUTTER, AC_LENGTH, FC, LAYER or SCALE

*** ERROR *** Specifying command SET LAYER
Command requires 1 integer argument

*** ERROR *** Specifying command SET LAYER
Command requires a feature code in the range 1 to 32767

.END LIT
.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*

.P0;PROFILE>^*SET LAYER 4 <CR>\*
.br;PROFILE>
.p 0
.!******************************************************************************
.PAGE
.SUBTITLE  SET SCALE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SET SCALE\*

.LM +8
.P 0;Sets the scale in the output IFF file MD (Map Descriptor) entry.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SET SCALE scale
.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8;scale
.P0;The scale denominator to be set in the output IFF file MD (Map Descriptor)
entry. A real (floating point) value is required eg. 10000.0 
.LM -8

.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;The SET SCALE command is used to specify the scale of the output
IFF file.  The scale value is stored in the MD (Map Descriptor) entry
of the IFF file.  The command is required since a scale value is not
available from the DTI Projection Record.
.P 0
By default a scale value of 50000 (ie. 1:50000) is written to the output
IFF file.
.P0; Use of the SHOW SETTINGS command is recommended to check on the current
setting.
.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error messages are specific to the SET and SET SCALE
commands:
.LIT

*** ERROR *** Specifying command SET
Command qualifiers are AC_BEARING, AC_CLUTTER, AC_LENGTH, FC, LAYER or SCALE

*** ERROR *** Specifying command SET SCALE
Command requires a real argument

.END LIT
.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*

.P0;PROFILE>^*SET SCALE 10000 <CR>\*
.br;PROFILE>
.p 0
.!******************************************************************************
.PAGE
.SUBTITLE   SETUP MAP command 
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SETUP MAP\*

.LM +8
.p 0;Registers a map or other source document placed on a digitising table,
to the input DTM.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SETUP MAP
.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.p 0;The SETUP MAP command allows a source document to be registered to the
input DTM.
.P0; In order to register the map and a DTM, the DTM should have first been
specified, and a source document should have been securely attached to the
surface of a digitising table. 
.P0;On giving the command you will be asked to digitise 4 rectangular
registration points. The registration points represent 
4 points on the map that correspond to the 4 corners of the DTM.  The points
are digitised in the order top left (NW), bottom left (SW), bottom right (SE)
and top right (NE) using any button on the table puck. A point should be
digitised in response to a prompt on the terminal.
.BR; An error message is generated if any of the angles of the digitised
rectangle are less than 88 degrees, or greater than 92 degrees (ie. if the
corner points of the rectangle are more than 2 degrees off rectangular). In
this case you will be asked to redigitise the 4 registration points.
.BR; Setup of the map may be aborted using <CTRL/Z> (pressing the Ctrl and Z
keys together), or by pressing ^*Button F\* on the table puck.
.p 0;Following the registration of a map to the DTM, coordinate values
required by the POINT, POSITION, SECTOR and WINDOW commands, may be input
using the table puck. 

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error messages are specific to the SETUP and SETUP MAP
commands:
.LIT

*** ERROR *** Specifying command SETUP
Command qualifier is MAP

*** ERROR *** Specifying command SETUP MAP
Command is invalid if the table has not been initialised

*** ERROR *** Specifying command SETUP MAP
The input DTM must be specified before SETUP MAP

*** ERROR *** Setting up MAP
Badly digitised corner points; try again

.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
             
.P0;PROFILE>^*SETUP MAP<CR>\*
.LIT

Digitise map NW corner>

Digitise map SW corner>

Digitise map SE corner>

Digitise map NE corner>

.end lit
.BR;PROFILE>

.!******************************************************************************
.PAGE
.SUBTITLE   SHOW CLUTTER command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW CLUTTER\*

.LM +8
.p 0;Displays the file specification of all selected clutter grid files.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SHOW CLUTTER

.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Command parameters:\*#None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.p 0;SHOW CLUTTER displays the file specification of all currently defined
clutter grid files.  These are the names of the DTI files selected using the 
BUILDING, VEGETATION and WATER commands.
.p 0;If a clutter file has not been specified, the file will be shown as
undefined.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P0;The following message is specific to the SHOW command:

.LIT

*** ERROR *** Specifying command SHOW
Command qualifiers are CLUTTER, ENABLE, FILEIN, PARAMETERS or SETTINGS

.END LIT
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
             
.P0;PROFILE>^*SHOW CLUTTER<CR>\*

.LIT

Current status:

BUILDING   File      : Undefined
VEGETATION File      : LSL$DTI:VEGETATION_TEST.DTI;1
WATER      File      : Undefined

.END LIT
.BR;PROFILE>
.!******************************************************************************
.PAGE
.SUBTITLE   SHOW ENABLE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW ENABLE\*

.LM +8
.p 0;Shows the current status of those options that may be enabled by means of
the ENABLE command, or disabled using the DISABLE command.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SHOW ENABLE

.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Command parameters:\*#None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.p 0; Displays the current status of all the PROFILE options that may be
enabled or disabled using the ENABLE and DISABLE commands.
.BR; The name of the option is shown, followed by either the word ON or OFF
to indicate its current status.
.BR; If the command SHOW ENABLE is used before any ENABLE or DISABLE commands
have been given, the default status of the options is displayed.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P0;The following message is specific to the SHOW command:

.LIT

*** ERROR *** Specifying command SHOW
Command qualifiers are CLUTTER, ENABLE, FILEIN, PARAMETERS or SETTINGS

.END LIT
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
             
.P0;PROFILE>^*SHOW ENABLE<CR>\*

.LIT

Current status:

ABSOLUTE          On        DIAGNOSTICS      On         TABLE         Off


.END LIT
.BR;PROFILE>
.!******************************************************************************
.PAGE
.SUBTITLE   SHOW FILEIN command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW FILEIN\*

.LM +8
.p 0;Displays information extracted from the header of the input DTM.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SHOW FILEIN

.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Command parameters:\*#None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.p 0; Details extracted from the header of the DTM are displayed on the
terminal, along with details of the current window (rectangular area of
interest). 
.P 0; The header values are shown in the current units of measurement.  This is
dependent on the header type of the input file, or may be set explicitly using
the UNITS command. 
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P0;The following messages are specific to the commands SHOW and SHOW FILEIN:

.LIT

*** ERROR *** Specifying command SHOW
Command qualifiers are CLUTTER, ENABLE, FILEIN, PARAMETERS or SETTINGS

*** WARNING *** The input DTM is undefined

.END LIT
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
             
.P0;PROFILE>^*SHOW FILEIN<CR>\*

.LIT

LSL$DTI:TEST.DTI	
Header: MIKE	 Data: WORD

Units are DTI Matrix Values

Matrix coverage    SW:    1     1    NE:   301   251
Matrix Window      SW:    1     1    NE:   200   200
Matrix Interval	    E:	  1	      N:     1
Value Range	     :      0   to    851

.END LIT
.BR;PROFILE>
.!******************************************************************************
.PAGE
.SUBTITLE  SHOW PARAMETERS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW PARAMETERS\*

.LM +8
.p 0;Displays information on the profile origin (base station position),
sample and profile intervals, sample bands and sector of
interest. 
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SHOW PARAMETERS
.end lit
.p0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Command parameters:\*#None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.p0;The SHOW PARAMETERS command is used to display information about the
profile origin (base station), sample and profile intervals,
sample bands and sector of interest. 
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P0;The following message is specific to the SHOW command:

.LIT

*** ERROR *** Specifying command SHOW
Command qualifiers are CLUTTER, ENABLE, FILEIN, PARAMETERS or SETTINGS

.END LIT
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*

.p0;PROFILE>^*SHOW PARAMETERS<CR>\*
.LIT

Base Station       :
 X Y Z (Metres)    : 443500.00  82550.00   43.00
       (Matrix)    :     69.00     50.00   43.00

Sector of Interest :

  RADIUS    BEARING 1    BEARING 2      WIDTH
  6000.00      0.00       360.00       360.00

Profile Interval   :    0.00 degrees (i.e. use all DTM nodes)

Sampling Interval  :   Variable (see Band Information)

Sample Bands       :   (in metres)

BAND       WIDTH      OUTER DISTANCE      SAMPLE INTERVAL
  1       3000.00        3000.00             200.00
  2       1000.00        4000.00             100.00
  3       1000.00        5000.00              50.00

.END LIT
.br;PROFILE>
.!******************************************************************************
.PAGE
.SUBTITLE   SHOW SETTINGS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW SETTINGS\*

.LM +8
.p 0;Shows the current value of those parameters that may be set using the SET
command. 
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SHOW SETTINGS

.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Command parameters:\*#None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P 0; Displays the name of all PROFILE parameters that may be set using the
SET command, and their current values. 
.BR; If the SHOW SETTINGS command is given before using a SET command, the
values shown are the default values that are allocated to the parameters by
PROFILE. 
.p 0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P0;The following message is specific to the SHOW command:

.LIT

*** ERROR *** Specifying command SHOW
Command qualifiers are CLUTTER, ENABLE, FILEIN, PARAMETERS or SETTINGS

.END LIT
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*

.p0;PROFILE>^*SHOW SETTINGS<CR>\*
.LIT

Current values:

AC_BEARING       1001       AC_CLUTTER       1003       AC_LENGTH       1002

FC                  1       LAYER               1       SCALE          50000.0

.END LIT
.br;PROFILE>
.!******************************************************************************
.PAGE
.SUBTITLE  SUB__SAMPLE command
.INDEX PROFILE> commands> SUB__SAMPLE
.INDEX PROFILE> SUB__SAMPLE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SUB__SAMPLE\*

.LM +8
.p 0; Defines the interval at which nodes will be sampled along the columns
and rows of the DTM, when using PROFILE with a profile interval of 0.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:	        SUB_SAMPLE column_interval row_interval
.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8;column__interval
.P0;The sample interval along the columns of the DTM. A positive integer value
is required. 
.P-8;row__interval
.P0;The sample interval along the rows of the DTM. A positive integer value is
required.
.LM -8
.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.p0;SUB__SAMPLE is used to define the interval at which PROFILE samples the
columns and rows of the DTM with a profile interval of 0.  
.P 0;
By default with a profile interval of 0, PROFILE constructs a path profile
between the base station and each DTM node that lies within the rectangular or
sector areas of interest using SUB__SAMPLE values of 1 and 1. If SUB__SAMPLE
values of 2 and 2 are used, then only  profiles between the base station and
every second node along a DTM column and row, are constructed.
.P0;Note that if the number of columns and rows in the rectangular area of
interest is not exactly divisible by the sub-sample values, profiles
between the last column or row nodes are generated. 
.B
.P0;The SUB__SAMPLE command is used in situations where it is necessary to
reduce the total number of profiles generated for subsequent analysis. 
The current sub-sampling intervals may be examined using the SHOW PARAMETERS
command.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Message:\*
.P0;The following error messages are specific to the SUB__SAMPLE command:
.LIT

*** ERROR *** Specifying command SUB_SAMPLE
Command requires 2 integer arguments

*** ERROR *** Specifying command SUB_SAMPLE
Command requires 2 positive integer arguments

.END LIT
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
             
.P0;PROFILE>^*SUB__SAMPLE 2 2 <CR>\*
.br;PROFILE>
.!******************************************************************************
.PAGE
.SUBTITLE SPAWN command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SPAWN\*
.INDEX PROFILE> commands> SPAWN
.INDEX PROFILE> SPAWN command

.LEFT MARGIN +8
.P0; The SPAWN command enables a subprocess to be created from within PROFILE.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                SPAWN command-line\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;command-line
.P0; Specifies a DCL command string to be executed as if typed in response to
a '$' prompt. The command line cannot exceed 80 characters. 
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P0; The SPAWN command enables you to create a subprocess while within
PROFILE. When the subprocess terminates, control is returned to PROFILE.
.P 0;The command is generally used for file management purposes.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P 0;The following error messages are specific to the SPAWN command:

.LIT

*** ERROR *** Specifying command SPAWN 
Command requires a valid DCL command line

*** ERROR *** Unable to spawn command, returning to PROFILE

.END LIT
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*

.P0;PROFILE> ^*SPAWN DIRECTORY LSL$DTI:_*_._DTI<CR_>\*

.NO FILL

Directory DUA3:[LSL.DTI]

TEST1_.DTI;1              8/8       18-AUG-1987 07:56  [LSL,DAVEC]
TEST2_.DTI;1              7/8       18-AUG-1987 17:17  [LSL,DAVEC]
TEST2_.DTI;2              7/8       18-AUG-1987 17:34  [LSL,DAVEC]

Total of 3 files, 22/24 blocks.

.FILL
.BR;PROFILE> 

.!******************************************************************************
.PAGE
.SUBTITLE UNITS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*UNITS\*
.INDEX PROFILE> commands> UNITS
.INDEX PROFILE> UNITS command

.LEFT MARGIN +8
.P 0;Specifies the units of measurement that will be used when defining an area
of interest in the input DTM, defining the position of a base station, or a
profile end point. The command also controls the units of measurement which
will be used when displaying file header details. 
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                UNITS units\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;units
.P 0;A keyword defining the measurement units, chosen from: 
.LITERAL

	MATRIX	    Matrix grid interval units, i.e rows and columns
	METRES	    Metre values
	SECONDS     Latitude and Longitude in seconds of arc
	LATLONG	    Latitude and Longitude in degrees, minutes and seconds
	PROJECTION  Projection Record Units (eg. mms on the source document)

.END LITER
.LEFT MARGIN -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P 0;The UNITS command defines in which units of measurement arguments to the
POSITION and POINT commands are specified, and the units of measurement used
when defining an area of interest in the input DTM by means of the WINDOW
command. 
.br;The command also controls in what format details from the header of the DTM
are displayed when the SHOW FILEIN command is given. 
.br;The command also controls in what format details of the current parameters
are displayed when the SHOW PARAMETERS command is given. 
.P0;The command should be given after defining the input DTM since an
appropriate default units of measurement is set up when the file is opened. If
the DTM file is of header type TED4 or UHL1 (ie DTED files), then the default
is latitude and longitude specified in degrees, minutes and seconds; for all
other header types metre units are assumed. 
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P 0;The following error messages are specific to the UNITS command:

.LIT

*** ERROR *** Specifying command UNITS
Command qualifiers are MATRIX, METRES, PROJECTION, SECONDS or LATLONG

*** ERROR *** Specifying command UNITS
Command qualifiers LATLONG or SECONDS are only valid for DTED input DTI files

.END LIT
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;PROFILE> ^*UNITS MATRIX_<CR_>\*
.BR;PROFILE> 

.!******************************************************************************
.PAGE
.SUBTITLE  VEGETATION command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*VEGETATION\*

.LM +8
.p 0;Selects and opens a DTI file that contains clutter information relating
to vegetation.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 VEGETATION file-spec
.end lit
.p 0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8;file-spec
.P0; The file specification for the input grid file containing clutter
information relating to vegetation.
.br; Any part of the file specification not supplied is taken from the default
'LSL$DTI:DTI.DTI', although if no file-spec is supplied, you will be asked to
supply one in response to the prompt ^*Input DTI filename>\*
.LM -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.p 0;This command opens and maps into memory a DTI file, containing height
information relating to vegetation. Details derived from the header of the file
are displayed on the terminal to confirm that the file has been successfully
opened. 
.P0;A clutter file may only be specified after a DTM has been selected using
the FILEIN command.  
.P0;If the clutter file contains a DTI Projection Record, the position of the
SW corner of the grid may be determined. This enables the clutter data to be
correctly positioned with respect to the DTM. If the origin is unset or
the file contains no projection record, the SW corner of the clutter file is
assumed to register to the SW corner of the DTM. 
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P0;The following error messages are specific to the VEGETATION command:
.LIT

*** ERROR *** Specifying command VEGETATION
Input DTI filename is missing

*** ERROR *** Specifying command VEGETATION
Input DTM must be specified first

.END LIT
.TP 15
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Example:\*
             
.P0;PROFILE>^*VEGETATION TEST__VEGETATION<CR>\*

.lit

LSL$DTI:TEST_VEGETATION.DTI	
Header: MIKE	 Data: WORD

Units are Metres

Matrix coverage    SW:    1     1    NE:   301   251
Matrix Window      SW:    1     1    NE:   301   251
Matrix Interval	    E:	  1	      N:     1
Value Range	     :      0   to   10

.end lit
.BR;PROFILE>
.bl
.!******************************************************************************
.PAGE
.SUBTITLE WAIT command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*WAIT\*
.INDEX PROFILE> commands> WAIT
.INDEX PROFILE> WAIT command

.LEFT MARGIN +8
.P0; The WAIT command causes processing to be suspended for a specified number
of seconds. 
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                WAIT seconds\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;seconds
.P0; The number of seconds for which processing is to be suspended. A real
(floating point) value is required. 
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P0; The WAIT command causes processing to be suspended for a specified number
of seconds. It is designed for use in software demonstration situations and is
of no value in a production flowline. 

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following error message is specific to the WAIT command:
.LIT

*** ERROR *** Specifying command WAIT
Command requires a real argument

.END LIT
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;PROFILE> ^*WAIT 4.0_<CR_>\*
.BR;PROFILE>
.!******************************************************************************
.PAGE
.SUBTITLE  WATER command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*WATER\*

.LM +8
.p 0;Selects and opens a DTI file that contains clutter information relating
to water.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 WATER file-spec
.end lit
.p 0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LM +8
.P-8;file-spec
.P0; The file specification for the input grid file containing clutter
information relating to water.
.br; Any part of the file specification not supplied is taken from the default
'LSL$DTI:DTI.DTI', although if no file-spec is supplied, you will be asked to
supply one in response to the prompt ^*Input DTI filename>\*
.LM -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.p 0;This command opens and maps into memory a DTI file, containing
information relating to water. Details derived from the header of the file
are displayed on the terminal to confirm that the file has been successfully
opened. 
.P0;A clutter file may only be specified, after a DTM has been selected using
the FILEIN command.  
.P0;If the clutter file contains a DTI Projection Record, the position of the
SW corner of the grid may be determined. This enables the clutter data to be
correctly positioned with respect to the DTM. If the origin is unset or
the file contains no projection record, the SW corner of the clutter file is
assumed to register to the SW corner of the DTM.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P0;The following error messages are specific to the WATER command:
.LIT

*** ERROR *** Specifying command WATER
Input DTI filename is missing

*** ERROR *** Specifying command WATER
Input DTM must be specified first

.END LIT
.TP 15
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Example:\*
             
.P0;PROFILE>^*WATER TEST__WATER<CR>\*

.lit

LSL$DTI:TEST_WATER.DTI	
Header: MIKE	 Data: WORD

Units are Metres

Matrix coverage    SW:    1     1    NE:   301   251
Matrix Window      SW:    1     1    NE:   301   251
Matrix Interval	    E:	  1	      N:     1
Value Range	     :      -1   to    0

.end lit
.BR;PROFILE>
.bl
.!******************************************************************************
.PAGE
.SUBTITLE  WINDOW command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*WINDOW\*

.LM +8
.P 0;Specifies a rectangular area of interest in the input DTM.
.LM -8
.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		WINDOW  xmin ymin xmax ymax

.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;xmin ymin
.BR; The coordinates of the bottom left hand corner of the defining rectangle.
.P-8;xmax ymax
.BR; The coordinates of the top right hand corner of the defining rectangle.
.BL
.P0;The format of the command parameters is controlled by the UNITS command.
.LIST " "
.LE; UNITS MATRIX -  Requires 4 integer values defining the rectangle in terms
of column and row numbers
.LE; UNITS METRES  Requires 4 real (floating point) values defining the
rectangle in metre values. By default, or if the ENABLE ABSOLUTE command has
been given, the values are absolute coordinates (eg. 6 figure U.K. National Grid
coordinates); if the DISABLE ABSOLUTE command has been given, then the
coordinates are offsets from the SW corner of the matrix.
.LE; UNITS SECONDS - Requires 4 real (floating point) values defining the
absolute position of the rectangle in seconds of arc.  The values are supplied
in the order latitude followed by longitude for the SW corner, and latitude
followed by longitude for the NE corner.  A negative latitude value indicates a
position in the Southern Hemisphere, and a negative longitude value a point to
the west of Greenwich. 
.LE; UNITS LATLONG - Requires 4 values defining the absolute latitude and
longitude position of the rectangle in the format DDD MM SS H where DDD is
the number of degrees, MM is the number of minutes, SS is the number of
seconds, and H is the hemisphere (N,S,E,W). The values are supplied in the
order latitude followed by longitude for the SW corner, and latitude 
followed by longitude for the NE corner.
.LE; UNITS PROJECTION  Requires 4 real (floating point) values defining the
rectangle in projection record units.  By default, or if the ENABLE ABSOLUTE
command has been given, the values are absolute coordinates; if the DISABLE
ABSOLUTE command has been given, then the coordinates are offsets from the SW
corner of the matrix. 
.END LIST
.P0;^*Note that in all cases, the input values are adjusted to the nearest
column and row values.\*
.LEFT MARGIN -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.p0;The WINDOW command is used to limit profile calculation to a rectangular
geographical area.  Only profiles between the base station and DTM nodes that
lie within the rectangle are generated when the GO command is given. The
rectangular window is ignored when the POINT command is used.
.br;The area of interest should lie within the geographical bounds of the DTM.
.P0;If a digitising table is available, puck ^*Button 1\* may be used to
give the command WINDOW. When the button is pressed, you will be asked to
digitise 2 points inside the map area, defining the SW (bottom lefthand)
and NE (top righthand) corners of the rectangle.  Definition of the area of
interest may be abandoned by pressing puck ^*Button F\*.
.P0;Note, that when the DTM is first opened, a default area of interest is set
which corresponds to the whole of the DTM.
.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following messages are specific to the WINDOW command:
.LIT

*** ERROR *** Specifying command WINDOW
The input DTM must be specified before WINDOW

*** ERROR *** Specifying command WINDOW using puck button
No map set up has been performed

*** ERROR *** Specifying command WINDOW
Command requires 4 arguments

*** ERROR *** Specifying command WINDOW
NE corner values must exceed SW corner values

*** ERROR *** Specifying command WINDOW
Supplied values exceed matrix extents

*** ERROR *** Specifying command WINDOW
Latitude and longitude values supplied in wrong format

.END LIT
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*

.P0;PROFILE>^*WINDOW 1 1 200 200<CR>\*
.BR;PROFILE>^*UNITS LATLONG<CR>\*
.BR;PROFILE>^*WINDOW 42 00 00N 3 00 00E 42 30 00N 2 58 40E\*
.BR;PROFILE>
.P 0

.!******************************************************************************
.!*** EXAMPLES                                                               ***
.!******************************************************************************
.PAGE
.SUBTITLE
.FIGURE 5
.STYLE HEADERS ,,,,1
.HL 2 ^^^*PROFILE_ examples\*
.STYLE HEADERS ,,,,7

.PAGE
.SUBTITLE EXAMPLES
^*--------------------------------------------------------------------------------\*
.HL 1 ^^^*EXAMPLES\*
.BLANK2
.NO FILL
.LIT
$ PROFILE

*** WARNING ***  Unable to initialise the table monitor
PROFILE will assume no table is available
PROFILE>FILEIN OS44000800<CR>

File    :  LSL$DTI:OS44000800.DTI
Header  :  ALVY  Data:  WORD

Units are Metres

Matrix Coverage   SW:  440000.00   80000.00    NE:  460000.00  100000.00
Matrix Window     SW:  440000.00   80000.00    NE:  460000.00  100000.00
Matrix Interval    E:      50.00                N:      50.00
Value Range         :     0   to    235

PROFILE>WINDOW 440000 80000 450000 90000<CR>

File    :  LSL$DTI:os44000800.DTI
Header  :  ALVY  Data:  WORD

Units are Metres

Matrix Coverage   SW:  440000.00   80000.00    NE:  460000.00  100000.00
Matrix Window     SW:  440000.00   80000.00    NE:  450000.00   90000.00
Matrix Interval    E:      50.00                N:      50.00
Value Range         :     0   to    235

PROFILE>POSITION 445000 85000<CR>
Height of terrain surface at base station is   145.00

PROFILE>SECTOR 6000<CR>
PROFILE>PROFILE_INTERVAL 3<CR>
PROFILE>SAMPLE_INTERVAL 100<CR>
PROFILE>SHOW PARAMETERS<CR>

Base Station       :
 X Y Z (Metres)    : 445000.00  85000.00  145.00
       (Matrix)    :     99.00     99.00  145.00

Sector of Interest :

  RADIUS    BEARING 1    BEARING 2      WIDTH
  6000.00      0.00       360.00       360.00

Profile Interval   :    3.00 degrees

Sampling Interval  :  100.00

Sample Bands       :      Undefined

PROFILE>IFF DAVEC<CR>
PROFILE>GO<CR>
%LSLLIB-I-IFFOPENED, LSL$DATA_ROOT:[LSL.IFF]DAVEC.IFF;1 opened for write

+----------------------------------------------------------------+
|                                                                |
|              Generating the terrain profiles                   |
|                                                                |
+----------------------------------------------------------------+

Total of 121 profiles written to IFF file
PROFILE>EXIT<CR>

.END LIT
In this example an area of interest in the DTM is defined using the
WINDOW command.  The base station (profile origin) is positioned in
the centre of the area of interest.  The SECTOR command has been used
to define the radius of a circle surrounding the base station. The
PROFILE__INTERVAL command is used to define the angular separation
of the radial profiles, while the SAMPLE__INTERVAL command has been used
to define a constant rate of sampling along the profiles.  Output is
to the file 'LSL$IF:DAVEC.IFF'.  Diagnostics are enabled by default.
.PAGE
.LIT
$PROFILE

WARNING ***  Unable to initialise the table monitor
PROFILE will assume no table is available
PROFILE>FILE OS44000800<CR>

File    :  LSL$DTI:OS44000800.DTI
Header  :  ALVY  Data:  WORD

Units are Metres

Matrix Coverage   SW:  440000.00   80000.00    NE:  460000.00  100000.00
Matrix Window     SW:  440000.00   80000.00    NE:  460000.00  100000.00
Matrix Interval    E:      50.00                N:      50.00
Value Range         :     0   to    235

PROFILE>WINDOW 440000 80000 445000 85000<CR>

File    :  LSL$DTI:OS44000800.DTI
Header  :  ALVY  Data:  WORD

Units are Metres

Matrix Coverage   SW:  440000.00   80000.00    NE:  460000.00  100000.00
Matrix Window     SW:  440000.00   80000.00    NE:  445000.00   85000.00
Matrix Interval    E:      50.00                N:      50.00
Value Range         :     0   to    235

PROFILE>POSITION 443500 82550<CR>
Height of terrain surface at base station is    43.00

PROFILE>SECTOR 6000<CR>
PROFILE>BAND 1 3000 200<CR>
PROFILE>BAND 2 1000 100<CR>
PROFILE>BAND 3 1000 50<CR>
PROFILE>IFF DAVEC<CR>
PROFILE>SHOW PARAMETERS<CR>

Base Station       :
 X Y Z (Metres)    : 443500.00  82550.00   43.00
       (Matrix)    :     69.00     50.00   43.00

Sector of Interest :

  RADIUS    BEARING 1    BEARING 2      WIDTH
  6000.00      0.00       360.00       360.00

Profile Interval   :    0.00 degrees (i.e. use all DTM nodes)

Sampling Interval  :   Variable (see Band Information)

Sample Bands       :   (in metres)

BAND       WIDTH      OUTER DISTANCE      SAMPLE INTERVAL
  1       3000.00        3000.00             200.00
  2       1000.00        4000.00             100.00
  3       1000.00        5000.00              50.00

PROFILE>GO<CR>
%LSLLIB-I-IFFOPENED, LSL$DATA_ROOT:[LSL.IFF]DAVEC.IFF;3 opened for write

Total distance of BANDS less than sector distance
Width of BAND 3 extended to   2000.00

+----------------------------------------------------------------+
|                                                                |
|              Generating the terrain profiles                   |
|                                                                |
+----------------------------------------------------------------+

Total of 10200 profiles written to IFF file

PROFILE>EXIT<CR>

.END LIT
In this example a profile is constructed between the base station and each
DTM node in the sector of interest. A series of BAND commands have been
given to define a sample interval that varies with distance along the profile.
Since the total width of the bands, is less than the sector distance, the
outer band has been extended.
ELAPSED:    0 00:47:55.38  CPU: 0:09:00.06  BUFIO: 284  DIRIO: 7160  FAULTS: 527

.!******************************************************************************
.!*** MESSAGES                                                               ***
.!******************************************************************************

.PAGE
.SUBTITLE MESSAGES (OTHER)
^^^*--------------------------------------------------------------------------------\*
.HL 1 ^^^*MESSAGES (OTHER)\*

In addition to the above messages which are generated by the program itself,
other messages  may  be   produced by  by  Laser-Scan libraries. In
particular, messages may be  generated by the IFF and DTI libraries or by the
Laser-Scan  I/O library,  LSLLIB.  IFF library messages are introduced by
'%IFF' and are documented in the IFF library users' guide. DTI library
messages are introduced by %DTI and are documented in the MATRIX Reference
manual. LSLLIB  messages  are introduced  by '%LSLLIB' and are generally
self-explanatory.  They are often used  to  explain the details of program
generated errors. 

.P 0;If the  cause of  the error cannot be traced by the user, and 
Laser-Scan are consulted, then the output  file should  be  preserved to 
facilitate diagnosis. 

