.!** Qume page format
.LEFT MARGIN  0;.RIGHT MARGIN 80;.PAGE SIZE    60,80
.KEEP

.!** title page
.FIGURE 14
.CENTRE ;^&Laser-Scan Ltd.\& 
.FIGURE 2
.CENTRE ;^&SRP2DTI\&
.BLANK
.CENTRE ;^&Reference Guide\&
.FIGURE 2
.CENTRE ;^&Issue 1.1 - 19-December-1990\&

.FOOT
.FLAGS SUBSTITUTE
.NOFILL
Copyright (C) 1988  Laser-Scan Ltd
Science Park, Milton Road, Cambridge, England CB4 4FY  tel: (0223) 420414

Document "SRP2DTI Reference"			Category "Reference"
Document Issue  1.0     I D Jenkinson		19-September-1988
Document Issue  1.1     J Barber		19-December-1990

.FILL
.NOFLAGS SUBSTITUTE
.END FOOT
.TITLE SRP2DTI Reference
.FLAGS BOLD
.ENABLE BOLD
.PAGE
^*-------------------------------------------------------------------------------\*
^*PROGRAM####SRP2DTI\*
.BLANK
^*-------------------------------------------------------------------------------\*
.HL1 ^*FUNCTION\*
.P 0;SRP2DTI is a program to read a file or tape containing Hell MCE Interim 
format (SRP) data, de-runlength encode the data and output it as a DTI file. 
The DTI file has a LSLA type header with no projection record. The user has to
use DTITRANS to insert a projection record and set it up if required.
.BLANK
^*-------------------------------------------------------------------------------\*
.HL1 ^*FORMAT\*
.LM +10
.P 0;$ SRP2DTI SRP-input-file-spec DTI-output-file-spec
.NO FILL
.BLANK
^*Command qualifier                          Default\*

/[NO]BINARY                                /NOBINARY
/[NO]LOG                                   /NOLOG
.LM -10
.BLANK
^*-----------------------------------------------------------------------------\*
.HL1 ^*PROMPTS\*
.LM +10
.P0;__From: SRP-input-file-spec or tape name
.P0;__To:   DTI-output-file-spec
.B
.P0;X sample rate: sample-for-columns
.P0;Y sample rate: sample-for-rows
.LM -10
.NO FILL
.BLANK
^*-----------------------------------------------------------------------------\*
.PAGE
.HL1 ^*COMMAND PARAMETERS\*
.BLANK
.P0;SRP-input-file-spec or tape name
.BLANK
.LM +10
.P 0;Specifies the input SRP format file or tape name. 
.BLANK
.LM -10
.P0;DTI-output_file-spec
.B
.LM +10
.P0;Specifies the output DTI format file.
Any part of the file specification that is not supplied will be 
completed from the default of "LSL$DTI:DTI.DTI;0"
.B
.LM -10
.P0;sample-for-columns
.B
.LM +10
.P0;Specifies the amount of sampling in the x-direction. For example, a 
sampling 
rate of 3 will include only every third column on each line of the DTI file.
.B
.LM -10
.P0;sample-for-rows
.B
.LM +10
.P0;Specifies the amount of sampling in the y-direction. For example a sampling 
rate of 3 will copy every third row on each column of the DTI file.
.LM -10
.B
^*-------------------------------------------------------------------------------\*
.PAGE
.HL1 ^*COMMAND QUALIFIERS\*
.LM+10
.B
.P -10;/BINARY
.I -10;/NOBINARY (default)
.TP 25
.P -2;-#Selects binary type data format; the SRP format data to be read when
this qualifier is used consists of black and white runs only, no colour or
greyscale data is present. The use of this qualifier allows binary data to be
held in BIT format in the DTI file instead of the byte format used for colour
or greyscale data.
.B
.P -10;/LOG
.I -10;/NOLOG (default)
.TP 25
.P -2;-#Selects the logging option. When logging is enabled, the amount of
data formatted is expressed as a percentage of the total amount of data to
be processed.
.LM-10
.B
^*-------------------------------------------------------------------------------\*
.FILL
.HL1 ^*EXAMPLES\*
.B 3
.NOJUSTIFY
.NO FILL
$ ^*SRP2DTI lsl$data__root:[vtrak.scanned__images]mce512__01.dat file\*
 Map size is 7275 columns by 7320 rows
 X grid interval=.000000 Y grid interval=.000000
 direction code is 0
X sample rate=^*5\*
Y sample rate=^*5\*
DTI file LSL$DTI:FILE.DTI;0 opened for write

File 	: LSL$DTI:FILE.DTI;0
Header	: LSLA	Data : BYTE

Units are Metres

Matrix coverage	SW:	0.00	0.00	NE:	000.00	000.00
Matrix interval	 E:	0.00		 N:	0.00
Value range	  :	0	to 	0
.FILL
.LEFT MARGIN +10
.JUSTIFY
.P0; This example shows how SRP2DTI can be used to read SRP data from the
file LSL$DATA__ROOT:[VTRAK.SCANNED__IMAGES]MCE512__01.DAT and then output this
data in DTI format to the file LSL$DTI:FILE.DTI;0.The information from the
SRP file's header is output so that the user knows the dimensions of the 
map. The user is then prompted for the x and y sampling rate. The information
which is printed on the terminal after this refers to the information placed
in the DTI file's header.
.NOJUSTIFY
.LEFT MARGIN -10
.B
.NO FILL

.SUBTITLE MESSAGES (SUCCESS)

.!******************************************************************************
.PAGE
^*-------------------------------------------------------------------------------\*
.HL     1 ^^^*MESSAGES (SUCCESS)\*

These messages are used to   indicate that the program   has
succeeded in performing some action, and  do not require any
user action.

.LM +4

.NOJUSTIFY;.TP 10;.P -4
NORMAL, Normal successful completion
.JUSTIFY

.LM -4
.SUBTITLE MESSAGES (INFORMATIONAL)

.!******************************************************************************
.PAGE
^*-------------------------------------------------------------------------------\*
.HL     1 ^^^*MESSAGES (INFORMATIONAL)\*

These   messages  give information   only,    and require no
immediate action by  the  user.  They  are  used to  provide
information on  the  current  state  of the  program, or  to
supply explanatory  information in support  of  a warning or
error message.

.LM +4

.NOJUSTIFY;.TP 10;.P -4
MTEOV, Expected end of current volume detected
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
MTINIT, Initialising data source
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
MTREW, Rewinding data source
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
MTSPACE, Spacing along data source
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
TRYMTALLOC, Trying to allocate tape unit
.JUSTIFY

.LM -4
.SUBTITLE MESSAGES (WARNING)

.!******************************************************************************
.PAGE
^*-------------------------------------------------------------------------------\*
.HL     1 ^^^*MESSAGES (WARNING)\*

These messages are  output when an error has   occurred that
can be corrected immediately by the user or that the program
will attempt to overcome.

.LM +4

.NOJUSTIFY;.TP 10;.P -4
BADFLAG, Unrecognised input flag
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
MTEOF, EOF detected earlier than expected
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
MTOFFLIN, Tape unit is off-line 
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
NOVOLHDR, No volume header found
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
RESDIFF, Warning - x and y resolutions are different
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
SECCERR, Mapped section incorrectly closed
.JUSTIFY

.LM -4
.SUBTITLE MESSAGES (ERROR)

.!******************************************************************************
.PAGE
^*-------------------------------------------------------------------------------\*
.HL     1 ^^^*MESSAGES (ERROR)\*

These  messages indicate an  error in processing  which will
cause  the program to terminate. The most likely  causes are
a   corrupt or otherwise  invalid  input file,  or an  error
related to command line processing and file manipulation.

.LM +4

.NOJUSTIFY;.TP 10;.P -4
ADCSFORM, Input data is not in the specified format
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
ADCSSHORT, Fewer points read than expected
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
BADENDLINE, END__LINE value is invalid
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
BADENDSAMPLE, END__SAMPLE value is invalid
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
BADHDR, Bad header format
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
BADQUAL, Bad command line qualifier
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
BADSAMPLE, Sampling rate is too large or less than one
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
BADSPACE, SPACE value is invalid
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
BADSTARTLINE, START__LINE value is invalid
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
BADSTARTSAMPLE, START__SAMPLE value is invalid
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
BADTAPEDATA, Unrecognised data type in this format
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
BADTAPEFORMAT, Unrecognised tape format
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
ERRMTALLOC, Unable to allocate tape unit
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
ERRMTBUF, Insufficient buffer space for record
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
ERRMTDEALLOC, Unable to deallocate tape drive
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
ERRMTDISMOU, Unable to dismount tape
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
ERRMTINIT, Error initialising tape device
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
ERRMTMOU, Unable to mount tape
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
ERRMTREAD, Error during tape read operation
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
ERRMTREW, Error rewinding tape
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
ERRMTSPACE, Error spacing tape forward
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
ERRTRNLN, Error translating tape logical name
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
FILEERR, Error in initialising or closing 'file'
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
LINEOUTSIDE, START__LINE value outside image area
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
MTNOPRIV, Insufficient privilege to mount tape
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
NOFILHDR, No file header found
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
NOTNUM, Value entered is not a number
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
OTHERERR, Error in line reading / decoding
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
RDPHEOF, EOF detected before expected
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
RDPHEOT, EOT detected before expected
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
RDPHEOV, End of volume detected before expected
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
SAMPLEOUTSIDE, START__SAMPLE value outside image area
.JUSTIFY


.NOJUSTIFY;.TP 10;.P -4
SECOERR, Error creating mapped section
.JUSTIFY

.LM -4
.SUBTITLE MESSAGES (FATAL)

.!******************************************************************************
.PAGE
^*-------------------------------------------------------------------------------\*
.HL     1 ^^^*MESSAGES (FATAL)\*

These messages indicate  a severe   error in processing,  or
some form of system failure, which has caused the program to
terminate.

.LM +4

.NOJUSTIFY;.TP 10;.P -4
INTERR, Internal library error detected
.JUSTIFY

.LM -4
.SUBTITLE MESSAGES (OTHER)

.!******************************************************************************
.PAGE
^*-------------------------------------------------------------------------------\*
.HL     1 ^^^*MESSAGES (OTHER)\*

In addition to the above messages which are generated by the
program itself,   other messages  may  be   produced by  the
command line interpreter (CLI) and by  Laser-Scan libraries.
In particular, messages may be  generated by the IFF library
and  by the  Laser-Scan  I/O library,  LSLLIB.  IFF  library
messages are introduced by   '%IFF' and are  documented in
the IFF library users' guide. In most cases IFF errors will
be due to a corrupt input file, and this should be the first
area of investigation. If the  cause of  the error cannot be
traced by the  user, and  Laser-Scan are consulted, then the
output  file should  be  preserved to  facilitate diagnosis.
LSLLIB  messages  are  introduced  by    '%LSLLIB' and are
generally self-explanatory.  They are  used  to  explain the
details of program generated errors.


