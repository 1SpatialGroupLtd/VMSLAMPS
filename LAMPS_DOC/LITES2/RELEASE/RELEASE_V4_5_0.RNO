.LEFT MARGIN  0;.RIGHT MARGIN 80;.PAGE SIZE    60,80
.FLAGS BOLD
.KEEP


.!!!!!!!!!!!!   for double sided output
.!!!LAYOUT 2,2
.!!!!!!!!!!!!


.!** title page
.FILL
.FIGURE 14
.CENTRE ;^*Laser-Scan Ltd.\* 
.FIGURE 2
.CENTRE ;^*LITES2\*
.BLANK
.CENTRE ;^*Release Notes -  Version V4.5-0\*
.!

.FLAGS SUBSTITUTE
.FOOT
.NOFILL
Copyright (C) $$year Laser-Scan Ltd
Science Park, Milton Road, Cambridge, England CB4 4FY  tel: +44 (0) 1223 420414

Document "LITES2 Release"				Category "Release Notes"
Document Issue V4.5-0	Clarke Brunt			5-Dec-1996
.FILL
.END FOOT
.NOFLAGS SUBSTITUTE

.!* and the title to go at the top of each page
.TITLE LITES2 Release notes (V4.5-0)
.PAGE
.HL 1 ^*CONTENT\*
This document describes recent changes to the Laser-Scan LAMPS software
package LITES2. This package provides facilities for display and editing
of geographic and map data. 

.P 0
Details of LITES2 functionality and commands can be found using the HELP
facility in LITES2, and in the latest edition of the LITES2 Reference
Manual. Supporting information is found in the documentation for the
MAPPING package. 

.P 0
This document is part of the LAMPS V4.5 release, which went into
Alpha test in September 1996. It covers relevant changes to package LITES2
since the previous LAMPS release (V4.4) which went into Alpha test in May
1995. 

.!P 0
.!This document is for a special release called LITES2 X4.5C,
.!which went into Alpha test in September 1996.
.!It covers relevant changes to package LITES2
.!since the previous LAMPS release (V4.4) which went into Alpha test in May
.!1995. 

.P 0
The specific version covered here is LITES2 V4.5-0 of 27-Sep-1996.
.!This is an interim release containing fixes and new functionality for
.!particular customers. Only the MOTIF version of LITES2 is affected.

.P 0
See the release notes for the previous LAMPS release for
information about earlier changes. 

.!.HL 1 ^*ENHANCEMENTS\*
.!The following particularly significant enhancements are included in
.!LITES2 X4.5C
.!.LIST
.!.END LIST

.!.PAGE
.!.HL 1 ^*INCOMPATIBLE CHANGES AND WARNINGS\*
.!There are no changes to which attention needs to be drawn here.

.PAGE
.HL 1 ^*NEW OR CHANGED FACILITIES IN V4.5-0\*
The following facilities have been added, implemented or had their
actions altered:- 
.LIST
.DISPLAY ELEMENTS '(',LL')'
.LE
Version has been incremented to be LITES2 V4.5-0.
.LE
A new command IMAGE RECOVER CLEAR has been added, which discards the undo
information used by IMAGE RECOVER. This will reclaim the memory used, and
prevent accidental use of IMAGE RECOVER once you are certain that the image
edits are wanted.
.LE
SPR 3242, 3266. A change has been made to correct the behaviour of the
PARAGRAPH commands when subtexts in different fonts (in particular, fonts whose
size differs for the same height, such as bold and normal fonts) were present.
Previously subtexts on a line were formatted as though they were all in the
font of the last subtext, or the first subtext of the next line, which could
result in bad formatting, or overlapping.
.P 0
In addition, an optional integer argument has been added to the end of the
PARAGRAPH NORMAL command. This specifies the number of spaces to put
between text components. The default if the argument is omitted is 1,
as before. This is particularly intended for use when text components
are not necessarily whole words, and so do not require spaces around them.
In this case, PARAGRAPH NORMAL 0 can be used. An additional effect of
specifying zero spaces is that any explicit spaces on the ends of components
are retained, rather than being removed as they normally would.
.LE
SPR 3295. The number of ACs or attributes which may be labelled using the
commands LABEL AC or LABEL ATTRIBUTE together with DRAW LABELS has
been increased from 5 to 20. This is more intended for the situation where
different ACs or attributes appear on each feature, as the label string
could get very long if all 20 appeared on the same feature.
.LE
A new command REFRESH BITS had been added. This takes a bit-set integer
argument, and specifies which of the bit planes being used for the
LITES2 display are inverted when displaying refresh (highlighting).
The default is to invert all the bits. The command may be useful
if the default refresh colour is invisible for some reason. It
only works in the MOTIF version of LITES2, in which the initial
default may also be set by defining logical name LSL$DECW__REFRESH__BITS
as an integer.
.P 0
For example: If you had an 8 plane overlay using colours 0 to 255,
then by default the cursor would display in colour 255 when over
an area of the screen with colour 0 (background). If you used the
command REFRESH BITS 1, then the cursor would display in colour 1
instead.
.LE
The MERGE LAYERS command has been altered so as to free up the slot
used by the old layer. Previously, use of this command gave two
instances of the same layer (as shown by SHOW LAYER), and repeated
use of the command would eventually use up all 256 available layers.
.LE
Two new system variables have been added: $FIND__COUNT - the number
of found items which repeated use of the FIND command (without
moving the cursor) will cycle round, and $FIND__ITEM - which of
these items is currently the found object.
.LE
The following two items are copied from the release notes for the
LSLMAINT package, as they apply to LITES2MOTIF. See also the
LITES2 X-Windows (MOTIF) Workstation Guide.
.LIST
.LE
The behaviour prior to Motif 1.2 of being able to assert a window's colormap
by clicking in the banner has been restored. Changes in Motif 1.2 had
prevented this from working.
.LE
The default behaviour when attempting to use all 8 planes (e.g.
WORKSTATION TYPE 7000 in LITES2) now tries to use the default colormap
instead of a private colormap. There was no advantage to using the
private colormap if cells in it were in any case reserved for the
window manager's colours. New logical names LSL$DECW__MIN__COLOUR
(default half of those requested, e.g. 128) sets how many colours
must be available in the default colormap, and LSL$DECW__FREE__COLOUR
(default 0) sets how many to leave free.
.END LIST 0

.LE
The 'Composite Text' facility, which previously was a licence restricted
facility has now been included in the standard LITES2 product.  This provides
the ability to create, display and modify text features made up of multiple
parts. Examples of use of Composite Text include text labels bent to follow
other features (such as river names), and also blocked, paragraphed, or
multi-line texts. The commands affected include ENABLE COMPOSITE, PARAGRAPH,
and BEND.
.LE
The 'Geometry' facility, which previously was a licence restricted facility has
now been included in the standard LITES2 product.  This provides a
comprehensive range of abilities for creation, manipulation, combination and
use, of point, line, or area geometries. The GEOMETRY, FEATURE GEOMETRY, and
SELECT INGEOMETRY commands provide superior abilities in many cases to the
REGION abilities.  To facilitate the distribution of this facility, the
revision date of the shared images LITES2GEOMSHR.EXE and LITES2GEOMSHR__AXP.EXE 
has been changed to 21-Oct-1996, even though the images themselves are
unchanged. Note that the algorithms used by the GEOMETRY facilities are the
same as those used in the Laser-Scan Gothic products, such as LAMPS2. They
therefore can be used to carry out validation of area features before transfer
of IFF data to a Gothic object database. 
.LE
Some new example _.LCM files have been added to the
LSL$PUBLIC__ROOT:[LITES2.CMD] directory (which will normally be on the
LSL$LITES2CMD search list). These are named COLOUR2.LCM through COLOUR8.LCM,
and GREY2.LCM through GREY8.LCM. They define a set of colours or a greyscale
for a LITES2 overlay with the corresponding number of planes. The greyscale
files may be of general use, but the colour ones are only intended to provide
a quick method to set an overlay to a rather arbitrary set of colours instead
of the default white.
.END LIST 0

.PAGE
.HL 1 ^*PROBLEMS FIXED IN THIS RELEASE\*
This release corrects the following problems that have been found to exist
in LITES2 Version 4.4 :-
.LIST
.DISPLAY ELEMENTS '(',LL')'
.LE
SPR 2415. When combining several maps into one using the
WRITE _<filename_> command, the corner points from the lowest
numbered map are used for the output map. Previously the output
corner points could use the X coordinate of one point with the
Y coordinate of another, resulting in a point that wasn't any of
the input ones.
.LE
SPR 2745. LITES2 no longer enters the debugger if it encounters
a feature code which is not in the FRT whilst writing out a copy of
a read-only map with SELECT OUTPUT and SELECT (IN/OUT/CUT)REGION commands.
A warning message is displayed, and the feature is omitted.
Normally features with missing feature codes are discarded when the
map is read in, but this is impossible with a read-only map, or if the
FRT is changed to one with missing codes during the run.
.LE
SPR 3151. Display PostScript text appearing simultaneously in a primary
and secondary display window is now drawn at the correct size in
both windows. Previously it was drawn at the same screen size in
both the windows, which was incorrect if the scale of the two
windows was different.
.LE
SPR 3164. LITES2 used to occasionally display raster images with incorrectly
sized pixels. This could only happen with very small images (the example was 5
pixels square), and while doing DRAW MAP. The pixels were drawn at the correct
size when zoomed in. This problem has now been fixed.
.LE
SPR 3203. If LITES2 encountered a scaled symbol (graphical type 9) with
a single point and a rotation (rather than the two points which it
should have), then it was correctly displayed, with the size
defaulting to the FRT size. However, on starting to modify such
a feature, the angle would change to zero, rather than keeping the
existing angle. This is now fixed. Note that LITES2 always creates
graphical type 9 features with ^*two\* points.
.LE
SPR 3178. LITES2 now discards the undo information (used by IMAGE RECOVER) when
an image open for edit is closed. Previously it was possible to open a new
image, and then `undo' edits from the previous one.
.LE
SPR 3144. The `user-relevant' routine is now called during output if SELECT
OUTPUT is in force. Note that only MAP and FSN are filled into the pack which
is passed - the only other fields which might have been relevant are FC and GT,
but routines in existence are not thought to require these.
.LE
SPR 3283. If logical name DECW$DISPLAY is defined (as anything), but the
X-windows display cannot be opened, then LITES2 will assume that there
is an 8-plane display, and allow overlays to be created for plotting.
This is a return to the behaviour prior to V4.4-1, in which a change
was made inquire the correct number of planes from the display.
.LE; A new version of the shareable image LITES2GEOGSHR.EXE is shipped with
this release. Miller's Oblate Modified Stereographic projection has been added.
Krovac projection support on AXP now works correctly.

.END LIST 0

.PAGE
.HL 1 ^*CHANGES TO ANCILLARY PROGRAMS FOR THIS RELEASE\*
There have been no changes to ancillary programs
included with LITES2 Version V4.5-0, but the following notes
are retained from the previous release, as they may still be
useful:
.LIST
.DISPLAY ELEMENTS '(',LL')'
.LE; UILMENUSMOTIF12.EXE of 7-Feb-1995 and UILMENUSMOTIF12__AXP.EXE of
8-Feb-1995. The existing versions of this program (UILMENUSMOTIF and
UILMENUSMOTIF__TV for AXP) will not run with .UID files compiled using
the UIL compiler included with DECWindows Motif version 1.2. If you
create your own menu systems with this version of Motif, then you
will need to run the new versions of the program. The version for
Alpha AXP is a native image (which Laser-Scan traditionally name as
_*__AXP.EXE), rather than a translated image (_*__TV.EXE), since DEC do
not seem to supply translated image support for Motif 1.2 at present.
Providing that you are not compiling your own .UID files, the original
versions (without the 12) will continue to work.
.LE; SPR 3320. UILMENUSINI.COM of 23-Sep-1996 has been amended to select
the above versions of UILMENUSMOTIF12 if Motif 1.2 is installed
on the system.
.P 0
NOTE: A difficulty has been observed with the 1.2 version of UILMENUS - the
root box of the menu system cannot be positioned using the x and y
coordinates stored in the .UIL file (and originally in the .UIM),
and tends to appear towards the top-left of the screen. A workround
is to include in a resource file (for example LSLUILMENUS.DAT in the
login directory, or another name if the /CLASSNAME qualifier is used)
the lines:
.BR;UILMENUSMOTIF12.x:		800
.BR;UILMENUSMOTIF12.y:		600
.BR;Substitute the position you require. The name before the dot is
the name of the program being run, and therefore should include the
__AXP if you are running that version.
.END LIST 0

.PAGE
.HL 1 ^*Known Problems and Restrictions\*
The following minor problems have been encountered after LITES2 V4.5 was
frozen. It is planned that they will be addressed in a future release.
.LIST
.DISPLAY ELEMENTS '(',LL')'
.LE; LITES2 - If LITES2 is used to open READONLY an IFF file which lacks NO to
EO pointers (for example an IFF file created before 1988), then if an attempt
is made to write out a copy of the file using the WRITE command, then LITES2
will enter its "COLLAPSE" mode and enter the debugger. The workround is to
open the IFF file without READONLY.
.LE; LITES2 - If an IFF file which has been defined in its Map Descriptor to
use the newly supported "Miller's Oblate Modified Stereographic" projection is
read into LITES2, then the SHOW PROJECTION command gives the correct projection
code (29), but describes it as "Unknown Projection Code". The map will however
be displayed and reprojected as needed correctly.
.LE; LITES2 - If LITES2 is asked to bend a right-justified text string along a
line feature, and the point on the line feature is the first point, then LITES2
can fail with an arithmetic trap.  Similarly, if a left justified text is bent
starting at the last point on a line, then the resultant text may be at a
random angle. The workround is to avoid using the point of the line at the end
in the direction of the text flow.
.LE; LITES2 - If an FRT is set up using multiple part prioritised
representation for a text feature code and it is used for a composite text
feature having different text component codes (eg more than one font in the
same text string), then the components whose code differs from the feature
code will just be drawn repeatedly with their own code, rather than
using different prioritised codes.
.LE; LITES2 - If you are having problems with the PLOT LOAD command when
running LITES2 on an Alpha AXP, then see the notes in the document "LAMPS
V4.5 for Alpha AXP, Release Notes", which should be filed with the Release
Notes for the LSLSYSTEM package.
.END LIST 0
