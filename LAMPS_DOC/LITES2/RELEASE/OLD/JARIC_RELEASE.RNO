.LEFT MARGIN  0;.RIGHT MARGIN 80;.PAGE SIZE    60,80
.KEEP

.!** title page
.FIGURE 14
.CENTRE ;^&Laser-Scan Ltd.\& 
.FIGURE 2
.CENTRE ;^&LITES2\&
.BLANK
.CENTRE ;^&Release Notes -  15-January-1988\&
.BLANK
.CENTRE ;^&JARIC\&
.FOOT
.FLAGS SUBSTITUTE
.NOFILL
Copyright (C) $$year Laser-Scan Ltd
Science Park, Milton Road, Cambridge, England CB4 4FY  tel: +44 (0) 1223 420414

Document "LITES2 Release"				Category "Release Notes"
Document Issue 2.0	Ron Russell			15-Jan-1988
.FILL
.NOFLAGS SUBSTITUTE
.END FOOT

.!* and the title to go at the top of each page
.TITLE LITES2 Release notes
.PAGE
.HL 1 ^&BUGS FIXED\&
This release corrects the following bugs that have been found to exist
in your release of 18-June-1987:-
.LS
.LE; Stop access violation when "nexting", "previousing" etc_. when there is
no found object 
.BR
Make FIRST and LAST choose the object to act on, in the same way as NEXT and
PREVIOUS (ie - on found object, if it is there, otherwise on sub-texts)
.LE; Make regions around texts work properly for escaped characters
.LE; Bring drawing of filled polygons up to date with FPP.  Invisible lines
are now treated the same as visible lines, so island polygons can be  
connected to the outside by invisible lines, allowing the polygon to be filled 
while the "island" is left blank.
.LE; TEK4100 version:
.BR
Optimise refresh picture drawing, so that cursor movement doesn't lag behind
when fast cursor tracking is taking place.
.LE; Allow CTRL/C to work properly while SPAWNED
.LE; SIGMA6100 version:
.BR
Stop integer overflow while MENDing
.LE; Allow FORCE in TEXT, SYMBOL and MODIFY state
.LE; Correct bug that meant symbols sometimes could not be found by their
locating point
.LE; Coordinates output by EXAMINE BOX, SHOW LIMITS, SHOW WINDOW etc
tabulated better
.LE; Better error message when maximum number of variables used
.LE; Allow longer labels to be output with DRAW LABEL. It was possible
to lose information if large numbers of AC texts and values were displayed
.LE; GWS version:
.BR
Stop moans while quitting causing traceback
.LE; SIGMA6100 version:
.BR
Allow double buffering to work properly, even when using bitpad.
.LE; Correct bug that sometimes caused labels to be drawn in centre of
screen rather than at edge
.LE; SIGMA6100 version:
.BR
When using MUART, allow up to 70 characters for prompt when INQUIREing,
and then truncate prompt at this length. Previously truncated to 20 characters
and overwrote prompt at bottom of screen.
.LE; Calculate areas of circle arcs more efficiently
.LE; Deal correctly with part operations on circle arcs; previously got start
and end points wrong 50% of the time.
.LE; Do not try to close journal file if it has not been opened.
.LE; Redraw status line after SPAWN command, so that screen is reset after
a spawned command which may have reset it (like a screen editor)
.LE; Correct bug that occasionally tried to offset fill areas (from the SIZE
entry in the FRT)
.LE; When FC of non-composite texts changed, with height disabled, height
of text box now changes.
.LE; Deal correctly with vector of feature passing through vertex of region
.LE; Deal correctly with several more pathological cases when comparing
features with regions. Speed up testing when feature lies along region
.LE; BEND STRETCH features correctly, when starting and ending within
the same vector of a linear (graphical type 1) feature.
.LE; TEK4100: version
.BR
Stop cursor disappearing when segments disabled.
.LE; Ignore feature immediately when FC not found in FRT. Previously the
message 
.BR
#######"FS not found in FRT" ############was followed by
.BR
#######"FS entry missing"
.BR
before the feature was ignored
.LE; When text features (GT 10) have no TX entry in IFF file, don't try
to output a text. Previously random LITES2 commands were displayed on
screen. 
.LE; When changing feature code from unscaled symbol to scaled symbol,
generate the second scaling point
.LE; Stop access violation when SHOW GROUP command given in INITIAL 
STATE before FRT has been read.
.LE; Stop texts (in text features and AC texts) being truncated to 80 
characters during some operations
.LE; Correct scaling of 3rd interpolation tolerance. This problem has
been present since 30-Jun-1987
.LE; Edgematching - do not join/tie two features on the same side of the 
edgematching base.
.LE; The 'invisible' message now correct with the EXAMINE POINT (or
VERTEX) command 
.LE; The system variable $ACPRESENT now works correctly. It was set to 
true (-1) even after all the ACs had been deleted from the feature.
.LE; Avoid adjustable array dimension error in files with short map 
headers (less than 2 bytes!)
.LE; various Versions:
.BR;Stop area fill drawing dotted lines along supposedly invisible 
lines (eg the line connecting island polygons).
.BL
.I -5; ++++++ RELEASE of Version 2.0 on 15-January-1988
.BL

.END LIST

.PAGE
.HL 1 ^&NEW OR CHANGED FACILITIES\&
The following facilities have been added, implemented or had their
actions altered:- 
.LIST
.LE; New command TRANSFORM 
.NOTE
The old command TRANSFER AC has become TAKE AC.
.BR
TRANSFER AC is still available, but will be withdrawn in a future release of 
LITES2.
.END NOTE
.BR
Subcommands:-
.LIST '*'
.LE; TRANSFORM AC (ie TRANSFER AC - use TAKE AC)
.LE; TRANSFORM COEFFICIENTS - to set up transformation
.LE; TRANSFORM FEATURE      - transform a feature
.LE; TRANSFORM FROM         - set up transformation (with TRANSFORM TO)
.LE; TRANSFORM TO           - set up transformation (with TRANSFORM FROM)
.LE; TRANSFORM REGION       - transform a region
.END LIST
.LE; New command FILTER (also TOLERANCE BUNCH)
.LE; Allow $HEIGHT and EXAMINE HEIGHT to give height of texts (in sheet mm)
when HEIGHT is disabled 
.LE; CHANGE CC on composite texts, while not in MODIFY (PART) state, will
change the CCs of all the text components and the FC of the feature. While
in MODIFY (PART) state, only the CC of the current text component is changed.
.LE; TVES version:
.BR
Blinking cursor implemented (on primary screen)
.LE; New system variable, $REGION n, which is true if REGION n exists.
.LE; New command CANCEL VARIABLE that removes user defined variables, and 
allows the space to be reused.
.LE; New action by command CANCEL MACRO (for non PUCK/MENU macros);
.BR
macros are removed without trace. Name no longer appears in SHOW MACROS
and the macro may NOT be used after being cancelled (which it could before)
.LE; Add new tolerance SQCT, to be used by OS squaring algorithm (SQUARE PART 
or SQUARE WHOLE).  This is the distance (in IFF units) that is used to 
determine if the feature is closed.  It was previously set to a constant (1.0)
which meant that the OS squaring algorithms sometimes broke down when dealing
with small features, or non-OS type data.
.LE; VS2 version:
.BR
Graphics window now covers whole screen, and is pushed behind all other 
windows on the screen.
.LE; It is now possible to offset the drawing of curved features by setting 
the SIZE entry in the FRT.
.LE; Hardware that this version of the program runs on is now output at image 
startup and by SHOW VERSION command. (see below for possible hardware)
.LE;
.BR
=======================================================================
.BR
#############################IMPORTANT
.BR
=======================================================================
.BL
The logical name to access user routines on has been altered from
.Bl
####################TWOUSRRTS#####to######LSL$LITES2ROUTINES
.BL
and the shared image file has been altered from
.BL
####################TWOUSRRTS.EXE#####to######LITES2ROUTINES.EXE
.BL
The file LSL$COM:LITES2INI_.COM will have to be altered to reflect this
.BL
=======================================================================
.LE; the names of the possible LITES2 images have become
.LITERAL

               LITES2GWS         (was TWOGWS)
               LITES2HRD         (was TWOHRD)
               LITES2SIG5000     (was TWOS5000)
               LITES2SIG6000     (was TWOSIGMA)
               LITES2TEK4100     (was TWOTEK4100)
               LITES2TEK_ARGS    (was TWOTVES)
               LITES2UIS         (was TWOVS2)

.END LITERAL
.BL
The file LSL$COM:LITES2INI.COM will have to be altered to reflect this
.LE; Argument to WAIT is now real, not integer. Allows waits of less than
one second.
.LE; FRTLIB:
.BR
In FRT files, when specifying the appearance of texts and symbols,
colour and thickness are now taken from the SCT entry, unless they are
0, when they are taken from the FRT. This brings colour and thickness
into line with other attributes. It also allows the thickness and colour
of symbols in patterned lines to be different from the line.
.BL
^&This is an non-compatible change for FRT files that overrode the SCT
entries for colour and thickness, by specifying values in the FRT.\& 
.LE; When in MODIFY (part) state, COLLAPSE now collapses the following
text component into the current one
.LE; New system variables containing the control point (corner point) 
values for each map
.BL
.LITERAL
         $CPXNW n
         $CPYNW n
         $CPXSW n
         $CPYSW n
         $CPXSE n
         $CPYSE n
         $CPXNE n
         $CPYNE n
.END LITERAL
.LE; New secondary commands for SPLIT
.LIST '*'
.LE; LINE###- Splits linear (non symbols and texts). This is default secondary
command.
.LE; BEFORE#- Splits composite text before specified text
.LE; AFTER##- Splits composite text after specified text
.LE; AROUND#- Splits composite text before and after specified text
.END LIST
.NOTE
.LIST
.LE; Last three secondary commands allow movement around a composite text
without use of NEXT and PREVIOUS, even if texts are already split at required
place.
.LE; ^&The secondary commands for splitting text are not upwardly compatible
with previous releases.\&
.END LIST
.END NOTE
.LE; New command PARAGRAPH JUSTIFY that justifies a composite text to a given
line length
.LE; Percentage of map read in is displayed (on VT100 compatible terminals)
.LE; Texts (in text features and ACs, TCs and CHs) can now have 255 
characters.
.LE; New command AFTER INPUT - specified command obeyed after last map
has been read in. 
.LE; Command ENABLE ALIGN (which was an no-opt) replaced by ENABLE 
APPEND, that allows commands to be appended to edgematching problem 
files. (Also DISABLE APPEND and TOGGLE APPEND)
.LE; New command ENABLE BELL (and DISABLE and TOGGLE) that allows
audible warning with error messages to be switched off. 
.LE; Edgematching problem file now has a date identifier for each run of 
edgematching.
.LE; New system variables
.LIST '*'
.LE; $IFFADDR - gives the unique identifier to a feature in a map
.LE; $RANDOM [integer] - is a random number
.LE; $MAPNAME integer  - name of specified map
.LE; $MAXFSN integer   - maximum FSN used so far in specified map
.END LIST
.LE; The name VERTEX has been replaced by POINT
.BR; This means that the following system variables have been changed:
.LIST '*'
.LE; $POINT instead of $VERTEX
.LE; $POINTNO instead of $VRTNO
.LE; $PSIZE instead of $POINTSIZE
.END LIST
.NOTE
The old versions of these system variables are still available; but are 
no longer documented, and will be removed in a future release of LITES2
.END NOTE
The following commands have had their secondary commands changed
.LIST '*'
.LE; ENABLE# PSIZE# (instead of ENABLE# POINTSIZE)
.LE; CHANGE# PSIZE# (instead of CHANGE# POINTSIZE)
.LE; SET#### PSIZE# (instead of SET#### POINTSIZE)
.LE; REFRESH POINTS (instead of REFRESH VERTICES)
.LE; EXAMINE POINT# (instead of EXAMINE VERTEX)
.LE; EXAMINE PSIZE# (instead of EXAMINE POINTSIZE)
.END LIST
.NOTE
The old versions of the first four of these commands are still
available; but are no longer documented, and will be removed in a future
release of LITES2 
.BL
^&^*The EXAMINE commands are not upwards compatible. Command files that 
use them will have to be altered.\*\&
.END NOTE
.LE; REMOVE, EDIT and LOOP commands now work insitu (ie feature is not 
moved to end of IFF files) where possible. This should make them faster 
to use and should take up less disk space.
.LE; The commands EDIT and REPEAT now take secondary commands, with
EDIT POINT and REPEAT FEATURE being the defaults, so that EDIT and 
REPEAT will work as before.
.LE; New command EDIT VISIBILITY - changes visibility of a line segment
.LE; EXAMINE POINT only outputs ' invisible' if between points rather 
than always
.BR; EXAMINE LINE may output 'invisible' if between points (rather than 
never)
.LE; New command SETUP TRANSFORM to allow selection of transformation
to use for table setup.
.NOTE
When setting up maps on the table with SETUP TRANSFORM 2 or SETUP 
TRANSFORM 3 (the default) a message will be given if the residuals at 
the control points are greater than 1/4000th of the distance between the 
control points. This may indicate that the source document has been 
deformed.
.END NOTE
.LE; New command SHOW SETUP to show selected setups and transformations
for maps
.BL 5
.LM -5
This release makes use of the new CB mechanism in IFFLIB. This means 
that it can produce CB entries in files rather than ST (and ZS) entries 
if the logical name LSL$IFF__OUTPUT__REVISION is set to 1. See relevant 
IFFLIB and FRTLIB documentation for details if you wish to use these 
facilities.
.NOTE
It also allows manipulation of the point attribute Z, using the 
following commands, even although LSL$IFF__OUTPUT__REVISION is set to 0, 
or is unset. It does this by creating features with ZS entries.
.END NOTE
.Bl 2
The following new commands and system variables are associated with this
development. 
.LM +5
.LE; New commands (see HELP or reference manual for details)
.LIST '*'
.LE; EXAMINE POSITION
.LE; EXAMINE ATTRIBUTE
.LE; OPERATION ADD__FEATURE
.LE; OPERATION ADD__FEATURE
.LE; OPERATION CODE__CH__FEATURE
.LE; OPERATION GEO__CH__FEATURE
.LE; OPERATION DIGITISE__POINT
.LE; OPERATION CURVE__POINT
.LE; OPERATION OFFSET__POINT
.LE; OPERATION SQUARE__POINT
.LE; OPERATION PARTSQ__POINT
.LE; OPERATION CIRCLE__POINT
.LE; OPERATION FILTER__POINT
.LE; OPERATION ANGLESQ__POINT
.LE; OPERATION MOVE__POINT
.LE; OPERATION TRANSFORM__POINT
.LE; OPERATION BREAK__POINT
.LE; OPERATION JOIN__POINT
.LE; OPERATION OTHER__POINT
.LE; SHOW OPERATIONS
.LE; SET ATTRIBUTE
.LE; UNSET ATTRIBUTE
.LE; TAKE ATTRIBUTES
.LE; REPEAT ATTRIBUTES
.END LIST
.LE; New system variables
.LIST '*'
.LE; $ATTCVALUE
.LE; $ATTDATATYPE
.LE; $ATTIVALUE
.LE; $ATTRVALUE
.LE; $ATTSVALUE
.LE; $ATTTOTAL
.LE; $ATTCODE
.LE; $ATTNAME
.END LIST
.LE; New command EDIT ATTRIBUTE. This is primarily for editing point 
attributes, when using the CB mechanism in IFFLIB, but when using STs, Z 
can be edited and the output will be in ZS entries.
.LE; The commands SET, UNSET, PUT and GET are now valid in CONSTRUCT 
STATE.
.LE; When referring to ACs (eg set AC) and when LITES2 refers to ACs, 
instead of referring to the type (an integer) they can be referred to by 
name. See HELP COMMANDS, reference manual (LITES2 COMMANDS) and FRTLIB 
documentation for details.
.LE; New command LABEL AC that uses the general AC accessing method (see 
above). This command superceded LABEL ACINT and LABEL ACREAL
.BL
.I -5; ++++++ RELEASE of Version 2.0
.BL
.END LIST
.BL 2
Future releases will have the Version number of LITES2 incremented, with
corresponding documentation and release notes.
.BL 2
Details of all these commands can be found
in HELP and the latest edition of the LITES2 Reference Manual.
