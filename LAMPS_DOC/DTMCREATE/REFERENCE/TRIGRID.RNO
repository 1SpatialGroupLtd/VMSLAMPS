.!******************************************************************************
.!*** First page, introduction                                               ***
.!******************************************************************************
.PAGE
.BR
^^^*--------------------------------------------------------------------------------\*
.BR
^^^*MODULE#####TRIGRID\*
.INDEX TRIGRID

.P0
^^^*--------------------------------------------------------------------------------\*
.BR
^^^*REPLACES\*###PANACEA module PANDORA.

.P0
^^^*--------------------------------------------------------------------------------\*
.HL 2 ^^^*FUNCTION\*

.LEFT MARGIN +10
.P 0 ;TRIGRID takes the triangulation node and data files created by TRIANG (or
edited output from TRIEDIT) and the slope derivative file generated by TRIDER,
and produces a DTI (Digital Terrain Image) output file containing a regular
grid DTM.
.BLANK
.LEFT MARGIN -10
^^^*--------------------------------------------------------------------------------\*
.HL 2 ^^^*FORMAT\*
.INDEX TRIGRID> FORMAT
.LEFT MARGIN +10
.P 0;$ TRIGRID
.BLANK
.TEST PAGE 9
.LEFT MARGIN -10
^^^*--------------------------------------------------------------------------------\*
.HL 2 ^^^*COMMAND QUALIFIERS\*
.LEFT MARGIN +10
.P 0;None, TRIGRID is command driven.
.BLANK
.LEFT MARGIN -10
.TEST PAGE 10
^^^*--------------------------------------------------------------------------------\*
.HL 2 ^^^*DESCRIPTION\*
.INDEX TRIGRID> DESCRIPTION

.BLANK
^*--------------------------------------------------------------------------------\*
.HL 3 ^^^*General\*
.LEFT MARGIN +10
.P 0 ;TRIGRID takes the triangulation node and data files created by TRIANG (or
edited output from TRIEDIT) and the slope derivative file generated by TRIDER,
and produces a DTI (Digital Terrain Image) output file containing a regular
grid DTM.
.P 0;Once the triangulation and derivative input files are available,
TRIGRID may be used repeatedly to produce DTM grids from the same 
triangulation area at differing resolutions. 


.P 0;TRIGRID offers 2 types of interpolation from the triangular form to
the DTM grid.
.LIST 
.BR
.LE ; a linear facet option, (see DISABLE SMOOTH command)

.LE ; a SMOOTH patch option, (see ENABLE SMOOTH command)

.END LIST 
.P 0;The smooth patch option is enabled by default.

.INDEX TRIGRID>FACET APPROACH> ADVANTAGES
.P 0; The advantage of using the linear FACET approach is that it is
faster and will definitely produce no values outside the z-range of the
data set. If a surface is well defined by contours and spot heights or a
quick "look-see" model is required then the FACET option is strongly
recommended. 

.P 0;The SMOOTH patch option is the most complicated as it generates a
fully edge continuous interpolation across the triangulated area.
The smooth patch option uses a quintic surface patch fitted
to the vertices and estimated derivatives of the triangles to
interpolate a grid node location falling within the triangle. The option
should be used with caution, as in areas of very sparse data points the
results are those of a mathematical patch, NOT necessarily those of a
physical environment function! There are however modifying triangle limits (see 
Commands section) which may be applied in association with the smooth
patch option, which can be used to prevent undershoot and overshoot
outside a specified z-range. There are no triangle limits to be set up for the
linear FACET option. 


.P 0;The size of the DTM generated by TRIGRID is controlled by
either:

.LIST 

.LE ;specifying the geographical extent of the model with the
WINDOW command (an obligatory  command) and then specifying the DTM cell side
length in X and Y, using the SIDELENGTH command.
TRIGRID then calculates the resulting number of DTM
rows and columns, or, 

.LE ;specifying the geographical extent of the model with the WINDOW command
and then explicitly stating the number of columns and rows using the
SIZE command.
.END LIST 

.HL 2 ^*OBLIGATORY COMMANDS\*

.INDEX Obligatory commands>TRIGRID

.INDEX TRIGRID>Obligatory commands


.P 0;For the simplest possible gridding run TRIGRID requires that the
following obligatory commands are given:
.TP 8
.LITERAL

                1) WINDOW
                2) SIZE (or SIDELENGTH)
                3) FILEIN
                4) FILEOUT
                5) GO

 
.END LITERAL
.LIST
.B 2

.LE ;^*Obligatory command WINDOW\*

.P 0;WINDOW 'xmin' 'ymin' 'xmax' 'ymax' - determines the geographical extent
of the DTM to be gridded, for example: 

.P 0;WINDOW 40.0 20.0 100.0 100.0 

.P 0;defines the area of the DTM as lying between forty and one hundred units
in X and twenty and one hundred units in Y.  Data in the triangulation files
which lie outside the specified area will be ignored. 

.P 0;The specified extent need not cover the whole area contained  in the
structured data files. It is possible to "window" out sub-areas of DTM and
patch them together to form a complete model using the MATRIX
DTITILE utility at a later date. 

.TP 8
.INDEX TRIGRID>Commands>WINDOW
.B 4
.LE ;^*Obligatory command SIZE or SIDELENGTH\*
.LM +4
.BLANK
.I -4 ;EITHER:
.P 0;SIZE 'ncols' 'nrows' - enables the user to explicitly force the model size
to be ^*ncol\* columns and ^*nrow\* rows. This an alternative to the
SIDELENGTH command.

.I -4;OR:
.P 0;SIDELENGTH 'x__step' 'y__step' - enables the user to explicitly set the
sidelength in X and Y for the individual DTM cells. Using SIDELENGTH the
number of rows and columns is calculated for you.
.P 0;Failure to define the grid WINDOW will result in the message: 
.LM -4
.BR 
.B
You must set the grid SIDELENGTH (or use SIZE) and WINDOW before
gridding can begin.
.BR
.B
when you attempt to issue a GO command.

.P 0;When you use SIZE the minimum possible number of rows and columns
is 3. If you try to specify less than this the message:
.BR
.B
You must have at least 3 rows and 3 columns in your DTM
.B
.BR  
will appear.

.P 0; Failure to specify a size for both rows and columns will
result in TRIGRID assuming that you wish both sides to be equal and
the message:
.BR
.B
Number of columns and rows assumed equal ( 'integer' 'integer' )
.B
.BR  
will appear.

.P 0;If you have already issued a SIDELENGTH command then the sidelength
values that you specified will be replaced by the values calculated from
WINDOW divided by the number of rows and number of columns and the message:
.BR
.B
Over-riding SIDELENGTH settings
.B
.BR
will appear.

.P 0;If you have already specified values for the WINDOW then TRIGRID 
will calculate the cell sidelength required to give you the the 
number of rows and columns specified by the SIZE command and the 
results of this calculation will be displayed:
.BR
.LITERAL

Window units are metres

Triangulation coverage SW:  'real' 'real' NE:  'real' 'real'
Triangulation window   SW:  'real' 'real' NE:  'real' 'real'

Which with a side length of    10.00 in X and     10.00 in Y
gives 'integer' rows and 'integer' columns in the dtm

.END LITERAL
.P 0;You may use the SIDELENGTH, SIZE and WINDOW commands in combination as
often as you wish until the desired model characteristics are achieved. 
.INDEX TRIGRID>Commands>SIZE
.INDEX TRIGRID>Commands>SIDELENGTH
.B 
.LE ;^*Obligatory command FILEIN\*
.P 0;FILEIN#'file-spec'#- This command causes the specified triangulation
files (_.NOD, _.DTA and _.DER) to be read as input.
.B 2
.LE ;^*Obligatory command FILEOUT\*
.P 0;FILEOUT#'file-spec'#-#create this DTI file for output.
.B 2
.LE ;^*Obligatory command GO\*
.P 0;GO#-#start processing.
.END LIST 
.BLANK 2
.TP 10
.LM -10
.P 0;^*--------------------------------------------------------------------------------\*
.HL 4 ^*Typical command sequence\*
.INDEX TRIGRID>TYPICAL COMMAND SEQUENCE
.LM +10
.P 0;A typical command sequence is:

.LM -10
.LITERAL

TRIGRID>  WINDOW 0.0 0.0 80.0 160.0! determine area of DTM
TRIGRID>  SIDELENGTH 10.0 12.0	   ! cell sidelength in X and in Y
TRIGRID>  ZLIMITS 0.0 456.0        ! overall DTM interpolation limits
TRIGRID>  TRIANGLE_LIMITS 3.0 9.0  ! individual triangle interpolation limits
TRIGRID>  FILEIN FRED		   ! read in FRED_.DTA, FRED_.NOD, and FRED_.DER
TRIGRID>  ENABLE TRACE             ! trace along original data strings for
TRIGRID>                           ! up-hill/down-hill side of line information
TRIGRID>  DATA_TYPE REAL           ! output DTM posts as real (floating point)
TRIGRID>  FILEOUT TEST3.DTI	   ! create DTI file LSL$DTI:TEST3.DTI a
TRIGRID>                           ! the output file
TRIGRID>  GO                       ! go!

.END LITERAL
.INDEX TRIGRID>FILE TYPES 
.INDEX TRIGRID>INPUT>FILE TYPES 
.INDEX TRIGRID>FILE TYPES > input
.BLANK 2
^^^*----------------------------------------------------------------------\*
.HL 3 ^^^*TRIGRID input files\*

.LM +10
.P 0; TRIGRID expects as input the binary structured data files (the matched
pair of _.NOD and _.DTA files) produced by TRIANG or TRIEDIT. It also needs
the slope derivative (_.DER) file produced by TRIDER. All three files must
share the same generic filename and must have the same version number. The
single TRIGRID FILEIN command supplies a file-spec which is used as a generic
file-spec for all three input (_.NOD, _.DTA and _.DER) files. 

.P 0;Any parts missing from the generic file-specification are taken from the
defaults SYS$DISK:[]_.DTA;0 and  SYS$DISK:[]_.NOD;0. 

.P 0;Since it is essential that the file version numbers of the _.NOD, _.DTA 
and _.DER file always match, TRIGRID performs checks on file version numbers.
If mismatches are found, TRIGRID complains and aborts execution. 

.P 0;Never use the VAX/VMS RENAME or COPY commands to alter the version numbers
of _.NOD, _.DTA files or _.DER files to make them into a matched set.  TRIDER
will have to be re-run every time that the _.NOD and _.DTA files are modified
using TRIEDIT. 

.P 0;The output files from TRIANG, TRIEDIT and TRIDER will be scaled to lie
between 0 and the value defined by logical, LSL$DTMCREATE__RESOLUTION, or
300000 if the logical is not defined. The valid range for this resolution is
between 300000 and 10000000.

.P 0;TRIGRID uses this logical value to determine the internal resolution of
the _.NOD, _.DTA and _.DER files.

.NOTE IMPORTANT
It is therefore essential that the logical value LSL$DTMCREATE__RESOLUTION
remains the same when going from TRIANG all the way through to TRIGRID on a
particular dataset. If the resolution is altered between any of the stages,
unpredictable results will occur and programs may fail.
.END NOTE

.INDEX TRIGRID>FILE TYPES 
.INDEX TRIGRID>OUTPUT>FILE TYPES 
.INDEX TRIGRID>FILE TYPES > output
.BLANK 2
.LM -10
.TP 10
^^^*----------------------------------------------------------------------\*
.HL 3 ^^^*TRIGRID output files\*
.LM +10
.P 0;TRIGRID generates output files in DTI (Digital Terrain Image) format,
(for a description of DTI format see the MATRIX Reference Manual). TRIGRID
offers the choice of output of 3 DTI data types:
.LIST "o"
.LE ;WORD
.LE ;LONGWORD
.LE ;REAL
.END LIST 
.P 0;These may be set using the DATA__TYPE command.
.P 0;By default a DTI file of data type WORD is generated.

.P 0;TRIGRID also offers the user a choice of 3 DTI header types:
.LIST "o"
.LE ;TED4
.LE ;UHL1
.LE ;LSLA
.END LIST 

.P 0;By default the DTI file is given the LSLA type header.

.P 0;If a set type 2 IFF MD (Map Descriptor) or a set DTI file projection record
were available in the first file read into TRIANG using a FILEIN command,
TRIANG puts this information into the _.NOD and _.DTA files. If TRIGRID is
creating a DTI file with an LSLA type header this projection information is
copied from the _.DTA amd _.NOD files into the TRIGRID DTI file header after
appropriate modifications of extent, origin and gridstep. 

.P 0;The output DTI file header type may be set using the HEADER__TYPE command.

.P 0;For details of the characteristics of the different DTI
file header types see the Matrix Reference Manual. For information
about which of the header characteristics are set by TRIGRID see the
HEADER__TYPE command below.
.TP 8
.BLANK 2
.LM -10
.P 0
^*--------------------------------------------------------------------------------\*
.HL 2 ^^^*TRIGRID graphics output option\*

.LM +10
.P 0;TRIGRID offers the user graphics output of the type offered by TRIANG and
TRIDER. The convoluted process of grid height estimation may be observed! The
graphics option is a useful aid for instruction or for the analysis 
of troublesome data sets. 




.BLANK

.!******************************************************************************
.!*** Commands                                                                     ***
.!******************************************************************************
.LEFT MARGIN -10
^^^*--------------------------------------------------------------------------------\*
.PAGE
.SUBTITLE
.FIGURE 5
.STYLE HEADERS ,,,,1
.HL 2 ^^^*TRIGRID_ commands\*
.STYLE HEADERS ,,,,7

.!******************************************************************************
.PAGE
.SUBTITLE _@ command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*_@\*
.INDEX TRIGRID> commands> _@
.INDEX TRIGRID> _@ command

.LEFT MARGIN +8
.P0; Take command input from the specified file.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######_@file-spec_<CR_>\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;file-spec
.P 0;The file to be opened and used for command input.

.P 0;Any parts of the file-spec not supplied for the @ command will be 
taken from the default specification 'SYS$DISK:[].COM;0'.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P0; TRIGRID offers the facility of command input from an indirect command file.
The '@' character preceding a file-spec will cause TRIGRID to open and read
commands from the specified file until:
.LIST
.LE ;a RETURN command is detected and command input is returned to SYS$COMMAND.
.LE ;a GO command is detected - after completion of grid generation 
TRIGRID exits.
.LE ;end-of-file is detected. This provokes an error message and command input
is returned to SYS$COMMAND. 
.END LIST 

.P 0;Nested command files are not supported (i.e. a command file containing an
'@' command), although sequential '@' commands are supported when read from
SYS$COMMAND.

.P 0;As an aid to batch log interpretation TRIGRID will echo all commands read
from an indirect command file. 
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following messages are specific to the _@ command:

.P 0;_*_*_*_ WARNING_ _*_*_*_ "@" must precede a file-spec
.BL;_*_*_*_ WARNING_ _*_*_*_ Indirect file error - returning to terminal input
.BL;_*_*_*_ ERROR_ _*_*_*_ Can't open indirect command file 'file-spec'


.TEST PAGE 8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;$ ^*TRIGRID_<CR_>\*
.BR;DTMCREATE module TRIGRID of 16:30:12  20-NOV-87
.BR;TRIGRID> ^*@FLOW2_<CR_>\*
.BR;TRIGRID> ENABLE DIAGNOSTICS
.BR;TRIGRID> ENABLE GRAPHICS
.BR;TRIGRID> RETURN
.BR;TRIGRID>


.!******************************************************************************
.PAGE
.SUBTITLE _! command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*_!\*
.INDEX TRIGRID> commands> _!
.INDEX TRIGRID> _! command

.LEFT MARGIN +8
.P0; Treat all text to the right of the '!' as a comment.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######_! [comment text]

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;comment text
.P0; text that is to be treated as a comment and which will be excluded from
command interpretation.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P0;An exclamation mark is the standard DTMCREATE package comment delimiter. All
text (and numbers) which lie to the right of a '!' character are excluded from 
command interpretation. Comments are useful for annotating command procedures
used in batch processing etc_.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;TRIGRID> ^*_! a comment for the sake of it_<CR_>\*
.BR;TRIGRID> ^*ENABLE GRAPHICS ! turn graphics on_<CR_>\*
.BR;TRIGRID> 

.!******************************************************************************
.PAGE
.SUBTITLE DATA__TYPE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DATA__TYPE\*
.INDEX TRIGRID> commands> DATA__TYPE
.INDEX TRIGRID> DATA__TYPE command

.LEFT MARGIN +8
.FILL
.P 0;The DATA__TYPE command specifies the data type of the posts in the
output DTI file.
.NO FILL
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######DATA__TYPE##type\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*
.FILL
.P 0;type
.LM +8
.P 0;A data type keyword chosen from:
.LIST "o"
.LE ;WORD - generate 16 bit integer DTM posts (default)
.LE ;LONGWORD - generate 32 bit integer DTM posts
.LE ;REAL - generate 32 bit real (floating point) DTM posts
.END LIST 
.LM -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;The DATA__TYPE allows the user to specify the data type of the
output DTI file which contains the DTM grid.

.P 0;By default TRIGRID generates a 'MIKE' type DTI file having WORD
(16 bit integer) post values.

.P 0;When choosing the data type of the DTI file, consideration must
be given to the Z range of the data to be output. TRIEDIT will
output the DTMCREATE default null value (-32767) if data
underflow or overflow occurs when writing to the DTI file.

.P 0;Consideration must also be given to the nature of the output
DTM. Remember that integer DTI data types (WORD and LONGWORD) 
quantise the Z data values. By default Z values are truncated to
the next lower integer value. If the NINT option is enabled, Z values
in integer DTI files are rounded to the nearest whole integer.
.NO FILL
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.NO FILL
.BR;^*Examples:\*
.BLANK
.BR;TRIGRID> ^*DATA__TYPE REAL_<CR_>\*
.BR;TRIGRID> ^*SHOW DATA__TYPE_<CR_>\*
.BR;DTI data type ....................................... REAL
.BR;TRIGRID>
.FILL
.!******************************************************************************
.PAGE
.SUBTITLE DISABLE AUTO__LIMITS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DISABLE AUTO__LIMITS \*
.INDEX TRIGRID> commands> DISABLE AUTO__LIMITS 
.INDEX TRIGRID> DISABLE AUTO__LIMITS command

.LEFT MARGIN +8
.P 0;Disables a previous ENABLE AUTO__LIMITS command. 

.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######DISABLE AUTO__LIMITS \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;DISABLE AUTO__LIMITS allows the user to cancel the effect of a previous 
ENABLE AUTO__LIMITS command.

.P 0;When the AUTO__LIMITS option is active, TRIGRID applies interpolation
limits based on the feature flag information attached to each node in the 
triangulation. It is then impossible, for example, for a grid height to be
set below the height of a triangle vertex that is flagged as being part 
of a river string.

.P 0;By default, the AUTO__LIMITS option is enabled during program startup.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.NO FILL
.BLANK
.BR;TRIGRID> ^*ENABLE AUTO__LIMITS_<CR_>\*
.BR;TRIGRID> ^*SHOW ENABLE_<CR_>\*
AUTO__LIMITS ......................................... On
DIAGNOSTICS ......................................... Off
GRAPHICS ............................................ Off
SMOOTH .............................................. On
(Smooth patch interpolation)
NINT ................................................ On
ORTHOGONAL .......................................... Off
TRACE ............................................... Off
.BR;TRIGRID>
.FILL
.!******************************************************************************
.PAGE
.SUBTITLE DISABLE DEBUG command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DISABLE DEBUG\*
.INDEX TRIGRID> commands> DISABLE DEBUG
.INDEX TRIGRID> DISABLE DEBUG command

.LEFT MARGIN +8
.P 0;Disables a previous ENABLE DEBUG command. 

.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######DISABLE DEBUG\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;DISABLE DEBUG allows the user to cancel the effect of a previous 
ENABLE DEBUG command.

.P 0;When the DEBUG option is active, TRIGRID produces copious debugging
information. The DEBUG option is reserved for use by Laser-Scan personnel. 

.P 0;By default, the DEBUG option is disabled during program startup.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.NO FILL
.BLANK
.BR;TRIGRID> ^*ENABLE DEBUG_<CR_>\*
.BR;TRIGRID>
.FILL



.!******************************************************************************
.PAGE
.SUBTITLE DISABLE DIAGNOSTICS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DISABLE DIAGNOSTICS\*
.INDEX TRIGRID> commands> DISABLE DIAGNOSTICS
.INDEX TRIGRID> DISABLE DIAGNOSTICS command

.LEFT MARGIN +8
.P 0;Disables a previous ENABLE DIAGNOSTICS command. 

.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######DISABLE DIAGNOSTICS \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;DISABLE DIAGNOSTICS allows the user to cancel the effect of a previous 
ENABLE DIAGNOSTICS command.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.NO FILL
.BLANK
.BR;TRIGRID> ^*ENABLE DIAGNOSTICS_<CR_>\*
.BR;TRIGRID> ^*SHOW ENABLE_<CR_>\*
AUTO__LIMITS ......................................... On
DIAGNOSTICS ......................................... On
GRAPHICS ............................................ Off
SMOOTH .............................................. On
(Smooth patch interpolation)
NINT ................................................ On
ORTHOGONAL .......................................... Off
TRACE ............................................... Off
.BR;TRIGRID>
.FILL




.!******************************************************************************
.PAGE
.SUBTITLE DISABLE GRAPHICS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DISABLE GRAPHICS\*
.INDEX TRIGRID> commands> DISABLE GRAPHICS
.INDEX TRIGRID> DISABLE GRAPHICS command

.LEFT MARGIN +8
.P 0;Disables any previous ENABLE GRAPHICS command.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######DISABLE GRAPHICS\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameter:\*_ None.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P 0;The DISABLE GRAPHICS command cancels the effect of a previous ENABLE
GRAPHICS command. 

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.NO FILL
.BR;$ ^*TRIGRID_<CR_>\*
.BR;DTMCREATE module TRIGRID of 13:30:39  20-AUG-87
.BR;TRIGRID> ^*SHOW ENABLE_<CR_>\*
AUTO__LIMITS ......................................... On
DIAGNOSTICS ......................................... Off
GRAPHICS ............................................ Off
SMOOTH .............................................. On
(Smooth patch interpolation)
NINT ................................................ On
ORTHOGONAL .......................................... Off
TRACE ............................................... Off
.BR;TRIGRID> ^*ENABLE GRAPHICS_<CR_>\*
.BR;TRIGRID> ^*SHOW ENABLE_<CR_>\*
AUTO__LIMITS ......................................... On
DIAGNOSTICS ......................................... Off
GRAPHICS ............................................ On
SMOOTH .............................................. On
(Smooth patch interpolation)
NINT ................................................ On
ORTHOGONAL .......................................... Off
TRACE ............................................... Off
.BR;TRIGRID> ^*DISABLE GRAPHICS_<CR_>\*
.BR;TRIGRID> ^*SHOW ENABLE_<CR_>\*
AUTO__LIMITS ......................................... On
DIAGNOSTICS ......................................... Off
GRAPHICS ............................................ Off
SMOOTH .............................................. On
(Smooth patch interpolation)
NINT ................................................ On
ORTHOGONAL .......................................... Off
TRACE ............................................... Off
.BR;TRIGRID>
.FILL

.!******************************************************************************
.PAGE
.SUBTITLE DISABLE NINT command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DISABLE NINT \*
.INDEX TRIGRID> commands> DISABLE NINT 
.INDEX TRIGRID> DISABLE NINT command

.LEFT MARGIN +8
.P 0;Disables a previous ENABLE NINT command. 

.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######DISABLE NINT \*
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;DISABLE NINT allows the user to cancel the effect of a previous 
ENABLE NINT command.

.P 0;When output is directed to a word or longword DTI file it is necessary to
convert the real height value interpolated within TRIGRID to an integer value.
This conversion is normally done using the FORTRAN NINT intrinsic function
(round to nearest integer). However, some customers prefer to use integer
truncation (FORTRAN INT intrinsic function).

.P 0;The ENABLE NINT and DISABLE NINT commands allow the user to specify which
of these two functions is to be used, i.e. 
.LITERAL

	ENABLE NINT - use NINT, round to nearest integer value (Default) 
	DISABLE NINT - use INT, truncate to integer value
.END LITERAL
.P 0;By default, the NINT option is enabled during program startup.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.NO FILL
.BLANK
.BR;TRIGRID> ^*ENABLE NINT_<CR_>\*
.BR;TRIGRID> ^*SHOW ENABLE_<CR_>\*
AUTO__LIMITS ......................................... On
DIAGNOSTICS ......................................... Off
GRAPHICS ............................................ Off
SMOOTH .............................................. On
(Smooth patch interpolation)
NINT ................................................ On
ORTHOGONAL .......................................... Off
TRACE ............................................... Off
.BR;TRIGRID>
.FILL

.!******************************************************************************
.PAGE
.SUBTITLE DISABLE ORTHOGONAL command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DISABLE ORTHOGONAL \*
.INDEX TRIGRID> commands> DISABLE ORTHOGONAL 
.INDEX TRIGRID> DISABLE ORTHOGONAL command

.LEFT MARGIN +8
.P 0;Disables a previous ENABLE ORTHOGONAL command. 

.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######DISABLE ORTHOGONAL \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;DISABLE ORTHOGONAL allows the user to cancel the effect of a previous 
ENABLE ORTHOGONAL command.

.P 0;When the ORTHOGONAL option is active, individual triangle 
interpolation under-shoot and over-shoot limits are applied orthogonal
to the triangle facet plane. The default action is to apply the limits
vertically regardless of the slope of the triangle facet plane.
ENABLE ORTHOGONAL is not recommended for use with data sets which have
regularly spaced contours of regular interval but will be beneficial if
the contour data have an irregular interval and have irregular spacing. 

.P 0;By default, the ORTHOGONAL option is disabled during program startup.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.NO FILL
.BR;TRIGRID> ^*ENABLE ORTHOGONAL_<CR_>\*
.BR;TRIGRID> ^*SHOW ENABLE_<CR_>\*
AUTO__LIMITS ......................................... On
DIAGNOSTICS ......................................... Off
GRAPHICS ............................................ Off
SMOOTH .............................................. On
(Smooth patch interpolation)
NINT ................................................ On
ORTHOGONAL .......................................... Off
TRACE ............................................... Off
.BR;TRIGRID>
.FILL


.!******************************************************************************
.PAGE
.SUBTITLE DISABLE PME command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DISABLE PME\*
.INDEX TRIGRID> commands> DISABLE PME
.INDEX TRIGRID> DISABLE PME command

.LEFT MARGIN +8
.P0;DISABLE PME disables the effect of a previous ENABLE PME command.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######DISABLE PME \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P0;The ENABLE PME and DISABLE PME commands are reserved for Laser-Scan use.
PME is a code optimisation tool and should be invoked by LSL software personnel
only. 

.P0;DISABLE PME disables the effect of a previous ENABLE PME command and
causes the PME__EXIT routine to be invoked.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Message:\*

.P 0;The following warning message is specific to the DISABLE PME command:

.P 0;_*_*_* WARNING _*_*_* You were not using PME anyway!

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;$ ^*TRIGRID_<CR_>\*
.BR;DTMCREATE module TRIGRID of 13:30:39  20-AUG-87
.BR;TRIGRID> ^*ENABLE PME ! turn PME on_<CR_>\*
.BR;TRIGRID> ^*DISABLE PME ! turn it off again!!_<CR_>\*
.BR;TRIGRID> 


.!******************************************************************************
.PAGE
.SUBTITLE DISABLE SMOOTH command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DISABLE SMOOTH \*
.INDEX TRIGRID> commands> DISABLE SMOOTH 
.INDEX TRIGRID> DISABLE SMOOTH command

.LEFT MARGIN +8
.P 0;Disables a previous ENABLE SMOOTH command. 

.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######DISABLE SMOOTH \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;DISABLE SMOOTH allows the user to cancel the effect of a previous 
ENABLE SMOOTH command.

.P 0;By default, the SMOOTH option is enabled during program startup.

.P 0;The DISABLE SMOOTH command disables grid point estimation by smooth
patches. Grid heights are instead estimated using linear interpolation across
the triangle facet planes. Smooth patch estimation tends to give a more
rounded smooth appearance to a DTM surface than that given by linear facets. 

.P 0;If smooth patch interpolation is selected, individual triangle
interpolation limits are applied. Linear facet interpolation, by
definition, does not need to apply interpolation limits as interpolation
is restricted to the triangle facet plane.

.P 0;For further details of interpolation limits, see the LIMITS,
TRIANGLE__LIMITS and ENABLE AUTO__LIMITS commands. 

.TP 10
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following messages are specific to the DISABLE SMOOTH command:

.LITERAL

*** WARNING *** Linear facet interpolation selected. No smooth patch
                interpolation limits will be applied
                and the ENABLE TRACE command will be ignored

*** WARNING *** Linear facet interpolation selected.
                The ENABLE TRACE command and any smooth patch
                interpolation will be ignored
.END LITERAL
.FILL

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;TRIGRID> ^*DISABLE SMOOTH_<CR_>\*
.LITERAL
*** WARNING *** Linear facet interpolation selected.
                The ENABLE TRACE command and any smooth patch
                interpolation will be ignored

.END LITERAL
.BR;TRIGRID>


.!******************************************************************************
.PAGE
.SUBTITLE DISABLE TRACE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DISABLE TRACE \*
.INDEX TRIGRID> commands> DISABLE TRACE 
.INDEX TRIGRID> DISABLE TRACE command

.LEFT MARGIN +8
.P 0;Disables a previous ENABLE TRACE command. 
.LEFT MARGIN -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######DISABLE TRACE \*

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.FILL
.P 0;DISABLE TRACE allows the user to cancel the effect of a previous 
ENABLE TRACE command.

.P 0;The TRACE option causes TRIGRID to calculate up-hill/down-hill side of line
context for the original data strings input to (and optionally constrained) in
TRIANG. These up-hill/down-hill data are then used to apply further
interpolation limits to each individual triangle. These additional limits
ensure that triangles whose vertices indicate a flat plane do bulge in the
correct direction relative to surrounding hill slopes even when the slope
derivatives estimated for the triangle vertices conflict due to complex
surrounding relief. 

.P 0;It is strongly recommended that the trace option is
selected, particularly if the resulting DTM is to be re-contoured. 

.P 0;By default, the TRACE option is disabled during program startup.
.NO FILL
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;TRIGRID> ^*ENABLE TRACE_<CR_>\*
.BR;TRIGRID> ^*SHOW ENABLE_<CR_>\*
AUTO__LIMITS ......................................... On
DIAGNOSTICS ......................................... Off
GRAPHICS ............................................ Off
SMOOTH .............................................. On
(Smooth patch interpolation)
NINT ................................................ On
ORTHOGONAL .......................................... Off
TRACE ............................................... Off
.BR;TRIGRID>



.!******************************************************************************
.PAGE
.SUBTITLE ENABLE AUTO__LIMITS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*ENABLE AUTO__LIMITS \*
.INDEX TRIGRID> commands> ENABLE AUTO__LIMITS 
.INDEX TRIGRID> ENABLE AUTO__LIMITS command

.LEFT MARGIN +8
.P 0;Enables the application of automatic limits to grid interpolation. 

.LEFT MARGIN -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######ENABLE AUTO__LIMITS \*

^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.FILL
.P 0;ENABLE AUTO__LIMITS enables the user to activate the application of
automatic limits to grid interpolation. 
.P 0;When the AUTO__LIMITS option is active, TRIGRID applies interpolation
limits based on the feature flag information attached to each node in the 
triangulation. It is then impossible, for example, for a grid height to be
set below the height of a triangle vertex that is flagged as being part 
of a river string.

.P 0;By default, the AUTO__LIMITS option is enabled during program startup.

.P 0;The AUTO__LIMITS option may be cancelled by the DISABLE AUTO__LIMITS 
command.
.NO FILL
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;TRIGRID> ^*ENABLE AUTO__LIMITS_<CR_>\*
.BR;TRIGRID>

.!******************************************************************************
.PAGE
.SUBTITLE ENABLE DEBUG command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*ENABLE DEBUG\*
.INDEX TRIGRID> commands> ENABLE DEBUG
.INDEX TRIGRID> ENABLE DEBUG command

.LEFT MARGIN +8
.P 0;Enables output of debug information. The ENABLE DEBUG command is reserved
for use by Laser-Scan personnel.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######ENABLE DEBUG\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.FILL
.P 0;When the DEBUG option is active, TRIGRID produces copious debugging
information. The DEBUG option is reserved for use by Laser-Scan personnel. 

.P 0;By default, the DEBUG option is disabled during program startup.
.NO FILL
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BLANK
.BR;TRIGRID> ^*ENABLE DEBUG_<CR_>\*
.BR;TRIGRID>




.!******************************************************************************
.PAGE
.SUBTITLE ENABLE DIAGNOSTICS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*ENABLE DIAGNOSTICS\*
.INDEX TRIGRID> commands> ENABLE DIAGNOSTICS
.INDEX TRIGRID> ENABLE DIAGNOSTICS command

.LEFT MARGIN +8
.P 0;ENABLE DIAGNOSTICS allows the user to enable diagnostic printout.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######ENABLE DIAGNOSTICS \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.FILL
.P 0;ENABLE DIAGNOSTICS allows the user to enable diagnostic printout.

.P0; Because it is usually used in a batch processing environment, by default
TRIGRID produces minimal diagnostic printout. If however, the user wishes to
receive indications of processing progress and of the effect of selections on
data input, diagnostic printout may be selected with the ENABLE DIAGNOSTICS 
command.

.P 0;On a heavily loaded computer it may be reassuring to ENABLE DIAGNOSTICS
to indicate progress through the data set. If SYS$OUTPUT is directed to a
video screen terminal, messages indicating percentage progress are issued. 
.NO FILL
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.NO FILL
.BLANK
.BR;TRIGRID> ^*ENABLE DIAGNOSTICS_<CR_>\*
.BR;TRIGRID> ^*SHOW ENABLE_<CR_>\*
AUTO__LIMITS ......................................... On
DIAGNOSTICS ......................................... On
GRAPHICS ............................................ Off
SMOOTH .............................................. On
(Smooth patch interpolation)
NINT ................................................ On
ORTHOGONAL .......................................... Off
TRACE ............................................... Off
.BR;TRIGRID>
.FILL



.!******************************************************************************
.PAGE
.SUBTITLE ENABLE GRAPHICS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*ENABLE GRAPHICS\*
.INDEX TRIGRID> commands> ENABLE GRAPHICS
.INDEX TRIGRID> ENABLE GRAPHICS command

.LEFT MARGIN +8
.P0; Enable TRIGRID graphics output.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######ENABLE GRAPHICS\*
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:#None.\*
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.FILL
.P0; TRIGRID offers the option to generate graphic output to indicate
processing progress. By default graphic output is disabled. To
prevent a user selecting graphics when it is inappropriate to the
current terminal, TRIGRID uses a lookup table of terminal characteristics
associated with all available terminal lines (see Appendix 1). An invalid
graphics selection will result in a warning message and the GRAPHICS
option being deselected. 

.P 0;Graphics selection may be cancelled with the DISABLE GRAPHICS command.
.NO FILL
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following messages are specific to the ENABLE GRAPHICS command:
.NO FILL

_*_*_* ERROR  _*_*_*_ reading lookup file at line 'integer'

_*_*_* WARNING _*_*_*_ Unable to open "LSL$LOOKUP:TERMTYPE.DAT"

Sorry 'name' terminal  'terminal-ident' isn't in the lookup table

Sorry 'name' terminal 'terminal-ident' can't support graphics

_*_*_* ERROR  _*_*_*_ translating logical name LSL$DTMCREATETERMINAL
.FILL
.TEST PAGE 8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;$ ^*TRIGRID_<CR_>\*
.BR;DTMCREATE module TRIGRID of 13:30:39  20-AUG-87
.BR;TRIGRID> ^*ENABLE GRAPHICS_<CR_>\*
.BR;TRIGRID>



.!******************************************************************************
.PAGE
.SUBTITLE ENABLE NINT command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*ENABLE NINT \*
.INDEX TRIGRID> commands> ENABLE NINT 
.INDEX TRIGRID> ENABLE NINT command
.FILL
.LEFT MARGIN +8
.P 0;Enable rounding of grid z-values to the nearest integer, i_.e_. used for
word and longword DTI data types. 
.LEFT MARGIN -8
.NO FILL
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######ENABLE NINT \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.FILL
.P 0;When output is directed to a word or longword DTI file it is necessary to
convert the real height value interpolated within TRIGRID to an integer value.
This conversion is normally done using the FORTRAN NINT intrinsic function
(round to nearest integer). However, some customers prefer to use integer
truncation (FORTRAN INT intrinsic function).

.P 0;The ENABLE NINT and DISABLE NINT commands allow the user to specify which
of these two functions is to be used, i.e. 

.LITERAL

	ENABLE NINT - use NINT, round to nearest integer value (Default) 
	DISABLE NINT - use INT, truncate to integer value

.END LITERAL

.P 0;By default, the NINT option is enabled during program startup.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.NO FILL
.BLANK
.BR;TRIGRID> ^*ENABLE NINT_<CR_>\*
.BR;TRIGRID> ^*SHOW ENABLE_<CR_>\*
AUTO__LIMITS ......................................... On
DIAGNOSTICS ......................................... Off
GRAPHICS ............................................ Off
SMOOTH .............................................. On
(Smooth patch interpolation)
NINT ................................................ On
ORTHOGONAL .......................................... Off
TRACE ............................................... Off
.BR;TRIGRID>
.FILL

.!******************************************************************************
.PAGE
.SUBTITLE ENABLE ORTHOGONAL command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*ENABLE ORTHOGONAL \*
.INDEX TRIGRID> commands> ENABLE ORTHOGONAL 
.INDEX TRIGRID> ENABLE ORTHOGONAL command

.LEFT MARGIN +8
.P 0;Causes individual triangle interpolation under-shoot and over-shoot
limits to be applied orthogonal to the triangle facet plane.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######ENABLE ORTHOGONAL \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P 0;When the ORTHOGONAL option is active, individual triangle 
interpolation under-shoot and over-shoot limits are applied orthogonal
to the triangle facet plane. The default action is to apply the limits
vertically regardless of the slope of the triangle facet plane.
ENABLE ORTHOGONAL is not recommended for use with data sets which have
regularly spaced contours of regular interval but will be beneficial if
the contour data have an irregular interval and have irregular spacing. 

.P 0;The effect of an ENABLE ORTHOGONAL command may be cancelled with a 
DISABLE ORTHOGONAL command.

.P 0;By default, the ORTHOGONAL option is disabled during program startup.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.NO FILL
.BLANK
.BR;TRIGRID> ^*ENABLE ORTHOGONAL_<CR_>\*
.BR;TRIGRID> ^*SHOW ENABLE_<CR_>\*
AUTO__LIMITS ......................................... On
DIAGNOSTICS ......................................... Off
GRAPHICS ............................................ Off
SMOOTH .............................................. On
(Smooth patch interpolation)
NINT ................................................ On
ORTHOGONAL .......................................... On
TRACE ............................................... Off
.BR;TRIGRID>
.FILL

.!******************************************************************************
.PAGE
.SUBTITLE ENABLE PME command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*ENABLE PME\*
.INDEX TRIGRID> commands> ENABLE PME
.INDEX TRIGRID> ENABLE PME command

.LEFT MARGIN +8
.P0;ENABLE PME enables the PME performance monitor.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######ENABLE PME \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P0; The ENABLE PME and DISABLE PME commands are reserved for Laser-Scan use.
PME is a code optimisation tool and should be invoked by LSL software personnel
only. 

.P0;ENABLE PME causes the PME__INIT routine to be invoked.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Message:\*

.P 0;The following warning message is specific to the ENABLE PME command:

.P 0;_*_*_* WARNING _*_*_* You are already using PME!

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;$ ^*TRIGRID_<CR_>\*
.BR;DTMCREATE module TRIGRID of 13:30:39  20-AUG-87
.BR;TRIGRID> ^*ENABLE PME_<CR_>\*
.BR;TRIGRID> ^*FILEIN DUA3:[DEMONSTRATION]IDAHO_<CR_>\*
.BR;_.DTA file DUA3:[DEMONSTRATION]IDAHO_.DTA;15 opened for read
.BR;_.NOD file DUA3:[DEMONSTRATION]IDAHO_.NOD;15 opened for read
.BR;_.DER file DUA3:[DEMONSTRATION]IDAHO_.DER;15 opened for read
.BR;TRIGRID> 


.!******************************************************************************
.PAGE
.SUBTITLE ENABLE SMOOTH command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*ENABLE SMOOTH \*
.INDEX TRIGRID> commands> ENABLE SMOOTH 
.INDEX TRIGRID> ENABLE SMOOTH command

.LEFT MARGIN +8
.P 0;Enables grid point estimation by smooth patches. 
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######ENABLE SMOOTH \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P 0;The ENABLE SMOOTH command enables grid point estimation by smooth
patches. Smooth patch estimation tends to give a more
rounded smooth appearance to a DTM surface than that given by linear facets. 

.P 0;By default, the SMOOTH option is enabled during program startup.

.P 0;If smooth patch interpolation is selected, individual triangle
interpolation limits are applied. Linear facet interpolation, by
definition, does not need to apply interpolation limits as interpolation
is restricted to the triangle facet plane.

.P 0;The DISABLE SMOOTH command disables grid point estimation by smooth
patches. Grid heights are instead estimated using linear interpolation across
the triangle facet planes. 

.P 0;For further details of interpolation limits, see the LIMITS,
TRIANGLE__LIMITS and ENABLE AUTO__LIMITS commands. 

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;TRIGRID> ^*ENABLE SMOOTH_<CR_>\*
.BR;TRIGRID>


.!******************************************************************************
.PAGE
.SUBTITLE ENABLE TRACE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*ENABLE TRACE \*
.INDEX TRIGRID> commands> ENABLE TRACE 
.INDEX TRIGRID> ENABLE TRACE command

.LEFT MARGIN +8
.P 0;Causes calculation of up-hill/down-hill side of line context for the
original data strings input to (and optionally constrained) in TRIANG or
modified in TRIEDIT. 
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######ENABLE TRACE \*
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P 0;The TRACE option causes TRIGRID to calculate up-hill/down-hill side of line
context for the original data strings input to (and optionally constrained) in
TRIANG. These up-hill/down-hill data are then used to apply further
interpolation limits to each individual triangle. These additional limits
ensure that triangles whose vertices indicate a flat plane do bulge in the
correct direction relative to surrounding hill slopes even when the slope
derivatives estimated for the triangle vertices conflict due to complex
surrounding relief. 

.P 0;It is strongly recommended that the trace option is
selected, particularly if the resulting DTM is to be re-contoured. 

.P 0;By default, the TRACE option is disabled during program startup.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;TRIGRID> ^*ENABLE TRACE_<CR_>\*
.BR;TRIGRID>



.!******************************************************************************
.PAGE
.SUBTITLE FILEIN command
.INDEX TRIGRID> commands> FILEIN
.INDEX TRIGRID> FILEIN command
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*FILEIN\*

.LEFT MARGIN +8
.P 0;Specifies the generic (_.DTA, _.NOD and _.DER) file-spec that is to be
used for input. 
.LEFT MARGIN -8

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*FORMAT:######FILEIN file-spec
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*COMMAND PARAMETERS:\*
.LEFT MARGIN +8
.P-8;file-spec
.P 0;The generic specification of the _.NOD _.DTA and _.DER files to be opened
for data input. 

.P 0;All components of the supplied file-spec are used to form the input
file specifications but with the substitution of the extensions _.NOD, _.DTA
and _.DER and version number ';0', i.e. latest version (shared by all three
files).

.P 0;The default file-spec used to make up missing parts of the
FILEIN file-spec parameter is dependent on the status of logical name 
LSL$DTMCREATE__WORK.

.P 0;If logical name LSL$DTMCREATE__WORK is defined, DTMCREATE utilities
translate the logical name to get the default file-spec for input and output
of triangulation files. The logical name should be defined to provide
a device and directory name only. The DTMCREATE programs themselves
provide the default filename and extension fields of the specification.
For example, a valid definition of logical name LSL$DTMCREATE__WORK is:
.P 0;_$ DEFINE LSL$DTMCREATE__WORK LSL$DATA__ROOT:[LSL.DTMCREATE]

.P 0;This mechanism allows all DTMCREATE triangulation files to be stored
in a central directory, rather than scattered in many different user 
directories. It thus mimics the use of logical names LSL$IF for IFF files
and LSL$DTI for DTI files.

.P 0;If the logical name is not defined, any parts of the file-spec not
supplied for the FILEIN command will be taken from the defaults
'SYS$DISK:[]_.NOD;0' 'SYS$DISK:[]_.DTA;0' and 'SYS$DISK:[]_.DER;0'. These
defaults result in the files being searched for in your current default
directory, set using the VMS SET DEFAULT or Laser-Scan SD commands. 


.LEFT MARGIN -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;TRIGRID expects as input the 2 binary structured data files (the matched
pair of _.NOD and _.DTA files) produced by TRIANG or TRIEDIT, and
the _.DER file containing the slope derivatives estimated by TRIDER.

.P 0;The TRIGRID input file specification is used as a generic file-spec for
all three input (_.NOD, _.DTA and _.DER) files.

.P 0;Any parts missing from the generic file-specification are taken from the
from the defaults SYS$DISK:[]_.DTA;0 and  SYS$DISK:[]_.NOD;0.

.P 0;Since it is essential that the file version numbers of the _.NOD, _.DTA 
and _.DER file always match, TRIGRID performs checks on file version numbers.
If mismatches are found, TRIGRID complains and aborts execution. 

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P0; The following messages are specific to the FILEIN command:

.P 0;_*_*_*_ WARNING_ _*_*_*_ You must specify a file-spec argument to the FILEIN command
.BR;################For example FILEIN SWAREA_.DTA

.P 0;_*_*_*_ ERROR_ _*_*_*_ Unable to interpret input file-spec
.P 0;_*_*_*_ ERROR_ _*_*_*_ opening input file
.P0;_.DTA file 'file-spec' opened for read
.BR;_.NOD file 'file-spec' opened for read
.BR;_.DER file 'file-spec' opened for read
.FILL

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Examples:\*
.BLANK
.BR;TRIGRID> ^^^*FILEIN DUA3:[DEMONSTRATION]IDAHO_<CR_>\*
.BR;_.DTA file DUA3:[DEMONSTRATION]IDAHO_.DTA;15 opened for read
.BR;_.NOD file DUA3:[DEMONSTRATION]IDAHO_.NOD;15 opened for read
.BR;_.DER file DUA3:[DEMONSTRATION]IDAHO_.DER;15 opened for read
.BR;TRIGRID> 


.!******************************************************************************
.PAGE
.SUBTITLE FILEOUT command
.INDEX TRIGRID> commands> FILEOUT
.INDEX TRIGRID> FILEOUT command
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*FILEOUT\*

.LEFT MARGIN +8
.P 0;Specifies the name of the DTI file to be created and opened for output. 
.LEFT MARGIN -8

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*FORMAT:######FILEOUT file-spec
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*COMMAND PARAMETERS:\*
.LEFT MARGIN +8
.P-8;file-spec
.P 0;The specification of the DTI file to be created and opened for output. 
.P 0;Any parts missing from the file-specification are taken from the
default LSL$DTI:DTI.DTI;0.
.LEFT MARGIN -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.FILL
.P 0;The FILEOUT command is used to specify the DTI file which is
to be created and opened for data output.

.P 0;The DTI file is not actually created and opened until a GO command is 
accepted, as the user may redefine the DTI header type (HEADER__TYPE command)
or the DTI data type (DATA__TYPE command) after issuing the FILEOUT command.

.P 0;By default TRIGRID creates a DTI file having an LSLA type header and word
data type.

.P 0;The characteristics of the output DTI file are determined by the
HEADER__TYPE and DATA__TYPE commands, and its size by combinations
of WINDOW, SIZE or SIDELENGTH commands.

.P 0;If a set type 2 IFF MD (Map Descriptor) or a set DTI file projection record
were available in the first file read into TRIANG using a FILEIN command,
TRIANG puts this information into the _.NOD and _.DTA files. If TRIGRID is
creating a DTI file with an LSLA type header this projection information is
copied from the _.DTA amd _.NOD files into the TRIGRID DTI file header after
appropriate modifications of extent, origin and gridstep. 

.P 0;In contrast, it is left to the user to set DTED DTI file header contents 
using DTEDIFF and MCEHED.
.NO FILL
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P0;The following messages are specific to the FILEOUT command:

.P 0;_*_*_*_ WARNING_ _*_*_*_ You must specify a file-spec argument to the FILEOUT command
.BR;####################For example FILEOUT SWAREA_.DTI
.P 0;_*_*_*_ ERROR_ _*_*_*_ Unable to interpret input file-spec
.FILL

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Examples:\*
.BLANK
.BR;TRIGRID> ^^^*FILEOUT IDAHO_<CR_>\*
.BR;TRIGRID> 



.!******************************************************************************
.PAGE
.SUBTITLE GO command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*GO\*
.INDEX TRIGRID> commands> GO
.INDEX TRIGRID> GO command

.LEFT MARGIN +8
.P0; Initiates the processing of the data read in using the FILEIN command.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######GO\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.FILL
.P0; When all necessary files have been read in the GO command will
cause the DTI file specified with the FILEOUT command to be created and opened.
TRIGRID will then commence the gridding process. Unless relatively small
data-sets are being handled (say less then 50,000 data points) it is strongly
recommended that TRIGRID is run in batch mode at an off-peak time. 

.P 0;When grid creation is complete, TRIGRID closes the output DTI file
and then exits.

.P 0;Before the GO command will be accepted, TRIGRID performs checks that
the following obligatory commands have been issued:
.LITERAL

                1) WINDOW
                2) SIZE (or SIDELENGTH)
                3) FILEIN
                4) FILEOUT
.END LITERAL
.P 0;If one (or more) of these commands has not yet been issued and accepted,
TRIGRID will ignore the GO command and prompt for further commands at the
terminal. 

The SHOW ENABLE command can be used to discover the current command
option settings.

.NO FILL
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.LITERAL
*** WARNING *** The following commands must be given
                before processing can begin:
                1) WINDOW
                2) SIZE (or SIDELENGTH)
                3) FILEIN
                4) FILEOUT
.END LITERAL
.FILL
.P 0;Once the GO command has been accepted no more conversational
messages of the _*_*_* WARNING _*_*_* format will be issued. Any messages
will relate to serious processing problems and will normally result in abnormal
TRIGRID termination. The messages relating to non-interactive processing
problems are presented at the end of this document.
.NO FILL
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;TRIGRID> ^*GO_<CR_>\*

DTI file LSL$DTI:TEST_DTM.DTI opened for write

File    :  LSL$DTI:TEST_DTM.DTI
Header  :  LSLA  Data:  WORD

Units are Metres

Matrix Coverage   SW:       0.00       0.00    NE:     200.00     199.50
Matrix Interval    E:       2.00                N:       1.50
Value Range         :     0   to      0


.P 0; ELAPSED:    0 00:05:21.82  CPU: 0:00:01.40  BUFIO: 51  DIRIO: 15  FAULTS: 170 
.BR;$
.FILL
.!******************************************************************************
.PAGE
.SUBTITLE HEADER__TYPE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*HEADER__TYPE\*
.INDEX TRIGRID> commands> HEADER__TYPE
.INDEX TRIGRID> HEADER__TYPE command

.LEFT MARGIN +8
.P 0;The HEADER__TYPE command specifies the header type of the output DTI file.

.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######HEADER__TYPE##type\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*
.FILL
.P 0;type
.LM +8
.P 0;A DTI header type keyword chosen from:
.LIST "o"
.LE ;TED4 - generate a TED4 type DTI
.LE ;UHL1 - generate a UHL1 type DTI
.LE ;LSLA - generate a LSLA type DTI
.END LIST 
.LM -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;The HEADER__TYPE allows the user to specify the header type of the
output DTI file which contains the DTM grid.

.P 0;By default TRIGRID generates a 'LSLA' type DTI file having WORD
(16 bit integer) post values.

.P 0;For a detailed description of the layout and content of DTI file header
types see the DTILIB section of the MATRIX Reference Manual.

.P 0;The default LSLA type DTI header contains only the
matrix X and Y extent, Z range and the X and Y grid interval.

.P 0;Due to the general purpose nature of TRIGRID it is not possible to
collect from the user, and validate, all the complex information required to
complete a military TED4 or UHL1 DTI header. Instead TRIGRID
puts into a TED4 or UHL1 header the same information as for a LSLA type
DTI. If output is to a TED4 type DTI file, the Latitude and Longitude
origin and the Latitude and Longitude bounding rectangle values are inserted
into the DSI record. These values are taken from the WINDOW command
arguments. It is assumed that the triangulation units are tenths of
seconds of arc.

.P 0;The user is left to use the MATRIX package utility DTIPATCH to
set up missing information.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.
.TP 8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;TRIGRID> ^*HEADER__TYPE TED4_<CR_>\*
.BR;TRIGRID>


.!******************************************************************************
.PAGE
.SUBTITLE HELP command
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*HELP\*
.INDEX TRIDER> commands> HELP
.INDEX TRIDER> HELP command

.LEFT MARGIN +8
.P0; Give help on a subject
.LEFT MARGIN -8

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*FORMAT:######HELP subject\*


.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Command parameters:\*

.LEFT MARGIN +8
.P-8;subject
.P0; The subject on which help is required
.LEFT MARGIN -8

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Description:\*
.P0; The HELP command looks the rest of the line up in the DTMCREATE HELP
library. This library contains a brief summary of the operation of each
command. 

.P0; The information is looked up in the TRIGRID section of the DTMCREATE help
library, LSL$HELP:DTMCREATE.HLB.


.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P 0;Where required, warning messages are output via the VMS LBR$OUTPUT__HELP
utility.

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Examples:\*
.BLANK
.BR;TRIGRID> ^^^*HELP RETURN_<CR_>\*

.P0;RETURN
.LEFT MARGIN +3
.P 0;Restores command input from an indirect file to SYS$COMMAND.

.P 0;A typical application is to allow the user to use an indirect command file
to set up those run time defaults which are constant within a flowline and then
return to input from the terminal (or batch stream) for the run specific
commands. To do this RETURN must be the last command in the indirect command
file. 

.LEFT MARGIN -3
.P 0;TRIGRID> 


.!******************************************************************************
.PAGE
.SUBTITLE PAUSE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*PAUSE\*
.INDEX TRIGRID> commands> PAUSE
.INDEX TRIGRID> PAUSE command

.LEFT MARGIN +8
.P0; Pauses TRIGRID execution.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######PAUSE \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P0; Pauses TRIGRID execution and issues a prompt for a carriage return to
continue execution. This command is designed for use in software demonstration
situations.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;TRIGRID> ^*PAUSE_<CR_>\*
.BLANK
.BLANK
.BR;Press <RETURN> to continue^*_<CR_>\*
.BR;TRIGRID> 






.!******************************************************************************
.PAGE
.SUBTITLE QUIT command
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*QUIT\*
.INDEX TRIGRID> commands> QUIT
.INDEX TRIGRID> QUIT command

.LEFT MARGIN +8
.P0; Quit from TRIGRID.
.LEFT MARGIN -8

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*FORMAT:######QUIT\*

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Command parameters:\*#None.

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Description:\*
.P0; The QUIT command causes TRIGRID to exit immediately, closing all input 
files and closing and deleting all output files. 

.P0; <CTRL/Z> (pressing the Ctrl and Z keys together) may also be used
to quit from the program.

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*#None.

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Examples:\*

.P0;TRIGRID_> ^^^*QUIT_<CR_>\*
.BR;#ELAPSED: 00:05:25.84  CPU: 0:00:05.71  BUFIO: 281  DIRIO: 46  FAULTS: 263 
.BR;_$


.!******************************************************************************
.PAGE
.SUBTITLE RETURN command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*RETURN\*
.INDEX TRIGRID> commands> RETURN
.INDEX TRIGRID> RETURN command

.LEFT MARGIN +8
.P0; Restores command input from an indirect file to SYS$COMMAND.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######RETURN \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;Restores command input from an indirect file to SYS$COMMAND.
.P 0;A typical application is to allow the user to use an indirect command file
to set up those run time defaults which are constant within a flowline and then
return to input from the terminal (or batch stream) for the run specific
commands. To do this RETURN must be the last command in the indirect command
file. 

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following messages are specific to the RETURN command:
.P 0;RETURN command detected - returning to terminal input
.P 0;RETURN command ignored - command input is already from terminal

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;TRIGRID> ^*@FLOW2_<CR_>\*
.BR;TRIGRID> ENABLE DIAGNOSTICS
.BR;TRIGRID> RETURN
.BR;TRIGRID>


.!******************************************************************************
.PAGE
.SUBTITLE SHOW command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW\*
.INDEX TRIGRID> commands> SHOW
.INDEX TRIGRID> SHOW command

.LEFT MARGIN +8
.P0; Shows current status of TRIGRID option and parameter settings.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######SHOW subject\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;subject
.P0; The subject that is to be displayed, chosen from:
.NO FILL

DATA__TYPE    ENABLE       FILES    HEADER__TYPE     LIMITS     SIDELENGTH

SIZE         UNITS        WINDOW


.FILL
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P0; SHOW command enables the user to examine the current status of TRIGRID
options and parameter settings. 


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P 0;TRIGRID issues the following message if the SHOW command is specified
without an argument:
.LITERAL

*** ERROR *** Specifying command SHOW

Available SHOW command qualifiers are:

DATA_TYPE    ENABLE       FILES    HEADER_TYPE     LIMITS     SIDELENGTH

SIZE         UNITS        WINDOW

.END LITERAL
.P 0;This feature can be used to advantage if the user wishes to quickly
determine for which items the SHOW facility is available.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.NO FILL
$ ^*TRIGRID_<CR_>\*
.BR;DTMCREATE module TRIGRID of 14:02:31  3-FEB-89
.BR;TRIGRID> ^*SHOW_<CR_>\*
.LITERAL

*** ERROR *** Specifying command SHOW

Available SHOW command qualifiers are:

DATA_TYPE    ENABLE       FILES    HEADER_TYPE     LIMITS     SIDELENGTH

SIZE         UNITS        WINDOW

.END LITERAL
.BR;TRIGRID> ^*SHOW ENABLE ! examine current option settings_<CR_>\*
AUTO__LIMITS ......................................... On
DIAGNOSTICS ......................................... Off
GRAPHICS ............................................ Off
SMOOTH .............................................. On
(Smooth patch interpolation)
NINT ................................................ On
ORTHOGONAL .......................................... Off
TRACE ............................................... Off
.BR;TRIGRID>
.FILL

.!******************************************************************************
.PAGE
.SUBTITLE SHOW DATA__TYPE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW DATA__TYPE\*
.INDEX TRIGRID> commands> SHOW DATA__TYPE
.INDEX TRIGRID> SHOW DATA__TYPEcommand

.LEFT MARGIN +8
.P0;SHOW DATA__TYPE enables the user to examine the current setting for
the DATA__TYPE command.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######SHOW DATA__TYPE\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P0;SHOW DATA__TYPE enables the user to examine the current setting for
the DATA__TYPE command. This determines the data type of the output DTI file.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.NO FILL
$ ^*TRIGRID_<CR_>\*
DTMCREATE module TRIGRID of 17:02:12 23-JAN-89
.BR;TRIGRID> ^*SHOW DATA__TYPE ! examine current data__type settings_<CR_>\*
.BR;DTI data type ....................................... WORD
.BR;TRIGRID>
.FILL
.!******************************************************************************
.PAGE
.SUBTITLE SHOW ENABLE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW ENABLE\*
.INDEX TRIGRID> commands> SHOW ENABLE
.INDEX TRIGRID> SHOW ENABLE command

.LEFT MARGIN +8
.P0; Shows current status of TRIGRID option settings.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######SHOW ENABLE\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P0;SHOW ENABLE enables the user to examine the current status of TRIGRID
processing options that are set or unset using the ENABLE and DISABLE commands.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.NO FILL
$ ^*TRIGRID_<CR_>\*
DTMCREATE module TRIGRID of 17:02:12 23-JAN-89
.BR;TRIGRID> ^*SHOW ENABLE ! examine current option settings_<CR_>\*
.BR;TRIGRID>
.FILL

.!******************************************************************************
.PAGE
.SUBTITLE SHOW FILES command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW FILES\*
.INDEX TRIGRID> commands> SHOW FILES
.INDEX TRIGRID> SHOW FILES command

.LEFT MARGIN +8
.P0; Shows current TRIGRID input and output files.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######SHOW FILES\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P0;SHOW FILES enables the user to examine the current status of TRIGRID
input files.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.NO FILL
$ ^*TRIGRID_<CR_>\*
DTMCREATE module TRIGRID of 17:02:12 23-JAN-89
.BR;TRIGRID> ^*SHOW FILES ! examine files_<CR_>\*

Input files:
The input files are undefined

Output file:
The DTI output file is undefined

.BR;TRIGRID> ^*FILEOUT EXAMPLE ! open output DTI file_<CR_>\*
.BR;TRIGRID> ^*SHOW FILES ! examine input file-specs_<CR_>\*

Input files:
The input files are undefined

Output file:
             LSL$DATA_ROOT:[LSL.DTI]EXAMPLE.DTI;0
             (DTI file window or size are currently undefined)

.BR;TRIGRID> ^*FILEIN SW100230 ! get input files_<CR_>\*
.BR;_.DTA file DUA3:[DEMONSTRATION]SW100230_.DTA;6 opened for read
.BR;_.NOD file DUA3:[DEMONSTRATION]SW100230_.NOD;6 opened for read
.BR;_.DER file DUA3:[DEMONSTRATION]SW100230_.DER;6 opened for read
.BR;TRIGRID> ^*SHOW FILES ! examine input file-specs_<CR_>\*

Input files:
.BR;_.DTA file:   DUA3:[DEMONSTRATION]SW100230_.DTA;6
.BR;_.NOD file:   DUA3:[DEMONSTRATION]SW100230_.NOD;6
.BR;_.DER file:   DUA3:[DEMONSTRATION]SW100230_.DER;6

Output file:
             LSL$DATA_ROOT:[LSL.DTI]EXAMPLE.DTI;0
             (DTI file window or size are currently undefined)

.BR;TRIGRID>
.FILL

.!******************************************************************************
.PAGE
.SUBTITLE SHOW HEADER__TYPE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW HEADER__TYPE\*
.INDEX TRIGRID> commands> SHOW HEADER__TYPE
.INDEX TRIGRID> SHOW HEADER__TYPE command

.LEFT MARGIN +8
.P0;SHOW HEADER__TYPE enables the user to examine the current setting for
the HEADER__TYPE command.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######SHOW HEADER__TYPE\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P0;SHOW HEADER__TYPE enables the user to examine the current setting for
the HEADER__TYPE command. This determines the header type of the output DTI
file. 

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.NO FILL
$ ^*TRIGRID_<CR_>\*
DTMCREATE module TRIGRID of 17:02:12 23-JAN-89
.BR;TRIGRID> ^*SHOW HEADER__TYPE ! examine current data__type settings_<CR_>\*
.BR;DTI header type ...................................... LSLA
.BR;TRIGRID>


.!******************************************************************************
.PAGE
.SUBTITLE SHOW LIMITS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW LIMITS\*
.INDEX TRIGRID> commands> SHOW LIMITS
.INDEX TRIGRID> SHOW LIMITS command

.LEFT MARGIN +8
.P0; Shows current status of TRIGRID Z-limits.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######SHOW LIMITS\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P0;SHOW LIMITS enables the user to examine the current status of TRIGRID
Z-limits parameters set using the LIMITS commands.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.NO FILL
$ ^*TRIGRID_<CR_>\*
DTMCREATE module TRIGRID of 17:02:12 23-JAN-89
.BR;TRIGRID> ^*SHOW LIMITS ! examine LIMITS settings_<CR_>\*
.BR;No individual triangle interpolation limits will be applied
.BR;No whole DTM Z-limits will be applied
.BR;TRIGRID> 
.FILL

.!******************************************************************************
.PAGE
.SUBTITLE SHOW SIDELENGTH command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW SIDELENGTH\*
.INDEX TRIGRID> commands> SHOW SIDELENGTH
.INDEX TRIGRID> SHOW SIDELENGTH command

.LEFT MARGIN +8
.P0; Shows current status of TRIGRID DTI file sidelength.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######SHOW SIDELENGTH\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P0;SHOW SIDELENGTH enables the user to examine the current status of TRIGRID
DTI file sidelength parameters set using the SIDELENGTH or the combination of
SIZE and WINDOW commands. 


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.NO FILL
$ ^*TRIGRID_<CR_>\*
DTMCREATE module TRIGRID of 17:02:12 23-JAN-89
.BR;TRIGRID> ^*SHOW SIDELENGTH ! examine sidelength settings_<CR_>\*
X-sidelength ........................................ Unset
Y-sidelength ........................................ Unset
.BR;TRIGRID> ^*SIDELENGTH 4.0 4.0 ! set x and y sidelength _<CR_>\*
.BR;TRIGRID> ^*SHOW SIDELENGTH ! examine sidelength settings_<CR_>\*
X-sidelength ........................................ 4.0
Y-sidelength ........................................ 4.0
.BR;TRIGRID> 
.FILL

.!******************************************************************************
.PAGE
.SUBTITLE SHOW SIZE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW SIZE\*
.INDEX TRIGRID> commands> SHOW SIZE
.INDEX TRIGRID> SHOW SIZE command

.LEFT MARGIN +8
.P0; Shows current status of TRIGRID output DTI file SIZE.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######SHOW SIZE\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P0;SHOW SIZE enables the user to examine the current status of TRIGRID
output DTI file SIZE parameters set using the SIZE or the combination of
SIDELENGTH and WINDOW commands. 


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.NO FILL
$ ^*TRIGRID_<CR_>\*
DTMCREATE module TRIGRID of 17:02:12 23-JAN-89
.BR;TRIGRID> ^*SHOW SIZE ! examine size settings_<CR_>\*
.BR;Number of columns ................................... Unset
.BR;Number of rows ...................................... Unset
.BR;TRIGRID> ^*SIZE 801 401 ! set x and y sidelength _<CR_>\*
.BR;TRIGRID> ^*SHOW SIZE ! examine sidelength settings_<CR_>\*
.BR;Number of columns ................................... 801
.BR;Number of rows ...................................... 401
.BR;TRIGRID> 
.FILL

.!******************************************************************************
.PAGE
.SUBTITLE SHOW UNITS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW UNITS\*
.INDEX TRIGRID> commands> SHOW UNITS
.INDEX TRIGRID> SHOW UNITS command

.LEFT MARGIN +8
.P0; Shows current status of TRIGRID window units as set using the UNITS 
command.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######SHOW UNITS\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\* None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P0; Shows current status of TRIGRID window units as set using the UNITS 
command.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.NO FILL
_$ ^*TRIGRID_<CR_>\*
DTMCREATE module TRIGRID of 13:53:27  3-FEB-89
TRIGRID> ^*SHOW UNITS_<CR_>\*
Window to be specified in metres
.BR;TRIGRID>
.FILL



.!******************************************************************************
.PAGE
.SUBTITLE SHOW WINDOW command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW WINDOW\*
.INDEX TRIGRID> commands> SHOW WINDOW
.INDEX TRIGRID> SHOW WINDOW command

.LEFT MARGIN +8
.P0; Shows current triangulation and DTM window values.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######SHOW WINDOW\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\* None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P0; Shows current triangulation and DTM window values.

.P 0;The units of the WINDOW command parameters are set using the UNITS 
command. By default metre units are assumed. If it is more convenient
to specify the window in latitude and longitude the sexagesimal lat
long values may be supplied after specifying a UNITS LATLONG command.
This assumes that the data read in from the DTI and IFF files uaing TRIANG 
were in units of tenths second of arc. A similar assumption is made for UNITS
SECONDS. 

.P 0;The SHOW WINDOW command displays the window values in the
units currently selected by the UNITS command. No projection transformation
is performed, so the unwise user could easily specify that the window
be shown as latitude longitude despite the fact that his data are in
metres!
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.NO FILL
.BLANK
_$ ^*TRIGRID_<CR_>\*
DTMCREATE module TRIGRID of 13:53:27  3-FEB-89
TRIGRID> ^*SHOW WINDOW_<CR_>\*
Window units are metres
DTM WINDOW currently undefined
Triangulation coverage currently unknown
.BR;TRIGRID>
.FILL

.!******************************************************************************
.PAGE
.SUBTITLE SIDELENGTH command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SIDELENGTH\*
.INDEX TRIGRID> commands> SIDELENGTH
.INDEX TRIGRID> SIDELENGTH command

.LEFT MARGIN +8
.P 0;Specifies the spacing between the columns and rows of the output DTM. 
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######SIDELENGTH x-sidelength y-sidelength\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;x-sidelength
.P0;The spacing between DTM posts along the X axis (columns).
.P-8;y-sidelength
.P0;The spacing between DTM posts up the Y axis (rows). If this parameter
is omitted TRIGRID assumes equal X and Y sidelength values.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;The SIDELENGTH command enables the user to specify the spacing between
the columns and rows of the output DTM. The SIDELENGTH command arguments
should be specified in the units used for the triangulation.

.P 0;If a SIZE command has already been issued then the SIZE values will
be overridden by new size values calculated when WINDOW is set using:
.LITERAL

        NUMBER OF COLUMNS = X WINDOW LENGTH/ X_SIDELENGTH +1.5

        NUMBER OF ROWS    = Y WINDOW LENGTH/ Y_SIDELENGTH +1.5

.END LITERAL
and the message:
.BR
.B
########Over-riding SIZE settings
.B
.BR
will appear.

.P 0;If the WINDOW is set, the number of rows and columns to cover
completely (possibly with some overlap) the specified area is 
calculated. The results of this calculation will be displayed:
.BR
.LITERAL

Window units are metres

Triangulation coverage SW:  'real' 'real' NE:  'real' 'real'
Triangulation window   SW:  'real' 'real' NE:  'real' 'real'

Which with a side length of    10.00 in X and     10.00 in Y
gives 'integer' rows and 'integer' columns in the dtm

.END LITERAL

.P 0;You may use the SIDELENGTH and WINDOW commands in combination as
often as you wish until the desired model characteristics are achieved. 

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following messages are specific to the SIDELENGTH command:
.P 0;_*_*_*_ WARNING_ _*_*_*_ You must have at least 3 rows and 3 columns in your DTM
.P 0;_*_*_*_ WARNING_ _*_*_*_ You must specify at least one argument

.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;TRIGRID> ^*SIDELENGTH 40.0 50.0_<CR_>\*
.BR;TRIGRID> 


.!******************************************************************************
.PAGE
.SUBTITLE SIZE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SIZE\*
.INDEX TRIGRID> commands> SIZE
.INDEX TRIGRID> SIZE command

.LEFT MARGIN +8
.P 0;Specifies the number of columns and rows of the output DTM. 
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######SIZE ncols nrows\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;ncols
.P0;The number of columns (X-axis) in the output DTM.
.P-8;nrows
.P0;The number of rows (Y-axis) in the output DTM. If this parameter
is omitted TRIGRID assumes equal X and Y SIZE values.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;The SIZE command enables the user to explicitly set the number of
columns and rows in the output DTM.

.P 0;If you have already issued a SIDELENGTH command then the sidelength
values that you specified will be replaced by the values calculated from
WINDOW divided by the number of rows and number of columns and the message:
.BR
.B
########Over-riding SIDELENGTH settings
.B
.BR
will appear.

.P 0;If you have already specified values for the WINDOW then TRIGRID 
will calculate the cell sidelength required to give you the the 
number of rows and columns specified by the SIZE command and the 
results of this calculation will be displayed:
.BR
.LITERAL

Window units are metres

Triangulation coverage SW:  'real' 'real' NE:  'real' 'real'
Triangulation window   SW:  'real' 'real' NE:  'real' 'real'

Which with a side length of    10.00 in X and     10.00 in Y
gives 'integer' rows and 'integer' columns in the dtm

.END LITERAL

.P 0;You may use the SIZE and WINDOW commands in combination as
often as you wish until the desired model characteristics are achieved. 

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following messages are specific to the SIZE command:
.P 0;_*_*_*_ WARNING_ _*_*_*_ You must have at least 3 rows and 3 columns in your DTM
.P 0;_*_*_*_ WARNING_ _*_*_*_ You must specify at least one argument

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;TRIGRID> ^*SIZE 101 201_<CR_>\*
.BR;TRIGRID> 

.!******************************************************************************
.PAGE
.SUBTITLE SPAWN command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SPAWN\*
.INDEX TRIGRID> commands> SPAWN
.INDEX TRIGRID> SPAWN command

.LEFT MARGIN +8
.P0; The SPAWN command enables you to create a subprocess while within TRIGRID.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######SPAWN command-line\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;command-line
.P0; Specifies a DCL command string to be executed as if typed in response to
a '$' prompt. When the command completes, the subprocess terminates and control
is returned to TRIGRID. The command string cannot exceed 80 characters. 
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P0; The SPAWN command enables you to create a subprocess while within TRIGRID.
When the subprocess terminates control is returned to TRIGRID.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following warning messages are specific to the SPAWN command:
.P 0;_*_*_*_ WARNING_ _*_*_*_ SPAWN requires a valid DCL command line
.P 0; _*_*_*_ ERROR_ _*_*_* Unable to spawn command, returning to TRIGRID

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;TRIGRID> ^*SPAWN DIRECTORY _*_.DTA;_*_<CR_>\*

.NO FILL

Directory DUA3:[DTMCREATE.ACCEPTANCE__TESTS]

TEST1_.DTA;1              8/8       18-AUG-1987 07:56  [LSL,TIM]
TEST2_.DTA;2              7/8       18-AUG-1987 17:17  [LSL,TIM]
TEST2_.DTA;1              7/8       18-AUG-1987 17:07  [LSL,TIM]

Total of 3 files, 22/24 blocks.

.FILL
.BR;TRIGRID> 



.!******************************************************************************
.PAGE
.SUBTITLE TRIANGLE__LIMITS command
.INDEX TRIGRID> commands> TRIANGLE__LIMITS
.INDEX TRIGRID> TRIANGLE__LIMITS command
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*TRIANGLE__LIMITS\*

.LEFT MARGIN +8
.P 0;The TRIANGLE__LIMITS arguments set limits for the interpolation function
selected for DTM post estimation within the individual triangles.
.LEFT MARGIN -8

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*FORMAT:######TRIANGLE__LIMITS  real1 real2 
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*COMMAND PARAMETERS:\*
.LEFT MARGIN +8
.P-8;real1

.P 0;Undershoot limit for individual triangles. This is the amount
(measured in the model Z value units) that an interpolation within the triangle
may fall under the range of heights given by the values at the vertices of the
triangle. A suggested limit is approx 1/3 contour interval. Default is 300000,
i.e. no effectively limit! 

.P-8;real2
.P 0;Overshoot limit for individual triangles. This is the amount
(measured in the model Z value units) that an interpolation within the triangle
may exceed the range of heights given by the values at the vertices of the
triangle. A suggested limit is approx 1 contour interval. Default is 300000, 
i.e. no effectively limit! 

.LEFT MARGIN -8

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Description:\*

.P 0;By default TRIGRID applies no limits to post height estimation.

.P 0;The undershoot and overshoot limits for individual triangles define how
far an interpolation within the triangle may fall below or above the range of
heights given by the values at the vertices of the triangle. These
undershoot and overshoot limits are automatically modified by the ENABLE
AUTO__LIMITS command when appropriate node feature flags are detected. For
example, a triangle which has one or more nodes flagged as "river" nodes will
be allowed no interpolation undershoot at all. 



.P 0;No triangle limits are applied if the linear facet interpolation option is
selected as the interpolation is restricted to the triangle facet plane itself.
The same effect can be achieved (rather extravagantly) by setting
both the undershoot and overshoot triangle limits to 0.0 and then using
the SMOOTH patch interpolation option!

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P0; The following messages are specific to the TRIANGLE__LIMITS command:
.P
_*_*_*_ WARNING_ _*_*_*_ You must specify lower and upper limit arguments
.BR;Lower limit, upper limit?

.NO FILL
.BLANK

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Examples:\*
.BLANK
.BR;TRIGRID> ^*SHOW LIMITS_<CR_>\*
.BR;No individual triangle interpolation limits will be applied
.BR;No whole DTM Z-limits will be applied
.BR;TRIGRID> ^*TRIANGLE__LIMITS 3.0 10.0_<CR_>\*
.BR;TRIGRID> ^*SHOW LIMITS_<CR_>\*
Individual triangle undershoot limit .................  3.000
Individual triangle overshoot limit ..................  10.00
Whole DTM lower z-value limit ........................  Unset
Whole DTM upper z-value limit ........................  Unset
.BR;TRIGRID>
.FILL

.!******************************************************************************
.PAGE
.SUBTITLE UNITS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*UNITS\*
.INDEX TRIGRID> commands> UNITS

.INDEX TRIGRID> UNITS command

.LEFT MARGIN +8
.P 0;Specifies the units of measurement that will be used when defining 
the DTM window using the WINDOW command.

.P 0;The command also controls the units of measurement which will be used
when displaying DTI file header details.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                UNITS units\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;units
.P 0;A keyword defining the measurement units, chosen from: 
.LITERAL

	METRES	   Metres on the ground
	LATLONG	   Latitude and Longitude 
		   (in degrees, minutes and seconds)
	SECONDS    Seconds of arc
	PROJECTION Projection units

.END LITERAL
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P 0;The UNITS command enables the user to specify in what units of measurement
he wishes to define the DTM window using the WINDOW
command, or in what units of measurement details from the header of the DTI
file are displayed.

.P 0;By default metre units are assumed.

.BR;The UNITS command should be given before specifying the DTM
window the user wishes to specify the window in non-metre units.

.P 0;If UNITS SECONDS or UNITS LATLONG are used it is assumed that 
the data read in from the _.DTA and _.NOD files using FILEIN commands are in
units of tenth seconds of arc. 

.P 0;UNITS METRES (the default) or UNITS PROJECTION assume that
the the data read in using FILEIN commands are in metres or projection units.

.P 0;Remember that TRIGRID assumes that if
UNITS SECONDS or UNITS LATLONG are selected the basic units in the _.DTA snd .
NOD files are tenth seconds arc. 

.P 0;The UNITS command does not affect the values specified as arguments to
the SIDELENGTH command. These should be expressed in terms of the basic units
held in the _.NOD and _.DTA files (i.e. tenth second arc units in the case of
geographical SECONDS or LATLONG). In the case of UNITS LATLONG, window values
should be expressed as south-west ^*Latitude Longitude\* north-east
^*Latitude Longitude\*, ^* not ^*Longitude Latitude\*. The SHOW
WINDOW command will reflect the window extent in both LATLONG units
and tenth seconds arc.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P 0;The following error messages are specific to the UNITS command:
.NO FILL

_*_*_* ERROR _*_*_* Specifying command UNITS
Command qualifiers are METRES,PROJECTION,SECONDS or LATLONG

.FILL;.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.P 0;$_ ^*TRIGRID^*_<CR_>\*
.NO FILL
DTMCREATE module TRIGRID of 14:28:22 20-JAN-89
TRIGRID> ^*FILEIN WEEPY_<CR_>\*
.BLANK
_.DTA file LSL$SOURCE_ROOT:[DTMCREATE.TRIGRID]WEEPY_.DTA;8 opened for read
_.NOD file LSL$SOURCE_ROOT:[DTMCREATE.TRIGRID]WEEPY_.NOD;8 opened for read
_.DER file LSL$SOURCE_ROOT:[DTMCREATE.TRIGRID]WEEPY_.DER;8 opened for read
TRIGRID> ^*UNITS LATLONG_<CR_>\*
TRIGRID> ^*SHOW WINDOW_<CR_>\*
.BLANK
Window units are latlong (degrees, minutes and seconds)
.BLANK
Triangulation coverage SW:   4 45 00N   13 44 20E   NE:   4 49 00N   13 46 50E
                      (SW:  494600.00   171000.00   NE:   496100.00   173400.00)
DTM WINDOW currently undefined.
.BLANK
TRIGRID> ^*WINDOW 4 45 00N 13 45 00 E 4 50 00N 13 46 00E_<CR_>\*
TRIGRID> ^*SIDELENGTH 10_<CR_>\*
.BLANK
X and Y call side lengths assumed equal (    10.000    10.000 )
.BLANK
Window units are latlong (degrees, minutes and seconds)
.BLANK
Triangulation coverage SW:   4 45 00N   13 44 20E   NE:   4 49 00N   13 46 50E
                      (SW:  494600.00   171000.00   NE:   496100.00   173400.00)
.BLANK
Triangulation window   SW:  13 45 00N    4 45 00E   NE:  13 46 00N    4 50 00E
                      (SW:  171000.00   495000.00   NE:   174000.00   495600.00)
.BLANK
Which with a side length of    10.000 in X and    10.000 in Y
gives 61 rows and 301 columns in the dtm
.BLANK
TRIGRID> ^*SHOW WINDOW_<CR_>\*
.BLANK
Window units are latlong (degrees, minutes and seconds)
.BLANK
Triangulation coverage SW:   4 45 00N   13 44 20E   NE:   4 49 00N   13 46 50E
                      (SW:  494600.00   171000.00   NE:   496100.00   173400.00)
.BLANK
Triangulation window   SW:  13 45 00N    4 45 00E   NE:  13 46 00N    4 50 00E
                      (SW:  171000.00   495000.00   NE:   174000.00   495600.00)
TRIGRID>
.FILL
.!******************************************************************************
.PAGE
.SUBTITLE WAIT command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*WAIT\*
.INDEX TRIGRID> commands> WAIT
.INDEX TRIGRID> WAIT command

.LEFT MARGIN +8
.P0; Suspend processing for the specified number of seconds.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######WAIT seconds\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;seconds
.P0; The number (floating point) of seconds for which TRIGRID processing is
to be suspended.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P0; The WAIT command causes processing to be suspended for a specified
number of seconds. It is designed for use in software demonstration 
situations and is of no value in a production flowline.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following warning message is specific to the WAIT command:
.P 0;_*_*_*_ WARNING_ _*_*_*_ You must specify the number of seconds to wait

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;TRIGRID> ^*WAIT 4.0_<CR_>\*
.BR;TRIGRID>


.!******************************************************************************
.PAGE
.SUBTITLE WINDOW command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*WINDOW\*
.INDEX TRIANG> commands> WINDOW
.INDEX TRIANG> WINDOW command

.LEFT MARGIN +8
.P0;Specifies the limits of the triangulation area to be gridded.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:######WINDOW xmin ymin xmax ymax\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;xmin ymin
.P0; The coordinates of the bottom left hand corner of the defining rectangle.
.BLANK
.P-8;xmax ymax
.P0; The coordinates of the top right hand corner of the defining rectangle.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P0;The WINDOW command is used to define rectangular limits to the area of 
triangulation to be gridded into a DTI file. The limits must be specified
in the order bottom left hand (or south west) corner, then top right hand 
(or north east) corner.

.P 0;The WINDOW command can be used to clip data from a triangulation.

.P 0;There is only one restriction on the WINDOW grid coverage allowed
relative to the triangulation extent. The grid DTM must have a minimum of 3
columns and 3 rows. The user may specify that the grid DTM WINDOW extends
beyond the triangulation area.  Of course there are no original data points
for interpolation in the resulting marginal areas and the proclivities of a
poorly controlled mathematical surface may not truly represent the real world! 

.P 0;If the user is unsure of the triangulation (X,Y) extent a SHOW
WINDOW command will supply this information assuming that the triangulation 
files have previously been opened with the FILEIN command.

.P 0;The WINDOW command is obligatory.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following warning messages are specific to the WINDOW command:
.BLANK
.BR;_*_*_*_ WARNING_ _*_*_*_*_ Unable to read WINDOW arguments
.P 0;_*_*_*_ WINDOW_ _*_*_*_*_ is still unset, please respecify the WINDOW command
.P 0;_*_*_*_ ERROR_ _*_*_*_*_ window values define a zero width window
.P 0;_*_*_*_ ERROR_ _*_*_*_*_ window values define a zero height window
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;TRIGRID> ^*WINDOW 0.0 0.0 120.0 120.0_<CR_>\*
.BR;TRIGRID>


.!******************************************************************************
.PAGE
.SUBTITLE ZLIMITS command
.INDEX TRIGRID> commands> ZLIMITS
.INDEX TRIGRID> ZLIMITS command
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*ZLIMITS\*

.LEFT MARGIN +8
.P 0;The ZLIMITS arguments set overall model top and bottom z-limits for the
interpolation function selected for DTM post estimation. 
.LEFT MARGIN -8
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*FORMAT:######ZLIMITS  real1 real2 
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*COMMAND PARAMETERS:\*
.LEFT MARGIN +8
.P-8;real1
.P 0;The absolute lower range limit for the whole DTM. No posts in the DTM
will be allowed to have Z values below this value.  The default is 0.0

.P-8;real2
.P 0;The absolute upper range limit for the whole DTM. No posts in the DTM
will be allowed to have Z values above this value.  The default is 300000.0
i.e. effectively no limit!

.LEFT MARGIN -8

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Description:\*

.P 0;By default TRIGRID applies no limits to post height estimation.

.P 0;The ZLIMITS command specifies lower and upper absolute range limits to 
enable the user to force a base and ceiling value for the whole model which
the interpolation cannot exceed or fall under. This is particularly useful for
models containing areas of sea as the lower limit can be set to zero ensuring
that the sea cannot receive negative post values under any circumstances. A
model whose highest area forms a plateau can be similarly controlled. 

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P0; The following messages are specific to the ZLIMITS command:
.P
_*_*_*_ WARNING_ _*_*_*_ You must specify lower and upper limit arguments
.BR;Lower limit, upper limit?

.NO FILL
.TP 10
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Examples:\*
.BLANK
.BR;TRIGRID> ^*ZLIMITS 150.0 500.0_<CR_>\*
.BR;TRIGRID> ^*SHOW LIMITS_<CR_>\*
Individual triangle undershoot limit .................  Unset
Individual triangle overshoot limit ..................  Unset
Whole DTM lower z-value limit ........................   150.000
Whole DTM upper z-value limit ........................   500.000
.BR;TRIGRID>
.PAGE
.SUBTITLE EXAMPLES
^^^*--------------------------------------------------------------------------------\*
.HL 1 ^^^*EXAMPLES\*

.NO FILL
.BLANK 2
$ TRIGRID_<CR_>\*
DTMCREATE module TRIGRID of 14:02:31  3-FEB-89
TRIGRID> ^*@TESTCMD_<CR_>\*
Command input now being read from SYS$DISK:[]TESTCMD.COM;0
TRIGRID> FILEIN WEEPY
_.DTA file LSL$SOURCE_ROOT:[DTMCREATE.TRIGRID]WEEPY_.DTA;9 opened for read
_.NOD file LSL$SOURCE_ROOT:[DTMCREATE.TRIGRID]WEEPY_.NOD;9 opened for read
_.DER file LSL$SOURCE_ROOT:[DTMCREATE.TRIGRID]WEEPY_.DER;9 opened for read
TRIGRID> ZLIMITS 150 500
TRIGRID> TRIANGLE
TRIGRID> ENABLE DIAGNOSTICS
TRIGRID> WINDOW 494600.00  171000.00 496100.00  173400.00
TRIGRID> SIDELENGTH 10 10

Window units are metres

Triangulation coverage SW:  494600.00  171000.00    NE:  496100.00  173400.00

Triangulation window   SW:  494600.00  171000.00    NE:  496100.00  173400.00

Which with a side length of    10.00 in X and     10.00 in Y
gives 241 rows and 151 columns in the dtm

TRIGRID> SHOW ENABLE
AUTO__LIMITS ......................................... On
DIAGNOSTICS ......................................... On
GRAPHICS ............................................ Off
SMOOTH .............................................. On
(Smooth patch interpolation)
NINT ................................................ On
ORTHOGONAL .......................................... Off
TRACE ............................................... Off
TRIGRID> SHOW LIMITS
Individual triangle undershoot limit .................     5.000
Individual triangle overshoot limit ..................    15.000
Whole DTM lower z-value limit ........................   150.000
Whole DTM upper z-value limit ........................   500.000
Input files:
_.DTA file:   LSL$SOURCE_ROOT:[DTMCREATE.TRIGRID]WEEPY_.DTA;9
_.NOD file:   LSL$SOURCE_ROOT:[DTMCREATE.TRIGRID]WEEPY_.NOD;9
_.DER file:   LSL$SOURCE_ROOT:[DTMCREATE.TRIGRID]WEEPY_.DER;9

Output file:
The DTI output file is undefined
TRIGRID> SHOW FILES
Input files:
_.DTA file:   LSL$SOURCE_ROOT:[DTMCREATE.TRIGRID]WEEPY_.DTA;9
_.NOD file:   LSL$SOURCE_ROOT:[DTMCREATE.TRIGRID]WEEPY_.NOD;9
_.DER file:   LSL$SOURCE_ROOT:[DTMCREATE.TRIGRID]WEEPY_.DER;9

Output file:
The DTI output file is undefined
TRIGRID> SHOW WINDOW
Window units are metres

Triangulation coverage SW:  494600.00  171000.00    NE:  496100.00  173400.00

Triangulation window   SW:  494600.00  171000.00    NE:  496100.00  173400.00
TRIGRID> GO
_*_*_*_ WARNING _*_*_*_ The following commands must be given
                before processing can begin:
                1) WINDOW
                2) SIZE (or SIDELENGTH)
                3) FILEIN
                4) FILEOUT


_*_*_*_ WARNING _*_*_*_  Indirect file error - returning to terminal input
TRIGRID>^* FILEOUT TESTDTM_<CR_>\*
TRIGRID>^* GO_<CR_>\*

+----------------------------------------------------------------+
|                                                                |
|             Reading in data and point in box markers           |
|                                                                |
+----------------------------------------------------------------+


*** WARNING *** No projection information available for DTI header

+----------------------------------------------------------------+
|                                                                |
|                  Reading slope information                     |
|                                                                |
+----------------------------------------------------------------+



+----------------------------------------------------------------+
|                                                                |
|                   Opening and initialising DTI file            |
|                                                                |
+----------------------------------------------------------------+


DTI file LSL$DATA_ROOT:[LSL.DTI]TESTDTM.DTI;0 opened for write

File    :  LSL$DATA_ROOT:[LSL.DTI]TESTDTM.DTI;0
Header  :  LSLA  Data:  WORD

Units are metres

Matrix Coverage   SW:       0.00       0.00    NE:     199.50     199.50
Matrix Interval    E:       2.10                N:       1.50
Value Range         :     0   to      0


+----------------------------------------------------------------+
|                                                                |
|                     Generating DTM grid                        |
|                                                                |
+----------------------------------------------------------------+


 ELAPSED:    0 00:00:10.96  CPU: 0:00:00.94  BUFIO: 14  DIRIO: 25  FAULTS: 347 
.FILL
.LM +10

.P 0;This example shows a sequence of TRIGRID commands used to generate a 
DTI output file having a 'LSLA' type header and word integer post
values. 

.P 0;TRIGRID introduces itself by giving the full name and creation date of
the current version of the program. The user has chosen to issue the TRIGRID
commands by use of an indirect command file using the @file-spec facility.
After successfully opening the specified command file,
SYS$DISK:[]TEST_CMD.COM; TRIGRID issues a message indicating the file-spec
used. All command input will be taken from this file until end
of file is detected, a command error is detected, a RETURN command is
detected, or a GO command results in successful termination of the run. 

.P 0;The first command specifies that input is to be from a file 
called WEEPY. Only a file-name is supplied and TRIGRID parses this
against the user's current default device and directory specification. This
results in the file specification 
.BR;LSL$SOURCE__ROOT:[DTMCREATE.TRIGRID]WEEPY_.DTA
This is used as a generic specification for all three input files required by 
TRIGRID, a _.DTA file containing the inter_node relationships, a _.NOD 
file containing the nodes themselves and a _.DER file containing slope
derivatives.

.P 0;These files are opened in turn and a message indicating successful
opening issued.

.P 0;The ZLIMITS command specifies that no DTM post values are to be generated
below 100 or above 500 height units. The height units were originally set in
TRIANG. 

.P 0;The TRIANGLE__LIMITS command is used to set the undershoot (5)
and overshoot limits (15) for individual triangles. These limits define how
far an interpolation within the triangle may fall below or above the range of
heights given by the values at the vertices of the triangle. The
undershoot and overshoot are automatically modified by the ENABLE AUTO__LIMITS 
command when appropriate node feature flags are detected. For example,
a triangle which has one or more nodes flagged as "river" nodes will 
be allowed no interpolation undershoot at all. AUTO__LIMITS are enabled by
default on program startup and must be explicitly disabled if not
required.

.P 0;As this program run is to be used as an example, the user
has used the ENABLE DIAGNOSTICS command to cause TRIGRID to output
diagnostic messages. Where a processing stage may take a long time, the
selection of diagnostics will cause messages indicating percentage progress
to be output. In the interests of compactness, these percentage progress
messages are not shown in this example.

.P 0;The WINDOW command specifies the area of the triangulation that is to be
gridded into a DTI file. There is only one restriction on the grid coverage
allowed relative to the triangulation extent. The grid DTM must have
a minimum of 3 columns and 3 rows. The user may specify that the grid
DTM WINDOW extends beyond the triangulation area.  Of course there
are no original data points for interpolation in the resulting marginal
areas and the proclivities of a poorly controlled mathematical surface may not
truly represent the real world!

.P 0;If the user is unsure of the triangulation (X,Y) extent a SHOW
WINDOW command will supply this information assuming that the triangulation 
files have previously been opened with the FILEIN command.

.P 0;With the SIDELENGTH command the user has elected to specify explicit
(X,Y) DTM inter-post sidelengths rather than specify the WINDOW and then a
definitive grid size. TRIGRID calculates the DTM grid size to be 241 rows and
151 columns. 

.P 0;The SHOW commands enable the user to examine the current settings
for all the TRIGRID run time options. What the user has failed to notice from 
this listing is the fact that he has yet to specify an output file
specification with the FILEOUT command.

.P 0;The user, believing that all is set up for this run, specifies the GO
command to commence TRIGRID processing. TRIGRID performs checks that all the 
obligatory commands have been specified and discovers an omission. The warning 
message indicates the 4 obligatory commands that must be issued before
TRIGRID processing can be started. The GO command is ignored. As command
input was from indirect command file, TRIGRID issues a further warning
message, closes the indirect file and prompts for further commands at the
terminal. 

.P 0;The user, realising that he has not specified a FILEOUT command, now does
so. The missing parts from the file-spec supplied are taken from the default
LSL$DTI:DTI.DTI;0. Satisfied with this, he reissues the GO command, which is
this time accepted. TRIGRID processing begins. Messages indicating the start
of each major processing stage are output. 

.P 0;The warning that no projection information is available for the DTI header
is issued because TRIANG could find no projection information to put into
the input _.NOD and _.DTA files when forming the triangulation. Input must 
have been from IFF files with unset type 2 MDs (Map Descriptor) or DTI files
without projection records. This will not affect the TRIGRID run, but the
DTI file header information should be checked carefully and the DTI
file projection record possibly set up using DTITRANS.

.P 0;After opening the output DTI file, its header is
printed to the terminal. From this it is evident that the default file header
type is 'LSLA' and the default DTI file post data type is word (16 bit)
integer. 

.P 0;The run completed successfully. DCL symbol $STATUS is set to SS$__NORMAL,
normal successful completion. The DTM grid in the DTI file may now be viewed
using DTIVIEW.
.LM -10


.REQUIRE 'TRIGRIDMSG.RNO'
