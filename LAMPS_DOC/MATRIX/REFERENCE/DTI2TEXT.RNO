
.PAGE
.BR
^^^*--------------------------------------------------------------------------------\*
.BR
^^^*MODULE#####DTI2TEXT\*
.INDEX DTI2TEXT

.P0
^^^*--------------------------------------------------------------------------------\*
.BR
^^^*REPLACES\*###None. DTI2TEXT is a completely new MATRIX utility.
.P0
^^^*--------------------------------------------------------------------------------\*
.HL 1 ^^^*FUNCTION\*
.INDEX DTI2TEXT> FUNCTION

.LEFT MARGIN +10

.P 0;DTI2TEXT is a utility to convert DTI input files into text output files. 
.BLANK
.LEFT MARGIN -10
^^^*--------------------------------------------------------------------------------\*
.HL 1 ^^^*FORMAT\*
.INDEX DTI2TEXT> FORMAT
.LEFT MARGIN +10
.P 0;$ DTI2TEXT
.BLANK
.TEST PAGE 9
.LEFT MARGIN -10
^^^*--------------------------------------------------------------------------------\*
.HL 1 ^^^*COMMAND QUALIFIERS\*
.INDEX DTI2TEXT> COMMAND QUALIFIERS
.LEFT MARGIN +10
.P 0;None, DTI2TEXT is command driven.
.BLANK
.LEFT MARGIN -10
.P 0;^*--------------------------------------------------------------------------------\*
.HL 1 ^^^*DTI2TEXT command defaults\*
.INDEX DTI2TEXT> command defaults
.LEFT MARGIN +10

.P 0;On program startup, the following command defaults apply:

.LM +15
.P -15;ABSOLUTE#####-#enabled.
.P -15;DIAGNOSTICS##-#disabled.
.P -15;NINT#########-#disabled.
.P -15;PME##########-#disabled.
.P -15;UNITS########-#once a DTI file is specified, if it is TED4 or UHL1, 
DTI type is LATLONG, other DTI types have default units MATRIX.
.P -15;FORMAT#######-#8I10 for integer and BYTE, 6I12 for longword integer, 
8F10.3 for reals and 40I2 for BIT output.

.P -15;NULL#########-#once a first input DTI file is specified the null will 
have one of the following:- 

.LITERAL
0 if BYTE or BIT type.
-32767 if WORD type.
80000000 Hex if LONG type.
-1.0E-38 if REAL type.
.END LITERAL

.P -15;WINDOW#######-#None specified
.LM -15
.LEFT MARGIN -10

.BLANK
.TEST PAGE 20
^^^*--------------------------------------------------------------------------------\*
.HL 1 ^^^*DESCRIPTION\*
.INDEX DTI2TEXT> DESCRIPTION

.BLANK
.HL 2 ^^^*General\*
.INDEX DTI2TEXT> DESCRIPTION> General

.LEFT MARGIN +10
.BLANK 2
.P0;DTI2TEXT is a command driven utility which converts the data in a specified
DTI file to a text format and outputs that data in records to a text file.

.P0;DTI2TEXT converts the DTI file, or window within the specified file, to 
text output format a column at a time.
Each column of values from the input file is split into a series of  records of
default or user defined format in order of increasing row position. 
Each record is 
written as a single line to the output file. A column may thus extend over 
several lines of the output file. The final record for each column may only be 
partially filled if the number of values in it is not exactly divisible by the 
number of fields in each text output record. Each record or line must be of 
less than 255 characters in length (see description of FORMAT command).

.P0
Note that DTI2TEXT is not intended to provide a spatially accurate 
representation of a DTI file - ie. each DTI ^*column\* is output as  a series of
^*rows\* in the text file. 
The MATRIX module DTIEDIT may be used to produce a textual 'picture'
of a DTI file.

.P0;A single session in DTI2TEXT may involve the conversion of more than one 
DTI file to a corresponding text file. When each conversion is completed, all 
the conditions set up to govern it, apart from the files involved and any 
window specified in the input file, will persist to any subsequent conversions 
unless explicitly altered using the relevant commands.

.P0;Detailed descriptions of the individual commands available are given 
below. 

.LEFT MARGIN -10

.!******************************************************************************
.!*** Commands                                                               ***
.!******************************************************************************
^^^*--------------------------------------------------------------------------------\*
.PAGE
.SUBTITLE
.FIGURE 5
.STYLE HEADERS ,,,,1
.HL 1 ^^^*DTI2TEXT_ commands\*
.STYLE HEADERS ,,,,7
.INDEX DTI2TEXT> commands


.!******************************************************************************
.PAGE
.SUBTITLE _@ command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*_@\*
.INDEX DTI2TEXT> commands> _@
.INDEX DTI2TEXT> _@ command

.LEFT MARGIN +8
.P 0;Take command input from the specified file.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:        _@file-spec_<CR_>\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;file-spec
.P 0;The file to be opened and used for command input.

.P 0;Any parts of the file-spec not supplied for the @ command will be 
taken from the default specification 'SYS$DISK:[].COM;0'.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;DTI2TEXT offers the facility of command input from an indirect command
file. The '@' character preceding a file-spec will cause DTI2TEXT to open
and read commands from the specified file until: 
.LIST
.LE ;a RETURN command is detected and command input is returned to SYS$COMMAND.
.LE ;end-of-file is detected. This provokes an error message and command input
is returned to SYS$COMMAND. 
.END LIST 

.P 0;Nested command files are not supported (i_.e_. a command file containing an
'@' command), although sequential '@' commands are supported when read from
SYS$COMMAND.

.P 0;As an aid to batch log interpretation DTI2TEXT will echo all commands
read from an indirect command file. 
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following messages are specific to the _@ command:

.P 0;_*_*_*_ WARNING_ _*_*_*_ "@" must precede a file-spec
.BL;_*_*_*_ WARNING_ _*_*_*_ Indirect file error - returning to terminal input
.BL;_*_*_*_ ERROR_ _*_*_*_ Can't open indirect command file 'file-spec'


.TEST PAGE 8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;$ ^*DTI2TEXT_<CR_>\*
.BR;MATRIX module DTI2TEXT of 13:30:39  18-OCT-87
.BR;DTI2TEXT> ^*@PRESETS_<CR_>\*
.BR;DTI2TEXT> ENABLE DIAGNOSTICS
.BR;DTI2TEXT> ENABLE NINT
.BR;DTI2TEXT> FILEIN READATA
.BR;DTI2TEXT> FILEOUT REALDATA.TXT
.BR;DTI2TEXT> UNITS METRES
.BR;DTI2TEXT> WINDOW 1 1 100 50
.BR;DTI2TEXT> RETURN
.BR;DTI2TEXT>


.!******************************************************************************
.PAGE
.SUBTITLE _! command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*_!\*
.INDEX DTI2TEXT> commands> _!
.INDEX DTI2TEXT> _! command

.LEFT MARGIN +8
.P 0;Treat all text to the right of the '!' as a comment.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:        _! [comment text]

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;comment text
.P 0;text that is to be treated as a comment and which will be excluded from
command interpretation.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;An exclamation mark is the standard DTM package comment delimiter. All 
text (and numbers) which lie to the right of a '!' character are excluded from 
command interpretation. Comments are useful for annotating command procedures
used in batch processing etc_.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^*_! a comment for the sake of it_<CR_>\*
.BR;DTI2TEXT> ^*WINDOW 0.0 0.0 900.0 900.0_<CR_>\*



.!******************************************************************************
.PAGE
.SUBTITLE DISABLE ABSOLUTE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DISABLE ABSOLUTE\*
.INDEX DTI2TEXT> commands> DISABLE ABSOLUTE
.INDEX DTI2TEXT> DISABLE ABSOLUTE command

.LEFT MARGIN +8
.P 0;Disables a previous ENABLE ABSOLUTE command. 

.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                DISABLE ABSOLUTE \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;DISABLE ABSOLUTE cancels a previous ENABLE ABSOLUTE command.  If DISABLE
ABSOLUTE is given, then coordinate values required by the WINDOW
command
supplied in metre or projection units, must be specified as an offset from the
SW corner of the matrix. 

.BR; By default window values should be specified as absolute coordinates.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.
.P0;The following error message is specific to the DISABLE command:
.LIT

*** ERROR *** Specifying command DISABLE

Available DISABLE qualifiers are :
DIAGNOSTICS    NINT    PME     ABSOLUTE
.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^*DISABLE ABSOLUTE_<CR_>\*
.BR;DTI2TEXT> 


.!******************************************************************************
.PAGE
.SUBTITLE DISABLE DIAGNOSTICS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DISABLE DIAGNOSTICS\*
.INDEX DTI2TEXT> commands> DISABLE DIAGNOSTICS
.INDEX DTI2TEXT> DISABLE DIAGNOSTICS command

.LEFT MARGIN +8
.P 0;Disables a previous ENABLE DIAGNOSTICS command. 

.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                DISABLE DIAGNOSTICS \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;DISABLE DIAGNOSTICS allows the user to disable a previous 
ENABLE DIAGNOSTICS command.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.
.P0;The following error message is specific to the DISABLE command:
.LIT

*** ERROR *** Specifying command DISABLE

Available DISABLE qualifiers are :
DIAGNOSTICS    NINT    PME     ABSOLUTE
.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^*DISABLE DIAGNOSTICS_<CR_>\*
.BR;DTI2TEXT> 

.!******************************************************************************
.PAGE
.SUBTITLE DISABLE NINT command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DISABLE NINT\*
.INDEX DTI2TEXT> commands> DISABLE NINT
.INDEX DTI2TEXT> DISABLE NINT command

.LEFT MARGIN +8
.P 0;Disables a previous ENABLE NINT command. 

.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                DISABLE NINT \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;DISABLE NINT allows the user to disable a previous 
ENABLE NINT command.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error message is specific to the DISABLE command:
.LIT

*** ERROR *** Specifying command DISABLE

Available DISABLE qualifiers are :
DIAGNOSTICS    NINT    PME     ABSOLUTE
.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^*ENABLE NINT_<CR_>\*
.BR;DTI2TEXT> ^*DISABLE NINT_<CR_>\*
.BR;DTI2TEXT>

.!******************************************************************************
.PAGE
.SUBTITLE DISABLE PME command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DISABLE PME\*
.INDEX DTI2TEXT> commands> DISABLE PME
.INDEX DTI2TEXT> DISABLE PME command

.LEFT MARGIN +8
.P 0;Disables a previous ENABLE PME command. 

.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                DISABLE PME \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;DISABLE PME allows the user to disable a previous 
ENABLE PME command.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following messages are specific to the DISABLE and DISABLE PME 
commands:
.LIT

*** ERROR *** Specifying command DISABLE

Available DISABLE qualifiers are :
DIAGNOSTICS    NINT    PME     ABSOLUTE
.END LIT

.P0;_*_*_* WARNING _*_*_* You are not using PME !

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^*ENABLE PME_<CR_>\*
.BR;DTI2TEXT> ^*DISABLE PME_<CR_>\*
.BR;DTI2TEXT>

.!******************************************************************************
.PAGE
.SUBTITLE ENABLE ABSOLUTE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*ENABLE ABSOLUTE\*
.INDEX DTI2TEXT> commands> ENABLE ABSOLUTE
.INDEX DTI2TEXT> ENABLE ABSOLUTE command

.LEFT MARGIN +8
.P 0;Selects the use of absolute coordinates values. 
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                ENABLE ABSOLUTE\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;If ENABLE ABSOLUTE is given, then coordinate values required by the
WINDOW command, supplied in metre or projection
units, must be specified as absolute (rather than relative) coordinate values.
.P 0;For example if the projection indicates U.K. National Grid, then the
WINDOW values may be specified as 6 figure National Grid coordinates. 
.BR; By default window values should be specified as absolute coordinates.
.P0
This option can be disabled using the DISABLE ABSOLUTE command.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error message is specific to the ENABLE command:
.LIT

*** ERROR *** Specifying command ENABLE

Available ENABLE qualifiers are :
DIAGNOSTICS    NINT    PME     ABSOLUTE
.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^*ENABLE ABSOLUTE_<CR_>\*
.BR;DTI2TEXT> 


.!******************************************************************************
.PAGE
.SUBTITLE ENABLE DIAGNOSTICS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*ENABLE DIAGNOSTICS\*
.INDEX DTI2TEXT> commands> ENABLE DIAGNOSTICS
.INDEX DTI2TEXT> ENABLE DIAGNOSTICS command

.LEFT MARGIN +8
.P 0;ENABLE DIAGNOSTICS allows the user to enable diagnostic printout.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                ENABLE DIAGNOSTICS \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;ENABLE DIAGNOSTICS allows the user to enable diagnostic printout.

.P 0;Because it is usually used in a batch processing environment, by default
DTI2TEXT produces minimal diagnostic printout. If however, the user wishes to
receive indications of processing progress and of the effect of windowing on
data input, diagnostic printout may be selected with the ENABLE DIAGNOSTICS 
command.


.P 0;On a heavily loaded computer it may be reassuring to ENABLE DIAGNOSTICS
for the conversion stage of DTI2TEXT processing to indicate progress through
the data set. A message indicating the current column being converted is issued 
at approximately each one tenth of the way through the DTI file.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error message is specific to the ENABLE command:
.LIT

*** ERROR *** Specifying command ENABLE

Available ENABLE qualifiers are :
DIAGNOSTICS    NINT    PME     ABSOLUTE
.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^*ENABLE DIAGNOSTICS_<CR_>\*
.BR;DTI2TEXT> 


.!******************************************************************************
.PAGE
.SUBTITLE ENABLE NINT command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*ENABLE NINT\*
.INDEX DTI2TEXT> commands> ENABLE NINT
.INDEX DTI2TEXT> ENABLE NINT command

.LEFT MARGIN +8
.P 0;ENABLE NINT allows the user to enable the rounding of real data in the 
DTI file to the nearest integer prior to output to the text file.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                ENABLE NINT \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;ENABLE NINT allows the user to enable the conversion of any real data in 
the DTI file to integer data by rounding to the nearest integer. The rounded 
numbers will then be output in the same way as integer data from an integer 
DTI file.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P0;The following error message is specific to the ENABLE command:
.LIT

*** ERROR *** Specifying command ENABLE

Available ENABLE qualifiers are :
DIAGNOSTICS    NINT    PME     ABSOLUTE
.END LIT

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^*ENABLE NINT_<CR_>\*
.BR;DTI2TEXT> ^*FILEIN REALDATA_<CR_>\*
.BR;DTI2TEXT> ^*FILEOUT ROUNDED_<CR_>\*
.BR;DTI2TEXT> ^*GO_<CR_>\*
.BR;DTI2TEXT> ^*DISABLE NINT_<CR_>\*
.BR;DTI2TEXT>


.!******************************************************************************
.PAGE
.SUBTITLE ENABLE PME command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*ENABLE PME\*
.INDEX DTI2TEXT> commands> ENABLE PME
.INDEX DTI2TEXT> ENABLE PME command

.LEFT MARGIN +8
.P0;ENABLE PME enables the PME performance monitor.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                ENABLE PME \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;The ENABLE PME and DISABLE PME commands are reserved for Laser-Scan use.
PME is a code optimisation tool and should be invoked by LSL software personnel
only. 

.P0;ENABLE PME causes the PME__INIT routine to be invoked.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Message:\*

.P0;The following messages are specific to the ENABLE and ENABLE PME 
commands:
.LIT

*** ERROR *** Specifying command ENABLE

Available ENABLE qualifiers are :
DIAGNOSTICS    NINT    PME     ABSOLUTE
.END LIT


.P 0;_*_*_* WARNING _*_*_* You are already using PME!

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.NO FILL
.BR;$ ^*DTI2TEXT_<CR_>\*
.BR;MATRIX module DTI2TEXT of 13:30:39  18-OCT-87
.BR;DTI2TEXT> ^*ENABLE PME_<CR_>\*


.!******************************************************************************
.PAGE
.SUBTITLE FILEIN command
.INDEX DTI2TEXT> commands> FILEIN
.INDEX DTI2TEXT> FILEIN command
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*FILEIN\*

.LEFT MARGIN +8
.P 0;Specifies a DTI file that is to be opened and used for data input.
.LEFT MARGIN -8

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*FORMAT:   FILEIN file-spec
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*COMMAND PARAMETERS:\*
.LEFT MARGIN +8
.P-8;file-spec
.P 0;The specification of the DTI file to be opened for data input.

.P 0;Any parts of the file-spec not supplied for the FILEIN command will be 
taken from the default file specification 'LSL$DTI:DTI.DTI;0'.
.LEFT MARGIN -8
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;The FILEIN command causes the specified file to be opened and 
used as an input file to DTI2TEXT. A FILEIN command must be issued before
the WINDOW or GO commands will be accepted.
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P 0;The following messages are specific to the FILEIN command:
.P 0;_*_*_*_ WARNING_ _*_*_*_ You must specify a file-spec argument to the FILEIN command
.BR;_*_*_*_ ERROR_ _*_*_*_ Unable to interpret input file-spec

.FILL

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Examples:\*

.BL
.NO FILL
DTI2TEXT> ^*FILEIN REAL_<CR_>\*
DTI file LSL$DTI:REAL.DTI;0 opened for read

File    :  LSL$DTI:REAL.DTI;0
Header  :  LSLA  Data:  REAL

Units are Metres

Matrix Coverage   SW:       0.00       0.00    NE:      49.00      49.00
Matrix Interval    E:       1.00                N:       1.00
Value Range         :     -5.00 to  326421.00
DTI2TEXT>

.FILL


.!******************************************************************************
.PAGE
.SUBTITLE FILEOUT command
.INDEX DTI2TEXT> commands> FILEOUT
.INDEX DTI2TEXT> FILEOUT command
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*FILEOUT\*

.LEFT MARGIN +8
.P 0;Specifies the file-spec of the text file which is to receive the DTI data.
.LEFT MARGIN -8

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*FORMAT:   FILEOUT  file-spec
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*COMMAND PARAMETERS:\*
.LEFT MARGIN +8
.P-8;file-spec
.BLANK
.P 0;The file-spec of the text file which is to receive the DTI data.

.P 0;Any parts of the file-spec not supplied for the FILEOUT command will be 
taken from the default '.DAT;0'. 
.LEFT MARGIN -8
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*DESCRIPTION:\*
.P 0;The FILEOUT command enables specification of the text file which is to
receive the data. 
.P 0;The FILEOUT command must be issued before the GO command.
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P 0;The following messages are specific to the FILEOUT command:

.NO FILL

.BR;_*_*_*_ WARNING_ _*_*_*_ You must specify a file-spec argument to the FILEOUT command
.BR;_*_*_*_ ERROR_ _*_*_*_ Unable to interpret output file-spec
.BR;_*_*_*_ ERROR_ _*_*_*_ in opening output file
.BR;_*_*_*_ ERROR_ _*_*_*_ in selecting output file
.BR;_*_*_*_ ERROR_ _*_*_*_ Not possible to open file

.NO FILL
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^^^*FILEOUT DUA3:[DEMONSTRATION]IDAHO_<CR_>\*
.BR;Text output file 'file-spec' opened
.BR;DTI2TEXT>


.!******************************************************************************
.PAGE
.SUBTITLE FORMAT command
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*FORMAT\*
.INDEX DTI2TEXT> commands> FORMAT
.INDEX DTI2TEXT>FORMAT command

.LEFT MARGIN +8
.P 0;Allows the user to specify a format for the text output file records.
.LEFT MARGIN -8

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*FORMAT:                 FORMAT format\*


.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Command parameters:\*

.LEFT MARGIN +8
.P-8;format
.P 0;The format in which output is required.
.LEFT MARGIN -8

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Description:\*
.P 0;The FORMAT command allows the user to specify a format for the text 
output file records (one record per line of the file) in terms of a FORTRAN 
like format definition. 

.P 0;The syntax of the format definition is :

.P 4; _<number of fields_> ["F"|"I"] _<field width_> ["." number of decimal 
places]

.P 0;The format definition will be parsed at the time it is input. It will be 
checked to make sure that it is compatible with the data in the DTI file, in 
terms of whether it is real or integer and whether it is wide enough to 
accommodate the longest number in the file, when the GO command is issued. 
The maximum record length allowed is 256 characters.

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P 0;Current format is 'format'
Enter new format, or press _<return_> to invoke default (10F8.3 or 10I8).
New format, eg 12F6.2 or 8I10 ? 

.P 0;_*_*_* ERROR _*_*_* Error reading format

.P 0;_*_*_* ERROR _*_*_* Illegal user defined format 'format', default 
format reinstated

.P 0;With indirect file input:

.P 0;_*_*_* ERROR _*_*_* Must specify format with format command
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^^^*FORMAT 20I4_<CR_>\*
.BR;DTI2TEXT> ^^^*SHOW FORMAT_<CR_>\*
Current user defined format (20I4)
.BR;DTI2TEXT>


.!******************************************************************************
.PAGE
.SUBTITLE GO command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*_GO\*
.INDEX DTI2TEXT> commands> GO
.INDEX DTI2TEXT> GO command

.LEFT MARGIN +8
.P 0;Carry out the conversion from the specified DTI input file to the 
specified text output file according to the conditions set up with any other 
commands issued prior to the GO command.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:          GO \*

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\* None


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;This will carry out the conversion from a previously specified DTI input 
file to a previously specified text output file under the conditions set up 
using any other commands, for example to specify a diagnostic printout or 
rounding of real input data to the nearest integer.

.P 0;Before the conversion takes places, checks will be carried out to ensure 
that certain preconditions hold. For example that the input and output files 
have been opened, and that any user defined or default format is compatible 
with the data range and type in the DTI file.

.P 0;A single session with DTI2TEXT may involve a number of successive 
conversions of different DTI files. In such cases, all the conditions set up 
to govern one conversion will persist when it is complete, with the exceptions 
of the files specified and any window defined within the input file. 
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0; Messages connected with checking the format :

.BR; _*_*_* ERROR _*_*_* Require real format for real data

.BR; _*_*_* ERROR _*_*_* Require integer format for rounded real data

.BR; _*_*_* ERROR _*_*_* Require integer format for integer data

.BR; _*_*_* ERROR _*_*_* Text field format too narrow, please redefine

.P 0;Other messages

.BR; _*_*_* ERROR _*_*_* Please check that text output file is open

.BR; _*_*_* ERROR _*_*_* Please check that DTI input file is open

.BR; _*_*_* ERROR _*_*_* Error in selecting output file 'file-spec'

.BR; _*_*_* ERROR _*_*_* Error reading column 'integer' of DTI file 'file-spec'

.BR; _*_*_* ERROR _*_*_* Error closing text output file 'file-spec'

.BR; _*_*_* ERROR _*_*_* Error closing DTI input file 'file-spec'

.BR; _*_*_* ERROR _*_*_* Unrecognised datatype in DTI file

.BR; _*_*_* ERROR _*_*_* Cannot write line to output file 'file-spec'

.P 0;In addition to these there are the diagnostic printout messages which 
will be given if diagnostics are enabled. These consist of the file 
specifications of the input and output files, the header details of the DTI 
file, and messages indicating which group of columns, of those being 
processed, has been reached by the conversion command.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.NO FILL
DTI2TEXT> ^*FILEIN TST\*
DTI2TEXT> ^*FILEOUT TST\*
DTI2TEXT> ^*GO_<CR_>\*

Converting from DTI file LSL$DTI:TST.DTI;0 to text file TST.DAT.

Details of input DTI file :


File    :  LSL$DTI:TST.DTI;0
Header  :  LSLA  Data:  WORD

Units are DTI Matrix Values

Matrix Coverage   SW:     1     1  NE:    71    71
Matrix Window     SW:     1     1  NE:    50    50
Matrix Interval    E:     1         N:     1
Value Range         :   139   to    192


   Converting columns          1 to          4
   Converting columns          5 to          8
   Converting columns          9 to         12
   Converting columns         13 to         16
   Converting columns         17 to         20
   Converting columns         21 to         24
   Converting columns         25 to         28
   Converting columns         29 to         32
   Converting columns         33 to         36
   Converting columns         37 to         40
   Converting columns         41 to         44
   Converting columns         45 to         48
   Converting columns         49 to         50
DTI2TEXT>
.FILL

.!******************************************************************************
.PAGE
.SUBTITLE HELP command
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*HELP\*
.INDEX DTI2TEXT> commands> HELP
.INDEX DTI2TEXT> HELP command

.LEFT MARGIN +8
.P 0;Give help on a subject
.LEFT MARGIN -8

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*FORMAT:                HELP subject\*


.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Command parameters:\*

.LEFT MARGIN +8
.P-8;subject
.P 0;The subject on which help is required.
.LEFT MARGIN -8

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Description:\*
.P 0;The HELP command looks the rest of the line up in the MATRIX HELP
library. This library contains a brief summary of the operation of each
command. 

.P 0;The information is looked up in the DTI2TEXT section of the MATRIX
help library, LSL$HELP:MATRIX.HLB. 


.P0;^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P 0;Where required, warning messages are output via the VMS LBR$OUTPUT__HELP
utility.

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^^^*HELP ENABLE NINT_<CR_>\*

.P 0;DTI2TEXT
.P0;######ENABLE
.P 0;#########NINT
.LEFT MARGIN +3
.P 0;When a DTI file containing real data is to be converted to a text file, 
it may be required that the data is rounded to the nearest integer and then 
output. The ENABLE NINT command causes this to be done is issued prior to the 
GO command.
.LEFT MARGIN -3
.BR;DTI2TEXT>


.!******************************************************************************
.PAGE
.SUBTITLE NULL command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*NULL\*
.INDEX DTI2TEXT> commands> NULL
.INDEX DTI2TEXT> NULL command

.LEFT MARGIN +8
.P 0;Allows specification of null post value to be substituted in the output 
text file in place of standard null values found in the input DTI file.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                NULL value\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;value
.P 0;The new null value which will be output to the text file.
This must lie within a range appropriate
to the input DTI file data type:
.LM +10
.LITERAL

+-----------+-----------+--------------------+
|  Minimum  |  Maximum  |    DTI data type   |
+-----------+-----------+--------------------+
|    0      |   255     |   BYTE             |
| -32767    |   32767   |   WORD INTEGER     |
| -2E31     |   2E31-1  |   LONG INTEGER     |
| -1.0E38   |   1.0E38  |   REAL_*4          |
+-----------+-----------+--------------------+

.END LITERAL
.LEFT MARGIN -18

.P 0;By default a value of 0 is used for BYTE type DTI files, -32767 for
WORD type DTI files and 80000000 Hex for LONGWORD and -1.0E-38 for REAL 
type DTI files.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;Causes all occurrences of the standard null value in 
DTI files to be replaced by the user specified null value in the output 
file. Just entering the command with no value parameter causes the standard 
null value to be restored.


.P0;^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P0; Default value restored

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^*NULL -1_<CR_>\*
.BR;Null value set to -1
.BR;DTI2TEXT> ^*NULL_<CR_>\*
.BR;Default value restored
.BR;DTI2TEXT> 






.!******************************************************************************
.PAGE
.SUBTITLE PAUSE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*PAUSE\*
.INDEX DTI2TEXT> commands> PAUSE
.INDEX DTI2TEXT> PAUSE command

.LEFT MARGIN +8
.P 0;Pauses DTI2TEXT execution.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                PAUSE \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;Pauses DTI2TEXT execution and issues a prompt for a carriage return to
continue execution. This command is designed for use in software demonstration
situations.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*_ None.


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^*PAUSE_<CR_>\*
.BLANK
.BLANK
.BR;Press <RETURN> to continue^*_<CR_>\*
.BR;DTI2TEXT> 






.!******************************************************************************
.PAGE
.SUBTITLE QUIT command
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*QUIT\*
.INDEX DTI2TEXT> commands> QUIT
.INDEX DTI2TEXT> QUIT command

.LEFT MARGIN +8
.P 0;Quit from DTI2TEXT.
.LEFT MARGIN -8

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*FORMAT:     QUIT\*

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Command parameters:\*#None.

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Description:\*
.P 0;The QUIT command causes DTI2TEXT to exit immediately, closing the input 
file and closing and deleting the output file.

.P 0;<CTRL/Z> (pressing the Ctrl and Z keys together) may also be used
to quit from the program.

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*#None.

.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^^^*Examples:\*

.P0;DTI2TEXT_> ^^^*QUIT_<CR_>\*
.BR;#ELAPSED: 00:00:20.04  CPU: 0:00:04.71  BUFIO: 281  DIRIO: 46  FAULTS: 263 
.BR;_$


.!******************************************************************************
.PAGE
.SUBTITLE RETURN command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*RETURN\*
.INDEX DTI2TEXT> commands> RETURN
.INDEX DTI2TEXT> RETURN command

.LEFT MARGIN +8
.P 0;Restores command input from an indirect file to SYS$COMMAND.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                RETURN \*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*_ None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;Restores command input from an indirect file to SYS$COMMAND.
.P 0;A typical application is to allow the user to use an indirect command file
to set up those run time defaults which are constant within a flowline and then
return to input from the terminal (or batch stream) for the run specific
commands. To do this RETURN must be the last command in the indirect command
file. 

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following messages are specific to the RETURN command:
.P 0;RETURN command detected - returning to terminal input
.BR;RETURN command ignored - command input is already from terminal

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^*@FLOW2_<CR_>\*
.BR;DTI2TEXT> ENABLE DIAGNOSTICS
.BR;DTI2TEXT> RETURN
.BR;DTI2TEXT>

.!******************************************************************************
.PAGE
.SUBTITLE   SHOW ENABLE command
.INDEX DTI2TEXT> commands> SHOW ENABLE
.INDEX DTI2TEXT> SHOW ENABLE command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW ENABLE\*

.LM +8
.p 0;Shows the current status of those options that may be enabled by means of
the ENABLE command, or disabled using the DISABLE command.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SHOW ENABLE

.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Command parameters:\*#None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.p 0; Displays the current status of all the DTI2TEXT options that may be
enabled or disabled using the ENABLE and DISABLE commands.
.BR; The name of the option is shown, followed by either the word ON or OFF
to indicate its current status.
.BR; If the command SHOW ENABLE is used before any ENABLE or DISABLE commands
have been given, the default status of the options is displayed.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P0;The following message is specific to the SHOW command:

.LIT

*** ERROR *** Specifying command SHOW

Available SHOW command qualifiers are:

ENABLE     FILES    FORMAT    NULL    UNITS

.END LIT
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
             
.P0;DTI2TEXT>^*SHOW ENABLE_<CR_>\*

.LIT

Current status:

ABSOLUTE         On        DIAGNOSTICS      On       NINT             Off

PME              Off
.END LIT
.P0;DTI2TEXT>

.!******************************************************************************
.PAGE
.SUBTITLE   SHOW FILES command
.INDEX DTI2TEXT> commands> SHOW FILES
.INDEX DTI2TEXT> SHOW FILES command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW FILES\*

.LM +8
.p 0;Displays information about the input and output files.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SHOW FILES

.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Command parameters:\*#None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.p 0; Details extracted from the header of the input file are displayed on the
terminal. 
.p0
The name of the output file is also displayed if it has been specified.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P0;The following message is specific to the SHOW command:

.LIT

*** ERROR *** Specifying command SHOW

Available SHOW command qualifiers are:

ENABLE     FILES    FORMAT    NULL    UNITS

.END LIT
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
             
.P0;DTI2TEXT>^*SHOW FILES_<CR_>\*

.LIT

File    :  LSL$DTI:TST.DTI;0
Header  :  LSLA  Data:  WORD

Units are DTI Matrix Values

Matrix Coverage   SW:     1     1  NE:    71    71
Matrix Window     SW:     1     1  NE:    50    50
Matrix Interval    E:     1         N:     1
Value Range         :   139   to    192

.END LIT
.P0;DTI2TEXT>
.!******************************************************************************
.PAGE
.SUBTITLE   SHOW FORMAT command
.INDEX DTI2TEXT> commands> SHOW FORMAT
.INDEX DTI2TEXT> SHOW FORMAT command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW FORMAT\*

.LM +8
.p 0;Displays the current output format string.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SHOW FORMAT

.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Command parameters:\*#None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P0
This command is used to display the currently selected format string as 
specified with the FORMAT command. 
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P0;The following message is specific to the SHOW command:

.LIT

*** ERROR *** Specifying command SHOW

Available SHOW command qualifiers are:

ENABLE     FILES    FORMAT    NULL    UNITS

.END LIT
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
             
.P0;DTI2TEXT>^*SHOW FORMAT_<CR_>\*
.LIT
Current user defined format (20I4)
.END LIT
.P0;DTI2TEXT>
.!******************************************************************************
.PAGE
.SUBTITLE   SHOW NULL command
.INDEX DTI2TEXT> commands> SHOW NULL
.INDEX DTI2TEXT> SHOW NULL command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW NULL\*

.LM +8
.p 0;Displays the current null value.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SHOW NULL

.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Command parameters:\*#None.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P0
The null value specified with the NULL command is displayed on the terminal.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P0;The following message is specific to the SHOW command:

.LIT

*** ERROR *** Specifying command SHOW

Available SHOW command qualifiers are:

ENABLE     FILES    FORMAT    NULL    UNITS

.END LIT
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
             
.P0;DTI2TEXT>^*SHOW NULL_<CR_>\*
.LIT
Current null word value is -32767
.END LIT
.P0;DTI2TEXT>
.!******************************************************************************
.PAGE
.SUBTITLE   SHOW UNITS command
.INDEX DTI2TEXT> commands> SHOW UNITS
.INDEX DTI2TEXT> SHOW UNITS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*SHOW UNITS\*

.LM +8
.p 0;Displays on the terminal the current units of measurement.
.LM -8

.P0
^*--------------------------------------------------------------------------------
.LIT
FORMAT:		 SHOW UNITS

.end lit
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Command parameters:\*#None.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.p 0; Displays the current units of measurement which will be used when defining
an area of interest in the input DTI file with the WINDOW command.

.p0; The UNITS command may be used to change the current units of measurement.
.P0
^*--------------------------------------------------------------------------------\*
.BR;^^^*Messages:\*

.P0;The following message is specific to the SHOW command:

.LIT

*** ERROR *** Specifying command SHOW

Available SHOW command qualifiers are:

ENABLE     FILES    FORMAT    NULL    UNITS

.END LIT
.P0
^^^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
             
.P0;DTI2TEXT>^*SHOW UNITS_<CR_>\*

.LIT
Current WINDOW units are Projection Units.
.END LIT
.BR;DTI2TEXT>



.!******************************************************************************
.PAGE
.SUBTITLE UNITS command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*UNITS\*
.INDEX DTI2TEXT> commands> UNITS

.INDEX DTI2TEXT> UNITS command

.LEFT MARGIN +8
.P 0;Specifies the units of measurement that will be used when defining an area
of interest in the input DTM using the WINDOW command.
The command also controls the units of measurement which will be used
when displaying file header details.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                UNITS units\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;units
.P 0;A keyword defining the measurement units, chosen from: 
.LITERAL

	MATRIX	   Matrix grid interval units, i.e rows and columns
	METRES	   Metres on the ground
	LATLONG	   Latitude and Longitude 
		   (in degrees, minutes and seconds)
	SECONDS    Seconds of arc
	PROJECTION Projection Record Units (eg. mms on the source document)
.END LITERAL
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*

.P 0;The UNITS command enables the user to specify in what units of measurement
he wishes to define an area of interest in the input DTM using the WINDOW
command. The command also controls in what format details from the header of
the DTM are given. 

.BR;The command should be given after defining the DTI file containing the
input DTM, since an appropriate default units of measurement is set up whenever
an input DTI file is opened. 
.P0;The UNITS command should be given after opening the DTI file, but
before the WINDOW command, should the user wish to specify WINDOW command
arguments in a different measurement system to the file-type default. 
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*
.P 0;The following error messages are specific to the UNITS command:

.NO FILL
_*_*_* ERROR _*_*_* Specifying command UNITS
Command qualifiers are MATRIX, METRES, SECONDS, LATLONG or PROJECTION

_*_*_* ERROR _*_*_* Specifying command UNITS
Command qualifier is invalid for the input file

.FILL;.P 0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^*UNITS MATRIX_<CR_>\*
.BR;DTI2TEXT> 

.!******************************************************************************
.PAGE
.SUBTITLE WAIT command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*WAIT\*
.INDEX DTI2TEXT> commands> WAIT
.INDEX DTI2TEXT> WAIT command

.LEFT MARGIN +8
.P 0;Suspend processing for the specified number of seconds.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:                WAIT seconds\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;seconds
.P 0;The number (integer) of seconds for which DTI2TEXT processing is
to be suspended.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;The WAIT command causes processing to be suspended for a specified
number of seconds. It is designed for use in software demonstration 
situations and is of no value in a production flowline.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following warning message is specific to the WAIT command:
.P 0;_*_*_*_ WARNING_ _*_*_*_ You must specify the number of seconds to wait

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^*WAIT 4_<CR_>\*
.BR;DTI2TEXT>



.!******************************************************************************
.PAGE
.SUBTITLE WINDOW command
.P0
^*--------------------------------------------------------------------------------\*
.BR;^*WINDOW\*
.INDEX DTI2TEXT> commands> WINDOW
.INDEX DTI2TEXT> WINDOW command

.LEFT MARGIN +8
.P0;Specifies the limits of the data area to be converted to text format.
.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*FORMAT:        WINDOW xmin ymin xmax ymax\*


.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Command parameters:\*

.LEFT MARGIN +8
.P-8;xmin ymin
.P 0;The coordinates of the bottom left hand corner of the defining rectangle.
.BLANK
.P-8;xmax ymax
.P 0;The coordinates of top right hand corner of the defining rectangle.
.P0;The format of the command parameters is controlled by the UNITS command.
.LIST " "
.LE; UNITS MATRIX -  Requires 4 integer values defining the rectangle in terms
of column and row numbers
.LE; UNITS METRES -  Requires 4 real (floating point) values defining the
rectangle as metre offsets from the SW corner of the DTM. By default, or if the ENABLE ABSOLUTE command has
been given, the values are absolute coordinates (eg. U.K. National Grid
coordinates); if the DISABLE ABSOLUTE command has been given, then the
coordinates are offsets from the SW corner of the matrix.
.LE; UNITS SECONDS - Requires 4 real (floating point) values defining the
absolute position of the rectangle in seconds of arc.  The values are supplied
in the order latitude followed by longitude for the SW corner, and latitude
followed by longitude for the NE corner.  A negative latitude value indicates a
position in the Southern Hemisphere, and a negative longitude value a point to
the west of Greenwich. 
.LE; UNITS LATLONG - Requires 4 values defining the absolute latitude and
longitude position of the rectangle in the format DDD MM SS H where DDD is
the number of degrees, MM is the number of minutes, SS is the number of
seconds, and H is the hemisphere (N,S,E,W). The values are supplied in the
order latitude followed by longitude for the SW corner, and latitude 
followed by longitude for the NE corner.
.LE; UNITS PROJECTION  Requires 4 real (floating point) values defining the
rectangle in projection record units.  By default, or if the ENABLE ABSOLUTE
command has been given, the values are absolute coordinates; if the DISABLE
ABSOLUTE command has been given, then the coordinates are offsets from the SW
corner of the matrix. 
.END LIST
.P0;Note that in all cases, the input values are adjusted to the nearest
column and row values.
.P0;If the command is given from the table menu, or the command WINDOW is
given without any arguments, you will be asked to supply the values in
response to explanatory prompts.

.LEFT MARGIN -8

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*DESCRIPTION:\*
.P 0;The command is used to define rectangular limits to the area of 
data to be converted to text. The limits must be specified
in the order bottom left hand (or south west) corner then top right hand 
(or north east) corner.

.P 0;The WINDOW command can be used to clip data from the input DTI file.
If input is to be from an entire DTI file then the WINDOW command may be
omitted as the WINDOW extents will then, by default, be taken from the DTI
file header.

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Messages:\*

.P 0;The following warning messages are specific to the WINDOW command:
.BLANK
.P 0;_*_*_*_ ERROR_ _*_*_*_*_ Specifying DTI window 
Command requires 2 x,y coordinate pairs (SW and NE)
.P 0;_*_*_*_ ERROR_ _*_*_*_*_ Specifying DTI window
NE coordinates should exceed SW coordinates
.P 0;_*_*_*_ WARNING_ _*_*_*_ Specified window exceeds matrix limits
Window will be truncated to fit

.P0
^*--------------------------------------------------------------------------------\*
.BR;^*Examples:\*
.BLANK
.BR;DTI2TEXT> ^*WINDOW 0.0 0.0 120.0 120.0_<CR_>\*
.BR;DTI2TEXT> 

.!******************************************************************************
.!*** EXAMPLES                                                               ***
.!******************************************************************************
.PAGE
.SUBTITLE
.FIGURE 5
.STYLE HEADERS ,,,,1
.CENTRE; ^^^*DTI2TEXT_ examples\*
.INDEX DTI2TEXT> EXAMPLES
.STYLE HEADERS ,,,,7

.PAGE
^*--------------------------------------------------------------------------------\*
.SUBTITLE EXAMPLES
.HL 1 ^^^*EXAMPLES\*
.BLANK2
.NO FILL
$ DTI2TEXT
DTI2TEXT> ^*ENABLE DIAGNOSTICS_<CR_>\*
DTI2TEXT> ^*FILEIN TST_<CR_>\*
DTI file LSL$DTI:TST.DTI;0 opened for read

File    :  LSL$DTI:TST.DTI;0
Header  :  LSLA  Data:  WORD

Units are Metres

Matrix Coverage   SW:       0.00       0.00    NE:      70.00      70.00
Matrix Interval    E:       1.00                N:       1.00
Value Range         :   139   to    192

DTI2TEXT> ^*FILEOUT TST_<CR_>\*
Text output file TST.DAT opened
DTI2TEXT> ^*UNITS MATRIX_<CR_>\*
DTI2TEXT> ^*WINDOW 1 1 50 50_<CR_>\*
DTI2TEXT> ^*SHOW FILES_<CR_>\*

File    :  LSL$DTI:TST.DTI;0
Header  :  LSLA  Data:  WORD

Units are DTI Matrix Values

Matrix Coverage   SW:     1     1  NE:    71    71
Matrix Window     SW:     1     1  NE:    50    50
Matrix Interval    E:     1         N:     1
Value Range         :   139   to    192

Text File TST.DAT selected for output.

DTI2TEXT> ^*FORMAT 20I4_<CR_>\*
DTI2TEXT> ^*SHOW FORMAT_<CR_>\*
Current user defined format (20I4)
DTI2TEXT> ^*GO_<CR_>\*

Converting from DTI file LSL$DTI:TST.DTI;0 to text file TST.DAT.

Details of input DTI file :


File    :  LSL$DTI:TST.DTI;0
Header  :  LSLA  Data:  WORD

Units are DTI Matrix Values

Matrix Coverage   SW:     1     1  NE:    71    71
Matrix Window     SW:     1     1  NE:    50    50
Matrix Interval    E:     1         N:     1
Value Range         :   139   to    192


   Converting columns 1 to 4
   Converting columns 5 to 8
   Converting columns 9 to 12
   Converting columns 13 to 16
   Converting columns 17 to 20
   Converting columns 21 to 24
   Converting columns 25 to 28
   Converting columns 29 to 32
   Converting columns 33 to 36
   Converting columns 37 to 40
   Converting columns 41 to 44
   Converting columns 45 to 48
   Converting columns 49 to 50
DTI2TEXT>
.FILL
.p0; This example shows a typical COMMAND sequence for  DTI2TEXT
.P0;Diagnostic printout is  enabled with the ENABLE DIAGNOSTICS 
command.
.P0;The input DTI file (TST.DTI) and the output text file (DTI.DAT) are 
specified using the FILEIN and FILEOUT commands respectively. 
.P0;The units are then set to those of the matrix of the DTI file, and a 
window in the input DTI file to be converted is specified with the 
window command. SHOW FILES illustrates that the specified window has been 
set. 
.P0;Next, a user defined format is entered using the FORMAT command, and its 
effect checked using SHOW FORMAT.
.P0;Finally, the actual conversion is started by the GO command. The 
diagnostic printout gives details of the files involved and of the progress of 
the conversion through the columns which are to be processed.
.P0;The DTI2TEXT prompt returns after the conversion is complete, so that 
further commands to process other files may be issued.

.!*************************************************************************
.!*************************************************************************
.PAGE
.NO FILL
$ ^*DTI2TEXT_<CR_>\*
DTI2TEXT> ENABLE DIAGNOSTICS_<CR_>\*
DTI2TEXT> ^*FILEIN UHL1_<CR_>\*1

DTI file LSL$DTI:UHL1.DTI;0 opened for read

File    :  LSL$DTI:UHL1.DTI;0
Header  :  UHL1  Data:  WORD

Units are degrees, minutes, seconds

Matrix Origin       :  52 00 00S   58 00 00W  
Matrix Coverage   SW:  52 00 00S   58 00 00W   NE:  51 50 00S   57 39 20W  
Matrix Window     SW:  52 00 00S   58 00 00W   NE:  51 50 00S   57 39 20W  
Matrix Interval    E:          2                N:          1
Value Range         :     0   to    321

DTI2TEXT> ^*FILEOUT UHL1_<CR_>\*
Text output file UHL1.DAT opened
DTI2TEXT> ^*GO_<CR_>\*

Converting from DTI file LSL$DTI:UHL1.DTI;0 to text file UHL1.DAT.

Details of input DTI file :


File    :  LSL$DTI:UHL1.DTI;0
Header  :  UHL1  Data:  WORD

Units are degrees, minutes, seconds

Matrix Origin       :  52 00 00S   58 00 00W  
Matrix Coverage   SW:  52 00 00S   58 00 00W   NE:  51 50 00S   57 39 20W  
Matrix Window     SW:  52 00 00S   58 00 00W   NE:  51 50 00S   57 39 20W  
Matrix Interval    E:          2                N:          1
Value Range         :     0   to    321


   Converting columns 1 to 62
   Converting columns 63 to 124
   Converting columns 125 to 186
   Converting columns 187 to 248
   Converting columns 249 to 310
   Converting columns 311 to 372
   Converting columns 373 to 434
   Converting columns 435 to 496
   Converting columns 497 to 558
   Converting columns 559 to 620
   Converting columns 621 to 621
DTI2TEXT> ^*SHOW FILES_<CR_>\*

DTI input file not yet specified
Text output file not yet specified

DTI2TEXT> ^*SHOW ENABLE_<CR_>\*
.LIT

Current status:
 
ABSOLUTE          On       DIAGNOSTICS       On       NINT             Off       
PME              Off       

.END LIT
DTI2TEXT>
.FILL
.P0;The example above illustrates the conversion of a DTI file of integer word 
data to a text file with the diagnostic printout enabled. The SHOW FILES and
SHOW ENABLE commands after the conversion has completed demonstrates that 
the input and output 
files have been closed, but that the other conditions, such as whether 
diagnostics are enabled, or whether rounding to integers is enabled, 
still hold for any subsequent conversions 
carried out in this session of DTI2TEXT. Any window specified is reset when 
the DTI file is closed, and so must be reentered after each FILEIN command.
 
.!*******************************************************************
.!*******************************************************************
.PAGE
.NO FILL
####.
####.
####.
####.
DTI2TEXT> ^*FILEIN REAL_<CR_>\*
DTI file LSL$DTI:REAL.DTI;0 opened for read

File    :  LSL$DTI:REAL.DTI;0
Header  :  LSLA Data:  REAL

Units are DTI matrix values

Matrix Coverage   SW:     1     1  NE:    50    50
Matrix Window     SW:     1     1  NE:    50    50
Matrix Interval    E:     1         N:     1
Value Range         :     -5.00 to  326421.00

DTI2TEXT> ^*FILEOUT REAL_<CR_>\*
Text output file REAL.DAT opened
DTI2TEXT> ^*ENABLE DIAGNOSTICS_<CR_>\*
DTI2TEXT> ^*ENABLE NINT_<CR_>\*
DTI2TEXT> ^*FORMAT 20I4_<CR_>\*
DTI2TEXT> ^*GO_<CR_>\*
.LIT
*** ERROR *** Text field format too narrow, please redefine 
.END LIT
DTI2TEXT> FORMAT_<CR_>\*

Current format is (20I4)
Enter new format, or press <return> to invoke default (10F8.3 or 10I8).
New format, eg 12F6.2 or 8I10 ? ^*_<CR_>\*
DTI2TEXT> ^*GO_<CR_>\*

Converting from DTI file LSL$DTI:REAL.DTI;0 to text file REAL.DAT.

Details of input DTI file :


File    :  LSL$DTI:REAL.DTI;0
Header  :  LSLA  Data:  REAL

Units are DTI matrix values

Matrix Coverage   SW:     1     1  NE:    50    50
Matrix Window     SW:     1     1  NE:    50    50
Matrix Interval    E:     1         N:     1
Value Range         :     -5.00 to  326421.00


   Converting columns 1 to 4
   Converting columns 5 to 8
   Converting columns 9 to 12
   Converting columns 13 to 16
   Converting columns 17 to 20
   Converting columns 21 to 24
   Converting columns 25 to 28
   Converting columns 29 to 32
   Converting columns 33 to 36
   Converting columns 37 to 40
   Converting columns 41 to 44
   Converting columns 45 to 48
   Converting columns 49 to 50
DTI2TEXT> ^*QUIT_<CR_>\*
 ELAPSED:    0 00:15:20.28  CPU: 0:01:08.46  BUFIO: 348  DIRIO: 1481  FAULTS: 232 
$
.FILL
.P0;In this example, a DTI file of real data is converted to a text output 
file. The ENABLE NINT command means that the data in the text file will be 
rounded to the nearest integer. FORMAT is used first to set up a format 
which is subsequently rejected when GO is issued. It is then used to 
reinstate the default output formats.

.!******************************************************************************
.!*** MESSAGES                                                               ***
.!******************************************************************************

.PAGE
.SUBTITLE
.FIGURE 5
.STYLE HEADERS ,,,,1
.CENTRE; ^^^*DTI2TEXT_ messages\*
.INDEX DTI2TEXT> MESSAGES
.STYLE HEADERS ,,,,7

.REQUIRE 'DTI2TEXTMSG.RNO'

