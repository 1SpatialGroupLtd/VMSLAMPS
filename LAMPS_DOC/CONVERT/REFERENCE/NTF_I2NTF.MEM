%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 1; on input line 8 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTF.RNO;26"








**.!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 1; on input line 15 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTF.RNO;26"



                                                                Page 2

UTILITY I2NTF





*--------------------------------------------------------------------------------*







1  *UTILITY I2NTF*



%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 2; on input line 20 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTF.RNO;26"


*--------------------------------------------------------------------------------*







1.1  *FUNCTION*



          I2NTF reads a series of IFF files and outputs  NTF  data  to  file  or

          magnetic  tape.   The user may select which NTF level or version is to

          be output use of qualifiers on the command line.



%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 2; on input line 33 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTF.RNO;26"


*--------------------------------------------------------------------------------*







1.2  *FORMAT*



          $ I2NTF input-file-spec,...  output-file-spec



          *Command qualifiers                        Defaults*



          The following qualifiers may be entered on the command line



          /[NO]CITF='integer'                        /NOCITF

          /DENSITY='integer'                         /DENSITY=1600

          /FRT='file-spec'                           See description below

          /INPUT_LIST='file-spec'                    See description below

          /[NO]LOG                                   /NOLOG

          /[NO]OS                                    /NOOS

          /[NO]WATER_DISTRIB                         /NOWATER_DISTRIB

          /[NO]OUTPUT='file-spec'                    /NOOUTPUT

          /PARAMETER_FILE='file-spec'                No parameter file

          /[NO]SERIAL_MAGTAPE                        /NOSERIAL_MAGTAPE



          The remaining qualifiers may be entered either on the command line  or

          in the parameter file



          /ATTRIBUTE_FILE='file-spec'                See description below

          /COPYRIGHT='yyyymmdd'                      /COPYRIGHT=00000000

          /DONOR="'text'"                            /DONOR="Laser-Scan Ltd."

          /DBNAME="'text'"                           /DBNAME='RECIPIENT'

          /DDNAME="'text'"                           /DDNAME="DEFAULT_02.00"

          /DDATE="'yyyymmdd'"                        /DDATE="19890401"

          /DIFF_HT_LEN                               /DIFF_HT_LEN=5

          /FCNAME="'text'"                           /FCNAME="        "

          /FCDATE="'yyyymmdd'"                       /FCDATE="        "

          /FC_LOOKUP='file-spec'                     No lookup file

          /FEATCLASS_FILE='file-spec'                No classification file

          /FIXED                                     /NOFIXED


                                                                Page 3

*UTILITY I2NTF*





          /LEVEL='integer'                           /LEVEL=2

          /POINT_SIZE                                /NOPOINT_SIZE

          /RECIPIENT="'text'"                        Required

          /ROUND                                     /NOROUND

          /SERIAL='integer'                          /SERIAL=0000

          /VERSION='real'                            /VERSION=2.0

          /XY_LEN='integer'                          /XY_LEN=10          

          /XY_MULT='real'                            /XY_MULT=.001

          /Z_DATUM='integer'                         /Z_DATUM=0

          /Z_LEN='integer'                           /Z_LEN=6

          /Z_MULT='real'                             /Z_MULT=1.0

          /Z_UNIT='integer'                          /Z_UNIT=2 (metres)



%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 3; on input line 95 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTF.RNO;26"


*--------------------------------------------------------------------------------*







1.3  *PROMPT*



          _Input IFF files:          input-file-spec,...

          _Output destination:       output-file-spec



          If /INPUT_LIST is specified instead of an input  IFF  file,  then  the

          file  given  as  argument to the qualifier will be opened, and the IFF

          file-specs will be read from the file, one per line, with a maximum of

          500  files.   Note  that  /INPUT_LIST  must  be  specified  before the

          output-file-spec



%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 3; on input line 114 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTF.RNO;26"


*--------------------------------------------------------------------------------*







1.4  *PARAMETERS*



input-file-spec



        - specifies the input file or files to be translated to  NTF.   No  more

          than  eight  files may be specified in this manner - if more files are

          to be translated in one program run, then  the  /INPUT_LIST  qualifier

          must  be  used.  Any part of the first file-spec that is not specified

          will be  completed  from  the  default  of  "LSL$IF:IFF.IFF;0".   Each

          file-spec  after that will be completed using the appropriate parts of

          the previous file-spec (as for the VMS COPY utility).  IFF  files  are

          read and output in the order in which they are specified.



output-file-spec



        - specifies where the NTF data is to be written.  This may be either the

          name  of  a magnetic tape drive (e.g. MTA0:), or the name of a file on

          disk (e.g. TEST.NTF).  If the output is to tape then the colon at  the

          end  of the device name must be provided.  The default output filespec

          is SYS$DISK:[].NTF

%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 3; on input line 143 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTF.RNO;26"



                                                                Page 4

*UTILITY I2NTF*





*--------------------------------------------------------------------------------*







1.5  *COMMAND QUALIFIERS*



          The qualifiers accepted by I2NTF fall into two categories.  The  first

          of  these  are  commands  relating  to  the  environment  in which the

          conversion will take place such as the  /DENSITY  and  /PARAMETER_FILE

          qualifiers.  These may be entered on the command line when the program

          is called.  The second group of qualifiers includes  those  qualifiers

          directly  relating  to  fields  in  the  NTF  file  format such as the

          /RECIPIENT, /LEVEL and /X_MULT qualifiers.  These commands may also be

          entered  on  the  command  line but, in addition, may be included in a

          parameter file indicated by the /PARAMETER_FILE  parameter.   See  the

          /PARAMETER_FILE entry below for further information.









1.5.1  *Command Line Qualifiers* -



          The following qualifiers may be entered on the command line only.



/CITF='integer'

/NOCITF (default)



        - specifies which version of CITF is to be created.



          /CITF=93 specifies that the CITF file to be created must use OS93 data

          structures.



          /CITF=96 specifies that the CITF file to be created must use OS96 data

          structures.



          The use of /CITF with no parameter defaults to /CITF=96.



          Any NTF lines in the Map Header (type 4) are to be read and copied  to

          the  NTF  file (which has file extension .CITF) after checking for any

          inaccuracies as far as is possible, and warnings output if an error is

          encountered.



          See  the  separate  section  below  for  a  full  description  of  the

          differences between CITF and other NTF output.



/DENSITY='integer'



        - selects the density at which the magnetic tape will be written.  It is

          ignored  if  output is not to a magnetic tape.  The default density is

          1600 bpi and the other supported densities are 800 and 6250 bpi.


                                                                Page 5

*UTILITY I2NTF*





/INPUT_LIST='file-spec'



        - specifies a  file  containing  the  names  of  the  IFF  files  to  be

          processed.   If this qualifier is given, then all input IFF files must

          be specified within the input list file - any input file-specs on  the

          command line will not be recognised.  This qualifier must occur before

          the output file-spec, if it is used.



          The input list file contains the names of the IFF files to be used for

          input,  one  per line, in the order they are to be read.  The standard

          default of "LSL$IF:IFF.IFF;0" is applied to each filename.  There is a

          maximum of 500 files allowed in this list file.



          The default file-spec for the input list file is SYS$DISK:[].I2NTF_LIS



/LOG

/NOLOG (default)



        - specifies  that  additional  information  is  to  be  written  to  the

          terminal.  When the program starts up the names of the IFF files being

          read, and of the device to which the NTF data is  being  written,  are

          logged.   Various  messages  summarising  the form of NTF being output

          will also be produced.  If output to tape is selected then  a  message

          detailing the number of blocks written is given on exit.



/OS

/NOOS (default)



        - specifies that OS(GB) map header information is to be  output  in  the

          free  text  area of the section header relating to each IFF file.  The

          layout of the map header information in the free text area is  defined

          by  OS.  Note that this use of free text space is allowable within the

          standard.  All IFF files transferred  using  the  /OS  qualifier  must

          contain  a  valid  OS style map header entry.  It also causes all text

          heights to be read as OS point sizes and converted to mm.  as required

          for NTF.



/WATER_DISTRIB

/NOWATER_DISTRIB (default)



        - specifies that output is to  match  the  specification  given  in  the

          document  "Specification  for  representation  of  North  West Water's

          digitised distribution overlays in NTF level 3  format",  produced  by

          ISTEL  (Jan  1990).   At  present,  this qualifier cannot be used when

          outputting version 2.0 (BS7567) data.



/OUTPUT='file-spec'

/NOOUTPUT (default)



        - specifies that information  about  the  files  being  output  in  NTF,

          together with the form of NTF being produced, should be written to the

          specified log file.  All comment records output will also be copied to

          the  file,  prefixed  with "//".  This output file may then be printed

          and used as documentation for the data  on  the  magnetic  tape.   The


                                                                Page 6

*UTILITY I2NTF*





          default file-spec for the log file is SYS$DISK:[]I2NTF.LOG



/PARAMETER_FILE='file-spec'



        - indicates  that  a  parameter  file   exists   containing   additional

          qualifiers.   Qualifiers  given  on  the  command  line override those

          specified in the parameter file.  For  example,  if  NTF  level  1  is

          selected  in  the  parameter  file  but  /LEVEL=2  is requested on the

          command line then all output will be to NTF level 2.   Note  that  not

          all qualifiers are allowed in the parameter file - see below.



          It is advised that only one qualifier is entered on each line  in  the

          parameter file so that it can be read and edited easily.  Comments may

          be used freely - any data after an exclamation mark (!) is treated  as

          comment and ignored.



          The default file-spec for the parameter file is SYS$DISK:[].I2NTF_PAR.



/SERIAL_MAGTAPE

/NOSERIAL_MAGTAPE (default)



        - indicates that the standard output for the program is a magnetic  tape

          drive  connected via a DIL serial controller interface.  The qualifier

          is ignored if output is to a device  which  is  mounted  /FOREIGN  (in

          which case output is to a standard magnetic tape drive).  If output is

          requested to a terminal device then it will be assumed  that  this  is

          the DIL controller.


                                                                Page 7

*UTILITY I2NTF*





1.5.2  *Command Line Or Parameter File Qualifiers* -



          The following qualifiers may be entered either on the command line  or

          in the parameter file.



/ATTRIBUTE_FILE='file-spec'



        - gives the file in which NTF attribute mnemonics  are  associated  with

          IFF  AC  names.  If this qualifier is not given then no attributes are

          transferred.



/COPYRIGHT='yyyymmdd'



        - specifies an overriding copyright date for all files being  output  to

          NTF,  in  the  form yyyymmdd (for instance, 19870218 for 18th February

          1987).  This copyright date will be used for all files being output.



          If /COPYRIGHT is  not  specified,  and  /OS  is  specified,  then  the

          copyright  date  for  each  file will be taken from its (OS style) map

          header.  If /OS is not specified, a  copyright  of  00000000  will  be

          used.



/DONOR="'text'"



        - specifies the name of the sender of the data.  The donor name  may  be

          up  to  20  characters  long  with  truncation  occurring  if  this is

          exceeded.  The default is "Laser-Scan Ltd.".



/DBNAME="'text'"



        - specifies the name of  the  database.   The  name  may  be  up  to  20

          characters  long  with  truncation occurring if this is exceeded.  The

          default is the name given for the recipient of the data.



/DDNAME="'text'"



        - specifies the name of the data dictionary.  The name may be up  to  20

          characters  long  with  truncation occurring if this is exceeded.  The

          default is "DEFAULT_02.00".



/DDATE="'yyyymmdd'"



        - specifies the date associated with the data dictionary.   The  default

          is "19890401".



/DIFF_HT_LEN='integer'



        - specifies the width of the field  used  to  store  DIFF_HT  fields  in

          GEOMETRY2 records, only valid in CITF.  The default value is 5.


                                                                Page 8

*UTILITY I2NTF*





/FCNAME="'text'"



        - specifies the name of the feature classification scheme.  The name may

          be  up  to  20  characters  long  with truncation occurring if this is

          exceeded.  The default is " ".



/FCDATE="'yyyymmdd'"



        - specifies the date associated with the feature classification  scheme.

          The default is " ".



/FC_LOOKUP='file-spec'



        - specifies the feature code lookup table parameter file to be used.  If

          this  qualifier  is  not  given,  all  feature  codes  are  translated

          verbatim.



/FEATCLASS_FILE='file-spec'



        - gives the file from which a feature classification  scheme  is  to  be

          read.  If this file is present [FEATCLASS] records will be output.



/FIXED

/NOFIXED (default)



        - specifies that the NTF file is to be output in fixed length records of

          80  characters.   The  default option is for the records to be only as

          long as they need to be with a maximum length of 80 characters.   This

          can result in considerable space savings.



/FRT='file-spec'



        - this qualifier gives the name  of  the  Feature  Representation  Table

          (FRT)  which  holds  information about IFF attributes.  If this is not

          given no attributes  are  transferred.   The  qualifier  may  only  be

          entered  on the command line and should not be used inside a parameter

          file.



/LEVEL='integer'



        - specifies the NTF level that is to be output.  This may be either 1, 2

          or 3, and defaults to 1.



/POINT_SIZE

/NOPOINT_SIZE (default)



        - specifies that the IFF file text heights  are  to  be  interpreted  as

          point sizes (for CITF only).


                                                                Page 9

*UTILITY I2NTF*





/RECIPIENT="'text'"



        - specifies the name of the recipient of the data.  The  recipient  name

          may  be  up to 20 characters long and truncation will occur if this is

          exceeded.  The recipient name is  required  -  it  must  be  specified

          either within the parameter file or on the command line.



/ROUND

/NOROUND (default)



        - specifies that output co-ordinates should  be  explicitly  rounded  to

          seven  significant  figures  if needed.  Figures after the seventh are

          padded with zeroes.  This facility may  be  useful  to  maintain  data

          integrity with small-scale data.



/SERIAL='integer'



        - specifies the volume serial number.  This should be an integer between

          1  and  9999.   If  the qualifier is not given then a default value of

          zero is used.



/VERSION='real'



        - specifies the version of the NTF file to be created.  If the qualifier

          is  not given then a default value of 2.0 is used which will result in

          the output of NTF version 2.0 (BS7567) data.   Acceptable  values  for

          this qualifier are 1.1 and 2.0.



/XY_LEN='integer'



        - specifies the width of the field used to store X and Y coordinate data

          in  NTF.   If a value is chosen that is not large enough to store some

          values in the file (as  determined  by  inspecting  the  file's  range

          entry)  then  an  error  message is output and an alternative value is

          suggested.  The default value is 10.



/XY_MULT='real'



        - all X and Y coordinates are divided by the value specified  with  this

          qualifier  before being output to NTF.  This qualifier is thus used to

          specify the precision of planimetric data  in  the  NTF  output.   The

          default value is 0.001, meaning that X and Y coordinates are stored as

          thousandths of an IFF unit.



/Z_DATUM='integer'



        - this qualifier is used to specify the 'notional' origin of Z values in

          the IFF files being output.  This datum value is stored in the section

          header for each sheet - it is  not  actually  subtracted  from  the  Z

          value.  The default Z datum is 0.


                                                               Page 10

*UTILITY I2NTF*





/Z_LEN='integer'



        - specifies the width of the field used to store Z  coordinate  data  in

          NTF.   If  a  value  is  chosen that is not large enough to store some

          values in the file (as  determined  by  inspecting  the  file's  range

          entry)  then  an  error  message is output and an alternative value is

          suggested.  The default value is 6.  This qualifier may not be used at

          level 1.



/Z_MULT='real'



        - all Z values are divided by the value specified  with  this  qualifier

          before  being  output  to NTF.  This qualifier is thus used to specify

          the precision of height data in the NTF output.  The default value  is

          1.0,  meaning  that Z values are stored using the same units as in the

          IFF file.



/Z_UNIT='integer'



        - specifies the units in which height data is stored.  The value may  be

          any of:



              1= degrees,

              2= metres,

              3= feet.



          The default units are metres, ie a value of 2.

%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 10; on input line 492 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTF.RNO;26"



                                                               Page 11

*UTILITY I2NTF*





*--------------------------------------------------------------------------------*







1.6  *RESTRICTIONS*





           o  Restrictions on qualifiers



               o  Both /CITF and /OS are not allowed  together  on  the  command

                  line.



               o  If /CITF has been requested, the /FRT qualifier must be  given

                  for the attribute names required in the CITF translation.



               o  If the  /INPUT_LIST  qualifier  is  used,  any  qualifiers  or

                  file-specs  occurring  before  it  will  be ignored.  Thus the

                  /INPUT_LIST qualifier should always be the first item  on  the

                  command line.



               o  The /RECIPIENT qualifier is required, either  on  the  command

                  line or in the parameter file.



               o  The /Z_LEN qualifier requires transfer level 2 or 3.



               o  If a qualifier is used both on the command  line  and  in  the

                  parameter  file,  the  value  specified on the command line is

                  used.



               o  /FRT, /ATTRIBUTE_FILE and /LEVEL=2 or  /LEVEL=3  must  all  be

                  given  if  attribute  transfer  is  required.   If  any one is

                  missing no attributes will be transferred.  However, at  level

                  1,  a  single attribute (AC 2 or 3) can be transferred without

                  the use  of  /ATTRIBUTE_FILE  since  this  qualifier  is  only

                  intended to be used at levels 2 and 3.



           o  The IFF files



               o  The IFF files being input must have a type  2  map  descriptor

                  (MD)  entry,  which must be correctly set.  If this is not the

                  case, use ITRANS/DESCRIPTOR to  create  a  valid  type  2  map

                  descriptor.



               o  The coordinates in the IFF file must be in either feet, metres

                  or  degrees.   If  the data is not in one of these units, then

                  use ITRANS to transform the IFF file.



               o  The program will ignore all data in layer 0,  and  output  all

                  other layers without distinction.



               o  Each IFF file is output to a separate NTF  section,  with  the

                  section  reference  taken from the IFF file name (truncated to

                  10 characters).


                                                               Page 12

*UTILITY I2NTF*





               o  Features are output as  lines,  symbols  or  text,  using  the

                  text/symbol   bits   in  the  feature  status  (FS)  entry  to

                  distinguish the different forms.  Thus  the  IFF  file  should

                  have these bits set correctly (reading an IFF file into LITES2

                  with the correct  FRT  file  will  set  the  text/symbol  bits

                  correctly).



               o  The original IFF feature serial numbers (FSNs) are not used in

                  the NTF data being produced.



               o  At NTF level 1 only contour height ACs (types  2  and  3)  are

                  translated.  All other types of AC are ignored (with a warning

                  message).  This is done automatically and the  /ATTRIBUTE_FILE

                  qualifier should not be given.



               o  At NTF level 3 the attribute mnemonics FC and OR are  used  to

                  output  the  feature  code and orientation of a feature in its

                  attribute record.  These mnemonics  should  therefore  not  be

                  used to refer to any other attributes.



               o  If /WATER_DISTRIB is specified any point features with FC  999

                  will   be   output   with   attribute   records  of  the  form

                  "14nnnnnnACxx" (where "nnnnnn" is the  record  identifier  and

                  "xx" is a 2 character mnemonic).  This is a requirement of the

                  ISTEL specification document.   Note  that  /WATER_DISTRIB  is

                  currently not permitted when outputting version 2.0 NTF data.



               o  Composite texts are output as a sequence of simple texts, with

                  no connection between them.



               o  Texts of more than 99 characters in length will  be  truncated

                  before output.



               o  The NTF text font is taken from the text category in  the  IFF

                  text feature.



               o  If an IFF AC is required then  it  must  be  included  in  the

                  ATTRIBUTE file together with it's destination NTF mnemonic.



               o  Any AC's to be transferred must be defined in the  FRT  either

                  by default or explicitly in ACD entries.



               o  There is currently no mechanism  to  direct  an  AC  attribute

                  value  to go into the {VALUE} field of a [LINEREC], [POINTREC]

                  or [NAMEREC] and similarly for NTF v2.0 (level 1 & 2) CHG_TYPE

                  and CHG_DATE attributes.



           o  NTF output



               o  Only levels 1, 2 and 3 of NTF are supported.



               o  The section header field {COPYRIGHT} (ie  copyright  date)  is

                  only set if the data is being output /OS, or if the /COPYRIGHT

                  qualifier has been specified.


                                                               Page 13

*UTILITY I2NTF*





               o  Multivolume datasets are not supported - all of the data being

                  output must fit onto one magnetic tape.



%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 13; on input line 608 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTF.RNO;26"


*--------------------------------------------------------------------------------*







1.7  *DESCRIPTION*



          I2NTF converts one  or  more  maps  from  IFF  (Laser-Scan's  Internal

          Feature  Format) into NTF (National Transfer Format) levels 1, 2 or 3.

          The NTF output maybe to disk, magnetic tape or  a  serial  tape  drive

          depending  on the qualifiers given on the command line.  The input IFF

          files may be specified either on the command line or in  a  text  file

          pointed to by the /INPUT_LIST qualifier.  All of the qualifiers may be

          given on the command line, or alternatively, qualifiers giving  values

          corresponding  directly  to  NTF  fields may be entered in a parameter

          file.



          Before outputting any data, each input IFF file  is  opened  to  check

          that  it exists and is readable.  If /OS has been specified, each file

          is also checked for the presence of an OS(GB) style map header entry.



          The NTF data file starts as follows:



           o  volume header - with the NTF version number set to 1.1 or  2.0  as

              appropriate.



           o  comment - this repeats the donor, and states  that  the  data  was

              produced using Laser-Scan's I2NTF conversion utility.



           o  database header - with  the  {DBNAME}  (database  name),  {DDNAME}

              (data dictionary) and {DDATE} (data dictionary date) fields set to

              their default values, or to values specified  in  the  appropriate

              qualifiers.



           o  feature classification records - these records will be output if a

              feature  classification  file  is  specified.   The values will be

              taken directly from the file, one record  being  output  for  each

              feature.   An  example  of  a feature classification file is shown

              below.  Note that any  unused  fields  should  contain  the  value

              "NONE".   The  field  widths  are of 4, 10, 20 and variable length

              characters for FCODE, CODECOM, STCLASS and FEATDES respectively.

                   ! 

                   !FEATURE         FCODE      CODECOM    STCLASS     FEATDES

                   !

                   FEATURE          0004       A10766      NONE        WOOD

                   FEATURE          0005       B23145      NONE        ROAD

                   FEATURE          0006        NONE       NONE        WATER



              If /WATER_DISTRIB has been specified, an additional field must  be

              included  in  the feature classification file.  A value 'T' or 'F'

              must be appended to each FCODE in the file, to indicate whether or

              not  the  associated  feature  code  should  be  referenced with a


                                                               Page 14

*UTILITY I2NTF*





              NODEREC record.

                   ! 

                   !FEATURE         FCODE      CODECOM    STCLASS     FEATDES

                   !

                   FEATURE          0004T       A10766     NONE        WOOD

                   FEATURE          0005F       B23145     NONE        ROAD

                   FEATURE          0006T       NONE       NONE        WATER



           o  attribute descriptor records - at levels 2 and  3  with  attribute

              transfer  these records will be added to give a description of all

              of the attributes that will occur in the  database.   Each  record

              contains  the  NTF  mnemonic,  the field width, interpretation and

              null, and maximum and minimum values for an attribute.



          Each IFF file is then reopened in turn and output to the NTF file as a

          separate  section.   The  [SECHREC]  (section header) record is output

          with the following values:



           o  {SECT_REF}  - the first 10 characters of the IFF file name

           o  {COORD_TYP} - deduced from the value in the map descriptor

           o  {STRUC_TYP} - always set to 1 for vector data

           o  {XYLEN}     - taken from the /XY_LEN qualifier

           o  {XY_UNIT}   - deduced from the value in the map descriptor

           o  {XY_MULT}   - taken from the /XY_MULT qualifier

           o  {Z_LEN}      - taken from the /Z_LEN qualifier

           o  {Z_UNIT}    - taken from the /Z_UNIT qualifier

           o  {Z_MULT}    - taken from the /Z_MULT qualifier

           o  {X_ORIG}    - taken from the map descriptor

           o  {Y_ORIG}    - taken from the map descriptor

           o  {Z_DATUM}   - taken from the /Z_DATUM qualifier

           o  {XMIN}, etc - taken from the range entry

           o  {XY_ACC}    - left unset

           o  {Z_ACC}     - left unset

           o  {SURV_DATE} and {LAST_AMND} are taken from the map header  if  /OS

              is specified.  {COPYRIGHT} is taken from the /COPYRIGHT qualifier,

              or if that is not  specified,  from  the  map  header  if  /OS  is

              specified.   Otherwise,  all  three  are left unset (ie a value of

              00000000).

           o  {SQNAME} and {SQDATE} - left unset



          If /OS is specified, the following fields are output in the free  text

          area of the section header relating to each IFF file:



           o  {STORAGE_SCALE}         - scale at which the map is stored

           o  {INITIAL_DATABANK_DATE} - when the map was first digitised

           o  {EDITION}               - current edition of the map

           o  {SURVEY_TYPE}           - type of survey of the map

           o  {CONTENT_INDICATOR}     - survey accuracy of the data

           o  {LATEST_REVISION_DATE}  - when a full field examination of the

                                        continuous field revision process

                                        occurred

           o  {BOUNDARY_DATE}         - when the boundary information was last

                                        checked

           o  {DIGITAL_UPDATE_DATE}   - indicates the currency of the data


                                                               Page 15

*UTILITY I2NTF*





           o  {SVY_DATES_FIRST_LAST}  - dates of first and last surveys of the

                                        map

           o  {CONTOUR_VI}            - vertical interval of any contours

           o  {SPECIFICATION_NUMBER}  - specification number current at OS when

                                        the map was digitised

           o  {EDGE_MATCH_STATUS}     - indicates whether the edges have been

                                        matched or not

           o  {MULTI_YEAR_HWM_DATE}   - when the mean HWM dates were last

                                        checked

           o  {MULTI_YEAR_LWM_DATE}   - when the mean LWM dates were last

                                        checked

           o  {HOUSE_UNIT_COUNT}      - used by OS to trigger the supply of

                                        update information

           o  {BOUNDARY_INFORMATION}  - information about the boundaries on the

                                        map

           o  {DIGITAL_UPDATE_COUNT}  - number of updates applied to the map





          Features are read from the IFF file one by one.   They  are  separated

          into  lines,  points  (symbols)  and  names  (texts)  according to the

          text/symbol bits in the  FS  entry.   The  {LINE_ID},  {POINT_ID}  and

          {NAME_ID}  values are maintained independently of the original feature

          serial numbers (FSNs) in the IFF file.  Each type of ID is started  at

          1  and  incremented  for  each  feature  of  the relevant type that is

          output.  For all features, the {FEAT_CODE} is taken directly from  the

          IFF  feature  code  (ie  from  the  FS  entry).   Since  there  is  no

          {FEAT_CODE} field in level  3  linear  features,  at  this  level  the

          feature  code  is  stored  in  an  [ATTREC] referenced by the {ATT_ID}

          field, using the default NTF attribute mnemonic FC.  All security  and

          change fields are left unset.



          Linear  features  are  output  as  a  [LINEREC]  with  an   associated

          [GEOMETRY1]  or [GEOMETRY2] record and the {NUM_PARTS} field set to 1.

          At levels 1 and 2  the  [GEOMETRY*]  record  immediately  follows  the

          [LINEREC]  (the  {GEOM_ID}  field  being  identical  to  the {LINE_ID}

          field), whereas at level 3 the [GEOMETRY*] record is referenced by the

          {GEOM_ID} field.  If the feature has a height AC associated with it in

          the IFF file, then, at levels 1 and 2, the {VALUE} field will  be  set

          to HT followed by the height as six digits (according to Z_MULT, etc).

          At level 3 the {NAME_ID} field references any text feature which is to

          be  used  to  annotate the line, if there is no such text the field is

          set to 0.  In the [GEOMETRY*] record, the {GEOM_ID} field is  set  (as

          expected)  to  match  the {LINE_ID}.  The {GTYPE} field is set to 2 (a

          line).  The {QPLAN} field is set to 0 or 1 for each coordinate pair or

          triple,  indicating  pen up or pen down respectively.  The {QHT} field

          is not currently used.



          Symbol  features  are  output  as  a  [POINTREC]  with  an  associated

          [GEOMETRY1]  or [GEOMETRY2] record.  The procedure is the same as that

          for a [LINEREC].  If the feature has a rotation, then at  level  3  it

          will  be  output  in  an  associated  [ATTREC]  using  the default NTF

          attribute mnemonic OR, whereas  at  levels  1  and  2  an  orientation

          {VALUE} field will be output as OR, followed by the orientation as six

          digits in tenths of a degree.  The [GEOMETRY*] record is output with a


                                                               Page 16

*UTILITY I2NTF*





          {GTYPE} of 1 (a point).



          At version 1.1, text features are output as a [NAMEREC] followed by  a

          [NAMPOSTN] (or a [CURVTEXT] if the text is curved).  In the [NAMPOSTN]

          record, the {FONT} is taken from the text category (in the FS  entry).

          The  {TEXT_HT} is taken from the TH entry.  Since the [NAMEREC] record

          can only transmit up to 99 characters, text features that  are  longer

          than this will be truncated before being output.  The text position is

          given by  a  [GEOMETRY]  record  which  will  immediately  follow  the

          [NAMPOSTN]  (or  [CURVTEXT])  record.   However [CURVTEXT] records are

          currently not output at version 2.0 NTF.



          At version 2.0 level 3,  text  features  are  output  as  a  [TEXTREC]

          record, followed by a [TEXTPOS], [TEXTREP] and [ATTREC] which contains

          the text itself.  The  text  string  will  always  be  written  to  an

          attribute  called  'TX' which must be defined in the attribute file in

          order for there to be a corresponding [ATTDESC] attribute  description

          record in the file.



          Note that composite texts are transmitted as a sequence of  individual

          text features, with separate {NAME_ID}s.



          Additionally, if NTF level 3 version 1.1 output is requested there may

          be  [CHAIN], [CLINE], [NODEREC] and [COLLECT] records.  A [CLINE] (and

          associated [CHAIN]) is output if an IFF feature consists of several ST

          entries  -  one  [GEOMETRY*]  record  being  output  for  each  ST.  A

          [NODEREC] is output for every junction point which occurs  in  the  SH

          (sector  header)  entry of the IFJ file.  A [COLLECT] record is output

          for a group of features if each such feature  has  an  appropriate  AC

          (see the section on Attributes for details).



          Note that the NTF level 3 records [POLY] and [CPOLY] are not used.

%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 16; on input line 824 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTF.RNO;26"



                                                               Page 17

*UTILITY I2NTF*





*--------------------------------------------------------------------------------*







1.8  *Attributes*



          NTF version 1.1 and  above  now  has  a  coherent  definition  of  how

          attributes  are  transferred so now IFF AC values can be easily ported

          to and from NTF.  Firstly an IFF attribute must be associated with  an

          NTF  mnemonic.   This  is done via the new attribute file ( given with

          the /ATTRIBUTE_FILE qualifier ), this file should contain IFF AC names

          together  with  the NTF mnemonic.  There are also 3 flags which should

          be added to the end of each line to specify whether :



          1.  the AC's optional text  field  should  be  read  rather  than  the

              attribute value

          2.  the AC is used to link a text to a linear feature so that the text

              can be used to annotate the feature - only valid at level 3

          3.  the AC is used to  group  several  features  together  so  that  a

              [COLLECT] record may be output - only valid at level 3



          Each flag should have the value T or  F  to  indicate  true  or  false

          respectively,  though  the latter two flags may be omitted at level 2.

          An example of an attribute file is shown below.

               !

               ! Command procedure to tell I2NTF/NTF2I which attributes to 

               ! associate with which NTF mnemonic. The IFF name must be 

               ! present in the FRT file.

               !

               !   Format is:

               ! 

               !ATTRIBUTE IFF_ATT_NAME  NTF_MNEMONIC  TEXT  ANNOTATE  COLLECT

               !

               ATTRIBUTE   LH_BOUNDARY          LH      T       F       F

               ATTRIBUTE   RH_BOUNDARY          RH      T       F       F

               ATTRIBUTE   CONTOUR              CO      F       F       T

               ATTRIBUTE   TEXT                 TX      T       T       F

               ATTRIBUTE   COUNTY_LEFT          CL      T       F       F

               ATTRIBUTE   COUNTY_RIGHT         CR      T       F       F

               ATTRIBUTE   COUNTY_LEFT          CA      F       F       F

               ATTRIBUTE   COUNTY_RIGHT         CB      F       F       F



          In the above attribute file the IFF attribute CONTOUR has its AC value

          transferred  whilst  the  others have the optional text put in the NTF

          attribute.  Note that COUNTY_LEFT and COUNTY_RIGHT have both text  and

          value  transferred,  care  must  be  taken  to  ensure  that  they are

          associated with different NTF attributes.  The IFF  attribute  CONTOUR

          will  be  used  to  group  features  for [COLLECT] records and the IFF

          attribute TEXT will be used to  link  annotated  features  with  their

          associated  texts.   The interpretation of the attribute is taken from

          the FRT file which  must  be  specified  on  the  command  line.   Any

          non-standard AC types must be declared in ACD entries in the FRT file.

          Note also that NTF mnemonics must be 2 characters long.


                                                               Page 18

*UTILITY I2NTF*





          When an AC is used to form annotated features  or  [COLLECT]  records,

          the  value  given  to  this AC should be common to either a text and a

          linear feature, or to those features which are to be grouped  together

          into  the  [COLLECT]  record.   Such  ACs  will not appear in [ATTREC]

          records.  One text feature can be  used  to  annotate  several  linear

          features, but each linear feature can only be annotated with one text.

%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 18; on input line 896 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTF.RNO;26"



                                                               Page 19

*UTILITY I2NTF*





*--------------------------------------------------------------------------------*







1.9  *Conversion of Ordnance Survey CITF data*



          I2NTF will write version 1.0 CITF files which are based upon  level  5

          of  NTF Version 2 as defined by BS7567.  Only CITF files of DATA_MODEL

          2 will be created.









          1.9.1  *The IFF MH Entry And CITF Header Records* -



          If they are present in a type 4 Map  Header  entry,  the  [FEATCLASS],

          [SECHREC],  [TRANSFORM], [MANINFREC] and [EXTREC] header lines will be

          used to created the appropriate records in CITF.  No further FEATCLASS

          entries will be created if there are any in the map header.  This also

          applies to the TRANSFORM, MANINFORM  and  EXTREC  records,  which  may

          therefore only come from the map header.



          Certain values are required to be read from the [SECHREC] record to be

          used  when  interpreting  the  CITF  file  such as {XYLEN}, {XY_UNIT},

          {XY_MULT}, {ZLEN}, {Z_UNIT}, {Z_MULT} and {SCALE}.  These fields  must

          contain  correct  values  reflecting  the  true format of the data for

          successful conversion.



          Warning messages are output if there is any difference  between  those

          fields  such as map scale, range or map origin which are read directly

          from the IFF file, and the values contained in the map header, and the

          map header entries will be ignored.



          Any field width values supplied with qualifiers will  take  precedence

          over the map header values, and will be written to the map header.



          The {DIFF_HT_LEN} size is also required and is in the variable part of

          the  [SECHREC]  as  so  must be precisely defined as the program works

          under the  assumption  that  there  will  be  sufficient  divider  (/)

          characters  after  which it is located.  Refer to the DATA PREPARATION

          section for details of how to set  up  a  correct  map  header  lookup

          table.









          1.9.2  *Feature Level Attributes* -



          CITF  feature  records,  [LINEREC],  [POINTREC]  and  [NAMEREC]   have

          provision  for attributes which should come from AC entries in the IFF

          feature.   These  attributes  are  UPDATE_DATE,  UPDATE_STATUS,  SPEC,

          PROCESS,  DATE_OF_PROCESS,  PHYS_STAT  and  MARGINAL_TXT which must be

          defined in the ACD section of the FRT if they are to  be  transferred.

          These  features  should  not  be present in the attribute file as this


                                                               Page 20

*UTILITY I2NTF*





          intended for attributes  which  are  held  in  [ATTREC]  or  [ACRDREC]

          records.



          The alphanumeric  feature  level  attributes  UPDATE_STATUS,  PROCESS,

          PHYS_STAT and MARGINAL_TXT will be read from the value field of the AC

          and the datatype definition in the ACD part of the FRT is  ignored  by

          the program.  This is in case the LITES2 OPERATION command was used to

          update these ACs as this action is performed on the value field.



          These attributes will always be treated as character values and should

          be  defined as datatype 'C' in the ACD so that programs such as LITES2

          and IPATCH will show their true representation.   The  SPEC  attribute

          which  is  a variable length alphanumeric string will be read from the

          optional text string of the AC and the datatype will not matter.   The

          UPDATE_DATE and DATE_OF_PROCESS attributes will be read from the value

          field of the AC and should be defined as datatype 'D' in the ACD.









          1.9.3  *Per-point Attributes And CBs* -



          IFF Coordinate Blocks (CB) entries are able  to  hold  20  columns  to

          represent  each  point  in  a  feature,  which includes the X, Y and Z

          coordinates.



          [GEOMETRY*] records have various data quality fields attached to every

          point  which  are  maintained by transferring them from the columns of

          the CB of the feature, either  held  as  fixed  point  attributes,  or

          variable  column  entries.   The  AC codes of these attributes must be

          known and so they must be defined in the ACD part of the  FRT  in  the

          same way as for the feature level attributes and should not be present

          in the attribute file.



          The X_COORD, Y_COORD and Z_COORD should not be defined in the  ACD  as

          they have standard AC codes of 91, 92 and 93 respectively.



          [GEOMETRY1] records have fields X_COORD, Y_COORD, XY_ACQ_METH, QPLAN.



          [GEOMETRY2] record have fields X_COORD, Y_COORD,  XY_ACQ_METH,  QPLAN,

          Z_COORD,  DIFF_HT,  Z_ACQ_METH,  QHT  and  QDIFF_HT,  all of which are

          maintained in the conversion.



          Attributes held in Attribute Coordinate  [ACRDREC]  records  are  also

          attached to points in the CB, after those derived from the [GEOMETRY*]

          records.



          Since [GEOMETRY1] records result in 4 fields of a CB being  used,  the

          others may be used to hold [ACRDREC] attributes.



          Similarly, [GEOMETRY2] records result in 9 fields of a CB being  used,

          which leaves 11 which may be used to hold [ACRDREC] attributes.




                                                               Page 21

*UTILITY I2NTF*





          1.9.4  *Symbol Features* -



          The graphical type of point features will be looked up in the  FRT  in

          order  to  determine  if  distance (DT) or orientation (OR) attributes

          should be output.  Points with a graphical type (GT) of 9 will  result

          in  the  output  of the DT and OR attributes, points with GT of 8 will

          only have an OR attribute and GT 7 points will not have either.









          1.9.5  *Text Features* -



          I2NTF/CITF will write all text features to CITF with two  points;  the

          first  being  the digitised position and the second being the plotting

          position calculated using {DIG_POSTN}.  If the value of {DIG_POSTN} is

          zero  then  plotting  position  will  be  the  same  as  the digitised

          position.



          Text feature codes will be generated from the Category of the  Feature

          Status  (FS)  entry.  NTF2I generates text features with feature codes

          of 28 and stores enough information in the Category field for I2NTF to

          recalculate  it.  The feature code generated will be the value held in

          the Category field plus 1000.









          1.9.6  *Attribute File* -



          It is intended that all of the CITF default attributes listed  in  the

          CITF  Specification  Mod 7/C are defined in the ATTRIBUTE_FILE and ACD

          section of the FRT.  This will ensure that a stable list of  attribute

          definitions exists so that all CITF files created will have consistent

          attribute translation.   Any  IFF/CITF  attributes  undefined  in  the

          ATTRIBUTE_FILE and FRT will not be converted.



          Only [ATTREC] attribute mnemonics should be defined in  the  attribute

          file.   The  feature  level  (UPDATE_DATE,  UPDATE_STATUS,  etc.)  and

          per-point level (XY_ACQ_METH, QPLAN, etc.) attributes  should  not  be

          defined,  since they are looked up directly in the ACD part of the FRT

          file.



          Here  is  an  example  of  an  attribute  file  defining  the  default

          attributes  intended for use with CITF.  Note that any text attributes

          have the 'TEXT' option defined as true, denoting that value is to come

          from  the  optional  text string of the AC.  In this case, the type of

          the AC as defined in the ACD part of the FRT is irrelevant.



          Any integer, real, or date attributes should have  the  'TEXT'  option

          set to false.  Note also that the 'ANNOTATE' and 'COLLECT' options are

          not used for CITF and are set to false.


                                                               Page 22

*UTILITY I2NTF*





          The  default  set  of  CITF  attributes  as  defined   in   the   CITF

          Specification  (Mod  7/C)  date  October  1992  will not be written to

          [ATTDESC]  records  but  any  others  will  be  in  order  that  their

          interpretation is defined.



          !

          ! Default CITF attributes

          !

          !ATTRIBUTE  IFF_ATT_NAME  NTF_MNEM  TEXT  ANNOTATE  COLLECT

          !

          ATTRIBUTE     ADDR_ONE        A1      T       F       F

          ATTRIBUTE     ADDR_TWO        A2      T       F       F

          ATTRIBUTE     POSTAL_ADDR     AD      T       F       F

          ATTRIBUTE     ACCENTS_MASK    AM      T       F       F

          ATTRIBUTE     ADDR_QUAL       AQ      F       F       F

          ATTRIBUTE     ADDR_STAT       AS      F       F       F

          ATTRIBUTE     BUILD_NAME      BD      T       F       F

          ATTRIBUTE     BUILD_NUM       BN      F       F       F

          ATTRIBUTE     CONCAT_FLAG     CF      T       F       F

          ATTRIBUTE     COUNTY_NAME     CN      T       F       F

          ATTRIBUTE     CHANGE_TYPE     CT      T       F       F

          ..

          ..

          [lines deleted]

          ..

          ..

          ATTRIBUTE     SETTLEMENT      SN      T       F       F

          ATTRIBUTE     DATE_OF_SURV    SY      F       F       F

          ATTRIBUTE     TYPE_OF_CONSTR  TC      T       F       F

          ATTRIBUTE     THOROUGHFARE    TN      T       F       F

          ATTRIBUTE     CITFTEXT        TX      T       F       F

          ATTRIBUTE     UORN            UN      T       F       F











          1.9.7  *FRT ACD Section* - Here is an example of the ACD  part  of  an

          FRT  suitable  for  use  with CITF data whose ACD TABLE 4 reflects the

          IFF_ATT_NAME field of the above attribute file.



          The feature level attributes in ACD TABLE 2 must be defined exactly as

          shown  and  should  not be defined in the attribute file.  While I2NTF

          ignores the datatype of ACs in the ACD (except for dates, which should

          be  'D'),  it  is  advised  that  attributes  are defined to be of the

          correct type so that programs such as LITES2 and IPATCH  will  display

          their true representation.


                                                               Page 23

*UTILITY I2NTF*





          The per-point attributes in ACD TABLE 3 must also be  defined  exactly

          as  shown  and  should  not  be defined in the attribute file.  The AC

          codes of the X, Y and Z coordinates that will appear in the  CB  entry

          will  be the default ones of 91, 92 and 93 respectively and should not

          be present in the ACD section.



          !

          ! Feature level attributes

          !

          ACD TABLE 2

          !

          ACD D 1 UPDATE_DATE

          ACD C 2 UPDATE_STATUS

          ACD C 3 SPEC

          ACD C 4 PROCESS

          ACD D 5 DATE_OF_PROCESS

          ACD C 6 PHYS_STAT

          ACD C 7 MARGINAL_TXT

          !

          ! Per-point attributes

          !

          ACD TABLE 3

          !

          ACD C 1 XY_ACQ_METH

          ACD C 2 QPLAN

          ACD R 3 DIFF_HT

          ACD C 4 Z_ACQ_METH

          ACD C 5 QHT

          ACD C 6 QDIFF_HT

          !

          ! Default attribute codes

          !

          ACD TABLE 4

          !

          ACD C  1 ADDR_ONE

          ACD C  2 ADDR_TWO

          ACD C  3 POSTAL_ADDR

          ACD C  4 ACCENTS_MASK

          ACD I  5 ADDR_QUAL

          ACD I  6 ADDR_STAT

          ACD C  7 BUILD_NAME

          ACD I  8 BUILD_NUM

          ACD C  9 CONCAT_FLAG

          ACD C 10 COUNTY_NAME

          ..

          ..

          [lines deleted]

          ..

          ..

          ACD C 60 SETTLEMENT

          ACD C 61 DATE_OF_SURV

          ACD C 62 TYPE_OF_CONSTR

          ACD C 63 THOROUGHFARE

          ACD C 64 CITFTEXT


                                                               Page 24

*UTILITY I2NTF*





          ACD C 65 UORN











          1.9.8  *Changing Feature Codes During Translation* -



          I2NTF allows feature codes to be changed  during  translation  through

          the  use of a feature code lookup table parameter file.  This facility

          is invoked by using  the  /FC_LOOKUP  qualifier.   It  is  useful  for

          converting IFF feature codes into CITF feature codes which are invalid

          in IFF (i.e.  greater than 32767).   Refer  to  the  DATA  PREPARATION

          section for details of how to set up a feature code lookup table.

%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 24; on input line 1169 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTF.RNO;26"



                                                               Page 25

*UTILITY I2NTF*





*--------------------------------------------------------------------------------*







1.10  *EXAMPLES*





$ *MOUNT/FOREIGN MSA0:<CR>*

%MOUNT-I-MOUNTED,  mounted on MSA0:

$ *I2NTF/RECIPIENT="TJ Ibbs"/LOG  FILE1  MSA0:<CR>*

%I2NTF-I-NTFOPEN, NTF output opened on "MSA0:.NTF;0"

%LSLLIB-I-IFFOPENED, LSL$IF:FILE1.IFF;0 opened for read

%I2NTF-I-IGNORE, ignoring layer 0

%I2NTF-I-LAYER, processing layer 1

%I2NTF-I-LAYER, processing layer 2

%I2NTF-I-NTFDONE, NTF data written to "MSA0", 15 blocks output

 ELAPSED:    0 00:00:16.25  CPU: 0:00:04.52  BUFIO: 23  DIRIO: 40  FAULTS: 175 



          This example shows the user mounting the magnetic tape on drive MSA0:,

          and  then  using I2NTF to output data for the customer "TJ Ibbs".  The

          program ignores layer 0, and outputs the data in layers 1 and 2.



$ *TYPE TRANSYL.I2NTF_LIS<CR>*

T1987Q1

T1987Q2

T1987Q3

$ *I2NTF/INPUT_LIST=TRANSYL/RECIPIENT="Transylvanian Water" -*

$_ *                        /LOG/OUTPUT=TT:  MSA0:<CR>*

%I2NTF-I-INFILOPN, input list file "TRANSYL.I2NTF_LIS" opened for read

-I2NTF-I-LISTRD, 3 IFF filenames read from list file "TRANSYL.I2NTF_LIS"

%LSLLIB-I-LOGOPNOUT, log file TT:I2NTF.LOG;0 opened for write

================================== I 2 N T F ===================================

I2NTF invoked by TONY using terminal RTA1: at  2-JUL-1989 15:36:31.31

Command line:

I2NTF/INPUT_LIST=TRANSYL/RECIPIENT="TRANSYLVANIAN WATER"/LOG/OUTPUT=TT: MSA0: 

================================================================================

 

NTF level 1

Recipient of data is "Transylvanian Water "

Donor of data is     "Laser-Scan Ltd.     "

Name of database is  "Transylvanian Water "                                    

NTF output to MSA0:.NTF;0                                                      

Output to magnetic tape at density 1600                                        

 

%I2NTF-I-NTFOPEN, NTF output opened on "MSA0:.NTF;0"

// NTF data output by Laser-Scan's CONVERT utility I2NTF                       

%LSLLIB-I-IFFOPENED, LSL$IF:T1987Q1.IFF;0 opened for read

//                                                                             

// IFF file        LSL$IF:T1987Q1.IFF;0                                        

// Spheroid        Airy                                                        

// Projection        UK national grid                                          

// Scale           2500                                                        

// Units           metres                                                      

// Height data     metres                                                      


                                                               Page 26

*UTILITY I2NTF*





%I2NTF-I-LAYER, processing layer 1

%I2NTF-W-ONEPT, FSN 10 (10) is linear, but only has one point

%LSLLIB-I-IFFOPENED, LSL$IF:T1987Q2.IFF;0 opened for read

//                                                                             

// IFF file        LSL$IF:T1987Q2.IFF;0                                      

// Spheroid        Airy                                                        

// Projection        UK national grid                                          

// Scale           1250                                                        

// Units           metres                                                      

// Height data     metres                                                      

%I2NTF-I-LAYER, processing layer 1

%LSLLIB-I-IFFOPENED, LSL$IF:T1987Q3.IFF;0 opened for read

//                                                                             

// IFF file        LSL$IF:T1987Q3.IFF;0                                        

// Spheroid        Airy                                                        

// Projection        UK national grid                                          

// Scale           2500                                                        

// Units           metres                                                      

// Height data     metres                                                      

%I2NTF-I-LAYER, processing layer 1

%I2NTF-I-NTFDONE, NTF data written to "MSA0", 184 blocks output

 ELAPSED:    0 00:02:02.24  CPU: 0:00:49.68  BUFIO: 85  DIRIO: 420  FAULTS: 171



          The user has created an input list file, TRANSYL.I2NTF_LIS, containing

          the names of the IFF files to be translated.  I2NTF has then been used

          to output the data from these files to magnetic tape.  Note the use of

          /LOG  and  /OUTPUT=TT:  to produce an interleaved log of what is being

          done - the comments written to the NTF tape  are  output  between  the

          relevant log messages.



$ *I2NTF/RECIPIENT="Laser-Scan Labs"/LOG/XY_LEN=4 SHEET7 MSA0:<CR>*

%I2NTF-I-NTFOPEN, NTF output opened on "MSA0:.NTF;0"

%LSLLIB-I-IFFOPENED, LSL$IF:SHEET7.IFF;0 opened for read

%I2NTF-E-TOONARROW, the XYLEN value of 4 given is too small

-I2NTF-I-SUGGEST, suggest the use of /XYLEN=7

 ELAPSED:    0 00:00:10.18  CPU: 0:00:00.61  BUFIO: 10  DIRIO: 6  FAULTS: 112 



          In this example, the user has specified that all X,Y coordinates  will

          be  output in a field of length 4 characters.  The program checks that

          the file can indeed be output using this field width by inspecting the

          IFF  file's  range  (RA)  entry.   In  this instance, the field is too

          narrow, and the program suggests the minimum values that can  be  used

          for /XY_LEN.



$ *TYPE TRANSYL.I2NTF_PAR<CR>*

! Standard parameter file for sending NTF data to

!

!               TRANSYLVANIAN WATER AUTHORITY

!

/recipient="Transylvanian Water"

/xy_len =8              ! use a field of width 8 for X,Y coordinates

/xy_mult=0.01           ! coordinates in hundredths of a metre

/z_unit =3              ! heights are in FEET

$ *I2NTF/PARAMETER_FILE=TRANSYL/XYMULT=0.1/SERIAL=1234/LOG/OUTPUT=T1234<CR>*


                                                               Page 27

*UTILITY I2NTF*





Input IFF file : *SHEET1,SHEET2<CR>*

Output destination : *T1234<CR>*

%I2NTF-I-PARFILOPN, parameter file "TRANSYL.I2NTF_PAR;0" opened for read

%I2NTF-I-PARFILCLO, parameter file "TRANSYL.I2NTF_PAR;0" closed

%LSLLIB-I-LOGOPNOUT, log file T1234.LOG;0 opened for write

%I2NTF-I-NTFOPEN, NTF output opened on "T1234.NTF;0"

%LSLLIB-I-IFFOPENED, LSL$IF:SHEET1.IFF;0 opened for read

%I2NTF-I-LAYER, processing layer 1

%I2NTF-I-LAYER, processing layer 2

%I2NTF-I-LAYER, processing layer 5

%LSLLIB-I-IFFOPENED, LSL$IF:SHEET2.IFF;0 opened for read

%I2NTF-I-LAYER, processing layer 1

 ELAPSED:    0 00:02:57.68  CPU: 0:01:21.65  BUFIO: 88  DIRIO: 466  FAULTS: 282

$ *TYPE T1234.LOG<CR>*

================================== I 2 N T F ===================================

I2NTF invoked by TONY using terminal RTA1: at  2-JUL-1989 16:20:22.10

Command line:

I2NTF/PARAMETERFILE=TRANSYL/XY_MULT=0.1/SERIAL=1234/LOG/OUTPUT=T1234 

SHEET1,SHEET2 T1234 

================================================================================

 

NTF level 1                                                                    

Recipient of data is "Transylvanian Water "                                    

Donor of data is     "Laser-Scan Ltd.     "                                    

Name of database is  "Transylvanian Water "                                    

NTF output to T1234.NTF;0                                                      

 

// NTF data output by Laser-Scan's CONVERT utility I2NTF                       

//                                                                             

// IFF file        LSL$IF:SHEET1.IFF;0                                    

// Spheroid        Airy                                                        

// Projection        UK national grid                                          

// Scale           2500                                                        

// Units           metres                                                      

// Height data     feet                                                        

//                                                                             

// IFF file        LSL$IF:SHEET2.IFF;0                                     

// Spheroid        Airy                                                        

// Projection        UK national grid                                          

// Scale           1250                                                        

// Units           metres                                                      

// Height data     feet                                                        

$



          In this example, a standard  parameter  file  has  been  prepared  for

          sending   data  to  this  customer.   I2NTF  is  run,  overriding  the

          coordinate multiplication factor (/XY_MULT) specified in the parameter

          file,   and  specifying  a  volume  serial  number  to  identify  this

          particular tape.  The output log is sent to a file, which is typed  to

          show  its  contents.  This file can be printed and used as part of the

          documentation for the data on the tape.




                                                               Page 28

*UTILITY I2NTF*





$ *I2NTF/RECIPIENT="Ordnance Survey (GB)"/OS/LOG/OUTPUT=OS OSCODES MSA0:<CR>*

%LSLLIB-I-LOGOPNOUT, log file OS.LOG;0 opened for write

%I2NTF-I-NTFOPEN, NTF output opened on "MSA0:.NTF;0"

%I2NTF-I-MHREAD, IFF file "LSL$IF:OSCODES.IFF;0" opened and map header read 

%LSLLIB-I-IFFOPENED, LSL$IF:OSCODES.IFF;0 opened for read

%I2NTF-I-IGNORE, ignoring layer 0

%I2NTF-I-LAYER, processing layer 1

%I2NTF-I-NTFDONE, NTF data written to "MSA0", 153 blocks output

 ELAPSED:    0 00:01:02.25  CPU: 0:00:39.34  BUFIO: 19  DIRIO: 353  FAULTS: 254 

$ *TYPE OS.LOG<CR>*

================================== I 2 N T F ===================================

I2NTF invoked by TONY using terminal RTA2: at  3-JUL-1989 11:52:20.93

Command line:

I2NTF/RECIPIENT="ORDNANCE SURVEY (GB)"/OS/LOG/OUTPUT=OS OSCODES MSA0: 

================================================================================

 

NTF level 1                                                                    

Recipient of data is "Ordnance Survey (GB)"                                    

Donor of data is     "Laser-Scan Ltd.     "                                    

Name of database is  "Ordnance Survey (GB)"                                    

NTF output to MSA0:.NTF;0                                                      

Output to magnetic tape at density 1600                                        

Extra OS header information is being output

 

// NTF data output by Laser-Scan's CONVERT utility I2NTF                       

//                                                                             

// IFF file        LSL$IF:OSCODES.IFF;0                                     

// Spheroid        Airy                                                        

// Projection        UK national grid                                          

// Scale           1250                                                        

// Units           metres                                                      

// Height data     metres                                                      

// Section header record contains OS(GB) map header data                       



          In this example, an OS (GB) style IFF file is being processed, and the

          user  has  used  the /OS qualifier to indicate that OS map header data

          should be output in the section header  record.   Note  that  the  log

          message  output  when the IFF file is initially opened includes a note

          that the map header is present, and that the output log file indicates

          that the extra data has been output to the section header.



$ *I2NTF/RECIPIENT="Baron Greenback"/LOG/FRT=DM/ATTRIBUTE_FILE=DM/LEVEL=2 

PENFOLD.IFF PENFOLD.NTF <CR>*

%I2NTF-I-ATTFILOPN, attribute file "DM.NTFATTR;0" opened for read

%I2NTF-I-ATTFILCLO, attribute file "DM.NTFATTR;0" closed

%I2NTF-I-NTFOPEN, NTF output opened on "PENFOLD.NTF;0"

%LSLLIB-I-IFFOPENED, LSL$IF:PENFOLD.IFF;0 opened for read

%I2NTF-I-LAYER, processing layer 1

%I2NTF-I-LAYER, processing layer 2

%I2NTF-I-LAYER, processing layer 3

%I2NTF-I-LAYER, processing layer 4

%I2NTF-I-LAYER, processing layer 5

%I2NTF-I-LAYER, processing layer 6

 ELAPSED:    0 00:00:11.32  CPU: 0:00:02.54  BUFIO: 17  DIRIO: 67  FAULTS: 285 


                                                               Page 29

*UTILITY I2NTF*





          This example shows the use of the /ATTRIBUTE_FILE and /FRT qualifiers.

          The files given with these qualifiers were used to transfer attributes

          from the IFF AC's into NTF attributes.  Note that /LEVEL=2 or /LEVEL=3

          must be given.

%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 29; on input line 6 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTFMSG.RNO;2"



                                                               Page 30

MESSAGES (SUCCESS)





*--------------------------------------------------------------------------------*







1.11  *MESSAGES (SUCCESS)*



These messages are used to indicate that the program has succeeded in performing

some action, and do not require any user action.



NORMAL, successful function return



    *Explanation:* This message is used internally by the  program  to  indicate

    the success or failure of a subroutine.



    *User action:* None.

%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 30; on input line 29 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTFMSG.RNO;2"



                                                               Page 31

MESSAGES (INFORMATIONAL)





*--------------------------------------------------------------------------------*







1.12  *MESSAGES (INFORMATIONAL)*



These messages give information only, and require no  immediate  action  by  the

user.  They are used to provide information on the current state of the program,

or to supply explanatory information in support of a warning or error message.



ASSUMEPTSIZ, text heights assumed to be given as OS point sizes



    *Explanation:* This message is output if /OS is specified to  indicate  that

    any text heights given in the IFF file will be assumed to be OS point sizes.



    *User action:* None.



ATTFILCLO, attribute file 'file-spec' closed



    *Explanation:* This message is  output  when  the  /ATTRIBUTE_FILE  file  is

    closed, if /LOG was specified.



    *User action:* None.



ATTFILOPN, attribute file 'file-spec' opened for read



    *Explanation:* This message is  output  when  the  /ATTRIBUTE_FILE  file  is

    opened, if /LOG was specified.



    *User action:* None.



CITFLEVEL5, creating NTF level 5 for CITF



    *Explanation:* This message is output if the user requests any  level  other

    than 5 if /CITF has been supplied.



    *User action:* None.



CONVERT, use ITRANS to convert to metres, feet or degrees



    *Explanation:* This message is output after the BADUNIT error message.



    *User action:* As for the BADUNIT error message.



DEFZUNIT, default height units (metres) assumed



    *Explanation:* This message is output after the BADZUNIT error message.



    *User action:* As for the BADZUNIT error message.


                                                               Page 32

MESSAGES (INFORMATIONAL)





FEATFILCLO, featclass file 'file-spec' closed



    *Explanation:* This message is  output  when  the  /FEATCLASS_FILE  file  is

    closed, if /LOG was specified.



    *User action:* None.



FEATFILOPN, featclass file 'file-spec' opened for read



    *Explanation:* This message is  output  when  the  /FEATCLASS_FILE  file  is

    opened, if /LOG was specified.



    *User action:* None.



IGNORE, ignoring layer 'integer'



    *Explanation:* This message is output to confirm that the indicated layer is

    being ignored, if the /LOG qualifier has been selected.



    *User action:* None.



INFILOPN, input list file 'file-spec' opened for read



    *Explanation:* This message is output  when  the  file  specified  with  the

    /INPUT_LIST qualifier is opened, if the /LOG qualifier has been specified.



    *User action:* None.



LAYER, processing layer 'integer'



    *Explanation:* This message is output to confirm that the current  layer  of

    the IFF file is being output, if the /LOG qualifier was specified.



    *User action:* None.



LISTRD, 'integer' IFF filename(s) read from list file 'file-spec'



    *Explanation:* This message is output after  the  file  specified  with  the

    /INPUT_LIST qualifier has been read, if the /LOG qualifier was specified.



    *User action:* None.



LUTFILCLO, FC lookup table file 'file-spec' closed



    *Explanation:* This  message  is  output  when  the  FC  lookup  table  file

    specified by /FCLOOKUP is closed.



    *User action:* None.


                                                               Page 33

MESSAGES (INFORMATIONAL)





LUTFILOPN, FC lookup table file 'file-spec' opened for read



    *Explanation:* This  message  is  output  when  the  FC  lookup  table  file

    specified by /FCLOOKUP is opened.



    *User action:* None.



MHREAD, IFF file 'file-spec' opened and map header read



    *Explanation:* Each IFF file is inspected to check that it has a map  header

    (MH) entry.  If the /LOG qualifier is specified, then this message is output

    as each map header is checked.



    *User action:* None.



NTFDONE, NTF data written to 'file-spec', 'integer' block(s) output



    *Explanation:* This message is output when the output of  the  NTF  data  to

    magnetic tape has been completed.



    *User action:* None.



NTFOPEN, NTF output opened on 'file-spec'



    *Explanation:* This message is output when the NTF output file is opened, or

    tape drive initialised, if /LOG was specified.



    *User action:* None.



PARFILCLO, parameter file 'file-spec' closed



    *Explanation:* This message is  output  when  the  /PARAMETER_FILE  file  is

    closed, if /LOG was specified.



    *User action:* None.



PARFILOPN, parameter file 'file-spec' opened for read



    *Explanation:* This message is  output  when  the  /PARAMETER_FILE  file  is

    opened, if /LOG was specified.



    *User action:* None.



TRUNCTXT, text in FSN 'fsn' ('isn') truncated



    *Explanation:* This message is output after the LONGTXT error  message,  and

    is itself followed by a line containing the text as output to NTF.



    *User action:* As for the LONGTXT error message.


                                                               Page 34

MESSAGES (INFORMATIONAL)





USEITRANS, use ITRANS/DESCRIPTOR to convert to a valid map descriptor



    *Explanation:* This message is output after  the  NOTSET  or  TYPE1MD  error

    messages,  to indicate what action the user should take to make the IFF file

    concerned suitable for output using I2NTF.



    *User action:* As the message says.

%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 34; on input line 254 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTFMSG.RNO;2"



                                                               Page 35

MESSAGES (WARNING)





*--------------------------------------------------------------------------------*







1.13  *MESSAGES (WARNING)*



These messages are output when an error  has  occurred  that  can  be  corrected

immediately by the user or that the program will attempt to overcome.



ACIGNORE, AC entry ignored in feature FSN 'fsn' ('isn')



    *Explanation:* The AC entry in this feature will be ignored as it is invalid

    in this type of feature, or at this level.



    *User action:* Check the IFF file, and level required.



ACNOTATT, AC 'actype' in feature FSN 'fsn' ('isn') not in the Attribute file



    *Explanation:* The specified AC type was missing from  the  attribute  file,

    and will be ignored.



    *User action:* Check the FRT file if this is a problem.



ACNOTFND, AC 'actype' was not found in the FRT file



    *Explanation:* The specified AC type was missing from the FRT file, and some

    feature fields may be left unset.



    *User action:* Check the FRT file if this is a problem.



ACTRUNCATE, AC field entry 'string' truncated in feature FSN 'fsn' ('isn')



    *Explanation:* The AC entry for the specified field in this feature will  be

    truncated as it is too long.



    *User action:* Check the IFF file.



ACTYPES, only height ACs, types 2 and 3, are supported at level 1



    *Explanation:* Only contour height ACs are output by I2NTF at level 1 -  all

    other AC types are ignored, and the program outputs this message.



    *User action:* Use level 2 if the attributes are required.



BADFRTMAX, bad value in LSL$FRT_FRTMAX, default of 'integer' used



    *Explanation:* LSL$FRTFRTMAX did not contain an integer value.  This logical

    is used to set the maximum size of the FC lookup table.  Default value used.



    *User action:* Define LSL$FRTFRTMAX to hold an integer value.


                                                               Page 36

MESSAGES (WARNING)





BADLUTLIN, line 'integer' in 'file-spec' invalid



    *Explanation:* The FC lookup table file contains an invalid line.



    *User action:* Check the FC lookup table file.



BADPTSIZ, unknown point size 'integer', in feature 'integer'



    *Explanation:* In OS data, text point sizes must be within the  range  1  to

    24,  although  not  all  values in that range are actually meaningful.  This

    message indicates that the specified feature contained a text with  a  point

    size that is not defined.  A point size of 24 will be used instead.



    *User action:* Edit the IFF file using either IPATCH or  LITES2  to  correct

    the  offending  feature  -  point  sizes  are held in the TH entry of a text

    feature.



BADTEXTPOS, text position outside range 0-8 in FSN 'integer'



    *Explanation:* This message is output when the text  digitised  position  in

    the FS entry is outside the range 0 to 8.  It will default to zero.



    *User action:* Correct the text position in the Feature  Status  (FS)  entry

    using  IPATCH/WRITE  or  ignore this message if the default value of zero is

    acceptable.



BADVER, invalid NTF version given, defaulting to v'real'



    *Explanation:* If the /VERSION qualifier is used to  select  an  output  NTF

    version  other  than 1.1 or 2.0 this message is output, and the program will

    select the default version.



    *User action:* Do not try to output at versions other than 1.1 or  2.0  (the

    default) as the program does not support them.



BADZUNIT, invalid units specified with /Z_UNIT



    *Explanation:* The value specified with the /Z_UNIT qualifier is not in  the

    range  1  to  3,  and will thus be ignored.  The default value of 2 (metres)

    will be used.



    *User action:* If the default is  not  acceptable,  run  the  program  again

    specifying  the  correct value for Z_UNIT (ie 1 for degrees, 2 for metres, 3

    for feet).



BOTHATTFRT, both /FRT and /ATTRIBUTE required for attribute transfer



    *Explanation:* If attributes are to be  transferred  to  NTF  then  both  an

    attribute  file and an FRT are required.  Only one of these was given on the

    command line so attributes will not be translated.



    *User action:* The command line should be  re-entered  giving  both  of  the

    required files.


                                                               Page 37

MESSAGES (WARNING)





CITFDIFORIG, different origin in SECHREC record in field 'string', value

    'string'



    *Explanation:* The origin coordinate in the specified field in  the  current

    section header record in the CITF Map Header differs from the IFF MD2 origin

    offset, but will be copied across unaltered.



    *User action:* Check the MH entries.



CITFDIFSCALE, different scale in SECHREC record with value 'integer'



    *Explanation:* The scale in the section header record in the CITF Map Header

    differs from the IFF MD2 scale, but will be copied across unaltered.



    *User action:* Check the MH entries.



CITFEORERR, invalid end of record in 'string' in the CITF map header



    *Explanation:* There was no valid record terminator in the CITF  map  header

    record.  The proper one will be added.



    *User action:* None.



CITFIGNFEAT, not first FEATCLASS record 'string' in the CITF map header



    *Explanation:* There was a second FEATCLASS record in the CITF  map  header,

    or another IFF file, and will be ignored.



    *User action:* None.



CITFIGNSECH, not first SECHREC record 'string' in the CITF map header



    *Explanation:* There was a second SECHREC record in the CITF map header, and

    will be ignored.



    *User action:* None.



CITFINVALREC, invalid record 'string' in the CITF map header



    *Explanation:* There was an unexpected record in the CITF map header,  which

    will be ignored.



    *User action:* None.



CITFNOTCONT, invalid continuation record 'string' in the CITF map header



    *Explanation:* There was an unexpected continuation record in the  CITF  map

    header, without any record to start with, and will be ignored.



    *User action:* None.


                                                               Page 38

MESSAGES (WARNING)





CITFNOTVECTOR, value 'string' not vector in SECHREC record in the CITF map

    header



    *Explanation:* The STRUCTYP field in the SECHREC  record  in  the  CITF  map

    header was not vector, but will be left unaltered.



    *User action:* None.



CITFSECHREC, error reading SECHREC record, in field 'string', value 'string'



    *Explanation:* An  error  occurred  in  interpreting  the  contents  of  the

    specified  field  in  the section header record in the CITF Map Header.  The

    contents of the offending field will be defaulted, or ignored, depending  on

    its subsequent use.



    *User action:* Check the MH entries.



DEGEN, Line feature degenerates to 1 point - FSN 'fsn' deleted



    *Explanation:* When converting a line feature to NTF or CITF which has lower

    precision,  duplicate output points are discarded and this has resulted in a

    line feature reducing to fewer than two points.  The implication of this  is

    that no corresponding feature was created in the output file.



    *User action:* The IFF feature with the reported FSN may be  examined  using

    LITES2 if its removal causes concern.



DUPPTS, duplicated points in feature with FSN 'fsn' (point 'number')



    *Explanation:* The duplicated points are the point numbered in  the  message

    and  the  previously  accepted point (normally the previous point, unless it

    was also duplicated).   IFF  coordinates  have  a  smaller  resolution  than

    NTF/CITF  coordinates, so points which are very close in IFF may be equal on

    translation to NTF/CITF.  This can happen with lines, and since there is  no

    need for spurious data, the duplicated points are ignored.



    *User action:* In the case of lines, determine why successive points are  so

    close.  Generated curves, arcs and circles may exhibit this problem if their

    construction tolerances were very small.  The problem can also  occur  where

    lines  have  been  clipped  to sheet edges, and existing points were already

    positioned very close to the edge.   If  many  occurences  of  this  message

    occur, it may be due to the combination of XY_LEN and XY_MULT giving rise to

    poor output precision and adjusting these may resolve the problem.



FCTOOLARGE, FC 'code' is too large in feature FSN 'fsn' ('isn')



    *Explanation:* The FC in the FS entry in this feature is too large  for  the

    feature  code  field  (0  to 9999) and will be set to 0.  Note that this may

    have the wrong graphical type for output.



    *User action:* Check the IFF file feature.


                                                               Page 39

MESSAGES (WARNING)





FEATATT, feature level attribute 'ACDname' undefined in ACD



    *Explanation:* The reported feature level attribute was not defined  in  the

    ACD  part  of  the  given FRT.  This attribute is one of the default feature

    level ones for CITF and any occurances in the IFF file will not  be  written

    to the CITF file.



    *User action:* If the reported attribute is required to be in the CITF file,

    then  ensure  that a correct definition of the attribute is given in the ACD

    part of the FRT file.



HASOSMAP, file 'file-spec' has an OS map header



    *Explanation:* An OS style  map  header  entry  has  been  detected  in  the

    specified  file.  However, since the /OS qualifier was not specified, the OS

    header data will not be output in the NTF file.



    *User action:* If OS(GB) style output is required, then  add  the  qualifier

    /OS to the command line.



IFFFCDUPL, FC 'integer' from input file translated as NTF FC 'integer'



    *Explanation:* There is a duplicate IFF feature  code  in  the  lookup  file

    specified  with  /FCLOOKUP, making the translation ambiguous.  The IFF FC is

    translated into the smallest NTF FC with  which  it  is  associated  in  the

    lookup file.



    *User action:* You may wish to eliminate  duplicate  IFF  FCs  from  the  FC

    lookup file.



LINEINATT, error decoding line in attribute file



    *Explanation:* The line given in the following  message  was  found  in  the

    attribute file but could not be decoded.



    *User action:* The line should be changed to contain valid commands.



LINEINFEAT, error decoding line in featclass file



    *Explanation:* The line given in the following  message  was  found  in  the

    featclass file but could not be decoded.



    *User action:* The line should be changed to contain valid commands.



LONGMSG, 'string' qualifier is too long (maximum is 'integer') - truncated



    *Explanation:* The character string given for the stated  qualifier  is  too

    long.  The program will truncate the name and continue.



    *User action:* If the truncated name is not acceptable, then run the program

    again with a shorter recipient name.


                                                               Page 40

MESSAGES (WARNING)





LONGTXT, standard NTF allows only 99 chars in a text string



    *Explanation:* A text entry of length greater than 99  characters  has  been

    found, and will be truncated.  The information message TRUNCTXT will also be

    output, to show the text as transferred to NTF.



    *User action:* Use LITES2 to find the offending  text,  and  split  it  into

    smaller  text features of length less than or equal to 99 characters, before

    running the program again.



MHUPGRADE, cannot fully upgrade IFF map header



    *Explanation:* This message appears when a problem  has  occurred  with  the

    upgrade  procedure.   It is most likely due to one of the old digital update

    dates or the old selected revision date having been corrupted.   The  latest

    of  these  dates  is used for the new digital update date which is stored in

    the OS map header as ICL binary days.  A system message follows for  further

    explanation.   The  program  will  not attempt to set the new digital update

    date.



    *User action:* The source of the problem may be a bad digital update date or

    selected  revision  date.   If  this  is  the  case,  report  the problem to

    Laser-Scan - supplying details of  the  command  line  used  to  invoke  the

    program, as well as the IFF file.



MISSLNK, link missing from node 'integer'



    *Explanation:* The number of arms (radiating links) declared in  the  sector

    header  for  the  specified node is greater then the number of corresponding

    links found.  The NODEREC record for the node is output, with zeros in place

    of the missing links.



    *User action:* Examine the .IFJ file to determine whether it is  the  number

    of  links or the link definitions which are at fault.  Then correct the file

    accordingly.



NOANNOTATE, annotation not available at NTF level 'integer' - command ignored



    *Explanation:* The user requested the ANNOTATE  option  for  an  AC  in  the

    attribute  file,  but  this  facility  is  not available at the level of NTF

    output specified.  The request will be ignored.



    *User action:* None.



NOATTR, attribute records are not allowed at level 1



    *Explanation:* An attribute file was given on the command file but at  level

    1  NTF  has  no attribute descriptor record to store this information so the

    file was not read.



    *User action:* If attribute transfer is required use NTF level 2 or 3.


                                                               Page 41

MESSAGES (WARNING)





NOCOLLECT, collect records not available at NTF level 'integer' - command

    ignored



    *Explanation:* The user requested the  COLLECT  option  for  an  AC  in  the

    attribute  file,  but  this  facility  is  not available at the level of NTF

    output specified.  The request will be ignored.



    *User action:* None.



NOLEVEL, level 'integer' not available, only 1, 2 or 3 supported



    *Explanation:* If the /LEVEL qualifier is used to select  NTF  levels  other

    than 1, 2 or 3, this message is output, and the program will select level 1.



    *User action:* Do not try to output at levels other than 1 (the default),  2

    or 3, as the program does not support them.



NOSH, sector header (SH) entry not found in file 'file-spec'



    *Explanation:* The specified IFF file does not contain a sector header,  and

    thus  it  will  not  be  possible to output node records - since there is no

    junction point information.  NTF level 3 will be output,  but  any  junction

    points will be ignored.



    *User action:* Investigate the history of the IFF file, to see why there  is

    no sector header entry.



NOTCITFMAP, file 'file-spec' does not have a CITF map header - default CITF

    output



    *Explanation:* If the /CITF qualifier is specified,  the  IFF  files  to  be

    output  should  contain  CITF  style  map header entries.  The files are all

    checked before any output to CITF is performed, and if one is found  without

    a CITF map header, this message is output and the program will continue.



    *User action:* If CITF style output really is  required,  then  correct  the

    relevant file.



NOTEXT, annotation expected for feature 'string' but not found



    *Explanation:* The specified NTF feature had an AC indicating that it should

    be  annotated with text.  However the required text feature did not occur in

    the IFF file.  The feature will be output unannotated.



    *User action:* Investigate the IFF file, to see why the text is missing.


                                                               Page 42

MESSAGES (WARNING)





NOWIDTH, field widths may not be specified at level 1 - default used



    *Explanation:* The qualifiers /XY_LEN or ZLEN were used at level 1.  This is

    not allowed, the default values of XY_LEN = 10 and Z_LEN = 6 were used.



    *User action:* If the field widths need to be modified  then  use  level  2,

    otherwise omit the length qualifiers.



NTFFCTOOLRG, NTF FC 'code' is too large in feature FSN 'fsn' ('isn')



    *Explanation:* The NTF FC (translated using the FC lookup table) in  the  FS

    entry  in  this  feature is too large for the feature code field (0 to 9999)

    and will be set to 0.  Note that this may have the wrong graphical type  for

    output.



    *User action:* Check the FC lookup table file NTF FC column.



ONEPT, FSN 'fsn' ('isn') is linear, but only has one point



    *Explanation:* The specified feature appears to be linear (as  indicated  by

    the  text/symbol  bits in the FS entry), but it only has one locating point.

    The program will output it to NTF as  if  it  were  a  point  feature  -  ie

    unoriented symbol.



    *User action:* If this problem occurs, it is probable that  the  text/symbol

    bits  in  the  IFF  file  are  not  set correctly.  This may be corrected by

    reading the file into LITES2 and then outputting it  again.   Alternatively,

    the  specified  feature  may  actually  have  been  incorrectly digitised or

    edited, in which case the missing points should be inserted again.



POINTATT, per-point attribute 'ACDname' undefined in ACD



    *Explanation:* The reported per-point attribute was not defined in  the  ACD

    part  of the given FRT.  This attribute is one of the default per-point ones

    for CITF and any occurances in the IFF file will not be written to the  CITF

    file.



    *User action:* If the reported attribute is required to be in the CITF file,

    then  ensure  that a correct definition of the attribute is given in the ACD

    part of the FRT file.



SHMISS, FSN 'integer' has a JP entry but file has no sector header



    *Explanation:* The specified IFF file does not contain a sector header,  and

    thus  it  will  not  be possible to output the junction point which has been

    found.  The program will continue, but the junction point will be ignored.



    *User action:* Investigate the IFF file, to  determine  any  errors  in  the

    data.


                                                               Page 43

MESSAGES (WARNING)





SHZERO, variable IFSHSZ is zero, using calculated value = 'integer'



    *Explanation:* IFSHSZ should contain the number of sectors as  specified  in

    the  sector  header.   It can only be zero if the input file does not have a

    junction structure.  To enable the program to continue, the correct value is

    calculated from the size of the SH entry.



    *User action:* Investigate the sector header of the input file to  determine

    why the number of sectors is incorrect.



STRTOOLONG, NTF mnemonic too long, truncated to 'string'



    *Explanation:* The NTF attribute mnemonic given in the  attribute  file  was

    too long and was truncated to 2 characters



    *User action:* If the truncated version is unacceptable then  the  attribute

    file should be edited and a two character mnemonic inserted



UNKNCOM, unknown command 'string' encountered in attribute file



    *Explanation:* The specified command was found in the  first  field  of  the

    attribute file.  The command is not valid and was ignored.



    *User action:* The manual should be checked and the correct command used.

%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 43; on input line 815 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTFMSG.RNO;2"



                                                               Page 44

MESSAGES (ERROR)





*--------------------------------------------------------------------------------*







1.14  *MESSAGES (ERROR)*



These messages indicate an error in processing which will cause the  program  to

terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input

file, or an error related to command line processing and file manipulation.



ABORT, erroneous function return



    *Explanation:* This message is used internally by the  program  to  indicate

    the success or failure of a subroutine.



    *User action:* None.



ATTNOTFND, attribute 'string' not found in the FRT file



    *Explanation:* The IFF attribute name given was not found in the  FRT.   The

    program will exit.



    *User action:* Check the spelling of the name in the attribute file and  add

    the ACD entry to the FRT if required.



BADEOPTR, EO address in the NO entry is incorrect - layer structure broken



    *Explanation:* When the program attempts to ignore a  layer  (notably  layer

    0),  it  will  try  to  'jump'  around the data in the layer using the NO/EO

    pointer, which points from the start of the layer to the end.  This  message

    indicates  that  the program found such a pointer at the start of the layer,

    but that the value contained in it was incorrect.   The  IFF  file  is  thus

    incorrect, and the program will exit.



    *User action:* Inspect the history of the file  to  attempt  to  locate  the

    cause  of the incorrect NO/EO pointer.  If the cause is not obvious, contact

    Laser-Scan.



BADFEAT, badly formed feature FSN 'fsn' ('isn')



    *Explanation:* The specified feature is not correctly formed,  and  the  IFF

    file is thus incorrect.  The program will exit.



    *User action:* Inspect the history of the file  to  attempt  to  locate  the

    cause  of  the  faulty  feature.   If  the  cause  is  not  obvious, contact

    Laser-Scan.


                                                               Page 45

MESSAGES (ERROR)





BADIFFFC, NTF FC 'integer' is invalid in FC lookup file



    *Explanation:* An invalid NTF FC appeared in the feature  code  lookup  file

    specified with /FCLOOKUP.



    *User action:* Change the NTF FC  in  the  lookup  file  to  a  valid  value

    (0-9999).



BADPRJ, MD (map descriptor) contains unrecognised projection code 'integer'



    *Explanation:* The projection code in the map descriptor is  not  recognised

    by  the program.  This means that it is either an incorrect projection code,

    or that the version of I2NTF in use has not been updated to recognise all of

    the current projections in use.



    *User action:* Report this problem to Laser-Scan.



BADRANGE, IFF RAnge entry is corrupt



    *Explanation:* This message is generated when the minimum X value is greater

    than  the maximum X value or the minimum Y value is greater than the maximum

    Y in the IFF Range entry.



    *User action:* This may indicate a corrupt IFF file which may be mended with

    IPATCH/WRITE.



BADSPH, MD (map descriptor) contains unrecognised spheroid code 'integer'



    *Explanation:* The spheroid code in the map descriptor is not recognised  by

    the  program.   This  means that it is either an incorrect spheroid code, or

    that the version of I2NTF in use has not been updated to  recognise  all  of

    the current spheroids in use.



    *User action:* Report this problem to Laser-Scan.



BADTXT, unexpected entry "'char'" found in text feature



    *Explanation:* This message is output after the BADFEAT error message,  when

    a  text  feature contains an IFF entry that is not understood by the program

    as being valid in such a feature.  The program will exit.



    *User action:* Ascertain whether the entry is actually allowed within a text

    feature.   If  it  is, then report the problem to Laser-Scan, as the program

    should presumably be able to understand it.  Otherwise, investigate why  the

    entry is present in the text feature.


                                                               Page 46

MESSAGES (ERROR)





BADUNIT, cannot output data from file 'file-spec' - wrong units



    *Explanation:* The specified IFF file contains  data  whose  units  are  not

    degrees, metres or feet.  Since NTF only supports these three types of unit,

    the file cannot be output.  The CONVERT informational message will  also  be

    output, and the program will exit.



    *User action:* As for the CONVERT message - ie use  ITRANS  to  convert  the

    data to units that can be output.



BADUNT, MD (map descriptor) contains unrecognised unit code 'integer'



    *Explanation:* The units code in the map descriptor is not recognised by the

    program.   This means that it is either an incorrect units code, or that the

    version of I2NTF in use has not been updated to recognise all of the current

    units in use.



    *User action:* Report this problem to Laser-Scan.



CLOSERR, error closing file 'file-spec'



    *Explanation:* An error occurred in closing the specified file.



    *User action:* Depends upond the associated error messages.



COPYRT, the /COPYRIGHT date must be an integer of the form yyyymmdd



    *Explanation:* The /COPYRIGHT qualfier has been used to specify a  copyright

    date  that  is not in the correct form (eg 19870218 for 18th February 1987).

    The program will exit.



    *User action:* Specify the copyright date in the required format.



ERRCLOATT, error closing attribute file 'file-spec'



    *Explanation:* An error occurred while trying to close file  specified  with

    the /ATTRIBUTE qualifier.



    *User action:* Depends upon the associated error messages.



ERRCLOFEAT, error closing featclass file 'file-spec'



    *Explanation:* An error occurred while trying to close file  specified  with

    the /FEATCLASSFILE qualifier.



    *User action:* Depends upon the associated error messages.


                                                               Page 47

MESSAGES (ERROR)





ERROPNATT, error opening attribute file 'file-spec'



    *Explanation:* An error occurred in opening  the  file  specified  with  the

    /ATTRIBUTE qualifier



    *User action:* Depends upon the associated error messages.



ERROPNFEAT, error opening featclass file 'file-spec'



    *Explanation:* An error occurred in opening  the  file  specified  with  the

    /FEATCLASSFILE qualifier.



    *User action:* Depends upon the associated error messages.



ERROPNFRT, error opening FRT file 'file-spec'



    *Explanation:* An error occurred in opening the file specified with the /FRT

    qualifier.



    *User action:* Depends upon the associated error messages.



ERRRDATT, error reading line from attribute file



    *Explanation:* An error occurred in reading from the file specified with the

    /ATTRIBUTE qualifier.



    *User action:* Depends upon the associated error messages.



ERRRDFEAT, error reading line from featclass file



    *Explanation:* An error occurred in reading from the file specified with the

    /FEATCLASSFILE qualifier.



    *User action:* Depends upon the associated error messages.



FRTFCERR, FC 'integer' not found in FRT file



    *Explanation:* The specified FC was not found in the FRT file, while looking

    for the graphical type in particular.



    *User action:* Check the FRT file.



INITERR, error initialising magtape 'file-spec'



    *Explanation:* An error occurred initialising the magnetic tape drive.



    *User action:* Depends upon the associated error messages.  A common mistake

    is to forget to mount the tape before running the program.


                                                               Page 48

MESSAGES (ERROR)





INLINE, error in line 'integer' of file 'file-spec'



    *Explanation:* An error occurred  in  reading  the  specified  line  of  the

    /PARAMETER_FILE file.  The file is abandoned, and the program will exit.



    *User action:* Edit the parameter file and correct the offending line.



INTCMDLIN, internal version of command line doesn't start with 'string'



    *Explanation:* The program parses the command line in several stages.   This

    error  message  indicates  an  error  in  the internal representation of the

    command line.  It should never be produced.



    *User action:* Report this problem to Laser-Scan, with full details  of  the

    error.



INTCONERR, integer conversion error of 'real' into an integer



    *Explanation:* This indicates that a value is too large for an integer,  and

    will cause the program to exit.



    *User action:* Check the indicated coordinates and field widths.



INVALIDATT, invalid attribute mnemonic 'string' used



    *Explanation:* The NTF attribute mnemonic specified in the attribute file is

    invalid for use at level 3.  This mnemonic is a default NTF attribute and is

    reserved for use  by  the  program  at  this  level.The  attribute  file  is

    abandoned, and the program will exit.



    *User action:* Edit the attribute file to use a different NTF mnemonic.



LUTLINE, error reading LINE 'integer' of FC lookup file



    *Explanation:* An error has occurred reading a line from the FC lookup file.

    This  message will be followed by LSLLIB and system messages describing what

    went wrong.



    *User action:* Depends upon the associated messages.



LUTTOOSMA, FC lookup file too large for the lookup table



    *Explanation:* The specified FC lookup file contains too  many  entries  for

    the lookup table currently being used.



    *User action:* Define LSL$FRTFRTMAX to be larger than the number of  entries

    in the FC lookup file.


                                                               Page 49

MESSAGES (ERROR)





MAXINFILE, more than 'integer' filespecs in the /INPUT_LIST specification file



    *Explanation:* The internal buffer for storing IFF filespecs can hold up  to

    500  filespecs.   This  error  is  produced  if  more than 500 IFF files are

    specified in the input list file.  The program will exit.



    *User action:* Do not try to output so many files as one NTF dataset.



MHDATE, error interpreting date in MH ('string')



    *Explanation:* The OS(GB) map header stores some date  fields  in  a  binary

    form, as a number of days since 1900.  In order to output these dates to the

    OS specific part of  the  sector  header  (SECHREC)  record,  when  the  /OS

    qualifier has been specified, the program must convert them to a year, month

    and day.  This message indicates that something went wrong with the process,

    and will be followed by a system message indicating the problem.



    *User action:* Depends upon the associated message.  If the problem  is  due

    to the value in the map header, the CONVERT/OS utility OSMHED may be used to

    inspect and edit the relevant field.  If the problem appears to be due to  a

    fault in the program, consult Laser-Scan.



MULTZERO, setting XY_MULT or Z_MULT to zero is not a good idea



    *Explanation:* If the user specifies the /XY_MULT or /Z_MULT qualifier  with

    an  argument  of zero, then this message will be output and the program will

    exit.  Multiplying all of the coordinates, or all of the  heights,  by  zero

    before outputting them is not useful.



    *User action:* Specify sensible values for XY_MULT and Z_MULT, or accept the

    defaults.



NOCB, no reference to current CB entry in node 'integer'



    *Explanation:* A CB entry  has  been  found  in  a  feature  which  contains

    junction  points,  but  no  reference can be found to the CB in the junction

    point description obtained from the sector header.



    *User action:* Investigate the IFJ file, to see why the error has  occurred.

    If possible amend the file.



NOCITF, CITF version 'integer' not available - only 93 or 96 allowed



    *Explanation:*  This  program  only  knows  about   Ordnance   Survey   CITF

    specifications OS93 and OS96.



    *User action:* Choose one of the supported versions, or accept  the  default

    (OS96).


                                                               Page 50

MESSAGES (ERROR)





NODENS, density 'integer' not available - only 1600 or 800 allowed



    *Explanation:* The program can only write data to magnetic tape at  the  two

    specified densities.



    *User action:* Choose one of the supported densities, or accept the  default

    (1600 bpi).



NOFS, FS not present after NF in file 'file-spec'



    *Explanation:* This message  follows  the  BADFEAT  error  message,  when  a

    feature  is found that does not start with the sequence NF,FS.  The IFF file

    concerned is corrupt, and the program will exit.



    *User action:* Investigate the history of the IFF file, to  see  why  it  is

    corrupt.  If the reason cannot be determined, consult Laser-Scan.



NOIFFATT, IFF attribute name not given in attribute file



    *Explanation:* In the attribute file the ATTRIBUTE command was given without

    the name of an IFF attribute.



    *User action:* Check the attribute file to see why this error occurred.



NOMD, map descriptor (MD) entry not found in file 'file-spec'



    *Explanation:* The specified IFF file does not contain a map descriptor, and

    is thus corrupt.  The program will exit.



    *User action:* Investigate the history of the IFF file, to  see  why  it  is

    corrupt.  If the reason cannot be determined, consult Laser-Scan.



NOMH, map header (MH) entry not found in file 'file-spec'



    *Explanation:* The specified IFF file does not contain a map header, and  is

    thus corrupt.  The program will exit.



    *User action:* Investigate the history of the IFF file, to  see  why  it  is

    corrupt.  If the reason cannot be determined, consult Laser-Scan.



NONODE, node not found for JP entry in feature 'integer'



    *Explanation:* There is no reference to the current JP in the sector header.

    The IFJ file is considered corrupt and the program will exit.



    *User action:* Investigate the IFJ file, to see why the error has  occurred.

    If possible amend the file.


                                                               Page 51

MESSAGES (ERROR)





NONTFATT, NTF attribute mnemonic not given in attribute file



    *Explanation:* In the attribute file the ATTRIBUTE command was given without

    the NTF mnemonic into which it should be put.



    *User action:* Check the attribute file to see why this error occurred.



NOPOS, no coordinate entry found in feature



    *Explanation:* This message  follows  the  BADFEAT  error  message,  when  a

    feature  is  found  that does not contain any coordinate data.  The IFF file

    concerned is corrupt, and the program will exit.



    *User action:* Investigate the history of the IFF file, to  see  why  it  is

    corrupt.  If the reason cannot be determined, consult Laser-Scan.



NORECIP, /RECIPIENT must be given in the command line or file



    *Explanation:* The /RECIPIENT qualifier is required for  every  run  of  the

    program.   If  it  is  not  specified,  this  message will be output and the

    program will exit.



    *User action:* Specify the recipient of the data, either on the command line

    or in a parameter file.



NOSCALE, no scale specified in map descriptor or map header



    *Explanation:* Neither the map descriptor entry, nor the  map  header  entry

    (if  /OS mode has been selected) contains a map scale.  This is required for

    output to the section header record.  Note that a map  descriptor  with  the

    scale unset is not actually fully set.



    *User action:* Use ITRANS/DESCRIPTOR to set the  map  descriptor  correctly.

    If  output  in  OS(GB)  mode  is  required,  then the map header must be set

    correctly (using the CONVERT/OS utility OSMHED), which includes the scale of

    the map.



NOST, no reference to current ST entry in node 'integer'



    *Explanation:* An ST entry has  been  found  in  a  feature  which  contains

    junction  points,  but  no  reference can be found to the ST in the junction

    point description obtained from the sector header.



    *User action:* Investigate the IFJ file, to see why the error has  occurred.

    If possible amend the file.


                                                               Page 52

MESSAGES (ERROR)





NOTINT, an integer value less then 10000 must be supplied with /SERIAL



    *Explanation:* If the serial number of the current NTF volume  is  specified

    using  the  /SERIAL  qualifier, the value specified must be within the range

    1-9999.  This message is given if the user requests a serial number  outside

    that range.  The program will exit.



    *User action:* Specify a value within the range, or accept the default value

    of 0.



NOTOSMAP, file 'file-spec' does not have an OS map header - unable to do OS

    output



    *Explanation:* If the /OS qualifier is specified, all of the IFF files to be

    output  must  contain  OS(GB)  style  map header entries.  The files are all

    checked before any output to NTF is performed.  If one is found  without  an

    OS(GB) map header, this message is output and the program will exit.



    *User action:* If OS(GB) style output really is required, then  correct  the

    relevant  file.  The IMP utility IPATCH can be used to change the map header

    (MH) entry so that it is flagged as an OS(GB) map header, and the CONVERT/OS

    utility  OSMHED  can  then  be  used  to set the requisite values within the

    entry.



NOTSET, map descriptor (MD) not set in file 'file-spec'



    *Explanation:*  The  specified  IFF  file  does  not  contain  a  valid  map

    descriptor entry - it is unset.  The program will exit.



    *User action:*  Use  the  IMP  utility  ITRANS/DESCRIPTOR  to  set  the  map

    descriptor correctly.



NOTSUPPORTED, /WATER_DISTRIB qualifier not supported at Version 2.0



    *Explanation:* The /WATER_DISTRIB and /VERSION=2.0 qualifiers were given  on

    the  command  line  which  are  not  allowed  since this is not supported at

    Version 2.0



    *User action:* If you use the  /WATER_DISTRIB  and  require  the  output  of

    Version 2.0 NTF, please contact Laser-Scan.



NTFLINE, error reading parameter file



    *Explanation:* An  error  has  occurred  reading  the  next  line  from  the

    /PARAMETER_LIST  file.   This  message will be followed by LSLLIB and system

    messages describing what went wrong.



    *User action:* Depends upon the associated messages.


                                                               Page 53

MESSAGES (ERROR)





OPENERR, error opening file 'file-spec'



    *Explanation:* An error occurred opening the specified file.   This  message

    will be followed by LSLLIB and system messages describing what went wrong.



    *User action:* Depends upon the associated messages.



OUTCONERR, output conversion error of 'real' into field width 'integer'



    *Explanation:* This indicates that a value is too large for the field width,

    and will not be converted.



    *User action:* Check the indicated coordinates and field widths.



OUTFILE, error in output specification 'file-spec'



    *Explanation:* An error has occurred in parsing the NTF output specification

    as a filespec.



    *User action:* Correct the filespec used.



PARAMER, parsing error in parameter file



    *Explanation:* An error has occurred in interpreting one of the lines in the

    /PARAMETER_FILE  file.   This  message  will have been preceded by a message

    explaining the problem, and will be followed by  the  INLINE  message.   The

    file will be abandoned and the program will exit.



    *User action:* Correct the relevant line of the parameter file.



RANGEOVER, Range overflow when integerised using XY_MULT



    *Explanation:* When the range of the IFF file is converted to  integer  form

    using the XY_MULT value, it overflowed the maximum size that will fit into a

    4 byte integer.



    *User action:* Ensure that the XY_MULT value is correct and  the  IFF  range

    entry  contains  sensible  value whic reflect the coordinates and which will

    not overflow the maximum size for a 4 byte integer.



TOOMNYARMS, node 'integer' has 'integer' arms - no more than 'integer' are

    allowed



    *Explanation:* The specified node  has  more  than  the  maximum  number  of

    radiating links.  Such an entry is not allowed, and the program will exit.



    *User action:* If a feature of this size is required, consult Laser-Scan  to

    have the limit increased.


                                                               Page 54

MESSAGES (ERROR)





TOOMNYCOLL, too many collect objects stored - maximum is 'integer'



    *Explanation:* Collect records are formed  from  several  features  and  are

    built up as features are read from the IFF file.  There is therefore a limit

    to the number of collect records that can be  stored  as  the  features  are

    read.   This  message indicates that the maximum number of such records have

    been stored.  The program will exit.



    *User action:* Consult Laser-Scan to have the limit increased.



TOOMNYFC, too many different FC's - maximum allowed is 'integer'



    *Explanation:* The IFF file contains more  unique  feature  codes  than  are

    allowed.  Such a file cannot be processed, and the program will exit.



    *User action:* Consult Laser-Scan to have the limit increased.



TOOMNYFEAT, too many annotated features stored - maximum is 'integer'



    *Explanation:* Annotated features are stored until the text to  be  used  to

    annotate  them  is  found  in the IFF file.  This message indicates that the

    maximum number of such features have been stored.  The feature will  not  be

    annotated.



    *User action:* Consult Laser-Scan to have the limit increased.



TOOMNYLNKS, feature 'integer' has too many links - no more than 'integer'

    allowed



    *Explanation:* The specified feature  consists  of  more  than  the  maximum

    number of links.  Such an entry is not allowed, and the program will exit.



    *User action:* If a feature of this size is required, consult Laser-Scan  to

    have the limit increased.



TOOMNYNODES, input file has too many nodes - no more than 'integer' allowed



    *Explanation:* The input file consists of more than the  maximum  number  of

    nodes.  A file of this size is not allowed, and the program will exit.



    *User action:* Consult Laser-Scan  to  have  the  limit  on  the  file  size

    increased.



TOOMNYPTS, FSN 'fsn' ('isn') has 'integer' points in an ST/ZS - no more than

    'integer' allowed



    *Explanation:* The specified feature contains an ST or ZS  entry  containing

    more  than the maximum number of points.  Such an entry is not allowed.  The

    program will exit.



    *User action:* Investigate the history of the IFF file, to  see  why  it  is

    corrupt.  If the reason cannot be determined, consult Laser-Scan.


                                                               Page 55

MESSAGES (ERROR)





TOOMNYTXT, too many annotation texts stored - maximum is 'integer'



    *Explanation:* Texts that are to be used to annotate  a  particular  feature

    are  stored  until  that  feature  is  found  in the IFF file.  This message

    indicates that the maximum number of such texts have been stored.  The  text

    will not be used to annotate a feature.



    *User action:* Consult Laser-Scan to have the limit increased.



TYPE1MD, type 1 map descriptor in file 'file-spec'



    *Explanation:* The program requires that all IFF files  to  be  output  must

    have  a  type 2 map descriptor (MD) entry.  If a file does not, this message

    is output and the program will exit.



    *User action:* Use the IMP  utility  ITRANS/DESCRIPTOR  to  change  the  map

    descriptor from type 1 to type 2.



UNEXPENT, unexpected entry "'char'" found in line/point feature



    *Explanation:* This message is output after the BADFEAT error message,  when

    a line or symbol feature contains an IFF entry that is not understood by the

    program as being valid in such a feature.  The program will exit.



    *User action:* Ascertain whether the entry is actually allowed within a line

    or  symbol feature.  If it is, then report the problem to Laser-Scan, as the

    program should presumably be able to understand it.  Otherwise,  investigate

    why the entry is present in the text feature.



UNEXPEOF, unexpected end of IFF file



    *Explanation:* This message is output if the program finds the  end  of  the

    IFF  file,  when  it  is  not  expecting  it.   It  means  that  the file is

    incorrectly terminated, or corrupt in some other way.



    *User action:* All IFF files should end with the sequence EO (end of  layer)

    EM  (end  of  map) EJ (end of job).  Investigate the offending file to check

    whether it actually has this structure.  If the file appears  correct,  then

    consult  Laser-Scan.   If  the  file  is  not  correct, then investigate its

    history and establish what has caused it to be wrong.



VMALLFAIL, virtual memory allocation for FC lookup table failed



    *Explanation:* The virtual memory  allocation  routine  failed  to  allocate

    sufficient space to contain the FC lookup table.



    *User action:* Report this error message to your system manager, along  with

    the  associated  system error.  He may be able to increase your virtual page

    count to allow the lookup table to be used.

%RUNOFF-W-CJL, Can't output line correctly -- margins too narrow.  Line will not be justified


	on output page 55; on input line 1572 of page 1 of file "LSL$DOC_ROOT:[CONVERT.REFERENCE]NTF_I2NTFMSG.RNO;2"



                                                               Page 56

MESSAGES (OTHER)





*--------------------------------------------------------------------------------*







1.15  *MESSAGES (OTHER)*



In addition to the above messages which are generated  by  the  program  itself,

other  messages  may  be  produced  by the command line interpreter (CLI) and by

Laser-Scan libraries.  In particular, messages  may  be  generated  by  the  IFF

library  and  by  the  Laser-Scan I/O library, LSLLIB.  IFF library messages are

introduced by '%IFF' and are documented in the IFF  library  users'  guide.   In

most  cases  IFF  errors will be due to a corrupt input file, and this should be

the first area of investigation.  If the cause of the error cannot be traced  by

the user, and Laser-Scan are consulted, then the output file should be preserved

to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'  and  are

generally  self-explanatory.   They  are  used to explain the details of program

generated errors.

