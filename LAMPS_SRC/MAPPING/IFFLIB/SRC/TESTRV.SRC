	PROGRAM TEST
C
***	IDENT   30SE87
***	MODULE  TEST
C
C	Copyright Laser-Scan Laboratories Ltd., Cambridge, England.
C
	IMPLICIT NONE
C
***	COMMON/LSL$CMNIFF:IFFHAN/
***	COMMON/LSL$CMNIFF:IFFJUN/
C
	INTEGER	IFFOPN
	INTEGER	BLOCKS1,BLOCKS2,BLOCKS3
	INTEGER*2	IECODE,IELEN
	INTEGER*4	POSE
C
CCC	CALL IFFMAP(.TRUE.)
	CALL IFFORV(-2)
	CALL IFFORV(2)
	CALL IFFORV(1)
	CALL IFFIRV(1)
	BLOCKS1 = IFFOPN(1,'FILE1:',0)
	CALL IFFIRV(2)
	CALL IFFIRV(1)
	POSE = LPOSE
	CALL IFFORV(1)
	BLOCKS2 = IFFOPN(2,'FILE2:',POSE)
	CALL IFFIRV(1)
	BLOCKS3 = IFFOPN(3,'FILE3:',POSE)
	CALL IFFSEL(1)
10	CALL IFFNXT(IECODE,IELEN)
	IF (IELEN.EQ.-1) GOTO 20
	CALL EIHCPY(2)
	GOTO 10
20	CALL IFFCLO(1)
	CALL IFFCLO(2)
	CALL IFFCLO(3)
	CALL EXIT
	END
