	SUBROUTINE READ_XYZ(EDITING)
C
***	MODULE	READ_XYZ
***	IDENT	18NO88
C
C Copyright Laser-Scan Laboratories Ltd., Cambridge, England
C Created						ACM	Feb-1988
C
	IMPLICIT	NONE
C
C Commons
***	COMMON/LSL$CMNRCPEDT:RCPEDT/
C
C Data in
	LOGICAL*4	EDITING
C
C Workspace
	LOGICAL*4	OK,EOL
	INTEGER*4	IERR
	REAL*8		TEMP_COORD
	BYTE		CH
C
C Functions
	LOGICAL*4	TTRSTR		! prompt and read line
	LOGICAL*4	RDDBLE	        ! read real
	LOGICAL*4	RDCHS	        ! read next non blnk chr
C
CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC
C
C	This subroutine is used for the input of CP XYZ coordinates.
C
C	If the user is editing a line of the file, pressing <CR>
C	accepts the previous value of the 3 coordinates; to change a
C	coordinate the user must type in all 3 values.
C
CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC
C
10	OK = TTRSTR(,,'Input X,Y,Z : ',IERR)
	IF (.NOT.OK) THEN
	  IF (EDITING) GOTO 20
	  GOTO 10
	END IF
	CALL BSLN
C
	EOL = RDCHS(CH)			! read X coord
	IF (EOL) THEN
	  IF (EDITING) GOTO 20
	  GOTO 10
	END IF
	CALL BSCH()
	IF (RDDBLE(TEMP_COORD)) GOTO 10
	GROUND(1,N_RCPS) = TEMP_COORD
C
	EOL = RDCHS(CH)			! read Y coord
	IF (EOL) THEN
	  IF (EDITING) GOTO 20
	  GOTO 10
	END IF
	CALL BSCH()
	IF (RDDBLE(TEMP_COORD)) GOTO 10
	GROUND(2,N_RCPS) = TEMP_COORD
C
	EOL = RDCHS(CH)			! read Z coord
	IF (EOL) THEN
	  IF (EDITING) GOTO 20
	  GOTO 10
	END IF
	CALL BSCH()
	IF (RDDBLE(TEMP_COORD)) GOTO 10
	GROUND(3,N_RCPS) = TEMP_COORD
C
20	RETURN
	END
