	LOGICAL FUNCTION OSMH_VIO_INQTABLE
C
***	IDENT	14NO90
***	MODULE	OSMH_VIO_INQTABLE
C
C	Copyright Laser-Scan Laboratories Ltd., Cambridge, England.
C
C	VIOLIB version for DIGSYS		RJH	05-Nov-1990
C	Created					ST	16-Oct-1990
C
C Description
C
C To test if LSL$OS_MH_TABLE has been defined and points to a valid filename.
C
C
	IMPLICIT NONE
C
C Included Parameter Files
C
	INCLUDE 'CMN:OSMHLIBMSG.PAR'		! OSMHLIB messages
C
C Common Blocks
C
	INCLUDE 'CMN:OSMH_NEW_FILES.CMN'	! File definitions
	INCLUDE 'LSL$CMNOSMH:OSMH_NEW_MH.CMN'	! Map header variables
C
	INCLUDE '($SSDEF)/NOLIST'
C
C Functions called
C
	INTEGER*4	LIB$FIND_FILE
	INTEGER*4	TRNALL
C
C Local Variables
C
	INTEGER*4	CONTEXT		! context for LIB$FIND_FILE
	INTEGER*4	IERR		! error code
C
C-------------------------------------------------------------------------------
C
C Check if logical name has been set up.
C
	IF (TRNALL('LSL$OS_MH_TABLE',OSMH_PARFIL).EQ.SS$_NOLOGNAM) THEN
	   MH_FOUNDFILE = OSMHLIB__NOLOG
	   GOTO 999
	ENDIF
C
C Check whether file exists
C
	CONTEXT = 0			! clear context
	IERR = LIB$FIND_FILE(OSMH_PARFIL,OSMH_PARFIL,CONTEXT,
     &			     'LSL$LOOKUP:OSMH_NEW_TABLE.DAT')
	CALL LIB$FIND_FILE_END(CONTEXT)
C
	IF (IERR) THEN
	   MH_FOUNDFILE = SS$_NORMAL
	ELSE
	   MH_FOUNDFILE = OSMHLIB__NOFILE
	ENDIF
C
C Return
C
999	OSMH_VIO_INQTABLE = MH_FOUNDFILE
C
	RETURN
	END
