	SUBROUTINE END_MESSAGE
C
***	IDENT	10JL87
***	MODULE	END_MESSAGE
C
C Copyright (C) LaserScan Laboratories Ltd, Cambridge, England
C Author TJ Ibbs, 2 July 1987
C
C This routine ends the current message, ready for the next one
C
	IMPLICIT NONE
C
C *****************************************************************************
C Common files
C
	INCLUDE	'HERE:MESSAGES.CMN'		! the messages themselves
C
C *****************************************************************************
C if we're in a message, but we didn't have an explanation or user action,
C then count the omissions
C
	IF ( IN_MESSAGE ) THEN
	   IF ( .NOT.HAD_EXPLANATION ) MISS_EXPL = MISS_EXPL +1
	   IF ( .NOT.HAD_USERACTION  ) MISS_USER = MISS_USER +1
	ENDIF
C
C and we are now no longer in a message
C
	IN_MESSAGE = .FALSE.
C
C and that's all
C
	RETURN
	END
