	SUBROUTINE RESLOG()
C
***	MODULE	RESLOG
***	IDENT	09OC92
C
	IMPLICIT NONE
C
C	Copyright Laser-Scan Laboratories Ltd., Cambridge, England
C
C	Created					ST	09-Oct-1992
C
C Translated logical name LSL$DTMCREATE_RESOLUTION into common block
C value MAX_RES_REAL.
C
	INCLUDE 'LSL$DTMCREATESYS:RESOLUTION.CMN'
C
C ......................................................................
C
C arguments
	CHARACTER*24	LOGNAM		! logical name for value
	INTEGER		DEFVAL		! default value
	INTEGER		MINVAL		! minimum value
	INTEGER		MAXVAL		! maximum value
C
C functions called
	INTEGER		TRNALL		! LSLLIB
	LOGICAL		RDLONG		! LSLLIB
	LOGICAL		SIGCHS		! LSLLIB
C
C workspace
	CHARACTER*80	TRAN
	INTEGER		I,LOGICAL_VAL,LEN
	INTEGER*2	SAVDP
C
C............................................................................
C
	LOGNAM(1:24) = 'LSL$DTMCREATE_RESOLUTION'
	MINVAL = 300000
	MAXVAL = 10000000
	DEFVAL = MINVAL
C
	LOGICAL_VAL = DEFVAL
	IF ( TRNALL(LOGNAM,TRAN) ) THEN			! success
	   CALL DCPSAV(SAVDP)				! save decode pointer
	   CALL SETAUX(%REF(TRAN),80)
	   IF ( RDLONG(I) ) THEN
	      LEN = SIGCHS(TRAN)
	      CALL WRITEF('Bad value "%S" for logical name "%S"',TRAN(1:LEN),
     &		                                                 LOGNAM)
	      CALL WRITEF('Using default value %N',DEFVAL)
	   ELSE
	      IF (I.LT.MINVAL.OR.I.GT.MAXVAL) THEN
	         CALL WRITEF(
     &			'Value %N for logical name "%S" is outside range %N-%N',
     &			I,LOGNAM,MINVAL,MAXVAL)
	         CALL WRITEF('Using default value %N',DEFVAL)
	      ELSE
	         LOGICAL_VAL = I
	      ENDIF
	   ENDIF
	   CALL BSLN					! reset to TXTBUF
	   CALL DCPSET(SAVDP)				! restore pointer
	ENDIF
	MAX_RES_INT  = LOGICAL_VAL
	MAX_RES_REAL = FLOAT(LOGICAL_VAL)
C
C............................................................................
C
	RETURN
	END
