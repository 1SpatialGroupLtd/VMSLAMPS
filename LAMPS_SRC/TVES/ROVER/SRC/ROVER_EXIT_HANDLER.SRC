	SUBROUTINE ROVER_EXIT_HANDLER(STATUS)
C
***	IDENT	15MR90
***	MODULE	ROVER_EXIT_HANDLER
C
C	Copyright Laser-Scan Laboratories Ltd., Cambridge, England.
C
C	Author :	 D R Catlow
C	Created:	 16 March 1989
C
C	Routine to ensure any RCP files are correctly closed down
C	on abnormal exit, and the table monitor system etc. is
C	correctly closed down.
C
C-----------------------------------------------------------------------
C
	IMPLICIT NONE
C
C	Argument
	INTEGER*4		STATUS
C
***	COMMON/LSL$CMNROVER:FPPDAT/
***	COMMON/LSL$CMNROVER:ROVCMN/
***	COMMON/LSL$CMNROVER:DIGCMN/
***	COMMON/LSL$CMNROVER:IFFCMN/
***	COMMON/LSL$CMNROVER:GKS/
C
C	Local
	INTEGER*4		IERR	
C
C----------------------------------------------------------------------
C
	CALL END_REGISTRATION	
C
	IF (PLOT_IFF) CALL CLSOUT
	IF (HADIFF(IFFCHAN)) CALL IFFCLO(3)
C
	IF (TABLE) CALL CLOSE_TAB (IERR)
C
	IF (OPWK) THEN
	   CALL GDAWK(WKID)
	   CALL GCLWK(WKID)
	   CALL GCLKS
	   OPWK = .FALSE.
	ENDIF
C
C----------------------------------------------------------------------
C
	RETURN
C
	END
