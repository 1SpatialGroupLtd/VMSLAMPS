	SUBROUTINE TIDY_UP
C
***	MODULE	TIDY_UP
***	IDENT	30MR89
C
C Copyright Laser-Scan Laboratories Ltd., Cambridge, England
C
C Author M.W.S. Reid
C
C 	Created					MWSR    06-Mar-1989
C
C SLOPES routine to close files etc at end of program
C
	IMPLICIT NONE
C
C Parameters
***	PARAMETER/LSL$CMNDTI:DTILIBMSG/
C
C Common Blocks
***	COMMON/HERE:SLPCMN/
***	COMMON/HERE:TAB/		!table common
C
C Functions
	INTEGER*4	DTI_CLOSE
C
C Local Variables
	INTEGER*4	RET
	INTEGER*4	ERRCOD
C
C close the input file
	IF (HADDTI) THEN
	   RET = DTI_CLOSE(DTICHAN,.FALSE.,.FALSE.,ERRCOD)
	   IF(.NOT. RET) THEN
	      CALL LSL_PUTMSG(RET)
	      IF(RET.EQ. DTI__SYSERR) CALL LSL_PUTMSG(ERRCOD)
	   ENDIF
	ENDIF
C
C shut down the table
	IF (TABLE) CALL CLOSE_TAB (ERRCOD)
C	
	RETURN
	END
