C
C * This file is part of the LAMPS distribution, released as a software
C * preservation project to archive digital history for future historians.
C * Copyright (c) 1980-2002 Laser-Scan Ltd, 1Spatial Group Ltd
C *
C * Timestamp of this file for the 2002 release was: 1993-03-01 18:36:28.000000000 +0000
C *
C * This program is free software: you can redistribute it and/or modify
C * it under the terms of the GNU General Public License as published by
C * the Free Software Foundation, version 3.
C *
C * This program is distributed in the hope that it will be useful, but
C * WITHOUT ANY WARRANTY; without even the implied warranty of
C * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
C * General Public License for more details.
C *
C * You should have received a copy of the GNU General Public License
C * along with this program. If not, see http://www.gnu.org/licenses/.
C
	PROGRAM TEST
C
C
***	IDENT	01MR93
***	MODULE	TEST
C
C	Copyright : Laser-Scan Laboratories, Cambridge, England
C	Author    : D R Catlow
C
***	COMMON/LSL$CMNDTI:DTIHDR/
***	COMMON/LSL$CMNDTI:DTIPROJ/
***	PARAMETER/LSL$CMNDTI:DTIPAR/
***	PARAMETER/LSL$CMNDTI:DTILIBMSG/
***	COMMON/LSL$CMNLSL:EXPC/
C
	INTEGER*4		ERROR
	INTEGER*4		IERR
	INTEGER*4		CHANNEL
	INTEGER*4		CH_LENGTH
	INTEGER*4		I,J
	INTEGER*4		COUNT_COLUMN
	INTEGER*2		INTEGER_ARRAY(1536)
	BYTE			TEMP_ARRAY(2,1536)
	BYTE			BYTE_ARRAY(1536)
	BYTE			MIN_BYTE,MAX_BYTE
	INTEGER*2		MIN_WORD,MAX_WORD
C
	INTEGER*4		RET
C
	INTEGER*4		DTI_PRINT_PROJECTION
	INTEGER*4		DTI_EXTEND_HEADER
	INTEGER*4		DTI_EXTEND_DATA
	INTEGER*4		DTI_CLOSE
	INTEGER*4		DTI_MINMAX_DATA
	INTEGER*4		DTI_OPEN
	INTEGER*4		DTI_COPY_WORD_DATA
	INTEGER*4		DTI_COPY_BYTE_DATA
	INTEGER*4		DTI_CREATE
	INTEGER*4		DTI_PRINT_HEADER
	INTEGER*4		DTI_WRITE_PROJ_REC
	INTEGER*4		DTI_WRITE_WORD_HEADER
	INTEGER*4		DTI_WRITE_BYTE_HEADER
	INTEGER*4		DTI_READ_DATA
	INTEGER*4		DTI_INIT_BYTE_DATA
	INTEGER*4		DTI_WINDOW_MINMAX
	INTEGER*4		DTI_READ_PROJ_REC
	INTEGER*4		DTI_WRITE_DATA
C
	INTEGER*4		EXPAND
C
	LOGICAL*4		VALUE
C
	REAL*4			REAL_VALUE
	INTEGER*2		WORD_VALUE
	BYTE			BYTE_VALUE
C
	EQUIVALENCE		(VALUE,BYTE_VALUE,REAL_VALUE)
	EQUIVALENCE             (BYTE_VALUE,WORD_VALUE)
	EQUIVALENCE		(MIN_BYTE,MIN_WORD)
	EQUIVALENCE		(MAX_BYTE,MAX_WORD)
C
C*******************************************************************
C
	CALL LSL_INIT
	CALL DTI_INIT
	CALL DTI_INIT
C
	RET = DTI_OPEN(1,'LSL$DTI:MALTBY.DTI',22,.FALSE.,ERROR,.TRUE.)
C	RET = DTI_CREATE(1,'LSL$DTI:TEST.DTI',16,3,,1,10,10,ERROR)
C
	IF(.NOT.RET)THEN
	  CALL LSL_PUTMSG(RET)
	  IF(RET.EQ.DTI__SYSERR)CALL LSL_PUTMSG(ERROR)
	  GOTO 999
	ENDIF
C	
	RET = DTI_PRINT_HEADER(1,2)
	IF(.NOT.RET)THEN
	  CALL LSL_PUTMSG(RET)
	  IF(RET.EQ.DTI__SYSERR)CALL LSL_PUTMSG(ERROR)
	  GOTO 999
	ENDIF
C
	RET = DTI_PRINT_HEADER(1,5)
	IF(.NOT.RET)THEN
	  CALL LSL_PUTMSG(RET)
	  IF(RET.EQ.DTI__SYSERR)CALL LSL_PUTMSG(ERROR)
	  GOTO 999
	ENDIF
C
C	IERR= DTI_WRITE_WORD_HEADER(1,800,4,ERROR)
C	IERR= DTI_WRITE_WORD_HEADER(1,800,6,ERROR)
C	IERR= DTI_WRITE_BYTE_HEADER(1,5,28,ERROR)
C	
C
	IERR= DTI_CLOSE(1,.FALSE.,.FALSE.,ERROR)
C
999	END

