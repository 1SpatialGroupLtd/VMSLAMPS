SET /UIC=[100,6]
.ENABLE SUBSTITUTION
.SETF F
.IFT F ; Last edited 4/xii/79
.IFT F ;
.IFDF FL .GOTO DOIT
.ENABLE ESCAPE
.SETF MAP
.SETF MC
.SETF NEWSSG
.SETF FL
.SETS PGH ""
.SETF CRF
.SETF JNCTN
.SETF TWOICH
.ASK AJW AJW MODS
.2:.ASK ELF ELF
.IFF <ESCAPE> .GOTO 3
;
; if you wish to change between ELA  & FLF then
; the following questions have forced "yes" answers:
;	MAIN
;	* FLFTN
;	* I/O
;	* * PARAMS
;	INIT
;	LINKOVER
.IFT AJW;	* LNKSUB
;	IFFSYS
;	FOLLOW
;	* BASIC
;	* DIGIT
;	* * INTELLIGENCE
;	* * END MATCHING
;	CONSL
;	* DRAW
;	PAINT
;
.GOTO 2
.3:.IFF ELF .ASK JNCTN JUNCTIONS
.IFT ELF .SETT TWOICH
.IFT JNCTN .SETT TWOICH
.IFT F ; the last compilation:
PIP TI:=[100,5]PARAMS.MAC
.ASK ELFDIF are you changing between ELA & FLF
.ASK NEWSSG NEW SSG
.SETF NULL
.IFF ELFDIF .ASK NULL NULL
.IFT NULL .GOTO NULL
.SETF FLMAIN
.SETF FLFTN
.SETF FLSUB
.SETF SST
.SETF IO
.SETF MACIO
.SETF COMMS
.SETF PARAM
.SETF INIT
.SETF LINK
.SETF LNKSUB
.SETF SYS
.SETF FOLLOW
.SETF FORK
.SETF BASIC
.SETF CHAIN
.SETF BUNCH
.SETF DIGIT
.SETF DIGINT
.SETF MATCH
.SETF CONSL
.SETF DRAW
.SETF ROLL
.SETF SETMAC
.SETF POINT
.SETF PAINT
.ASK FL FORTRAN LISTINGS
.SETF TEMP
.IFT F .ASK TEMP PGH MODS
.IFT TEMP .SETS PGH ".PGH"
.IFF ELFDIF .GOTO 6
.SETT FLMAIN
.SETT FLFTN
.SETT IO
.SETT PARAM
.SETT INIT
.SETT LINK
.IFT AJW .SETT LNKSUB
.SETT SYS
.SETT FOLLOW
.SETT BASIC
.SETT DIGIT
.SETT DIGINT
.SETT MATCH
.SETT CONSL
.SETT DRAW
.SETT PAINT
.6:.IFT FLMAIN ; MAIN
.IFF FLMAIN .ASK FLMAIN MAIN
.IFF FLMAIN .GOTO 20
.ASK FLSUB * FLSUB
.IFT FLFTN ; * FLFTN
.IFF FLFTN .ASK FLFTN * FLFTN
.ASK SST * SST
.IFT IO ; * I/O
.IFF IO .ASK IO * I/O
.IFT IO .ASK MACIO * * MACIO
.IFT IO .ASK COMMS * * COMMS
.IFT IO .IFT PARAM ; * * PARAMS
.IFT IO .IFF PARAM .ASK PARAM * * PARAMS
.20:.IFT INIT ; INIT
.IFF INIT .ASK INIT INIT
.ASK FAX FAX
.ASK CHECK CHECK
.ASK CORN CORNER
.IFT LINK ; LINKOVER
.IFF LINK .ASK LINK LINKOVER
.IFT LINK .IFF LNKSUB .IFT AJW .ASK LNKSUB * LNKSUB
.ASK STOMAC MACRO CALLING
.IFT SYS ; IFFSYS
.IFF SYS .ASK SYS IFFSYS
.IFT FOLLOW ; FOLLOW
.IFF FOLLOW .ASK FOLLOW FOLLOW
.IFF FOLLOW .GOTO 60
.ASK FORK * FORK
.IFT BASIC ; * BASIC
.IFF BASIC .ASK BASIC * BASIC
.ASK CHAIN * CHAIN
.ASK BUNCH * BUNCH
.IFT DIGIT ; * DIGIT
.IFF DIGIT .ASK DIGIT * DIGIT
.IFF DIGIT .GOTO 60
.IFT DIGINT ; * * INTELLIGENCE
.IFF DIGINT .ASK DIGINT * * INTELLIGENCE
.IFT MATCH ; * * END MATCHING
.IFF MATCH .ASK MATCH * * END MATCHING
.60:.IFT CONSL ; CONSL
.IFF CONSL .ASK CONSL CONSL
.IFF CONSL .GOTO 65
.IFT DRAW ; * DRAW
.IFF DRAW .ASK DRAW * DRAW
.ASK ROLL * ROLL & FUMBLE
.ASK SETMAC * MACRO SETTING & MANDIG
.ASK POINT * POINT FEATURES
.65:.ASK CALIB CALIB
.IFT PAINT ; PAINT
.IFF PAINT .ASK PAINT PAINT
.ASK ODDS ODDS
.NULL: .ASK TKB TKB
.SETF EXPVER
.IFT TKB .ASK EXPVER * EXPERIMENTAL VERSION
.IFT TKB .ASK MAP * LMP MAP
.IFT F ; .IFT TKB .IFT MAP .ASK MC * * MC
.SETF CRF
.IFT TKB .IFF MAP .ASK CRF * CRF
.IFT F ;-------------------------------------------------------------
.ASK BATCH BATCH
.IFF BATCH .GOTO DOIT
.OPEN [100,6]LABAT.TMP
.IFT ELF .DATA .SETT ELF
.IFF ELF .DATA .SETF ELF
.IFT JNCTN .DATA .SETT JNCTN
.IFF JNCTN .DATA .SETF JNCTN
.IFT TWOICH .DATA .SETT TWOICH
.IFF TWOICH .DATA .SETF TWOICH
.IFT NULL .DATA .SETT NULL
.IFF NULL .DATA .SETF NULL
.IFT NEWSSG .DATA .SETT NEWSSG
.IFF NEWSSG .DATA .SETF NEWSSG
.IFT FL .DATA .SETT FL
.IFF FL .DATA .SETF FL
.IFT AJW .DATA .SETT AJW
.IFF AJW .DATA .SETF AJW
.IFT NULL .GOTO NULL2
.DATA .SETS PGH "'PGH'"
.IFT FLMAIN .DATA .SETT FLMAIN
.IFF FLMAIN .DATA .SETF FLMAIN
.IFT FLFTN .DATA .SETT FLFTN
.IFF FLFTN .DATA .SETF FLFTN
.IFF FLSUB .DATA .SETF FLSUB
.IFT FLSUB .DATA .SETT FLSUB
.IFF SST .DATA .SETF SST
.IFT SST .DATA .SETT SST
.IFT IO .DATA .SETT IO
.IFF IO .DATA .SETF IO
.IFT MACIO .DATA .SETT MACIO
.IFF MACIO .DATA .SETF MACIO
.IFT COMMS .DATA .SETT COMMS
.IFF COMMS .DATA .SETF COMMS
.IFT PARAM .DATA .SETT PARAM
.IFF PARAM .DATA .SETF PARAM
.IFT INIT .DATA .SETT INIT
.IFF INIT .DATA .SETF INIT
.IFT FAX .DATA .SETT FAX
.IFF FAX .DATA .SETF FAX
.IFT CHECK .DATA .SETT CHECK
.IFF CHECK .DATA .SETF CHECK
.IFT CORN .DATA .SETT CORN
.IFF CORN .DATA .SETF CORN
.IFT POINT .DATA .SETT POINT
.IFF POINT .DATA .SETF POINT
.IFT LINK .DATA .SETT LINK
.IFF LINK .DATA .SETF LINK
.IFT LNKSUB .DATA .SETT LNKSUB
.IFF LNKSUB .DATA .SETF LNKSUB
.IFT STOMAC .DATA .SETT STOMAC
.IFF STOMAC .DATA .SETF STOMAC
.IFT SYS .DATA .SETT SYS
.IFF SYS .DATA .SETF SYS
.IFT FOLLOW .DATA .SETT FOLLOW
.IFF FOLLOW .DATA .SETF FOLLOW
.IFT FORK .DATA .SETT FORK
.IFF FORK .DATA .SETF FORK
.IFT BASIC .DATA .SETT BASIC
.IFF BASIC .DATA .SETF BASIC
.IFT CHAIN .DATA .SETT CHAIN
.IFF CHAIN .DATA .SETF CHAIN
.IFT BUNCH .DATA .SETT BUNCH
.IFF BUNCH .DATA .SETF BUNCH
.IFT DIGIT .DATA .SETT DIGIT
.IFF DIGIT .DATA .SETF DIGIT
.IFT DIGINT .DATA .SETT DIGINT
.IFF DIGINT .DATA .SETF DIGINT
.IFT MATCH .DATA .SETT MATCH
.IFF MATCH .DATA .SETF MATCH
.IFT CONSL .DATA .SETT CONSL
.IFF CONSL .DATA .SETF CONSL
.IFT DRAW .DATA .SETT DRAW
.IFF DRAW .DATA .SETF DRAW
.IFT ROLL .DATA .SETT ROLL
.IFF ROLL .DATA .SETF ROLL
.IFT SETMAC .DATA .SETT SETMAC
.IFF SETMAC .DATA .SETF SETMAC
.IFT CALIB .DATA .SETT CALIB
.IFF CALIB .DATA .SETF CALIB
.IFT PAINT .DATA .SETT PAINT
.IFF PAINT .DATA .SETF PAINT
.IFT ODDS .DATA .SETT ODDS
.IFF ODDS .DATA .SETF ODDS
.NULL2: .IFT TKB .DATA .SETT TKB
.IFF TKB .DATA .SETF TKB
.IFT EXPVER .DATA .SETT EXPVER
.IFF EXPVER .DATA .SETF EXPVER
.IFT CRF .DATA .SETT CRF
.IFF CRF .DATA .SETF CRF
.IFT MAP .DATA .SETT MAP
.IFF MAP .DATA .SETF MAP
.IFT MC .DATA .SETT MC
.IFF MC .DATA .SETF MC
.IFT BATCH .DATA .SETT BATCH
.IFF BATCH .DATA .SETF BATCH
.IFT F .DATA .CHAIN LA.CMD
.CLOSE LABAT.TMP
PIP LABAT.TMP/AP=LA.CMD
BAT LABAT.TMP
BAT /LI
PIP LABAT.TMP/PU
.GOTO END
.DOIT: TIME
.IFF FL ASN NI:=FL:
.IFT FL ASN SY:=FL:
SET /UIC=[100,5]
.OPEN [100,5]PARAMS.MAC
.IFT ELF .DATA ELF = 1	; forestry Laseraid (ELA)
.IFF ELF .DATA ELF = 0	; normal Laseraid (FLF)
.IFT NEWSSG .DATA NEWSSG = 1	; 114
.IFF NEWSSG .DATA NEWSSG = 0	; 102
.IFT TWOICH .DATA TWOICH = 1	; junctions or ELF
.IFF TWOICH .DATA TWOICH = 0	; no junctions and ELF
.IFT JNCTN  .DATA JNCTN  = 1	; junctions
.IFF JNCTN  .DATA JNCTN  = 0	; no junctions
.IFT AJW    .DATA AJW    = 1    ; AJW mods
.IFF AJW    .DATA AJW    = 0    ; no AJW mods
.CLOSE
PIP PARAMS.MAC/PU
.IFT NULL .GOTO 1500
.IFT F ;-------------------------------------------------------------
.100:.IFF FLMAIN .GOTO 200
.IFF FLSUB .GOTO 110
ADC FLSUB=[100,6]FLSUB,PEND,TABTYP,SETOVR
F4P FLSUB,FL:FLSUB/LI:0/-SP=FLSUB/TR:NAMES
PIP FLSUB.FTN;*/DE
.IFT FL .XQT LST FL:FLSUB.LST/S/-L
.110:.IFF FLFTN .GOTO 120
MAC FLCMDPST = PARAMS,SOLTB,[100,6]CMDPST
MAC FFCOM = FFCOM
ADC FLFTN=PARAMS.MAC/TR,[100,6]FLMAIN,FLFBLK,NEWTIM
F4P FLFTN,FL:FLFTN/LI:0/-SP=FLFTN/TR:NAMES
PIP FLFTN.FTN;*/DE
.IFT FL .XQT LST FLFTN.LST/S/-L
.120:.IFF SST .GOTO 130
MAC DEBUG = [100,6]DEBUG
MAC FLFSST= SOLTB,[100,6]FLFSST
ADC SST=[100,6]FLDSST,BCKTRC,WINDUP
F4P SST,FL:SST/LI:0/-SP=SST/TR:NAMES
.IFT FL .XQT LST SST.LST/-L/S
PIP SST.OBJ/AP=DEBUG.OBJ,FLFSST.OBJ
PIP DEBUG.OBJ;*,FLFSST.OBJ;*,SST.FTN;*/DE
.130:.IFF IO .GOTO 160
.IFF MACIO .GOTO 140
;;MAC RW=READ
;;MAC WRITE=WRITE
MAC RW=DECIO
MAC EXPLODE=EXPLODE
MAC MEDIUM=[100,2]MEDIUM
MAC MYR50=MYR50
PIP RW.OBJ=EXPLODE.OBJ,MYR50.OBJ/AP
PIP EXPLODE.OBJ;*,MYR50.OBJ;*/DE
.140:.IFT COMMS ADC COMMS=[100,6]RDCOMM,RDREAL,FBTYPE,RDNUM
.IFT COMMS F4P COMMS,FL:COMMS/LI:0/-SP=COMMS/TR:NAMES
.IFT COMMS PIP COMMS.FTN;*/DE
.IFT COMMS .IFT FL .XQT LST FL:COMMS.LST/S/-L
.IFF PARAM .GOTO 150
ADC PARAM=PARAMS.MAC/TR,[100,6]PARIO,INOUT
F4P PARAM,FL:PARAM/LI:0/-SP=PARAM/TR:NAMES
PIP PARAM.FTN;*/DE
.IFT FL .XQT LST FL:PARAM.LST/S/-L
.150:PIP IO.OBJ=RW.OBJ,COMMS.OBJ
.160:PIP FLMAIN.OBJ=FLFTN.OBJ,IO,FLCMDPST,FFCOM,SST,PARAM
.IFT F ;-------------------------------------------------------------
.200:.IFF INIT .GOTO 300
MAC INICOM=SOLTB,PARAMS,[100,6]INICOM
MAC GETTIM=[100,6]GETTIM
ADC FLINIT=PARAMS.MAC/TR,[100,6]INIT,RDFILT,GETITM,TIDY
F4P FLINIT,FL:FLINIT/LI:0/-SP=FLINIT/TR:NAMES
PIP FLINIT.OBJ=INICOM.OBJ,GETTIM.OBJ/AP
PIP FLINIT.FTN;*/DE
.IFT FL .XQT LST FL:FLINIT.LST/S/-L
ADC GUIDE = [100,6]PRECOM,SETGUD,GETAB,AB4TRN
F4P GUIDE,FL:GUIDE/LI:0/-SP=GUIDE/TR:NAMES
PIP GUIDE.FTN;*/DE
.IFT FL .XQT LST FL:GUIDE.LST/S/-L
.IFT F ;-------------------------------------------------------------
.300:.IFF FAX .GOTO 400
ADC FAX = [100,6]FAX,EDGDMP
F4P FAX,FL:FAX/LI:0/-SP=FAX/TR:NAMES
PIP FAX.FTN;*/DE
.IFT FL .XQT LST FL:FAX.LST/S/-L
.IFT F ;-------------------------------------------------------------
.400:.IFF CHECK .GOTO 500
MAC CHKCOM=SOLTB,CHKCOM
ADC SCHECK=[100,6]SCHECK,PEER,LINFIT,SETDIR,CHKINF
F4P SCHECK,FL:SCHECK/LI:0/-SP=SCHECK/TR:NAMES
PIP SCHECK.OBJ=CHKCOM.OBJ/AP
PIP SCHECK.FTN;*,CHKCOM.OBJ;*/DE
.IFT FL .XQT LST FL:SCHECK.LST/S/-L
.IFT F ;-------------------------------------------------------------
.500:.IFF CORN .GOTO 550
ADC CORNER=[100,6]CORNER,FIDFND,LINFIT,SETDIR
F4P CORNER,FL:CORNER/LI:0/-SP=CORNER/TR:NAMES
PIP CORNER.FTN;*/DE
.IFT FL .XQT LST FL:CORNER.LST/S/-L
.IFT F ;-------------------------------------------------------------
.550:.IFF POINT .GOTO 600
ADC AUTX=[100,6]AUTX
F4P AUTX,FL:AUTX/LI:0/-SP=AUTX/TR:NAMES
PIP AUTX.FTN;*/DE
.IFT FL .XQT LST FL:AUTX.LST/S/-L
ADC POINT=[100,6]POINT
F4P POINT,FL:POINT/LI:0/-SP=POINT,[100,3]NEBIT/TR:NAMES
PIP POINT.FTN;*/DE
.IFT FL .XQT LST FL:POINT.LST/S/-L
.IFT F ;-------------------------------------------------------------
.600:.IFF LINK .GOTO 620
MAC LNKCOM=SOLTB,PARAMS,[100,6]LNKCOM
.IFT AJW ADC LINKOVER=PARAMS.MAC/TR,[100,6]LINK.AJW,[100,6]SETDIR
.IFF AJW ADC LINKOVER=PARAMS.MAC/TR,[100,6]LINK,[100,6]SETDIR
F4P LINKOVER,FL:LINKOVER/LI:0/-SP=LINKOVER/TR:NAMES/CO:12
PIP LINKOVER.FTN;*/DE
.IFT FL .XQT LST FL:LINKOVER.LST/S/-L
PIP LINKOVER.OBJ=LNKCOM.OBJ/AP
.IFT F ;--------------------------------------------------------
.IFF LNKSUB .GOTO 620
ADC LNKDRW=PARAMS.MAC/TR,[100,6]LNKDRW
F4P LNKDRW,FL:LNKDRW/LI:0/-SP=LNKDRW/TR:NAMES
PIP LNKDRW.FTN;*/DE
.IFT FL .XQT LST FL:LNKDRW.LST/S/-L
.IFT F ;---------------------------------------------------------
ADC LNKTEK=PARAMS.MAC/TR,[100,6]LNKTEK
F4P LNKTEK,FL:LNKTEK/LI:0/-SP=LNKTEK/TR:NAMES
PIP LNKTEK.FTN;*/DE
.IFT FL .XQT LST FL:LNKTEK.LST/S/-L
.IFT F ;--------------------------------------------------------
.620:.IFF ELF .GOTO 630
PIP ELFRTS.FTN;*/DE
PIP ELFRTS.FTN=[100,3]TSTATT.FTN,MERSCN,CHNMER,EDGROW,EDGFTR,GETFTR,ICHNIN
F4P ELFRTS,FL:ELFRTS/LI:0/-SP=ELFRTS/TR:NAMES
.IFT FL LST FL:ELFRTS.LST/-L/S
.IFT F ;-------------------------------------------------------------------
.630:.IFF JNCTN .GOTO 640
PIP JNCRTS.FTN;*/DE
PIP JNCRTS.FTN=[100,3]TSTATT.FTN,MERSCN,CHNMER,EDGROW,ICHNIN
F4P JNCRTS,FL:JNCRTS/LI:0/-SP=JNCRTS/TR:NAMES
.IFT FL .XQT LST FL:JNCRTS.LST/-L/S
.IFT F ;-------------------------------------------------------------
PIP JNCTRK.FTN;*/DE
ADC JNCTRK=[100,6]JNCTRK
F4P JNCTRK,FL:JNCTRK/LI:0/-SP=JNCTRK,[100,3]TSTATT/TR:NAMES
.IFT FL .XQT LST FL:JNCTRK.LST/S/-L
.IFT F ;-------------------------------------------------------------
.640:.IFF STOMAC .GOTO 650
ADC STOMAC=[100,6]NXTCOM,[100,6]GETMAC,[100,6]EXPMAC
F4P STOMAC,FL:STOMAC/LI:0/-SP=STOMAC/TR:NAMES
PIP STOMAC.FTN;*/DE
.IFT FL .XQT LST FL:STOMAC.LST/S/-L
.IFT F ;-------------------------------------------------------------
.650:.IFF SYS .GOTO 700
ADC IFFSYS=[100,6]IFFSYS
F4P IFFSYS,FL:IFFSYS/LI:0/-SP=IFFSYS/TR:NAMES
PIP IFFSYS.FTN;*/DE
.IFT FL .XQT LST FL:IFFSYS.LST/S/-L
ADC IFRSYS=PARAMS.MAC/TR,[100,6]IFRSYS
F4P IFRSYS,FL:IFRSYS/LI:0/-SP=IFRSYS/TR:NAMES
PIP IFRSYS.FTN;*/DE
.IFT FL .XQT LST FL:IFRSYS.LST/S/-L
ADC IFWSYS = PARAMS.MAC/TR,[100,6]IFWSYS,EXPMAC
F4P IFWSYS,FL:IFWSYS/LI:0/-SP=IFWSYS/TR:NAMES
PIP IFWSYS.FTN;*/DE
.IFT FL .XQT LST FL:IFWSYS.LST/S/-L
.IFT F ;-------------------------------------------------------------
.700:.IFF FOLLOW .GOTO 1000
.IFF FORK .GOTO 750
ADC FORK=[100,6]CUTLER.SRC,FRKRTS,RTREAT,SMLFTR,EDGLIN,USEFRK
F4P FORK,FL:FORK/-SP/LI:0=FORK/TR:NAMES
PIP FORK.FTN;*/DE
.IFT FL  .XQT LST FL:FORK.LST/S/-L
.IFT F ;-------------------------------------------------------------
.750:.IFF BASIC .GOTO 780
ADC BASIC = PARAMS.MAC/TR,[100,6]OUTMP1,GTLST2,NOTVEX,NEWVEC
.IFT AJW ADC BASIC/AP = PARAMS.MAC/TR,[100,6]NXTSEG,APPSEG
.IFF AJW ADC BASIC/AP = PARAMS.MAC/TR,[100,6]TOMP
F4P BASIC,FL:BASIC/LI:0/-SP=BASIC,[100,3]NEBIT/TR:NAMES
PIP BASIC.FTN;*/DE
.IFT FL .XQT LST FL:BASIC.LST/S/-L
.IFT F ;-------------------------------------------------------------
.780:.IFF CHAIN .GOTO 820
ADC LNKRTS=[100,6]GROW,SETCHN,CMPCT
F4P LNKRTS,FL:LNK/LI:0/-SP=LNKRTS,[100,3]CHNLST,[100,3]SMOOTH/TR:NAMES
PIP LNKRTS.FTN;*/DE
.IFT FL .XQT LST FL:LNK.LST/S/-L
.IFT F ;-------------------------------------------------------------
.820:.IFF BUNCH .GOTO 840
ADC BUNCH=[100,6]ADDPT,[100,6]BUNCHODD
F4P BUNCH,FL:BUNCH/LI:0/-SP=BUNCH/TR:NAMES
PIP BUNCH.FTN;*/DE
.IFT FL .XQT LST FL:BUNCH.LST/S/-L
.IFT F ;-------------------------------------------------------------
.840:PIP FOLLOW.OBJ=BASIC.OBJ,LNKRTS.OBJ,BUNCH.OBJ
.IFF DIGIT .GOTO 1000
.IFT F ;-------------------------------------------------------------
.IFF DIGINT .GOTO 850
ADC DIGINT=PARAMS.MAC/TR,[100,6]ASSESS,ADDASS
F4P DIGINT,FL:DIGINT/LI:0/-SP=DIGINT/TR:NAMES
PIP DIGINT.FTN;*/DE
.IFT FL  .XQT LST FL:DIGINT.LST/S/-L
.IFT F ;-------------------------------------------------------------
.850:.IFF AJW .GOTO 880
ADC JUNCTN=[100,6]USEJNC,DIVERG,PARALL,CRUSH
F4P JUNCTN,FL:JUNCTN/LI:0/-SP=JUNCTN,[100,6]PARVEC.SRC,VECCOS.SRC,[100,3]TSTATT/TR:NAMES
PIP JUNCTN.FTN;*/DE
.IFT FL .XQT LST FL:JUNCTN.LST/S/-L
.IFT F ;-------------------------------------------------------------
.880:.IFF MATCH .GOTO 920
ADC MATCH=PARAMS.MAC/TR,[100,6]MATCH,ONTRAK,CENTRE,SIMPLE,TSTCON
F4P MATCH,FL:MATCH/LI:0/-SP=MATCH/TR:NAMES
PIP MATCH.FTN;*/DE
.IFT FL  .XQT LST MATCH.LST/S/-L
.IFT F ;-------------------------------------------------------------
.920:.IFT F ;--------------------------------------------------------
.1000:.IFF CONSL .GOTO 1050
.IFF DRAW .GOTO 1020
.IFF AJW ADC TXRTS=[100,6]DRWSCN,DRWCHN,DRWPTS,DRWFRK,DRWMP,DRWBUF,DRWTRK
.IFT AJW ADC TXRTS=[100,6]DRWSCN,DRWCHN,DRWPTS,DRWFRK,DRWMP,DRWBUF,DRWTRK,DRWJNC

F4P TXRTS,FL:TXRTS/LI:0/-SP=TXRTS/TR:NAMES
PIP TXRTS.FTN;*/DE
.IFT FL .XQT LST FL:TXRTS.LST/S/-L
.IFF TWOICH .GOTO 1020
F4P EXRTS,FL:EXRTS/LI:0/-SP=[100,3]DRWELF,DRWSQ/TR:NAMES
.IFT FL .XQT LST FL:EXRTS.LST/S/-L
.IFT F ;--------------------------------------------------------------
.1020:.IFF ROLL .GOTO 1040
ADC ROLL = [100,6]RALONG,FUMBLE,SQUARE,AB4TRN,GETAB,ADDASS
F4P ROLL,FL:ROLL/LI:0/-SP=ROLL/TR:NAMES
PIP ROLL.FTN;*/DE
.IFT  FL  .XQT LST FL:ROLL.LST/S/-L
.IFT F ;-------------------------------------------------------
.1040:.IFF SETMAC .GOTO 1050
ADC SETMAC = [100,6]SETMAC,MANDIG
F4P SETMAC,FL:SETMAC/LI:0/-SP=SETMAC/TR:NAMES
PIP SETMAC.FTN;*/DE
.IFT  FL .XQT LST FL:SETMAC.LST/S/-L
.IFT F ;-----------------------------------------------------------------
.1050:.IFF CALIB .GOTO 1100
ADC CALIB=[100,6]CALIB,GETRES,GETPT
F4P CALIB,FL:CALIB/LI:0/-SP=CALIB/TR:NAMES
PIP CALIB.FTN;*/DE
.IFT FL  .XQT LST FL:CALIB.LST/S/-L
.IFT F ;-------------------------------------------------------------
ADC MEASURE=[100,6]AUTGRD,FIDFND,LINFIT,SETDIR
F4P MEASURE,FL:MEASURE/LI:0/-SP=MEASURE/TR:NAMES
PIP MEASURE.FTN;*/DE
.IFT FL  .XQT LST MEASURE.LST/S/-L
.IFT F ;-------------------------------------------------------------
ADC SOLVE=[100,6]SOLVE,MA01A
F4P SOLVE,FL:SOLVE/LI:0/-SP=SOLVE/TR:NAMES
PIP SOLVE.FTN;*/DE
.IFT FL  .XQT LST SOLVE.LST/S/-L
.IFT F ;-------------------------------------------------------------
.1100:.IFF PAINT .GOTO 1200
ADC PAINT=PARAMS.MAC/TR,[100,6]GETAB,PAINT2,GETLST,LOCATE,AB4TRN,GETWIN
.IFT ELF ADC PAINT/AP=PARAMS.MAC/TR,[100,6]ARFILL,CLKWIS
F4P PAINT,FL:PAINT/LI:0/-SP=PAINT/TR:NAMES
PIP PAINT.FTN;*/DE
.IFT FL .XQT LST FL:PAINT.LST/S/-L
.IFT F ;-------------------------------------------------------------
.1200:.IFF ODDS .GOTO 1500
ADC ODDS=[100,6]NEWSEC,NEWOVR,PRTTIM
F4P ODDS,FL:ODDS/LI:0/-SP=ODDS/TR:NAMES
PIP ODDS.FTN;*/DE
.IFT FL .XQT LST FL:ODDS.LST/S/-L
.IFT F ;-------------------------------------------------------------
.1500:.IFF TKB .GOTO 1630
SET /UIC=[100,6]
PIP IDENT.SRC;*/DE
RUN GENDAT
SET /UIC=[100,5]
F4P IDENT=[100,6]IDENT.SRC/TR:NAMES
.SETS MAPSW ""
.IFT CRF .SETS MAPSW "/MA/CR"
.SETS LA "LA"
.IFT ELF .SETS LA "ELA"
.IFF ELF .IFF NEWSSG .SETS LA "FLF"
.IFT AJW .SETS LA "LAJ"
.OPEN [100,5]'LA'TKB.TMP
.SETS TSKEXT ""
.IFT EXPVER .SETS TSKEXT ".EXP"
.ENABLE DATA
[100,1]'LA''TSKEXT'/FP,[100,1]'LA'/-SP'MAPSW'=[100,5]'LA'ODL.TMP/MP
UNITS = 5
ACTFIL = 0
.DISABLE DATA
.IF LA = "LA" .DATA TASK = ...LA.
.IF LA <> "LA" .DATA TASK = ...'LA'
.CLOSE
PIP [100,5]'LA'TKB.TMP/PU
ADC 'LA'ODL.TMP=PARAMS.MAC/TR,[100,6]LA.ODL/COM
PIP 'LA'ODL.TMP/PU
.IFT F ; ensure dont overwrite active program
.IFNINS 'LA' .GOTO 1550
.IFT EXPVER .GOTO 1550
.IFNACT 'LA' .GOTO 1540
; *** PROGRAM ACTIVE - NO TASK BUILD ***
.GOTO 1630
;
.1540:.IFF EXPVER REM 'LA'
.1550:.IFF EXPVER PIP [100,1]CONTIG.'LA'=[100,1]'LA'.TSK/RE/NV
.IFF EXPVER PIP [100,1]'LA'.MAP;*,'LA'.TSK;*/DE
TIME
.IFT CRF .IFNINS CRF... INS [1,54]CRF
TKB @[100,5]'LA'TKB.TMP
PIP *.OBJ/PU
PIP /FR
TIME
SET /UIC=[100,1]
.SETS SIZE ""
.IF LA = "LA" .SETS SIZE "/BL:350."
.IF LA = "ELA" .SETS SIZE "/BL:350."
.IF LA = "FLF" .SETS SIZE "/BL:350."
.IF LA = "LAJ" .SETS SIZE "/BL:400."
.IFF EXPVER PIP CONTIG.'LA'/UP/CO'SIZE'='LA'.TSK
.IFF EXPVER PIP 'LA'.TSK/RE/NV=CONTIG.'LA'
.IFT MAP LMP 'LA'.MAP/M/L:LD:LS:IFF4P:F4P:SYS
.IFT MAP .IFT MC MC 'LA'.MAP/-H
.1600:.IFF EXPVER .IFINS 'LA' REM 'LA'
.IFINS 'LA' .GOTO 1610
.IFF EXPVER INS 'LA'
.IFINS 'LA' .GOTO 1630
.1610:; REMOVE AND INSTALL 'LA'
.IFT F ;-------------------------------------------------------------
.1630:.IFT FL  PIP FL:[100,5]*.LST;*/DE
ASN =FL:
.IFF TKB  PIP [100,5]*.OBJ,*.TMP/PU
.END:
TIME
