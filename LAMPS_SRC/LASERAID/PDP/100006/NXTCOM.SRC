	INTEGER FUNCTION NXTCOM
C
C Copyright Laser-Scan Laboratories Ltd,Cambridge,England
C
C Author M.C.Fulford
C
C	Created 17.v.77
C	Last edited 23/v/78
C
C To get the next command for LINK.
C
***	COMMON/PARAMS/
***	COMMON/MASTER/
***	COMMON/TEXTC/
***	COMMON/SCOTS/
***	COMMON/LNKC/
C
	INTEGER RDCOMM
C
	IF (CODPOS.GT.0) GOTO 30
C Textual or FB command  
	NXTCOM = RDCOMM(LNKCM(1),NLNKC)
	GOTO 90
C Stored command
30	NXTCOM = MCCODE(CODPOS).AND."77777
	IF (NXTCOM .EQ. 0) GOTO 40
	NUMINT = 0
	INTARG = 0
	IF ((MCCODE(CODPOS).AND."100000).EQ.0) GOTO 35
C integer argument
	  NUMINT = 1
	  INTARG = MCNUMB(CODPOS)
35	CODPOS = CODPOS+1
	GOTO 90
C End of table - back to terminal
40	DCPTR = -1
	TXTPTR = -2
	CODPOS = 0
C
90	RETURN
	END
