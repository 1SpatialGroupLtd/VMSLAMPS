	SUBROUTINE SETGUD (NEWFIL)
C
C Copyright Laser-Scan Laboratories Ltd,Cambridge,England
C
C Author M.C.Fulford
C
C	Created 13.vi.78
C	Last edited 31/v/79
C
C Close any open guidance file, open a new one if NEWFIL
C
***	COMMON/PARAMS/
C
	LOGICAL*1 NEWFIL	! new file to be opened
C
***	COMMON/GUIDE/
***	COMMON/NUMC/
***	COMMON/COEFFS/
***	COMMON/IFFHAN/
C
C close any open file
	IF (GUDOPN) CALL IFFCLO(SAVLUN)
	GUDOPN = .FALSE.
	SKPGUD = 0
	IF (.NOT.NEWFIL) GOTO 90
C open a new file
	CALL LINOUT(GUDNAM(1))
	CALL IFFOPN(SAVLUN,GUDNAM(1))
	IF (IERCD .NE. 0) GOTO 90
	CALL IFFRWD		! position the file
	GUDOPN = .TRUE.
C
90	CALL IFFSEL(IFFLUN)
	RETURN
	END
