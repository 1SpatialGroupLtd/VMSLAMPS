	LOGICAL FUNCTION PEND(N)
C
C Copyright Laser-Scan Laboratories Ltd,Cambridge,England
C
C Author M.C.Fulford
C
C	Created 5.vi.78
C	Last edited 12/i/79
C
C To complete, or check for, various pending operations
C & conditions.
C
***	COMMON/PARAMS/
C
	INTEGER N	! what to do:-
C		1 - complete pending feature
C		2 - check CPs done as well
C		3 - start new section also (if necessary) ensuring
C		    that an overlay has been selected.
C
C Result is .TRUE. if action cannot proceed ( CPs undone e.g.) an
C error message will have been output.
C
***	COMMON/MASTER/
***	COMMON/DIGC/
C
C
	PEND = .TRUE.
	IF (N .LE. 0) GOTO 90
C complete pending feature
	IF (EFPEND) CALL IFFEF
	EFPEND = .FALSE.
	IF (N .EQ. 1) GOTO 80
C check for CPs
	IF (CPDONE) GOTO 20
	CALL WRITEF('*** Corner points?%C',7)
	GOTO 90
20	IF (N .EQ. 2) GOTO 80
C open new section (if necessary)
	IF (.NOT.EOP) GOTO 25
	IF (OVRNUM.GT.0) GOTO 22
	CALL WRITEF('*** No layer selected%C',7)
	GOTO 90

22	CALL NEWOVR(.FALSE.)
25	IF (N .EQ. 3) GOTO 80
	GOTO 90
C all is as it should be
80	PEND = .FALSE.
C
90	RETURN
	END
