	SUBROUTINE LOST( FILE, STRING )
C
***	IDENT	11DE86
***	MODULE	LOST
C
C Copyright LaserScan Laboratories Ltd., Cambridge, England
C Author TJ Ibbs, 19 May 1982
C
C exits tidily - used after calling IFFPKE and not finding what
C		 we expect
C
	IMPLICIT NONE
C
***	PARAMETER/HERE:IDIFFMSG/	! for IDIFF__ABORT
C
***	COMMON/LSL$CMNIFF:IFFHAN/	! for our current posn
***	COMMON/HERE:FILES/		! for filenames
***	COMMON/HERE:PARAM/		! for TOLP
C
C passed
C
	INTEGER		FILE		! lun of our file
	CHARACTER*(*)	STRING		! name of the caller
C
C NOTE that (cunningly!) input files 1 and 2 have luns 1 and 2
C However, files 3 to 5 are our plot output files
C
C if TOLP is true, then FLW... writes to a file to be spooled
C
	CALL FLWRTF
C
	CALL EXPAND('**%S** lost position in ',STRING )
C
	IF ( FILE.EQ.1 .OR. FILE.EQ.2 ) THEN
 	   CALL APPEND('input IFF file %N',FILE )
 	ELSEIF ( FILE.GE.3 .AND. FILE.LE.5 ) THEN
	   CALL APPEND('output IFF file %S',
     &			PLOT_FILE(FILE)(:PLOT_LEN(FILE)) )
	ELSE
	   CALL APPEND('IFF file on lun %N',FILE)
	ENDIF
C
	CALL FLWAPP(' at address %P0%X8',LPOSH)
C
	CALL FLWRTF('    abandoning comparison')
C
C and exit 'neatly' but fatally
C
	CALL FATAL(.TRUE.)		! probably a bug
C
	RETURN				! ha - I don't believe it !
	END
