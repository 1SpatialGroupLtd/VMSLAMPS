	SUBROUTINE READ_STRING
C
***	IDENT	23DE87
***	MODULE	READ_STRING
C
C Copyright (C) LaserScan Laboratories Ltd, Cambridge, England
C
C Author TJ Ibbs, 18 July 1986
C
C To read the contents of the current point string (ST or ZS) into
C the /ENTRY/ common file
C
	IMPLICIT NONE
C
C **********************************************************************
C parameter files
C
	INCLUDE	'HERE:IPATCHMSG.PAR'	! error numbers
C
C common files
C
	INCLUDE	'HERE:ENTRY.CMN'	! to hold the entry data
C
C **********************************************************************
C
	CALL EIHRS( NPTS, IENDS )
C
C check that the string is not too long for us to read
C
	IF ( NPTS.GT.MAXPTS ) THEN
	   CALL LSL_PUTMSG( IPATCH__MAXPTS, IECODE, ZEXT(NPTS), MAXPTS )
	   CALL LSL_ADDMSG( IPATCH__NOPTS )
	   GOTO 9000
	ENDIF
C
C decide on what dimension of data we are reading
C
	IF ( IECODE.EQ.'ST' ) THEN
	   CALL EIHRR( STBUF, NPTS*2, 1 )
	ELSE
	   CALL EIHRR( ZSBUF, NPTS*3, 1 )
	ENDIF
C
9000	RETURN
	END
