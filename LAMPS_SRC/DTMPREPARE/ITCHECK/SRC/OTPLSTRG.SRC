	SUBROUTINE OTPLSTRG(MSG)
C
***	IDENT	24FE88
***	MODULE	OTPLSTRG
C
C	Copyright Laser-Scan Laboratories Ltd., Cambridge, England.
C
C	Created for LITES2			RWR	 5-Nov-1984
C	Adapted for FPP				RWR	 3-Jun-1986
C
C Description
C
C	To output current range of bitmap
C
	IMPLICIT NONE
C
C argument
C
	CHARACTER*(*)	MSG		! message to use for output
C
	INCLUDE 'LSL$CMNITCHECK:BTMAPDIS.CMN'	! global variables for display
						! of bitmap
C
C Functions called
	INTEGER*4	EXPAND
C
	IF (.NOT.STARTD) THEN		! nothing output yet
	   CALL WRITEF(MSG)		! so output header
	   STARTD=.TRUE.
	   OUTPTR=0			! and zero pointer in OUTBUF
	ELSE
	   IF (FIRST.EQ.SECOND) THEN	! single integer
	      OUTPTR=OUTPTR+EXPAND('%W%^L%N,',OUTBUF(OUTPTR+1),FIRST)
	   ELSE				! range
	      OUTPTR=OUTPTR+EXPAND('%W%^L%N:%N,',OUTBUF(OUTPTR+1),
     &					FIRST,SECOND)
	   ENDIF
	ENDIF
C
C flush out buffer, if it is full
C
	IF (OUTPTR.GT.68) THEN
	   CALL WRITEF('%S',OUTDSC)
	   OUTPTR=0
	ENDIF	
C
	RETURN
	END
