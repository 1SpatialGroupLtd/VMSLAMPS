	LOGICAL FUNCTION OUTPUT_CRT()
C
***	MODULE	OUTPUT_CRT
***	IDENT	25MR88
C
C	Copyright : Laser-Scan Laboratories, Cambridge, England
C
C Created by 					ALB 21-Mar-1988
C
C Find out whether output device is a CRT
C Function return as .TRUE. if a CRT
C
	IMPLICIT NONE
C
C parameters
C
	INCLUDE'($DVIDEF)'
	INCLUDE'($DCDEF)'
C
C W/s
C
	INTEGER			IERR		!system return flag
	INTEGER			VAL		!for use with LIB$GETDVI
	LOGICAL			TERM		!TRUE if SYS$OUTPUT is terminal
C
C Function
	INTEGER			LIB$GETDVI	!get terminal characteristics
C
C ........................................................................
C
	OUTPUT_CRT	= .FALSE.	!assume not a CRT
C
C ........................................................................
C is SYS$OUTPUT a terminal
C
	IERR = LIB$GETDVI(DVI$_DEVCLASS,,'SYS$OUTPUT',VAL,,)
	IF(IERR) THEN
	   TERM = .FALSE.
	   IF(VAL.EQ.DC$_TERM) TERM = .TRUE.
	ENDIF	
C
C if terminal is it a CRT
C
	IF(TERM) THEN
	   IERR = LIB$GETDVI(DVI$_TT_SCOPE,,'SYS$OUTPUT',VAL,,)
	   IF(IERR) THEN
	      OUTPUT_CRT = VAL.EQ.1
	   ENDIF
	ENDIF	
C
999	CONTINUE
	RETURN
C
	END
