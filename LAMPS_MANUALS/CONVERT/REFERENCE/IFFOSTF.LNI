
















                                  [3mLaser-Scan Ltd.[0m


                                  [3mCONVERT PACKAGE[0m

                                 [3mIFFOSTF Reference[0m


                            [3mIssue 1.1 - 26-November-1992[0m































  Copyright (C) 1992 Laser-Scan Ltd
  Science Park, Milton Road, Cambridge, England CB4 4FY  tel: (01223) 420414

  Document "IFFOSTF REFERENCE", Category "REFERENCE"
  Document Issue 1.1      S Townrow (modified 26-Nov-1992)


  IFFOSTF REFERENCE (1.1)
  Contents                                              26 November 1992


                                     CONTENTS

                  IFFOSTF - Change Record  . . . . . . . . . . . . . . i

                  PREFACE  . . . . . . . . . . . . . . . . . . . . . . 1
                    Intended audience  . . . . . . . . . . . . . . . . 1
                    Structure of this document . . . . . . . . . . . . 1
                    Conventions used in this document  . . . . . . . . 2


  CHAPTER 1       OSTF FORMAT DESCRIPTION

                  FORMAT DESCRIPTION . . . . . . . . . . . . . . . . 1-1
                    Introduction . . . . . . . . . . . . . . . . . . 1-1
                    Versions of DMC/OSTF . . . . . . . . . . . . . . 1-1
                    Data entries - summary . . . . . . . . . . . . . 1-3
                    Data entries - analysis by version . . . . . . . 1-4


  CHAPTER 2       OSTF DATA PREPARATION

                  DATA PREPARATION . . . . . . . . . . . . . . . . . 2-1
                    Comparison of OSTF and IFF . . . . . . . . . . . 2-1
                    Preparation for digitising data to be output to 
                    OSTF . . . . . . . . . . . . . . . . . . . . . . 2-1
                    Attribute Definitions  . . . . . . . . . . . . . 2-2
                    OS Map Header Translation Table  . . . . . . . . 2-3
                    Example OS Map Header Translation Table  . . . . 2-6
                    OS Map Header Translation Table Error Messages . 2-7
                    MESSAGES (INFORMATIONAL) . . . . . . . . . . . . 2-8
                    MESSAGES (WARNING) . . . . . . . . . . . . . . . 2-9
                    MESSAGES (ERROR) . . . . . . . . . . . . . . .  2-10
                    MESSAGES (OTHER) . . . . . . . . . . . . . . .  2-16


  CHAPTER 3       I2OSTF UTILITY

                  UTILITY I2OSTF . . . . . . . . . . . . . . . . . . 3-1
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 3-1
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 3-1
                    PROMPT . . . . . . . . . . . . . . . . . . . . . 3-1
                    PARAMETERS . . . . . . . . . . . . . . . . . . . 3-1
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 3-2
                    RESTRICTIONS . . . . . . . . . . . . . . . . . . 3-6
                    DESCRIPTION  . . . . . . . . . . . . . . . . . . 3-6
                      Command line . . . . . . . . . . . . . . . . . 3-6
                      Input IFF files  . . . . . . . . . . . . . . . 3-6
                      Program action . . . . . . . . . . . . . . . . 3-7
                    EXAMPLES . . . . . . . . . . . . . . . . . . . . 3-8
                    MESSAGES (INFORMATIONAL) . . . . . . . . . . .  3-10
                    MESSAGES (WARNING) . . . . . . . . . . . . . .  3-12
                    MESSAGES (ERROR) . . . . . . . . . . . . . . .  3-20
                    MESSAGES (FATAL) . . . . . . . . . . . . . . .  3-25
                    MESSAGES (OTHER) . . . . . . . . . . . . . . .  3-26


  IFFOSTF REFERENCE (1.1)
  Contents                                              26 November 1992


  CHAPTER 4       OSTF2I UTILITY

                  UTILITY OSTF2I . . . . . . . . . . . . . . . . . . 4-1
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 4-1
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 4-1
                    PROMPT . . . . . . . . . . . . . . . . . . . . . 4-1
                    PARAMETERS . . . . . . . . . . . . . . . . . . . 4-1
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 4-2
                    RESTRICTIONS . . . . . . . . . . . . . . . . . . 4-6
                    DESCRIPTION  . . . . . . . . . . . . . . . . . . 4-6
                      Command line . . . . . . . . . . . . . . . . . 4-6
                      Input files  . . . . . . . . . . . . . . . . . 4-6
                      Output files . . . . . . . . . . . . . . . . . 4-7
                      Program action . . . . . . . . . . . . . . . . 4-7
                    EXAMPLES . . . . . . . . . . . . . . . . . . . . 4-9
                    MESSAGES (INFORMATIONAL) . . . . . . . . . . .  4-14
                    MESSAGES (WARNING) . . . . . . . . . . . . . .  4-15
                    MESSAGES (ERROR) . . . . . . . . . . . . . . .  4-20
                    MESSAGES (FATAL) . . . . . . . . . . . . . . .  4-27
                    MESSAGES (OTHER) . . . . . . . . . . . . . . .  4-28


  CHAPTER 5       OSMHED MAP HEADER EDITOR

                  UTILITY OSMHED . . . . . . . . . . . . . . . . . . 5-1
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 5-1
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 5-1
                    PROMPT . . . . . . . . . . . . . . . . . . . . . 5-1
                    PARAMETERS . . . . . . . . . . . . . . . . . . . 5-1
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 5-1
                    DESCRIPTION  . . . . . . . . . . . . . . . . . . 5-2
                      Ordnance Survey Map Header . . . . . . . . . . 5-2
                      Editing the Map Header . . . . . . . . . . . . 5-2
                    COMMANDS . . . . . . . . . . . . . . . . . . . . 5-3
                      General Commands . . . . . . . . . . . . . . . 5-3
                      Process Control Commands . . . . . . . . . . . 5-4
                      Map Header Commands  . . . . . . . . . . . . . 5-5
                    EXAMPLES . . . . . . . . . . . . . . . . . . . . 5-7
                    MESSAGES (INFORMATIONAL) . . . . . . . . . . .  5-11
                    MESSAGES (WARNING) . . . . . . . . . . . . . .  5-12
                    MESSAGES (ERROR) . . . . . . . . . . . . . . .  5-14
                    MESSAGES (OTHER) . . . . . . . . . . . . . . .  5-17


  CHAPTER 6       OSPIF IFF FILE PRINT UTILITY

                  UTILITY OSPIF  . . . . . . . . . . . . . . . . . . 6-1
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 6-1
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 6-1
                    PROMPT . . . . . . . . . . . . . . . . . . . . . 6-1
                    PARAMETERS . . . . . . . . . . . . . . . . . . . 6-1
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 6-1
                    RESTRICTIONS . . . . . . . . . . . . . . . . . . 6-2
                    DESCRIPTION  . . . . . . . . . . . . . . . . . . 6-2
                      Feature Code Names . . . . . . . . . . . . . . 6-3
                    EXAMPLES . . . . . . . . . . . . . . . . . . . . 6-4


  IFFOSTF REFERENCE (1.1)
  Contents                                              26 November 1992


                    MESSAGES (INFORMATIONAL) . . . . . . . . . . . . 6-9
                    MESSAGES (WARNING) . . . . . . . . . . . . . .  6-10
                    MESSAGES (ERROR) . . . . . . . . . . . . . . .  6-12
                    MESSAGES (OTHER) . . . . . . . . . . . . . . .  6-14


  IFFOSTF REFERENCE (1.1)                                                   Page i
  Change record                                                   26 November 1992


  [1m-------------------------------------------------------------------------------[0m
  [1mIFFOSTF -[0m [1mChange Record[0m


  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.0   S[0m [1mTownrow  17-June-1991[0m

            Module IFFOSTF    - Reorganised package documentation.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.1   S[0m [1mTownrow  26-November-1992[0m

            Module IFFOSTF    - The DATA PREPARATION section has been  revised  to
                                include details of the new lookup table pointed to
                                by the logical LSL$OS_MH_TABLE.

  [1m-------------------------------------------------------------------------------[0m


  IFFOSTF REFERENCE (1.1)                                                   Page 1
  PREFACE                                                         26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mPREFACE[0m



  [1m--------------------------------------------------------------------------------[0m
  [1mIntended[0m [1maudience[0m

            This manual is intended  for  users  of  a  specific  utility  of  the
            Laser-Scan CONVERT package running under the VAX/VMS operating system.
            Each manual  contains  the  documentation  for  a  particular  CONVERT
            utility  and a site will only receive new or updated documentation for
            those utilities which they have purchased.

  [1m--------------------------------------------------------------------------------[0m
  [1mStructure[0m [1mof[0m [1mthis[0m [1mdocument[0m

            This document is composed of 2 major sections.

            The Introduction is  an  overview  of  the  CONVERT  package  and  its
            purpose.

            There then follow the User Guides for  the  individual  modules  which
            comprise  CONVERT.   Each  individual  module  contains the same basic
            categories of information.  These are:

            MODULE              - the name of the CONVERT module.

            FORMAT DESCRIPTION  - a description of the data format written or
                                  read by the utility programs in this conversion
                                  module.

            DATA PREPARATION    - guidance on how to digitise or prepare the IFF
                                  and other data required by the utility programs
                                  in this module.

            For each utility program  in  the  module,  there  will  then  be  the
            following categories:

            UTILITY             - the name of the utility.

            FUNCTION            - a synopsis of what the utility does.

            FORMAT              - a summary of the utility command format
                                  and command qualifiers. Default qualifier
                                  settings are indicated.

            PROMPT              - how it prompts the user.

            PARAMETERS          - description of expected command parameters.

            COMMAND QUALIFIERS  - description of all command qualifiers.
                                  Qualifiers are ordered alphabetically and 
                                  default argument values are indicated.

            RESTRICTIONS        - a summary of restrictions on the use of 


  IFFOSTF REFERENCE (1.1)                                                   Page 2
  PREFACE                                                         26 November 1992


                                  qualifiers

            DESCRIPTION         - the definitive description of the utility 
                                  action.

            COMMANDS            - for interactive utilities only, a description 
                                  of all commands. Commands are ordered 
                                  alphabetically and default argument values are 
                                  indicated. 

            EXAMPLES            - annotated examples of utility useage.

            MESSAGES            - all classes of message are listed and described
                                  and suggested user action given. The messages
                                  are divided into sections according to message
                                  severity within which the messages are ordered
                                  alphabetically by message mnemonic.

  [1m--------------------------------------------------------------------------------[0m
  [1mConventions[0m [1mused[0m [1min[0m [1mthis[0m [1mdocument[0m


            ----------------------------------------------------------------------
            Convention            Meaning
            ----------------------------------------------------------------------
            <CR>                  The user should press the carriage control key
                                  on the terminal

            <CTRL/x>              The phrase <CTRL/x> indicates that the user must
                                  press the key labelled CTRL while simultaneously
                                  pressing another key, for example, <CTRL/Z>.

            $ [1mIFF2SIF<CR>[0m         Command examples show all user entered commands
                                  in [1mbold[0m type.

            $ [1mIFF2SIF<CR>[0m         Vertical series of periods, or ellipsis, mean
                    .             either that not all the data that CONVERT would
                    .             display in response to the particular command is
                    .             shown or that not all the data that the user
                                  would enter is shown.

            file-spec...          Horizontal elipsis indicates that additional
                                  parameters, values or information can be
                                  entered.

            [logical-name]        Square brackets indicate that the enclosed item
                                  is optional. (Square brackets are not, however,
                                  optional in the syntax of a directory name in
                                  a file-specification, or in the syntax of a
                                  substring specification in a VMS assisnment
                                  statement).
            ----------------------------------------------------------------------


  IFFOSTF REFERENCE (1.1)                                                   Page 3
  PREFACE                                                         26 November 1992


            ----------------------------------------------------------------------
            Convention            Meaning
            ----------------------------------------------------------------------
            'integer'             An integer number is expected in the specified
                                  input or output field. (See "Command line data
                                  types" below).

            'real'                A real number is expected in the specified input
                                  or output field. (See "Command line data types"
                                  below).

            'file-spec'           A VMS file specification is expected in the
                                  specified input or output field.

            'device-name'         A VMS device specification (for instance, MTA0:)
                                  is expected in the specified input or output
                                  field.
            ----------------------------------------------------------------------















                                     CHAPTER 1

                              OSTF FORMAT DESCRIPTION





  IFFOSTF REFERENCE (1.1): OSTF format description                        Page 1-1
  FORMAT DESCRIPTION                                              26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m [1mDESCRIPTION[0m

            [1m----------------------------------------------------------------------[0m
            [1mIntroduction[0m

            DMC and OSTF are the  Ordnance  Survey's  standard  customer  transfer
            format.

            The original format was  called  DMC  (for  Digital  Mapping  Customer
            format),  and  later  revisions  have  been  renamed OSTF (OS Transfer
            Format).

            The format is designed to be easily Fortran readable, with fixed  size
            8 character records.  Different sections of the data are identified by
            negative flags.

            Over the years OS have provided data to customers in several  variants
            of  the  form,  and  contractors  have been required to supply data in
            similar variation.  The DMC and OSTF documentation has never specified
            any  form  of  version number or issue date to allow these forms to be
            distinguished.

            This section attempts to present information  gathered  by  Laser-Scan
            about the variants.  Some familiarity with the format is assumed.

            [1m----------------------------------------------------------------------[0m
            [1mVersions of DMC/OSTF[0m

            The original version of DMC is well defined, but later amendments have
            occurred  (producing  a  format  normally  referred  to  as OSTF) in a
            non-structured manner.   For  simplicity's  sake,  the  various  forms
            identified by Laser-Scan have been numbered OSTF-0 and upwards.

            The following forms can be identified:

             o  OSTF-0 - old DMC

                this is the original customer format, and  is  what  is  generally
                meant by DMC.  It uses entries -1 to -13, -15, -17

             o  OSTF-1 - middle DMC or early OSTF

                this  was  specified  in  Annex  A  of  a  draft  document  called
                [1mBeginner's[0m  [1mguide[0m  [1mto[0m [1mplotting[0m [1mOrdnance[0m [1mSurvey[0m [1mdigital[0m [1mdata[0m at the
                beginning of 1983.  The format was referred to  as  both  DMC  and
                OSTF.

                The format is essentially the old DMC format with additional  data
                entries - it uses entries -1 to -15, -17 to -21.  Note the changes
                in entry -10, etc.


  IFFOSTF REFERENCE (1.1): OSTF format description                        Page 1-2
  FORMAT DESCRIPTION                                              26 November 1992


             o  OSTF-2 - middle OSTF

                this  was  specified  to  contractors  digitising  for  OS  around
                1984/85.

                The only variation from OSTF-1 is that the additional  map  header
                is  slightly  longer.   It is thus still a direct extension of old
                DMC.  It also uses entries -1 to -15, -17 to -21

             o  OSTF-3 - late OSTF

                this was specified to contractors after the  above  specification,
                and  is  current  from  (at  least)  February  1985.  At some time
                between September 1985 and February  1987,  entries  -19  and  -22
                appear to have been withdrawn.

                This format adds more data to the sheet header (which  means  that
                the  previous  formats are not valid any more), and adds even more
                fields to the additional map header.  It uses entries -1  to  -22,
                -44

             o  OSTF-4 - current OSTF

                this was specified in November 1988.

                The only variations from OSTF-3 are changes to the  secondary  map
                header,  the  -20  entry.   Some new fields have been added, while
                others have been rearranged.

             o  OSTF+ - OSTF-3 and upwards with enhancements

                this version provides enhancements to OSTF-3 and  OSTF-4,  and  is
                only intended for use within Ordnance Survey.  It was specified in
                the  "OSTF+  supplement  to  'Digital  Map  Data  -  OSTF'"   (2nd
                amendment), dated 27th February 1987.

                This format is identical to  OSTF-3  or  OSTF-4,  with  additional
                entries  -23,  -24  and  -25.  The coordinate record has also been
                modified to include the method of data capture for every point.



  IFFOSTF REFERENCE (1.1): OSTF format description                        Page 1-3
  FORMAT DESCRIPTION                                              26 November 1992


            [1m----------------------------------------------------------------------[0m
            [1mData entries - summary[0m

   Entry  OSTF-0      OSTF-1      OSTF-2      OSTF-3      OSTF-4      OSTF+
  +------+-----------+-----------+-----------+-----------+-----------+-----------+
  |coords|  yes      |  yes      |+ curve    |+ curve    |  yes      |+ capture  |
  |      |           |           |  flag     |  flag ?   |           |  method   |
  +------+-----------+-----------+-----------+-----------+-----------+-----------+
  |*  -1 |  yes      |+ sim      |+ sim      |+ sim      |+ sim      |+ sim      |
  |      |           |           |           |+ job      |+ job      |+ job      |
  |      |           |           |           |+ digscale |+ capscale |+ capscale |
  |   -2 |  yes      |  yes      |  yes      |  yes      |  yes      |  yes      |
  |   -3 |  yes      |  yes      |  yes      |  yes      |  yes      |  yes      |
  |   -4 |  yes      |  yes      |  yes      |  yes      |  yes      |  yes      |
  |   -5 |  yes      |  yes      |  yes      |  yes      |  yes      |  yes      |
  +------+-----------+-----------+-----------+-----------+-----------+-----------+
  |   -6 |  yes      |  yes      |  yes      |  yes      |  yes      |  yes      |
  |   -7 |  yes      |  yes      |  yes      |  yes      |  yes      |  yes      |
  |   -8 |  yes      |  yes      |  yes      |  yes      |  yes      |  yes      |
  |   -9 |  yes      |  yes      |  yes      |  yes      |  yes      |  yes      |
  |* -10 | as pt size| as mm/10  | as mm/10  | as mm/10  | as mm/10  | as mm/10  |
  +------+-----------+-----------+-----------+-----------+-----------+-----------+
  |  -11 |  yes      |  yes      |  yes      |  yes      |  yes      |  yes      |
  |+ -12 | sometimes |  yes      |  yes      |  yes      |  yes      |  yes      |
  |  -13 |  yes      |  yes      |  yes      |  yes      |  yes      |  yes      |
  |* -14 |   no      |  yes      |  yes      |  yes      |  yes      |  yes      |
  |  -15 |  yes      |  yes      |  yes      |  yes      |  yes      |  yes      |
  +------+-----------+-----------+-----------+-----------+-----------+-----------+
  |* -16 |   no      |  yes      |  yes      |  yes      |  yes      |  yes      |
  |  -17 |  yes      |  yes      |  yes      |  yes      |  yes      |  yes      |
  |* -18 |   no      |  yes      |  yes      |  yes      |  yes      |  yes      |
  |* -19 |   no      |  yes      |  yes      | (yes)     |   no      |   no      |
  |* -20 |   no      | 20 records| 22 records| 54 records| 54 records| 54 records|
  |      |           |           |           |           |reformatted|as OSTF-3/4|
  +------+-----------+-----------+-----------+-----------+-----------+-----------+
  |* -21 |   no      |  yes      |  yes      |  yes      |  yes      |  yes      |
  |* -22 |   no      |   no      |  yes      | (yes)     |   no      |   no      |
  |* -23 |   no      |   no      |   no      |   no      |   no      |  yes      |
  |* -24 |   no      |   no      |   no      |   no      |   no      |  yes      |
  |* -25 |   no      |   no      |   no      |   no      |   no      |  yes      |
  +------+-----------+-----------+-----------+-----------+-----------+-----------+
  |* -44 |   no      |   no      |   no      |  yes      |  yes      |  yes      |
  +------+-----------+-----------+-----------+-----------+-----------+-----------+

            Entries flagged with an asterisk  before  the  entry  number  (*)  are
            either  not  used  in all versions of OSTF, or differ significantly in
            their contents.

            Note that entry -12 (rotation or alignment) may be  absent  in  OSTF-0
            for features with an angle of zero.

            Note that the entries -16 (process code), -19 (left/right coding)  and
            -22   (text   cross  reference)  are  not  always  required,  although
            presumably their inclusion would not be regarded as illegal data.


  IFFOSTF REFERENCE (1.1): OSTF format description                        Page 1-4
  FORMAT DESCRIPTION                                              26 November 1992


            For a fuller description of the differences for entries, see the  next
            section.

            [1m----------------------------------------------------------------------[0m
            [1mData entries - analysis by version[0m

            This section briefly describes each DMC/OSTF flag in turn, and  states
            which  versions it is used in.  It also describes any changes over the
            versions.

            cXXX YYY      - coordinate record

                      This   contains   the   two   coordinates   (XXX   and   YYY
                      respectively),  offset within the current grid square.  Note
                      that these are in the range 0-999, being  thousandths  of  a
                      basic  grid square.  In OSTF-0 and OSTF-1, the 'c' character
                      is always a space.  In OSTF-2 and OSTF-3, it may be a  curve
                      flag, and is set as:

                           " "  - (space) - ordinary coordinate
                           "1"  - this coordinate is at the start of a curve
                           "2"  - this coordinate is at the end of a curve.

                      Note that curves are still fully interpolated  (ie  composed
                      of  straight  line segments).  IFF data does not support the
                      use of start/end curve  flags,  so  our  programs  will  not
                      output them.

                      In OSTF+, the 'c'  character  denotes  the  capture  method.
                      When  it is left blank, the value of the last capture method
                      specified is assumed.  Values for the capture method are the
                      same as those listed for the -24 entry.  The default is "0".

              -1 sim      - map header

                      This marks the start of a new sheet  in  the  file.   It  is
                      followed by:

                           Eastings
                           Northings
                           Basic grid size
                           Source scale

                      and in OSTF-3 these are then followed by:

                           Job number
                           Digitising scale

                      Note that the 'sim' flag is not used in OSTF-0.

              -2   0      - end of sheet

                      Followed immediately by either flag  -3,  or  another  sheet
                      starting with flag -1.


  IFFOSTF REFERENCE (1.1): OSTF format description                        Page 1-5
  FORMAT DESCRIPTION                                              26 November 1992


              -3   0      - end of data, end of file

                      The rest of the current block is padded with flag -6, to the
                      actual end of file.

              -4 fsn      - start of feature

                      This entry marks the start of a new feature - 'fsn'  is  the
                      feature serial number, in the range 0-9999.

              -5   0      - end of feature

              -6   0      - dummy - used to pad the end of data

              -7  fc      - feature code - used for lines

              -8  fc      - feature code - used for texts and symbols

              -9   0      - new grid square

                      The entry is:

                             -9   0
                             EE  NN

                      where EE and NN are the numbers identifying the grid  square
                      containing  the coordinates following.  This entry is output
                      at the start of a feature, and whenever  a  feature  crosses
                      from one grid square to another.

                      EE and NN are normally in the range 0 to 9,  but  note  that
                      the  coordinates along the northern and eastern edges of the
                      sheet are actually in grid squares EE,10 and  10,NN  -  note
                      that  the  coordinates  in these cases are restricted to the
                      boundary itself.

             -10 cat      - text description

                      This entry is:

                            -10   category
                           style  height

                      where 'category' is the OS text category, 'style' is the  OS
                      text style.

                      The character height in 'height' is stored as a  point  size
                      for  OSTF-0  (with a value between 1 and 24).  For all other
                      versions,  the  text  height  is  stored  as  tenths  of   a
                      millimetre,  corresponding  to the appropriate point size of
                      the original text.

             -11 cnt      - text entry


  IFFOSTF REFERENCE (1.1): OSTF format description                        Page 1-6
  FORMAT DESCRIPTION                                              26 November 1992


                      This entry is followed by 'cnt' characters of  text,  8  per
                      record.

             -12 ang      - orientation

                       o  For text features, the orientation gives the rotation of
                          the text.
                       o  For symbols, it gives the angle of  the  symbol  -  this
                          will only be relevant for oriented and scaled symbols.
                       o  For lines, the angle is calculated from  the  first  two
                          points  of the line, and is used by OS when plotting the
                          FSN next to the feature.

                      In all cases, the angle is stored  in  tenths  of  a  degree
                      (0-3600),  measured  anti-clockwise from the horizontal axis
                      (ie in the standard direction).  Note  that  in  OSTF-0  the
                      orientation entry may be omitted if the angle is zero.

             -13   0      - invisible line flag

                      This indicates that the pen should be lifted when moving  to
                      the next coordinate - there is an invisible line to the next
                      point.

             -14   0      - external grid square

                      This entry is identical in form to the internal grid  square
                      entry,  but  is  used  to code entries which are outside the
                      sheet boundary - ie marginal  texts.   Note  that  the  grid
                      squares  with  this entry may be negative.  This flag is not
                      used in OSTF-0.

             -15 dis      - distance - scaled symbol size

                      'dis' is the size of a scaled symbol, in basic grid units.

             -16  pc      - process code

                      This contains the process code (as used in  OS  IFF  files),
                      and  was  introduced  in  OSTF-1.   This entry is not always
                      required.

             -17  ht      - contour height

                      This contains a contour height, in metres.

             -18 loc      - original text location

                      This entry is:

                            -18  location
                             EE    NN
                            XXX   YYY


  IFFOSTF REFERENCE (1.1): OSTF format description                        Page 1-7
  FORMAT DESCRIPTION                                              26 November 1992


                      The 'location' is the location number at which the text  was
                      originally  digitised  (0-8),  and the coordinates following
                      specify the original digitised position.

                      The  normal  coordinates  passed  for  a  text  reflect  its
                      position  when it is at location 0 (ie text origin is bottom
                      left hand corner).  This entry  allows  a  program  to  know
                      where and how the text was originally digitised.

                      This entry is not used in OSTF-0.

             -19   0      - left/right coding flag

                      This indicates that a sequence of left and right  boundaries
                      will follow - for instance:

                             -7  fc               1st boundary FC
                            -19   0               boundary flag
                            -11 cnt               text count - left side
                           ::::::::               the text
                            -19   0               boundary flag
                            -11 cnt               text count - right side
                           ::::::::               the text
                             -7  fc               2nd boundary FC
                            --etc--

                      This entry is not used in OSTF-0, and is not always required
                      in the other forms.

             -20   0              - secondary map header

                      This entry is  followed  by  additional  data  for  the  map
                      header.   It  is  absent  in  OSTF-0.   It is followed by 20
                      records in OSTF-1, by  22  records  in  OSTF-2,  and  by  54
                      records  in  OSTF-3  and OSTF-4.  The OSTF-4 version differs
                      from the OSTF-3 version;  some  fields  have  been  renamed,
                      replaced or discontinued, and new ones have been introduced.
                      Note  that  the  OSTF-3  and  OSTF-4  versions   contain   a
                      contractor  identification code.  This is assigned by OS and
                      in OSTF-3 it is a number given to the supplier of the  data;
                      in  OSTF-4  it  consists of a customer code and a contractor
                      code.

             -21 cnt              - sheet index start/end

                      In all forms except OSTF-0, the file starts with an index of
                      the sheets in the file.  This is of the form:

                            -21 cnt               how many sheets
                           EEEEEEEE               easting  of SW corner, sheet 1
                           NNNNNNNN               northing of SW corner, sheet 1
                           EEEEEEEE               easting  of NE corner, sheet 1
                           NNNNNNNN               northing of NE corner, sheet 1
                            --etc--
                            -21   0               end of index


  IFFOSTF REFERENCE (1.1): OSTF format description                        Page 1-8
  FORMAT DESCRIPTION                                              26 November 1992


             -22 cnt              - text cross reference

                      This is followed by 'cnt' FSNs, one per record.   The  entry
                      is  used  within  a  text  feature,  to  point to the linear
                      features with which this text is associated.  This entry  is
                      not  used in OSTF-0 or OSTF-1, and is not always required in
                      the other forms.

             -23 typ              - feature history

                      This entry holds information on change type, survey date and
                      change  date,  and applies only to the feature incorporating
                      the record.  The entry is:

                            -23  type
                           YYMM  YYMM

                      where 'type' is a character denoting  the  type  of  change.
                      Values for this are:

                         "0"  - unknown
                         "1"  - feature no longer exists, i.e.  deleted
                         "2"  - feature unchanged since survey date
                         "3"  - position of feature has changed due to resurvey
                         "4"  - position   of   feature   has   changed   due   to
                                readjustment
                         "5"  - feature code os classification change
                         "6"  - other attribute change

                      The second record consists of two 4 byte fields,  the  first
                      being the survey date, and the second the change date.

             -24 diff             - height

                      This entry holds information on difference in height between
                      ground  and  top  of  feature,  measured  height and capture
                      method.  It applies to all succeeding individual points,  up
                      to  the  feature  terminator  unless  updated  by  a further
                      occurrence.

                      The entry is:

                            -24  difference
                           c zzzzzz

                      where 'difference' is the difference in height in decimetres
                            (4 bytes),
                            'c' is a character denoting the capture method,
                            'zzzzzz' is the z-coordinate in centimetres (6 bytes).

                      Empty (i.e.  blank) 'difference' fields are inserted at  the
                      first  occurrence  of  an  unknown difference in height, and
                      empty 'zzzzzz' fields at the first occurrence of an  unknown
                      measured  height.   Note  that  values  of zero in either of
                      these fields are  regarded  as  valid.   The  difference  in
                      height is relative to the ground height.


  IFFOSTF REFERENCE (1.1): OSTF format description                        Page 1-9
  FORMAT DESCRIPTION                                              26 November 1992


                      Values for the capture method are:

                         "0"  - unknown
                         "1"  - intelligence
                         "2"  - triangulation station - primary order
                         "3"  - triangulation station - secondary order
                         "4"  - triangulation station - tertiary order
                         "5"  - lower order control (MC)
                         "6"  - IDS 1:1250
                         "7"  - IDS 1:2500
                         "8"  - graphic survey 1:1250
                         "9"  - graphic survey 1:2500
                         ":"  - graphic survey 1:10000
                         ";"  - 1:1250  scale - original data source unknown
                         "<"  - 1:2500  scale - original data source unknown
                         "="  - 1:10000 scale - original data source unknown
                         ">"  - generated by spline fitting algorithm
                         "?"  - generated by parallel or offset line algorithm
                         "@"  - generated by squaring algorithm
                         "A"  - generated by part squaring algorithm
                         "B"  - generated arc or circle
                         "C"  - generated by unspecified algorithm
                         "D"  - vector data from raster to vector conversion
                         "E"  - PS 1:1250 aerial triangulation (ground control)
                         "F"  - PS 1:1250 aerial triangulation (master block)
                         "G"  - PS 1:1250 air machine (ground control)
                         "H"  - PS 1:1250 graphic
                         "I"  - PS 1:2500 aerial triangulation (ground control)
                         "J"  - PS 1:2500 aerial triangulation (master block)
                         "K"  - PS 1:2500 air machine (ground control)
                         "L"  - PS 1:2500 graphic
                         "M"  - PS 1:10000 aerial triangulation (ground control)
                         "N"  - PS 1:10000 air machine (ground control)

             -25   0              - technical security

                      This entry indicates that the feature is deemed to be  of  a
                      technically secure nature.

             -44 fsn              - start of feature with large FSN

                      This entry is used to store a large FSN, instead of  the  -4
                      flag.   The  actual FSN represented is 'fsn'+10000, allowing
                      FSNs in the range 10000 to 19999 to be stored.   This  entry
                      is only used in OSTF-3.














                                     CHAPTER 2

                               OSTF DATA PREPARATION





  IFFOSTF REFERENCE (1.1): OSTF data preparation                          Page 2-1
  DATA PREPARATION                                                26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mDATA[0m [1mPREPARATION[0m

            [1m----------------------------------------------------------------------[0m
            [1mComparison[0m [1mof[0m [1mOSTF[0m [1mand[0m [1mIFF[0m

            Both OSTF and  IFF  are  feature  oriented  data  formats  -  data  is
            separated  into  features,  and each feature represents one 'thing' on
            the map.  An integer feature code (FC) is used to  say  what  type  of
            thing  it  is  that the feature represents.  A feature might thus be a
            contour, or a house, or a river, depending on the type  of  map  being
            digitised, and the way that the data is to be used.

            OSTF requires that each feature has a  unique  feature  serial  number
            (FSN)  -  an  integer  number  which is associated with the feature in
            addition to the feature code.   Features  in  IFF  also  have  feature
            serial numbers, although these need not be unique.

            IFF allows features to be grouped into separate layers,  a  capability
            which  OSTF  does not have.  IFF also allows more graphical types (the
            way a feature is to be drawn) than OSTF which only allows  for  lines,
            symbols and names.

            IFF therefore has the capability to  contain  more  information  about
            particular  features  or  groups  of features than OSTF, and is a more
            versatile format.  Nevertheless, transfer  of  data  between  the  two
            formats is relatively easy with no loss of information.

            [1m----------------------------------------------------------------------[0m
            [1mPreparation[0m [1mfor[0m [1mdigitising[0m [1mdata[0m [1mto[0m [1mbe[0m [1moutput[0m [1mto[0m [1mOSTF[0m

            This section is aimed at contractors who intend to digitise  data  for
            Ordnance  Survey,  and describes how to prepare data in IFF revision 0
            files.  Note that OSTF+ is  not  intended  for  use  outside  Ordnance
            Survey, and so the representation of such data in IFF revision 1 files
            is not covered.  The [1mContractors[0m  [1mSpecification[0m  [1mfor[0m  [1mDigital[0m  [1mMapping[0m
            published  by  the  Ordnance  Survey  should  be  consulted  prior  to
            digitising data for subsequent output to OSTF.

            For digitising within IFF, Ordnance Survey feature codes must be used,
            and an appropriate FRT file (together with SRI and TRI files) created.

            The data should be digitised into layer 1 and  sorted  into  order  by
            FSN.   FSNs  must be unique within the layer, numbered from 1 upwards,
            and may not be larger than 19999, or 9999 for OSTF-0.  If  a  grid  is
            included  in  the IFF file, it should be in layer 0 with FSNs numbered
            from 1 upwards.  Note that the grid should not appear in OSTF  format,
            and  will  not be transmitted by I2OSTF.  The only Ancillary Code (AC)
            entries present should be types 2, 4 and  5,  and  these  should  only
            occur within line features.

            The data can be sorted using the IMP utility ISORT, and should also be
            clipped square using the IMP utility IWINDOW.


  IFFOSTF REFERENCE (1.1): OSTF data preparation                          Page 2-2
  DATA PREPARATION                                                26 November 1992


            A standard type 2 OS map header should be used in the IFF  file,  with
            the following values set :-

             -  map scale
             -  data capture scale
             -  basic grid interval
             -  origin
             -  contractors ID

            The map header can be set using OSMHED, which will  also  ensure  that
            the  scale and origin offset are set in the type 2 Map Descriptor (MD)
            if the IFF file is a new style one.  Such IFF files will also  contain
            a  HIstory  (HI)  entry.   It is assumed that the map is square.  Note
            that a contractors ID for onward transmission to OSTF can be specified
            with the I2OSTF /CONTRACTOR qualifier.

            Text heights in the IFF file should be stored as point  sizes.   These
            are converted to tenths of a millimetre on output to OSTF.

            OS IFF files should not normally  contain  3-d  string  (ZS)  or  Text
            Status  (TS)  entries.  However, their presence may be advantageous to
            some users and they are therefore not specifically prohibited.

            [1m----------------------------------------------------------------------[0m
            [1mAttribute[0m [1mDefinitions[0m

            OSTF+ data can be translated into IFF revision level 1, which includes
            the  capability  to handle attributes at both feature and point level.
            The former appear in the IFF file  as  AC  (Ancillary/Attribute  Code)
            entries,  while  the  latter  are  included  in  CB (Coordinate Block)
            entries.  A set of standard attributes is available  by  default,  and
            these  can  be  supplemented  by  additional attributes defined by the
            user.  For further details, see the "IFF User Guide".

            If IFF revision level 1 output is required, an FRT file containing ACD
            definitions  must  be  specified (see the "FRT User Guide" for further
            details).  The standard definitions referenced by the OSTF translation
            programs at point level (i.e.  within CB's) are:

                  X                       -  x-coordinate
                  Y                       -  y-coordinate
                  Z                       -  z-coordinate
                  DHeight                 -  difference in height

            Those referenced at feature level (i.e.  in AC's) are:

                  CONTOUR                 - contour height
                  LH_boundary             - left boundary
                  RH_boundary             - right boundary

            Additional definitions referenced by the programs [1mmust[0m be  defined  in
            the ACD table.  At the point level these are:


  IFFOSTF REFERENCE (1.1): OSTF data preparation                          Page 2-3
  DATA PREPARATION                                                26 November 1992


                  CAPTURE_XY              - plan capture method
                  CAPTURE_Z               - height capture method

            At feature level they are:

                  SURVEY_DATE             - survey date
                  CHANGE_DATE             - change date
                  CHANGE_TYPE             - change type
                  SECURITY_MARKER - security marker

            [1m----------------------------------------------------------------------[0m
            [1mOS[0m [1mMap[0m [1mHeader[0m [1mTranslation[0m [1mTable[0m

            Several utilities within IFFOSTF have the ability  to  copy  OSTF  and
            CITF  headers  to  and from IFF as ASCII character blocks which can be
            interfaced with map header editors developed by Ordnance Survey (Great
            Britain).

                                           [1mWarning[0m

                    Map headers in this form are not intended to  be  used
                    outside  OS, and Laser-Scan recommend that other users
                    use type 2 map  headers  which  can  be  edited  using
                    OSMHED.


            In order to facilitate the future expansion of OS map header fields, a
            translation  table  in  the  form  of  a  parameter file is used which
            contains two sections.  These sections define the positions and  sizes
            of  various  fields  within  a  type  3 (OSTF) or type 4 (CITF) OS Map
            Header.

            Each line of the file is prefixed with a command which identifies  the
            line  as  belonging  to  that  section.  The lines are free format and
            their position within the file is not important.  However, entries  on
            a given line must occur in a fixed order.  Commands may be in upper or
            lower case.

            A maximum of 255 commands will be allowed per parameter file.

            Any text starting with the "!" character is regarded as a comment, and
            is  ignored.  Comments can appear on the same lines as commands, or on
            separate lines.

            The header positions and sizes given  in  the  table  must  accurately
            reflect  that  of  the actual map header, particularly when converting
            between IFF and OSTF/CITF.

            In OSTF, note that the field positions start at character  position  1
            and  are continuous through both the -1 and -20 headers.  ie.  the -20
            header positions do not begin from character position 1 but follow  on
            from the -1 header.  Note also that the character positions within the
            header are equivalent to those within the  file;  position  1  is  the
            first space in the OSTF record containing the -1 entry and is the same
            position as that used for the byte count.


  IFFOSTF REFERENCE (1.1): OSTF data preparation                          Page 2-4
  DATA PREPARATION                                                26 November 1992


            Note also that, in CITF, the character positions within the header are
            not  equivalent  to those within the file as other records precede the
            header.  The offsets for CITF are within the Section Header  (SECHREC)
            record  of  a  CITF  file.   Refer  to the IFFNTF Reference Manual for
            information of CITF.

            The  logical  LSL$OS_MH_TABLE  must  be  defined  to  point   to   the
            translation  table  and any part of the file specification not defined
            will    be    taken    from    the    default    file    specification
            LSL$LOOKUP:OSMH_NEW_TABLE.DAT

            The translation table will take the form:

                [1mOSTF_MH_ONE            <fileposn>   <size>[0m
                [1mOSTF_MH_TWENTY         <fileposn>   <size>[0m
                [1m![0m
                [1mOSTF_MD_X_ORIG         <posn>       <size>       <format>[0m
                [1mOSTF_MD_Y_ORIG         <posn>       <size>       <format>[0m
                [1mOSTF_MD_SCALE          <posn>       <size>       <format>[0m
                [1m![0m
                [1mOSTF_MH_BGI            <posn>       <size>       <format>[0m
                [1mOSTF_MH_CAP_SCALE      <posn>       <size>       <format>[0m
                [1mOSTF_MH_JOB_NUMBER     <posn>       <size>       <format>[0m
                [1mOSTF_MH_CHANGE_IND_A   <posn>       <size>       <format>[0m
                [1mOSTF_MH_CHANGE_IND_B   <posn>       <size>       <format>[0m
                [1mOSTF_MH_CHANGE_IND_C   <posn>       <size>       <format>[0m
                [1mOSTF_MH_CHANGE_IND_D   <posn>       <size>       <format>[0m
                [1mOSTF_MH_CHANGE_IND_E   <posn>       <size>       <format>[0m
                [1mOSTF_MH_CHANGE_IND_F   <posn>       <size>       <format>[0m
                [1mOSTF_MH_CHANGE_IND_G   <posn>       <size>       <format>[0m
                [1mOSTF_MH_CHANGE_IND_H   <posn>       <size>       <format>[0m
                [1mOSTF_MH_CHECK_VALUES   <posn>       <size>       <format>[0m
                [1mOSTF_MH_BYTE_COUNT     <posn>       <size>       <format>[0m
                [1m![0m
                [1mCITF_MH_LENGTH         <size>[0m
                [1m![0m
                [1mCITF_MD_X_ORIG         <line>   <offset>   <size>   <format>[0m
                [1mCITF_MD_Y_ORIG         <line>   <offset>   <size>   <format>[0m
                [1mCITF_MD_SCALE          <line>   <offset>   <size>   <format>[0m
                [1m![0m
                [1mCITF_MH_DIFF_HT_LEN    <divs>   <offset>   <size>   <format>[0m
                [1mCITF_MH_CHANGE_IND_A   <divs>   <offset>   <size>   <format>[0m
                [1mCITF_MH_CHANGE_IND_B   <divs>   <offset>   <size>   <format>[0m
                [1mCITF_MH_CHANGE_IND_C   <divs>   <offset>   <size>   <format>[0m
                [1mCITF_MH_CHANGE_IND_D   <divs>   <offset>   <size>   <format>[0m
                [1mCITF_MH_CHANGE_IND_E   <divs>   <offset>   <size>   <format>[0m
                [1m![0m

            where

                [1m<fileposn>  [0mis a character position of the  OSTF  or  CITF  header
                            within the file and must be a positive integer
                [1m<posn>      [0mis a character position of a field within the OSTF  or
                            CITF header and must be a positive integer
                [1m<size>      [0mis the number of characters this  value  occupies  and
                            must be a positive integer


  IFFOSTF REFERENCE (1.1): OSTF data preparation                          Page 2-5
  DATA PREPARATION                                                26 November 1992


                [1m<format>    [0mis the datatype in OSTF or CITF (uppercase I  or  A)of
                            the field
                [1m<line>      [0mis the line number within the  Section  Header  Record
                            (SECHREC)  of  a  CITF header in which the field is to
                            go.  Since the header size is 10000 bytes, the maximum
                            line number is 125 (ie 10000/80) and should ideally be
                            a multiple of 80.
                [1m<divs>      [0mis the number of CITF DIVIDER  characters  (usually  a
                            backslash '\') after which the field is to be located.
                            This only applies to  the  variable  change  indicator
                            fields        CITF_MH_CHANGE_IND_n       and       the
                            CITF_MH_DIFF_HT_LEN field.
                [1m<offset>    [0mis the number of countable characters after the number
                            of  CITF DIVIDERs defined by [1m<divs>[0m at which the field
                            is to be located.   This  also  only  applies  to  the
                            variable  change indicator fields CITF_MH_CHANGE_IND_n
                            and the CITF_MH_DIFF_HT_LEN field.

            and the commands [1mOSTF_MH_ONE[0m and [1mOSTF_MH_TWENTY[0m define where  the  map
            header  block  fits into an OSTF file.  The order of these commands is
            important and must be as specified above.  Hence these commands do not
            have a [1m<format>[0m entry.


  IFFOSTF REFERENCE (1.1): OSTF data preparation                          Page 2-6
  DATA PREPARATION                                                26 November 1992


            [1m----------------------------------------------------------------------[0m
            [1mExample[0m [1mOS[0m [1mMap[0m [1mHeader[0m [1mTranslation[0m [1mTable[0m

            An example of the translation table, LSL$OS_MH_TABLE, is given here:


  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
  !                                                                             !
  !       OS Map Header Translation Table                                       !
  !                                                                             !
  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
  !
  !       Copyright Laser-Scan Laboratories Ltd., Cambridge, England.
  !
  !       Created                                 ST      20-Oct-1992
  !
  ! Field               Offset  Size    Type
  !
  OSTF_MH_ONE              1     56
  OSTF_MH_TWENTY          57    440
  !
  OSTF_MD_X_ORIG           9      8       I
  OSTF_MD_Y_ORIG          17      8       I
  OSTF_MD_SCALE           33      8       I
  !
  OSTF_MH_BGI             25      8       I
  OSTF_MH_CAP_SCALE       49      8       I
  OSTF_MH_JOB_NUMBER      41      8       I
  OSTF_MH_CH_IND_A       161      1       A       ! OSTF Change indicator flags
  OSTF_MH_CH_IND_B       162      1       A       ! must be of format A1 and
  OSTF_MH_CH_IND_C       163      1       A       ! contiguous for compatibility
  OSTF_MH_CH_IND_D       164      1       A
  OSTF_MH_CH_IND_E       165      1       A
  OSTF_MH_CH_IND_F       166      1       A
  OSTF_MH_CH_IND_G       167      1       A
  OSTF_MH_CH_IND_H       168      1       A
  OSTF_MH_CHECK_VALUES   137      8       A
  OSTF_MH_BYTE_COUNT     145      8       I
  !
  !
  CITF_MH_LENGTH        4000                      ! Minimum 320, Maximum 10000
  !
  ! Field                Line  Offset   Size     Type
  !
  CITF_MD_X_ORIG           1     47      10       I
  CITF_MD_Y_ORIG           1     57      10       I
  CITF_MD_SCALE            3     31       9       I
  !
  ! Field             Number of  Offset  Size    Type
  !                   Dividers   
  CITF_MH_DIFF_HT_LEN      8      1       5       I
  CITF_MH_CH_IND_A         8     34       1       A       ! posn of NONEXT_FLAG
  CITF_MH_CH_IND_B         8     35       1       A       ! posn of OSCAR_FLAG
  CITF_MH_CH_IND_C         8     36       1       A       ! posn of CA_FLAG
  CITF_MH_CH_IND_D         8     37       1       A       ! posn of APP_FLAG
  CITF_MH_CH_IND_E         8     38       1       A       ! posn of SUPPLY_FLAG


  IFFOSTF REFERENCE (1.1): OSTF data preparation                          Page 2-7
  DATA PREPARATION                                                26 November 1992


  !
  ! The above CITF_MH_CH_IND field positions are used by the LITES2 OPERATION
  ! command thus:
  !
  ! CITF_MH_CH_IND_A position is used for LITES2 OPERATION flag 1
  ! CITF_MH_CH_IND_B position is used for LITES2 OPERATION flag 2
  ! CITF_MH_CH_IND_C position is used for LITES2 OPERATION flag 3
  ! CITF_MH_CH_IND_D position is used for LITES2 OPERATION flag 4
  ! CITF_MH_CH_IND_E position is used for LITES2 OPERATION flag 5
  !!

            It is suggested that this layout is adhered to as closely as  possible
            to  avoid spurious errors caused by accessing incorrect header fields,
            although some flexibility is permitted as described earlier.

            [1m----------------------------------------------------------------------[0m
            [1mOS[0m [1mMap[0m [1mHeader[0m [1mTranslation[0m [1mTable[0m [1mError[0m [1mMessages[0m

            The following is a list of error messages which may occur in utilities
            that  access  type  3  or  4 map headers or in reading the translation
            table.

            For each message, the message name and text are listed.   The  message
            name  is  the  name  of  the  message parameter, without the OSMHLIB__
            prefix.


  IFFOSTF REFERENCE (1.1): OSTF data preparation                          Page 2-8
  MESSAGES (INFORMATIONAL)                                        26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  LINEINPAR, line 'number' of parameter file

      [1mExplanation:[0m  This message always appears after an error has occurred  while
      decoding  a  line  in  the  parameter  file,  and it informs the user of the
      offending line number.  The previous message will  have  been  generated  by
      LSLLIB and the line in question will be ignored.

      [1mUser[0m [1maction:[0m  The error message generated by LSLLIB most likely indicates an
      error  in  the  parameter  file which should be amended.  Otherwise, see the
      relevant error message explanation.


  IFFOSTF REFERENCE (1.1): OSTF data preparation                          Page 2-9
  MESSAGES (WARNING)                                              26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  BLANKLINE, Blank CITF header line found

      [1mExplanation:[0m  A line of the CITF header was found to be totally blank  which
      is used as the criteria which denotes the end of the header.  When searching
      for CITF divider characters in order  to  located  variable  fields,  is  is
      possible  that  the  header size defined in the lookup table is greater than
      the true header size which will result in the search running off the end  of
      the header.

      [1mUser[0m [1maction:[0m  This message should not occur as it is used  to  identify  the
      end of the CITF header.

  INTSIZ, Value 'integer' truncated to fit into header field of 'integer' bytes.

      [1mExplanation:[0m  A value was truncated to fit into a header field whose size is
      determined by the <size> column of the translation table, LSL$OS_MH_TABLE.

      [1mUser[0m [1maction:[0m  Check that the field size for the value in question is correct
      in the translation table pointed to by LSL$OS_MH_TABLE.

  STRSIZ, String ''string'' truncated to fit into header field of 'integer' bytes.

      [1mExplanation:[0m  A string was truncated to fit into a header field  whose  size
      is   determined   by   the   <size>   column   of   the  translation  table,
      LSL$OS_MH_TABLE.

      [1mUser[0m [1maction:[0m  Check that the field size for the string in question  has  the
      correct value in the translation table pointed to by LSL$OS_MH_TABLE.

  UNKCMD, unknown command "'command'"

      [1mExplanation:[0m  The given command in the parameter file  was  not  recognised.
      The LINEINPAR message indicating the parameter file line number will follow,
      and this line will be ignored.

      [1mUser[0m [1maction:[0m  This message is most likely due to an error in the translation
      table, LSL$OS_MH_TABLE which should be amended to contain correct commands.

  UNKFLG, unknown flag

      [1mExplanation:[0m  Unknown map header flag in translation table.  Must be  MH_ONE
      or MH_TWENTY.

      [1mUser[0m [1maction:[0m  This message is most likely due to an error in the translation
      table, LSL$OS_MH_TABLE which should be amended to contain correct commands.


  IFFOSTF REFERENCE (1.1): OSTF data preparation                         Page 2-10
  MESSAGES (ERROR)                                                26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  BADCALL, Invalid function call.  Map header not type 3 or 4.

      [1mExplanation:[0m  A file with an MH header entry of type 3 or 4 was expected.

      [1mUser[0m [1maction:[0m  Ensure that the file has the correct header type.

  BADLINESIZE, Tried to write a bad line to header.

      [1mExplanation:[0m  An attempt was made to write a line to the  header  which  was
      less  than  4  characters  or  greater than 80.  This error should not occur
      under normal conditions since the application program will calls the routine
      to write the line should ensure that the line is a sensible length.

      [1mUser[0m [1maction:[0m  If this error occurs, it indicates  that  something  is  wrong
      with the application program and the user should contact Laser-Scan.

  BADOFFSET, Offset lies outside header

      [1mExplanation:[0m  The position of a  variable  field  was  calculated  as  being
      outside  the  header defined by size CITF_MH_LENGTH in the lookup table.  It
      is therefore impossible to extract or insert a value into that position.

      [1mUser[0m [1maction:[0m  Ensure that the number of dividers and offset of all  variable
      fields  are  defined  correctly into the lookup table so that all fields lie
      within the header.

  ERRCHFLG, Change indicator flag not format A1 in lookup table

      [1mExplanation:[0m  A change indicator flag defined in the lookup  table  was  not
      defined as alphanumeric and of field width 1.  This message will be followed
      by another which reports the offending line number in the file.

      [1mUser[0m [1maction:[0m  Ensure that all change indicator <size> and <type> values  are
      defined as '1' and 'A' respectively in the lookup table.

  ERRCIMHSIZ, CITF header size outside valid range 'integer' to 'integer'

      [1mExplanation:[0m  Header size read from the table defined by LSL$OS_MH_TABLE  is
      outside the range specified.  The maximum size for the header is 10000 bytes
      and the minimum is 320 in order to accomodate the first 4 lines of the  CITF
      [SECHREC] record.

      [1mUser[0m [1maction:[0m  Correct the CITF_MH_LENGTH entry so that its <size>  parameter
      inside the range reported.


  IFFOSTF REFERENCE (1.1): OSTF data preparation                         Page 2-11
  MESSAGES (ERROR)                                                26 November 1992


  ERRCISIZ, CITF field size is greater than CITF header size 'CITF header size'

      [1mExplanation:[0m  CITF field read from the table defined by  LSL$OS_MH_TABLE  is
      larger than CITF header.

      [1mUser[0m [1maction:[0m  Check that the sum of the <posn>  and  <size>  parameters  for
      each  CITF_ field in the table is less than or equal to the <size> parameter
      in the CITF_MH_LENGTH entry.

  ERRCLOPAR, error closing parameter file 'file-spec'

      [1mExplanation:[0m  The parameter file could not be closed.  An additional  LSLLIB
      message will follow, giving the reason for the failure.  If this is due to a
      system error, the system error message will also appear.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given,
      and  take the appropriate remedial action.  If the error is due to a serious
      problem such as a system failure, the System Manager should be informed.

  ERRFMT, error reading format from table file 'file-spec'

      [1mExplanation:[0m  A  problem  was  encountered  reading  the  table  defined  by
      LSL$OS_MH_TABLE.   An  additional  LSLLIB  message  will  follow, giving the
      reason for the failure.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given,
      and take the appropriate remedial action.  Examine the translation table and
      ensure that the format field is correct.

  ERRGETCITF, error getting CITF line from header.

      [1mExplanation:[0m  This message will be preceded by one giving a reason  for  the
      failure.

      [1mUser[0m [1maction:[0m  Depends upon the details of the message preceding this one.

  ERRGETFLD, error getting field from header.

      [1mExplanation:[0m  This message will be preceded by one giving a reason  for  the
      failure.

      [1mUser[0m [1maction:[0m  Depends upon the details of the message preceding this one.

  ERRINI, error initialising translation table LSL$OS_MH_TABLE.

      [1mExplanation:[0m  This message will be preceded by one giving a reason  for  the
      failure.

      [1mUser[0m [1maction:[0m  Depends upon the details of the message preceding this one.


  IFFOSTF REFERENCE (1.1): OSTF data preparation                         Page 2-12
  MESSAGES (ERROR)                                                26 November 1992


  ERRNOTCONT, OSTF change indicator flags are not contiguous

      [1mExplanation:[0m  One or more change indicator flags defined in the lookup table
      are  not contiguous which is essential for OSTF as they are mapped onto an 8
      character string.  This message will be followed by  another  which  reports
      the offending line number in the file.

      [1mUser[0m [1maction:[0m  Ensure that all change indicator flags  have  <offset>  fields
      which are contiguous.

  ERROFFSIZ, CITF offset size is outside valid range

      [1mExplanation:[0m  The CITF offset value must be less than 2  because  the  first
      two  characters  of  each  CITF line are reserved for the record descriptor.
      The sum of the offset and field size must also be less than 79 to allow  for
      a continuation and end-of-record character at the end of the line.

      [1mUser[0m [1maction:[0m  Ensure that the <offset> and <size> values are defined so that
      the field inside the valid range.

  ERROPNPAR, error opening parameter file 'file-spec'

      [1mExplanation:[0m  The parameter file could not be opened.  An additional  LSLLIB
      message will follow, giving the reason for the failure.  If this is due to a
      system error, the system error message will also appear.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given.
      There may be a simple remedy, e.g.  a change in the directory specification.
      Alternatively, this error could be due to a more serious problem such  as  a
      system failure, and in that case the System Manager may have to be informed.

  ERROSMHSIZ, OSTF header size greater than maximum size 'max header size'

      [1mExplanation:[0m  Header size read from the table defined by LSL$OS_MH_TABLE  is
      too large.

      [1mUser[0m [1maction:[0m  Correct the OSTF_MH_ONE and  OSTF_MH_TWENTY  entries  so  that
      their <size> parameters add up to less than or equal to the maximum size.

  ERROSSIZ, OSTF field size is greater than OSTF header size 'OSTF header size'

      [1mExplanation:[0m  OSTF field read from the table defined by  LSL$OS_MH_TABLE  is
      larger than OSTF header.

      [1mUser[0m [1maction:[0m  Check that the sum of the <posn>  and  <size>  parameters  for
      each OSTF_ field in the table is less than or equal to the sum of the <size>
      parameters of the OSTF_MH_ONE and OSTF_MH_TWENTY entries.


  IFFOSTF REFERENCE (1.1): OSTF data preparation                         Page 2-13
  MESSAGES (ERROR)                                                26 November 1992


  ERRPUTCITF, error inserting CITF line into header.

      [1mExplanation:[0m  This message will be preceded by one giving a reason  for  the
      failure.

      [1mUser[0m [1maction:[0m  Depends upon the details of the message preceding this one.

  ERRPUTINT, error inserting integer field into header.

      [1mExplanation:[0m  This message will be preceded by one giving a reason  for  the
      failure.

      [1mUser[0m [1maction:[0m  Depends upon the details of the message preceding this one.

  ERRPUTSTR, error inserting string field into header.

      [1mExplanation:[0m  This message will be preceded by one giving a reason  for  the
      failure.

      [1mUser[0m [1maction:[0m  Depends upon the details of the message preceding this one.

  ERRRDCH, error reading character value from the header.

      [1mExplanation:[0m  An error occurred while trying to read a value of type  string
      from the header.  The value of MH_STRLEN will be zero.

      [1mUser[0m [1maction:[0m  Ensure that  the  position  and  size  of  the  field  in  the
      translation table are correct.

  ERRRDINT, error reading integer value from the header.

      [1mExplanation:[0m  An error occurred while trying to read a value of type integer
      from the header.  The contents of MH_I_VALUE will be zero.

      [1mUser[0m [1maction:[0m  Ensure that  the  position  and  size  of  the  field  in  the
      translation table are correct.

  ERRRDPAR, error reading from parameter file 'file-spec' at line 'number'

      [1mExplanation:[0m  The given line could not be read from the parameter file.   An
      additional  LSLLIB  message  will follow, giving the reason for the failure.
      If this is due to a system error, the system error message will also appear.
      The program exits immediately.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given,
      and  take the appropriate remedial action.  If the error is due to a serious
      problem such as a system failure, the System Manager should be informed.


  IFFOSTF REFERENCE (1.1): OSTF data preparation                         Page 2-14
  MESSAGES (ERROR)                                                26 November 1992


  FLDNOTINT, Field for insertion into header expected as integer.

      [1mExplanation:[0m  An attempt was made to insert an integer field into the header
      that   was   not   declared   as   an   integer  in  the  translation  table
      LSL$OS_MH_TABLE.

      [1mUser[0m [1maction:[0m  Check that the fields specified in the translation  table  are
      of the type expected.

  FLDNOTSTR, Field for insertion into header expected as string.

      [1mExplanation:[0m  An attempt was made to insert a string field into  the  header
      that was not declared as a string in the translation table LSL$OS_MH_TABLE.

      [1mUser[0m [1maction:[0m  Check that the fields specified in the translation  table  are
      of the type expected.

  NOCONTCHAR, No continuation flag ending CITF header line 'integer'

      [1mExplanation:[0m   The  reported  line  of  the  CITF  header  did  not  have  a
      continuation  character  (0 or 1) in the penultimate position before the end
      of record {EOR} character.

      [1mUser[0m [1maction:[0m  Examine the header at the line reported and try  to  establish
      why  the continuation character is missing.  Use the OS Map Header Editor to
      correct the header if possible or convert the file to text and do so.

  NOEORCHAR, No {EOR} character ending CITF header line 'integer'

      [1mExplanation:[0m  The reported line of the CITF header was not terminated by the
      end of record {EOR} character (usually the '%' character).

      [1mUser[0m [1maction:[0m  Examine the header at the line reported and try  to  establish
      why the {EOR} character is missing.  Use the OS Map Header Editor to correct
      the header if possible or convert the file to text and do so.

  NOFILE, file pointed to by LSL$OS_MH_TABLE does not exist

      [1mExplanation:[0m   The  logical  name  LSL$OS_MH_TABLE  has  been   defined   as
      referencing a file that cannot be found.

      [1mUser[0m [1maction:[0m  Check that the logical points to a valid table filename.

  NOLOG, logical LSL$OS_MH_TABLE undefined

      [1mExplanation:[0m  The logical name  LSL$OS_MH_TABLE  defined  to  reference  the
      translation table has not been defined.

      [1mUser[0m [1maction:[0m  Set up the logical using VMS command DEFINE.


  IFFOSTF REFERENCE (1.1): OSTF data preparation                         Page 2-15
  MESSAGES (ERROR)                                                26 November 1992


  NOSECHREC, no SECHREC record descriptor found in header

      [1mExplanation:[0m  The line numbers and offsets defined in the lookup table start
      from  the  SECHREC (the 07 record) which may not necessarily be at the start
      of the file.  The map header was scanned  and  no  '07'  records  descriptor
      denoting the Section Header Recortd was found.

      [1mUser[0m [1maction:[0m  All type 4 Map Headers intended to have fields  extractd  from
      them must have a Section Header Record present.

  NOSUCHFIELD, invalid header field - not defined in lookup table.

      [1mExplanation:[0m  An attempt was made to extract or  insert  a  field  from  the
      header.  Either the routine was called with a bad header field or one of the
      fields in the lookup table is not defined.

      [1mUser[0m [1maction:[0m  Check that the field specified as the argument is one of those
      in  the  lookup  table  and  that  the  lookup table has all of the required
      commands defined.

  ODDSIZE, CITF line too short at header line 'integer'

      [1mExplanation:[0m  The reported line of the CITF header was not a sensible  size.
      The  minimum  permissible  size  for a line is 4 character, albeit a strange
      one.  Each line must have 2 characters at  the  start  denoting  the  record
      descriptor,  and  2  at  the end for the continuation flag and end of record
      {EOR} character.

      [1mUser[0m [1maction:[0m  Examine the header at the line reported and try  to  establish
      why  the  line  is  so  short.   Use the OS Map Header Editor to correct the
      header if possible or convert the file to text and do so.

  TOOFEWDIVS, Too few dividers in SECHREC

      [1mExplanation:[0m  When  searching  the  SECHREC  record  for  the  CITF  DIVIDER
      characters (usually a backslash) to determine the offset of variable fields,
      the end of the header was encountered before all the  dividers  were  found.
      Only  as  many  lines as defined by the CITF header size in the lookup table
      will be use to search for divider characters.

      [1mUser[0m [1maction:[0m  Ensure that the header has  the  correct  number  of  dividers
      delimiting  the  variable  length  fields and that the entries in the lookup
      table defining the change indicator flags have a  sensible  number  for  the
      number  of  dividers.  Also ensure that the CITF header length is correct to
      the nearest line.


  IFFOSTF REFERENCE (1.1): OSTF data preparation                         Page 2-16
  MESSAGES (OTHER)                                                26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages  may  be  generated  by  the  IFF
  library  and  by  the  Laser-Scan I/O library, LSLLIB.  IFF library messages are
  introduced by '%IFF' and are documented in the IFF  library  users'  guide.   In
  most  cases  IFF  errors will be due to a corrupt input file, and this should be
  the first area of investigation.  If the cause of the error cannot be traced  by
  the user, and Laser-Scan are consulted, then the output file should be preserved
  to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'  and  are
  generally  self-explanatory.   They  are  used to explain the details of program
  generated errors.














                                     CHAPTER 3

                                   I2OSTF UTILITY





  IFFOSTF REFERENCE (1.1): I2OSTF utility                                 Page 3-1
  UTILITY I2OSTF                                                  26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mUTILITY[0m [1mI2OSTF[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            I2OSTF reads a series of IFF files, each containing an Ordnance Survey
            (OS) style map, and outputs OSTF format data to file or magnetic tape.
            The user may select which of the  OSTF/DMC  forms  (described  in  the
            FORMAT section) is required by use of a qualifier on the command line.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ I2OSTF input-file-spec output-file-spec

            [1mCommand[0m [1mqualifiers[0m                       [1mDefaults[0m

            /ASCII                                   /ASCII
            /[NO]ASK_IF_SIM                          /NOASK_IF_SIM
            /[NO]AUTO_PLUS                           /NOAUTO_PLUS
            /BLOCKSIZE=integer                       /BLOCKSIZE=1800
            /[NO]BYTE_COUNT                          /BYTE_COUNT
            /CONTRACTOR=string                       ID in map header
            /DEBUG                                   No debug information
            /DENSITY=integer                         /DENSITY=1600
            /EBCDIC                                  /ASCII
            /[NO]FRT[=file-spec]                     /NOFRT
            /[NO]IFF_POINTSIZE                       /IFF_POINTSIZE
            /[NO]INDEX                               See text
            /INPUT_LIST=file                         None
            /[NO]MH_CHECK                            /MH_CHECK
            /OSTF_VERSION=integer                    /OSTF_VERSION=4
            /[NO]PLUS                                /NOPLUS
            /[NO]PROCESS_CODES                       /NOPROCESS_CODES
            /[NO]SERIAL_MAGTAPE                      /NOSERIAL_MAGTAPE
            /[NO]SIM                                 /NOSIM

  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPT[0m

            _From:          input-file-spec
            _To:            output-file-spec

  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  input-file-spec

          - specifies a list of input files.  These  take  their  default  device,
            extension  and versions to be LSL$IF:.IFF;0 and a 'rolling default' is
            applied to the list, as in the standard VMS  manner.   IFF  files  are
            read and output in the order that they are specified in.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                 Page 3-2
  UTILITY I2OSTF                                                  26 November 1992


            Note that the input files may instead be  given  in  an  options  file
            specified with the /INPUT_LIST qualifier.

  output-file-spec

          - specifies the name of the output OSTF file.  The output  specification
            may be

             o  the  name  of  a  magnetic  tape  drive  (with  the  tape  mounted
                /FOREIGN),  in  which case data will be written as a single 'file'
                terminated by two tapemarks.  For the program  to  detect  that  a
                tape  drive is being specified, the device name must be terminated
                by a colon (for instance MT:).
             o  a standard filename, the default extension being .OSTF
                If a file with the specified name already exists a new  file  will
                be created with the version number incremented by one.
             o  the name of a magnetic tape drive connected via a DIL  controller.
                In  this case the controller is connected to the VAX computer by a
                serial interface.  The /SERIAL_MAGTAPE qualifier  is  required  to
                inform  the  program  that it is actually outputting through a DIL
                controller.  The data format written to the tape is  identical  to
                that for a normal magnetic tape device.


  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

  /ASCII

          - specifies that the output data is to be written in ASCII, and  is  the
            default.

  /ASK_IF_SIM
  /NOASK_IF_SIM (default)

          - prompts the user for whether each IFF file is SIM or not.  The default
            is  /NOASK_IF_SIM.   This  qualifier  overrides  the  /SIM  and /NOSIM
            options (whether they are on the command line, or in  a  specification
            file).

  /AUTO_PLUS
  /NOAUTO_PLUS (default)

          - specifies that the output is to be OSTF+ if  the  input  file  is  IFF
            revision  level  1.   If  the  input file is IFF revision level 0 then
            OSTF+ data is not produced.  If there is more  than  one  input  file,
            then  OSTF+  data  is produced if at least one of them is IFF revision
            level 1.

  /BLOCKSIZE=integer

          - used to select the size of the blocks in which  the  data  is  output.
            The default block size is 1800 characters.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                 Page 3-3
  UTILITY I2OSTF                                                  26 November 1992


            If output is to magnetic tape, then the blocks  written  to  the  tape
            will  be of this size.  If output is to a file, then the block size is
            only relevant for internal buffering - records are written  when  each
            block is completed.

  /BYTE_COUNT (default)
  /NOBYTE_COUNT

          - specifies whether or not a file byte count is  to  be  calculated  and
            written  to the normal position in a type 2 IFF OS map header.  A type
            3 IFF OS map header (for use by Ordnance Survey  Great  Britain  only)
            will  have  the  byte  count  inserted into the header at the position
            specified  in  the  translation  table,  LSL$OS_MH_TABLE.   For   more
            information  on  the  translation table, refer to the DATA PREPARATION
            section in the IFFOSTF chapter.

            The byte count will be the total of all countable characters  (as  per
            the OS specification) from the first space of the -1 record (typically
            '~~-1~~~0')  to  the  last  character  of  the  -2  record  (typically
            '~~-2~~~0') of the OSTF file (inclusive).

            /BYTE_COUNT is the default and involves processing the IFF file twice;
            the first time to calculate the byte count and the second to write the
            OSTF file.

            [1mNOTE:[0m  There may be a significant increase in processing time  due  to
            the byte count and for those users who do not require it, there is the
            facility to disable it with /NOBYTE_COUNT.

  /CONTRACTOR=string

          - for OSTF-3 and OSTF-4 a contractors ID is required, for insertion into
            the OSTF auxiliary map header.  Until late 1988 a single ID number was
            assigned  to  companies  supplying  data  to  Ordnance  Survey.    The
            contractors  ID  now  assigned  by OS consists of a primary code and a
            secondary code, each of which have two alphanumeric characters.

            This qualifier takes a 4 character string, the first two characters of
            which  are  the  primary  code, and the second two the secondary code.
            /CONTRACTOR overrides the value contained in the map header, which  is
            the  default.   For  OSTF-3, a primary code of 00 should be used.  The
            qualifier is ignored for earlier versions of OSTF output.

  /DEBUG

          - requests that extra information be output  to  the  terminal,  and  is
            intended for program development purposes.

  /DENSITY=integer

          - used to select the density at which the magnetic tape will be written.
            It  is  ignored  if  output  is  not  to a magnetic tape.  The default
            density is 1600 bpi, the only other supported density being 800 bpi.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                 Page 3-4
  UTILITY I2OSTF                                                  26 November 1992


  /EBCDIC

          - specifies that the output data is to be translated into  EBCDIC.   The
            default is to output the data as ASCII text.

  /FRT[=file-spec]
  /NOFRT (default)

          - specifies an FRT file which the program will read and use to interpret
            non-standard  AC  entries  and  CB  attributes in IFF revision 1 input
            files.  /FRT is not necessary for IFF revision 0 input files.

            The  default  file-specification   is   LSL$FRT:OS.FRT,   and   if   a
            file-specification is given, it is parsed against this default.

  /IFF_POINTSIZE (default)
  /NOIFF_POINTSIZE

          - specifies  that  the  IFF   text   heights   are   in   point   sizes.
            /NOIFF_POINTSIZE  specifies that IFF text heights are in hundredths of
            a mm.  The default is /IFF_POINTSIZE.

  /INDEX
  /NOINDEX

          - requests that the program should output the index at the start of  the
            output  data,  which  is  the default action for OSTF versions 1 to 4.
            /NOINDEX requests that the program should not output the tape index at
            the  start  of  the  output  data.   This option is normally used when
            outputting a single IFF file to a disk file, when the index would just
            take   up  space.   Both  forms  of  the  qualifier  are  ignored  for
            /OSTF_VERSION=0, which never outputs an index.

  /INPUT_LIST=file

          - names an input specification file containing the names  of  the  input
            IFF files.  The default extension is .OPT

            If this qualifier is given, then all input IFF files must be specified
            within  the  named  file  -  an  input list on the command line is not
            recognised.  The /SIM and /NOSIM qualifier on  the  command  line  are
            also not allowed.

            The input specification file contains the names of the IFF files to be
            used  for  input, one per line, in the order they are to be read.  The
            standard default of LSL$IF:.;0 is applied to each filename,  and  each
            line  may  also  contain  a /SIM or /NOSIM (the default) qualifier, to
            specify that that particular file is, or is not, SIM.  Note  that  the
            /ASK_IF_SIM  qualifier  on  the  command  line  still  overrides these
            selections.  Blank lines are not allowed.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                 Page 3-5
  UTILITY I2OSTF                                                  26 November 1992


  /MH_CHECK

          - used to check that the Eastings, Northings and scale within a  type  3
            map  header  (MH) entry correspond to the values in the map descriptor
            (MD) entry.  If they do not correspond, the program will abort and  no
            OSTF  file  will  be  created.   For type 3 OS map headers, Laser-Scan
            regard the definitive values for the Eastings, Northings and scale  to
            be  those in the map descriptor and recommend that these be updated in
            the MD entry using ITRANS/DESCRIPTOR.

  /OSTF_VERSION=integer

          - used to select the type of OSTF to be output.  The  version  specified
            is  a  number  between 0 and 4, and corresponds to the version numbers
            described in the FORMAT section.  The default value is  4.   If  /PLUS
            has also been specified, the only valid version numbers are 3 or 4.

  /PLUS
  /NOPLUS (default)

          - specifies that  the  output  is  to  be  OSTF+.   OSTF+  contains  the
            additional  entries  -23,  -24  and  -25,  and  the first byte of each
            coordinate record is interpreted as the plan  capture  method.   /PLUS
            requires  either  /OSTF_VERSION=3 or /OSTF_VERSION=4, the latter being
            present by default.  The default is /NOPLUS.

  /PROCESS_CODES
  /NOPROCESS_CODES (default)

          - specifies whether or not process codes (-16 records) are output.   The
            default    action    (/NOPROCESS_CODES)   will   suppress   them   and
            /PROCESS_CODES will cause them to be output to the OSTF file.

  /SERIAL_MAGTAPE
  /NOSERIAL_MAGTAPE (default)

          - indicates that the standard output for the program is a magnetic  tape
            drive  connected via a DIL serial controller interface.  The qualifier
            is ignored if output is to a device  which  is  mounted  /FOREIGN  (in
            which case output is to a standard magnetic tape drive).  If output is
            requested to a terminal device, then it will be assumed that  this  is
            the DIL controller.

            The  /NOSERIAL_MAGTAPE  qualifier  counteracts   the   /SERIAL_MAGTAPE
            qualifier,  and  would  normally be used to allow output to a terminal
            when the I2OSTF symbol is defined as (for instance)

                      I2OSTF == "$lsl$exe:i2ostf/contr=2/serial_magtape"

  /SIM
  /NOSIM (default)

          - may be used if the input IFF files are specified  in  a  list  on  the
            command  line.   The default is /NOSIM.  Neither form of the qualifier
            is allowed on the command line if the /INPUT_LIST qualifier is used.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                 Page 3-6
  UTILITY I2OSTF                                                  26 November 1992


            If /SIM is specified, then all of the IFF files are assumed to be SIM.
            Conversely,  if  /NOSIM  is  specified, then they are assumed not SIM.
            Note that the /ASK_IF_SIM qualifier overrides these assumptions.

  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  /ASCII and /EBCDIC are mutually exclusive

             o  /INPUT_LIST and /SIM are mutually exclusive

             o  /ASK_IF_SIM takes precedence over /[NO]SIM

             o  /INPUT_LIST takes precedence over an input file specification

             o  /PLUS requires either /OSTF_VERSION=3 or /OSTF_VERSION=4

             o  IFF revision 1 input files require /FRT


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m


            [1mCommand[0m [1mline[0m

            The symbol I2OSTF is normally set up as

                      I2OSTF == "$lsl$exe:i2ostf/contr=xxxx"

            where 'xxxx' is the appropriate contractors ID, so  that  the  program
            may then be used as if it were a normal VMS utility.

            Sites which normally output data via a DIL serial port  magnetic  tape
            driver will generally define the symbol as

                      I2OSTF == "$lsl$exe:i2ostf/serial/contr=xxxx"

            [1mInput[0m [1mIFF[0m [1mfiles[0m

            The IFF files are assumed to contain  valid  OS  style  maps  and  IFF
            revision  0  files  should  conform  to  the standards set in the DATA
            PREPARATION section under the heading 'Preparation for digitising data
            to be output to OSTF'.

            The revision level of the IFF files can be 0 or  1,  and  I2OSTF  will
            accept  a  mixture  on  input.  Note, however that an FRT file is also
            required if any of the input files are revision 1.

            I2OSTF can only translate MH entries which are type 2 or 3.  If an IFF
            file  with a type 3 MH entry is given, the header entry will be copied
            across to the OSTF file as an ASCII  block.   The  translation  table,
            LSL$OS_MH_TABLE,  will  be  read  in order to obtain the length of the
            header in the OSTF file.  Refer to the DATA  PREPARATION  section  for
            information on how to set up the translation table.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                 Page 3-7
  UTILITY I2OSTF                                                  26 November 1992


            [1mProgram[0m [1maction[0m

            The program first opens each IFF file and  reads  the  map  header  to
            obtain  the  information  required  for  the  index.  At this stage it
            prompts the user to reply whether or not  the  file  is  SIM,  if  the
            /ASK_IF_SIM  qualifier  was  specified.   The  output  medium  is then
            opened, and a report displayed detailing what is to be done.

            Each IFF file is then processed in turn.  Only those IFF entries whose
            data  can  be  stored in OSTF are processed, the others such as the HI
            (HIstory) and MD (Map Descriptor) being ignored.

            If any obsolete or superceded (i.e.  pre-OSTF-4) fields in the MH (Map
            Header)  entry have been set, these are either ignored or used for the
            appropriate OSTF-4 header entries.  Such fields  are  only  output  to
            earlier OSTF forms if there is an equivalent OSTF-4 entry

            Only layer 1 of the IFF file will be output.  Layers 0, 11 and 32 will
            be  ignored,  and  the  presence  of any other layers will generate an
            error message.

            If the IFF coordinates of points  in  line  features  are  very  close
            together,  they  may  have the same OSTF coordinates after conversion.
            The duplicated points are ignored and a warning message is output.

            Only AC (Ancillary Code) types CONTOUR,  LH_boundary  and  RH_boundary
            are   processed,   unless  /PLUS  or  /AUTO_PLUS  is  specified,  when
            SURVEY_DATE, CHANGE_DATE, CHANGE_TYPE  and  SECURITY_MARKER  are  also
            processed.   Any  other AC types are ignored.  Z-coordinates in ZS and
            CB entries, and other attributes in CB entries are all ignored  unless
            /PLUS  or  /AUTO_PLUS  is  specified.   With  /PLUS  or /AUTO_PLUS, Z,
            DHeight, CAPTURE_XY and CAPTURE_Z are processed.

            Composite texts (i.e.  features containing TS (Text  Status)  entries)
            will be broken up into separate text features.

            After all the IFF files have been processed, the number of OSTF blocks
            output is displayed and the output medium is closed.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                 Page 3-8
  UTILITY I2OSTF                                                  26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m

            In the following examples, the symbol I2OSTF was set up to include the
            /CONTRACTOR qualifier, as described in the section above.

  $ [1mI2OSTF/INPUT_LIST=FILES/SIM[0m [1mALL_FILES<CR>[0m
  %CLI-W-CONFLICT, illegal combination of command elements - check documentation
   \INPUT_LIST\
   ELAPSED:    0 00:00:00.44  CPU: 0:00:00.14  BUFIO: 2  DIRIO: 0  FAULTS: 72 
  $ 

            In this example the user has specified the  /SIM  qualifier  with  the
            /INPUT_LIST  qualifier,  the  latter  specifying  that a list of input
            files is  to  be  read  from  the  text  file  FILES.OPT.   These  two
            qualifiers cannot be used together; however, with /INPUT_LIST, /SIM or
            /NOSIM can be specified after each of the filenames in the text  file.
            Alternatively, /ASK_IF_SIM could be used on the command line to prompt
            the user to reply whether or not each of the files is SIM.

  $ [1mI2OSTF/INPUT_LIST=FILES/ASK_IF_SIM[0m [1mALL_FILES<CR>[0m
  Is LSL$IF:NZ2741NW.IFF;0 SIM? [1mY<CR>[0m
  Is LSL$IF:SO7643.IFF;0 SIM? [1m<CR>[0m

  - OSTF output to file ALL_FILES.OSTF
  - writing in ASCII, 1800 characters per block
  - output is OSTF version 4  (current OSTF)

  Processing file: LSL$IF:NZ2741NW.IFF;0
  Processing file: LSL$IF:SO7643.IFF;0

  381 OSTF blocks output to file ALL_FILES.OSTF

   ELAPSED:    0 00:06:55.84  CPU: 0:04:21.54  BUFIO: 78  DIRIO: 1143  FAULTS: 191
  $ 

            This  example  illustrates  the  use  of  /INPUT_LIST  together   with
            /ASK_IF_SIM.   The  input  filenames NZ2741NW and SO7643 are read from
            the text file FILES.OPT, and output  is  directed  to  the  disk  file
            ALL_FILES.OSTF  in  the  current directory.  Before processing starts,
            the user is asked to answer whether or not each file is SIM.  In  this
            case the first one is, while the second one is not.  A message informs
            the user when each input file is being processed,  and  when  all  are
            complete,  the  number  of  blocks  written  to  the  output  file  is
            displayed.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                 Page 3-9
  UTILITY I2OSTF                                                  26 November 1992


  $ [1mI2OSTF/NOINDEX/OSTF_VERSION=0[0m [1mCODETEST[0m [1mCODETEST<CR>[0m

  - OSTF output to file CODETEST.OSTF
  - writing in ASCII, 1800 characters per block
  - output is OSTF version 0  (old DMC)
  - suppressing output of OSTF index

  Processing file: LSL$IF:CODETEST.IFF;0

  60 OSTF blocks output to file CODETEST.OSTF

   ELAPSED:    0 00:00:42.52  CPU: 0:00:39.14  BUFIO: 25  DIRIO: 192  FAULTS: 139 
  $ 

            In this example a DMC file (OSTF version 0) has been produced  from  a
            single  IFF  file.   Since  an  index would be redundant, the /NOINDEX
            qualifier has been used.  Again, a message appears  to  indicate  that
            the  file  is  being  processed,  and  this  is  followed  by  another
            indicating the number of blocks output.

  $ [1mI2OSTF/PLUS/FRT=OSTF_PLUS[0m [1mSP7841SW[0m [1mMS:<CR>[0m

  - OSTF output to magtape MS:
  - writing in ASCII, 1800 characters per block, at 1600 bpi
  - output is OSTF version 4  (current OSTF+)

  Processing file: LSL$IF:SP7841SW.IFF;0

  69 OSTF blocks output to magnetic tape MS:

   ELAPSED:    0 00:01:06.00  CPU: 0:00:50.61  BUFIO: 20  DIRIO: 275  FAULTS: 404 
  $ 

            In this example output is to magnetic tape.  The  /FRT  qualifier  has
            been  specified because the IFF file is revision 1, and OSTF+ has also
            been  requested  by  means  of  the  /PLUS   qualifier.    Note   that
            /OSTF_VERSION=4  is  present  by  default  and was therefore not given
            explicitly.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-10
  MESSAGES (INFORMATIONAL)                                        26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  BADFEATURE, error occured in feature 'integer'

      [1mExplanation:[0m  This message may  be  output  after  a  NOTFOUND  fatal  error
      message, giving the feature code of the feature in which the error occured.

      [1mUser[0m [1maction:[0m  As for the NOTFOUND fatal error message.

  IGNANG, ignoring the RO entry

      [1mExplanation:[0m  This message is output after the DISTANG warning  message,  to
      confirm the action being taken by the program.

      [1mUser[0m [1maction:[0m  As for the DISTANG warning message.

  LISTRD, reading input specification file "'file-spec'", line 'integer'

      [1mExplanation:[0m  This message is output  after  an  LSLLIB  or  other  message,
      reflecting an error in reading the /INPUT_LIST file.

      [1mUser[0m [1maction:[0m  Dependant upon the associated messages.

  MHVAL, BGI = 'integer', source scale = 'integer', origin = 'X', 'Y' - should all
      be positive

      [1mExplanation:[0m  This message is output  after  the  MHERR  error  message,  to
      clarify  what is wrong with the map header.  See the MHERR error message for
      further explanation.

      [1mUser[0m [1maction:[0m  As for the MHERR error message.

  USEBLANK, using a blank 'name'

      [1mExplanation:[0m  This message may be output  after  the  BADDATE  or  INVALDATE
      warning messages, and may refer to either a survey date or change date.

      [1mUser[0m [1maction:[0m  As for the BADDATE and INVALDATE warning messages.

  USEFSN, using FSN 'fsn'

      [1mExplanation:[0m  If the feature serial number of a feature is  illegal,  and  a
      replacement is being used, then this message will be given.

      [1mUser[0m [1maction:[0m  As for the message preceding this one,  which  should  explain
      why the substitute FSN is being used.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-11
  MESSAGES (INFORMATIONAL)                                        26 November 1992


  USEZERO, using date 00-00-00

      [1mExplanation:[0m  This message is output after the AMENDATE warning message.

      [1mUser[0m [1maction:[0m  As for the AMENDATE warning message.

  USEZEROCH, using a value of "0" for attribute 'name'

      [1mExplanation:[0m  This message may be output after the  BADCHATT  or  ILLEGCHATT
      warning  messages,  and  may  refer  either to a feature change type or to a
      point capture method.

      [1mUser[0m [1maction:[0m  As for the BADCHATT and ILLEGCHATT warning messages.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-12
  MESSAGES (WARNING)                                              26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  BADAC, unrecognised AC type 'name' in feature 'fsn'

      [1mExplanation:[0m  OSTF can be used to transmit AC data from IFF revison 0  files
      corresponding  to  standard AC types CONTOUR, LH_boundary, and RH_boundary -
      that is, integer contour heights, and left/right boundary  coding.   If  any
      other  type of AC is found, then this message will be output and the AC will
      be ignored.  Note that OSTF+ AC types SURVEY_DATE, CHANGE_DATE,  CHANGE_TYPE
      and SECURITY_MARKER should only appear in IFF revision 1 files.

      [1mUser[0m [1maction:[0m  Determine whether the ACs are  being  correctly  ignored.   If
      they  are  OSTF+  AC  types, create a revision 1 version of the IFF file and
      consider producing OSTF+ data.  A revision 1 version of the IFF file can  be
      created  simply  by  reading  it  into LITES2 and exiting, ensuring that the
      output revision level for your process is set to 1.  Alternatively,  if  the
      AC's  represent  data  that  should  be  transmitted in OSTF, consider other
      representations for that data within the IFF file.

  BADACPAIR, multiple ACs of same type on same side in feature 'fsn'

      [1mExplanation:[0m  A feature with boundary ACs may have several ACs of  different
      types  on  each  side  of the boundary.  However, it is not possible to have
      more than one AC of a particular type on the same side.  For  instance,  the
      left  side of a boundary cannot be in two counties at the same time.  If the
      program finds a feature which does have several ACs of the same type on  one
      side of the feature, then it will output this message and ignore all but the
      first of the offending ACs.

      [1mUser[0m [1maction:[0m  Edit the IFF  file  using  LITES2  or  IPATCH  to  remove  the
      offending ACs, or to correct their AC type.

  BADCHATT, invalid value 'integer' for attribute 'name', in feature 'fsn'

      [1mExplanation:[0m  In OSTF+ data, the range of values that the capture method  or
      change  type  may take are defined in the associated FRT file.  This message
      indicates that the specified  feature  contained  a  change  type  or  point
      capture  method  with a value outside the specified range.  A capture method
      of "0" will be transmitted, instead

      [1mUser[0m [1maction:[0m  Edit the IFF file using either IPATCH or LITES2 to correct the
      offending feature.

  BADDATE, invalid value 'integer' for 'name', in feature 'fsn'

      [1mExplanation:[0m  In OSTF+ data, the range of  values  that  a  survey  date  or
      change  date  may take are defined in the associated FRT file.  This message
      indicates that the specified feature contained a survey date or change  date
      (held as an AC) with a value outside the specified range.  The AC is ignored
      and a blank field will be transmitted instead


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-13
  MESSAGES (WARNING)                                              26 November 1992


      [1mUser[0m [1maction:[0m  Use IPATCH or LITES2 to edit the offending AC, and run  I2OSTF
      again.

  BADMMSIZ, invalid IFF text size 'integer' (mm/100), in feature 'fsn'

      [1mExplanation:[0m  In OS data, text point sizes must be within the range 1 to 24,
      although not all values in that range are actually meaningful.  This message
      indicates that the specified feature contained a text with  a  IFF  size  in
      mm/100  that  is not a meaningful OS point size.  A point size of 24 will be
      transmitted

      [1mUser[0m [1maction:[0m  Edit the IFF file using either IPATCH or LITES2 to correct the
      offending  feature  - text sizes (mm/100) are held in the TH entry of a text
      feature.

  BADPTSIZ, unknown point size 'integer', in feature 'fsn'

      [1mExplanation:[0m  In OS data, text point sizes must be within the range 1 to 24,
      although not all values in that range are actually meaningful.  This message
      indicates that the specified feature contained a text with a point size that
      is not defined.  A point size of 24 will be transmitted, instead

      [1mUser[0m [1maction:[0m  Edit the IFF file using either IPATCH or LITES2 to correct the
      offending feature - point sizes are held in the TH entry of a text feature.

  BIGFSN, FSN 'fsn' is too large (maximum is 'integer')

      [1mExplanation:[0m  OSTF imposes a limit on the largest feature serial number that
      may  be transmitted.  This limit is 19999 for OSTF-3, and 9999 for OSTF-0 to
      OSTF-2.  The program will output the feature with  a  lower  feature  serial
      number,   determined  by  taking  the  erroneous  FSN  modulus  the  maximum
      permitted.

      [1mUser[0m [1maction:[0m  Since feature serial numbers in OSTF  should  be  sorted  into
      ascending order, the corrective action taken will generate an incorrect OSTF
      file.  If there are more than 9999 or  19999  features  in  your  IFF  file,
      consider  outputting  the  data  as several OSTF files - for instance, using
      LITES2 to split the file up, and then using the  IMP  utility  IRENUMBER  to
      renumber  the  features  into  ascending order.  If there are actually fewer
      features in the file, then use the IMP utility IRENUMBER to renumber them.

  CHUCKED, point attributes lost

      [1mExplanation:[0m  The input IFF file contains either ZS entries  or  CB  entries
      with  attributes  (Z,  DHeight,  CAPTURE_XY,  CAPTURE_Z).  These can only be
      transmitted to OSTF+,  and  since  ordinary  OSTF  is  being  produced,  the
      attributes are lost.

      [1mUser[0m [1maction:[0m  If OSTF+ output is actually what is required, run the  program
      again, specifying /PLUS on the command line.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-14
  MESSAGES (WARNING)                                              26 November 1992


  DISTANG, symbol or text feature 'fsn' has 2 points and RO

      [1mExplanation:[0m  A text or oriented symbol uses either two points or one  point
      and  a  rotation to define the angle at which it is to be plotted.  A scaled
      symbol always uses two points.   This  message  is  output  if  the  feature
      concerned  has  both  two  points  in  its ST entry, and a rotation in an RO
      entry.  The RO entry will be ignored,  and  the  IGNANG  message  output  to
      confirm what is happening.

      [1mUser[0m [1maction:[0m  Inspect your flowline to  find  out  why  the  feature  has  a
      redundant point or rotation entry, and correct it.

  DUPPTS, duplicated points in feature 'fsn' (point 'number')

      [1mExplanation:[0m  The duplicated points are the point numbered  in  the  message
      and  the  previously  accepted point (normally the previous point, unless it
      was also duplicated).  IFF coordinates have a smaller resolution  than  OSTF
      coordinates,  so  points  which  are  very  close  in  terms  of  their  IFF
      coordinates may be equal on translation  to  OSTF.   This  can  happen  with
      lines,  and  since there is no need for spurious data, the duplicated points
      are ignored.  If this message refers to the  first  two  points  of  a  line
      feature,  or  to a symbol or text, it will be followed by the FIRST2 warning
      message.

      [1mUser[0m [1maction:[0m  In the case of lines, determine why successive points  are  so
      close.  Generated curves, arcs and circles may exhibit this problem if their
      construction tolerances were very small.  The problem can also  occur  where
      lines  have  been  clipped  to sheet edges, and existing points were already
      positioned very close to the edge.  The situation can generally be  resolved
      by  making  small changes in operational procedures.  For symbols and texts,
      see the FIRST2 warning message.

  FIRST2, first 2 pts the same - cannot calculate angle in feature 'fsn'

      [1mExplanation:[0m  This message will always be preceded  by  the  DUPPTS  warning
      message.  OSTF requires that an alignment be output for each feature (to aid
      the OS in positioning feature serial  number  annotation  on  plots).   This
      angle  is calculated from the first two points of a feature (and is zero for
      features with only one point).  If the first two points of a feature are the
      same, then the program will output this message, and try the first and third
      points (and so on).  Note that for line features it is the OSTF  coordinates
      which  are checked, whereas for scaled symbols and texts with an orientation
      point the IFF coordinates are used.  In the latter case the second point  is
      used simply to derive the orientation (and distance for scaled symbols).  In
      such cases the feature will be output with an orientation  of  zero  and  no
      scaled distance.

      [1mUser[0m [1maction:[0m  For line  features,  see  the  DUPPTS  warning  message.   For
      symbols  and  texts, determine why the IFF file contains duplicate points at
      the start of  the  feature.   Laser-Scan  digitising  utilities  should  not
      produce  such  data.   If  the  cause  of  the  problem is not apparent, and
      Laser-Scan are consulted, then provide full details of the flowline used, as
      well as all intermediate files.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-15
  MESSAGES (WARNING)                                              26 November 1992


  FSNZERO, feature with FSN 0 contains data - outputting it

      [1mExplanation:[0m  Features with FSN 0 have historically been  used  as  'marker'
      features,  and  consisted  of an NF entry immediately followed by an EF.  In
      normal processing they could be ignored, and FSN 0  is  no  longer  used  in
      modern  IFF files.  This message is output if a feature with FSN 0 is found,
      and it actually contains data.  The program will output the data anyway.

      [1mUser[0m [1maction:[0m  Edit the IFF file  using  IPATCH  or  LITES2  to  correct  the
      offending  FSN,  as it should not be zero.  Determine why such a feature was
      created, and correct the relevant part of the flowline.

  ICLDATE, 'code' - illegal date 'integer' (should be from 'min' to 'max')

      [1mExplanation:[0m  Some dates are stored in the OS map header as ICL binary days,
      and  this  message  indicates  that a value outside the legal range has been
      found.  The code indicates which date is in error; MHDIDB  is  the  date  of
      initial  databanking,  MHSDUP  is the digital update date, and MHSTRD is the
      structure date.  A system error message will also be output, and  this  will
      be  followed  by the USEZERO message, indicating that the program is using a
      binary date of zero.

      [1mUser[0m [1maction:[0m  If the IFF file has been  created  or  edited  using  standard
      Laser-Scan  software,  then  the date should be correctly defined.  If it is
      not obvious why the date is incorrect (for instance,  the  file  might  have
      been  produced  by  translation from an OSTF tape using OSTF2I, and not have
      had a date defined in the OSTF data), then it may be necessary to  report  a
      problem  to Laser-Scan.  In this case, please supply details of the flowline
      used to produce  the  IFF  file,  as  well  as  the  file  itself,  and  any
      intermediate files.

  IGNORE, feature 'integer' will be ignored

      [1mExplanation:[0m  This message is given when an empty feature is encountered  or
      a  line  feature  is found to degenerate into a point at OS resolution.  The
      program will ignore such features.

      [1mUser[0m [1maction:[0m  Use IPATCH  to  delete  empty  features.   The  treatment  for
      degenerate line features is more problematical as they may not be degenerate
      at IFF resolution.

  ILLBOUND, boundary ACs (types 4,5) not allowed in OSTF-0

      [1mExplanation:[0m  OSTF-0 does not support boundary data, and  will  thus  ignore
      any ACs of type 4 or 5 (LH_boundary or RH_boundary), with this message.

      [1mUser[0m [1maction:[0m  If boundary ACs are to be transmitted, then a higher level  of
      OSTF must be used.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-16
  MESSAGES (WARNING)                                              26 November 1992


  ILLEGCHATT, invalid value 'integer' for attribute 'name', in feature 'fsn'

      [1mExplanation:[0m  In OSTF+ data, the values that the capture  method  or  change
      type  may take must be able to be stored in eight bits.  This means that the
      value must be in the range -128 -> +127.  A capture method for  one  of  the
      points in this feature or the change type for this feature falls outside the
      aforementioned range.  A capture method of "0" will be transmitted, instead

      [1mUser[0m [1maction:[0m  Edit the IFF file using either IPATCH or LITES2 to correct the
      offending  feature.  The FRT should specify capture methods and change types
      within the range -128 -> +127

  INVALDATE, invalid value 'integer' for 'name', in feature 'fsn'

      [1mExplanation:[0m  A survey date or change date (held as an AC) in the  specified
      feature  could  not  be  converted  into  day,month,year  format.  The AC is
      ignored and a blank field will be transmitted instead

      [1mUser[0m [1maction:[0m  Use IPATCH or LITES2 to edit the offending AC, and run  I2OSTF
      again.

  MHUPGRADE, cannot fully upgrade IFF map header

      [1mExplanation:[0m  Once the IFF map header has  been  read  in,  it  is  upgraded
      internally  to  the  OSTF-4 standard ready for output.  (The IFF file is not
      altered.) This message appears when a problem has occurred with the  upgrade
      procedure.   It is most likely due to one of the old digital update dates or
      the old selected revision date having been corrupted.  The latest  of  these
      dates  is used for the new digital update date which is stored in the OS map
      header as ICL binary days.  A system error message will also be output,  and
      this will be followed by the USEZERO message, indicating that the program is
      using a binary date of zero.

      [1mUser[0m [1maction:[0m  If the IFF file has been  created  or  edited  using  standard
      Laser-Scan  software,  then the dates should be correctly defined.  If it is
      not obvious why any of the dates are incorrect (for instance, the file might
      have  been  produced  by translation from an OSTF tape using OSTF2I, and not
      have had a date defined in the OSTF data),  then  it  may  be  necessary  to
      report  a problem to Laser-Scan.  In this case, please supply details of the
      flowline used to produce the IFF file, as well as the file itself,  and  any
      intermediate files.

  NOPTS, empty CB/ZS/ST entry (no points) ignored in FSN 'fsn'

      [1mExplanation:[0m  The current feature contains a coordinate entry (a CB,  ZS  or
      ST entry) with no data in it.  The program simply ignores this entry.

      [1mUser[0m [1maction:[0m  Use IPATCH to delete the offending entry, or tidy the file  up
      by passing it through LITES (which will remove the entry).  Utility programs
      should never output a zero point coordinate entry,  so  please  report  this
      problem  to  Laser-Scan  with complete details of the flowline through which
      the file has been passed.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-17
  MESSAGES (WARNING)                                              26 November 1992


  NOTSORTED, FSNs not in order (...'fsn1','fsn2'...)

      [1mExplanation:[0m  OSTF requires that  features  have  ascending  feature  serial
      numbers.   The serial numbers in the OSTF data are taken from the IFF file -
      i.e. the FSNs.  If the FSNs are not sorted into ascending order,  then  this
      message  will  be  given  whenever 'fsn2' is less than (or equal to) 'fsn1'.
      The data will still be output, but it is not correct OSTF.

      [1mUser[0m [1maction:[0m  If the problem is simply that the FSNs are  not  sorted,  then
      use the IMP utility ISORT to sort the offending IFF file into FSN order, and
      output the data again.  If duplicate FSNs are being produced by  the  output
      of  the  component  parts  of a composite text, then use LITES2 to split the
      composite text into several simple text features.

  ONEPTLINE, line feature 'fsn' only has one point

      [1mExplanation:[0m  A line feature containing only  one  point  has  been  output.
      This could either be due to duplicated points having previously been ignored
      (in which case there will have been warning messages), or,  more  seriously,
      to one point lines being present in the IFF file.

      [1mUser[0m [1maction:[0m  If warnings about duplicated points appeared for this feature,
      take  action  according to those messages.  Otherwise, determine why the IFF
      file contains one point lines.  If the cause of the problem is not apparent,
      and  Laser-Scan  are  consulted,  then  provide full details of the flowline
      used, as well as all intermediate files.

  PLUSAC, OSTF+ AC type 'name' in feature 'fsn' in revision 0 IFF file

      [1mExplanation:[0m  OSTF+  AC  types  SURVEY_DATE,  CHANGE_DATE,  CHANGE_TYPE  and
      SECURITYMARKER  should  not occur in revision 0 IFF files.  Current software
      will however process them as if the IFF files are revision 1.

      [1mUser[0m [1maction:[0m  OSTF+ AC types should only occur in revision 1 files  and  can
      only be output to OSTF+ files.  If such output is required one should create
      a revision 1 version of the IFF file by reading it into LITES  and  exiting,
      ensuring that the output revision level is set to 1.  Alternatively, if OSTF
      output is  required,  other  representations  for  the  AC  data  should  be
      considered.

  PTOUTSIDE, point outside sheet - in grid square 'integer','integer', feature
      'fsn'

      [1mExplanation:[0m  This message is given if  a  point  in  a  linear  feature  is
      outside  the  boundary  of  the map sheet.  Only text features may be placed
      outside the map sheet in OSTF.  The point will be output regardless.

      [1mUser[0m [1maction:[0m  Unless the destination for this data  is  prepared  to  accept
      OSTF data with linear data outside the map sheet boundary, the IFF file must
      be clipped so that all linear data is within  the  boundary.   Use  the  IMP
      utiliity IWINDOW with the /OS qualifier to clip the IFF file.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-18
  MESSAGES (WARNING)                                              26 November 1992


  SKIPAC, skipping AC type 'name' in feature 'fsn'

      [1mExplanation:[0m  OSTF can be used to transmit  IFF  AC  data  corresponding  to
      standard  AC  types  CONTOUR, LH_boundary, and RH_boundary, that is, integer
      contour heights, and left/right boundary coding.  IFF revision 1  files  may
      also  contain  OSTF+  AC  types  SURVEY_DATE,  CHANGE_DATE,  CHANGE_TYPE and
      SECURITY_MARKER, which can only be transmitted to OSTF+.  If any of these AC
      types  are  found in a revision 1 file and OSTF+ is not being produced, then
      this message will be output and the AC will be ignored.

      [1mUser[0m [1maction:[0m  Determine whether or not OSTF+ data should  be  produced.   If
      so, run the program again, specifying /PLUS on the command line.

  SYMOUTSIDE, symbol outside sheet - in grid square 'integer','integer', feature
      'fsn'

      [1mExplanation:[0m  This message is given if  a  symbol  feature  is  outside  the
      boundary of the map sheet.  Only text features may be placed outside the map
      sheet in OSTF.  The symbol will be output regardless.

      [1mUser[0m [1maction:[0m  Unless the destination for this data  is  prepared  to  accept
      OSTF  data with symbols outside the map sheet boundary, the IFF file must be
      clipped so that all symbol  data  is  within  the  boundary.   Use  the  IMP
      utiliity IWINDOW with the /OS qualifier to clip the IFF file.

  TRANEBC, error translating OSTF block 'integer' to EBCDIC (block ptr 'integer')

      [1mExplanation:[0m  If /EBCDIC is specified, then each OSTF record  is  translated
      from ASCII to EBCDIC as it is entered into the output buffer.  This error is
      given if something went wrong with that process.  The program  will  attempt
      to continue.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.

  TXNOANG, no angle specified for text in feature 'fsn'

      [1mExplanation:[0m  All texts in OSTF must have  an  orientation  associated  with
      them, and this is normally defined in the IFF file - the text feature either
      has two defining points, or a single point and a  rotation  entry.   If  the
      text  feature  does  not  have  an orientation defined, then this message is
      given, and an orientation of zero is output.

      [1mUser[0m [1maction:[0m  Check that the text concerned should be at an  orientation  of
      zero.   If it should not, then edit the IFF file using LITES2 to correct the
      feature.

  TXOUTSIDE, text outside sheet - in grid square 'integer','integer', feature
      'fsn'

      [1mExplanation:[0m  If OSTF-0  is  being  output,  then  marginal  texts  are  not
      supported,  and this message will be given for all text features outside the
      map sheet.  If other levels of OSTF are being output, then this message will
      only  be  given  if  the  text  feature  is  outside  the grid squares lying
      immediately around the sheet - that is, more than one  basic  grid  interval
      beyond the sheet edge.  In either case, the text will still be output.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-19
  MESSAGES (WARNING)                                              26 November 1992


      [1mUser[0m [1maction:[0m  Unless the destination for this data  is  prepared  to  accept
      OSTF  data  with text data outside the normally allowed bounds, the IFF file
      must be clipped so that all linear data is within the boundary.  Use the IMP
      utiliity IWINDOW to clip the IFF file.

  TXTTOOLNG, text has 'integer' characters in feature 'fsn' - truncated to 80

      [1mExplanation:[0m  Although IFF will allow longer texts in  text  features,  OSTF
      only supports up to 80 characters in each text.  The program will output the
      first 80 characters of the offending text.

      [1mUser[0m [1maction:[0m  Use LITES2 to split the text into two or more  text  features,
      or into text components, each with a text field of less than 80 characters.

  UNEXPENTRY, unexpected entry ''name'' found between layers, at IFF address
      'hex-value' hex

      [1mExplanation:[0m  Normal IFF files should not contain any entries between an  EO
      entry  (marking  the end of a layer) and an NO entry (marking the start of a
      new layer).  Any IFF entries found will be complained about and ignored.

      [1mUser[0m [1maction:[0m  Inspect the IFF file using IPATCH to  determine  what  entries
      are actually present at the specified addresses in the file, and consult the
      IFF documentation to determine what sort of entries  they  are.   If  it  is
      necessary  to  consult  Laser-Scan,  then  details  of  the flowline used to
      produce the file, and any intermediate files, should also be provided.

  UNEXPEOF, unexpected end of input IFF file - no EJ entry

      [1mExplanation:[0m  Normal IFF files should finish with an EJ entry (end of  job).
      This  message  is  output  if the end of the IFF file is found before the EJ
      entry.

      [1mUser[0m [1maction:[0m  Either the IFF file has been created by a  utility  which  did
      not  output the correct sequence of entries at the end of teh file, or it is
      'broken' - that is, it has been corrupted by some error or by the  premature
      termination  of  a program that was creating or editing it.  The IMP utility
      IPATCH can be used to inspect the entries at the end of the IFF file, and if
      it  is  broken  then  the IMP utility IMEND can be used to mend it, although
      data may still have been lost.

  UNEXPLYR, unexpected layer 'integer' found - ignored

      [1mExplanation:[0m  Standard OS style IFF files contain all of  the  map  data  in
      layer 1, with a grid in layer 0 (or historically, in either layer 11 or 32).
      If any layers other than 0,1,11 or 32 are found, then they will be  ignored,
      with this message.

      [1mUser[0m [1maction:[0m  If the data in the offending layers is to be transmitted, then
      use  the  IMP  utility  IMERGE to merge them into layer 1.  Note that it may
      also be necessary to use the IRENUMBER and ISORT utilities to provide unique
      and ascending FSNs in the resulting file.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-20
  MESSAGES (ERROR)                                                26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  ACDOSTF, cannot find OSTF+ ACD definition 'name'

      [1mExplanation:[0m  The attribute code definition for an attribute required in the
      translation  to  OSTF+  data  cannot  be  found.  An additional message from
      LSLLIB will give further informatoin.  The most likely cause of  this  error
      is  that the attribute code has not been defined in the ACD table in the FRT
      file.  The program will abort.

      [1mUser[0m [1maction:[0m  Ensure that the  ACD  table  in  the  FRT  file  contains  the
      required definition, and run the program again.

  BADCONTRACTOR, invalid contractor ID "%S" specified with /CONTRACTOR

      [1mExplanation:[0m  The contractor ID specified with /CONTRACTOR is  invalid.   It
      must  consist  of  not more than 4 characters which should not all be blank.
      The first two characters are the primary code, the second two the  secondary
      code.  Blanks are allowed within the string, which will be right justified.

      [1mUser[0m [1maction:[0m  Specify the contractor  ID  correctly  using  the  /CONTRACTOR
      qualifier.

  BLKEIGHT, blocksize 'integer' is not a multiple of recordsize (8 characters)

      [1mExplanation:[0m  The normal blocksize output to magnetic tape for OSTF is  1800
      characters.    Other   blocksizes  may  be  selected  (with  the  /BLOCKSIZE
      qualifier), but  must  be  a  multiple  of  the  record  size,  which  is  8
      characters.   If  the  blocksize  chosen  is  not a multiple of 8, then this
      message is output, and the program will exit.

      [1mUser[0m [1maction:[0m  Specify a blocksize which is a multiple of 8.

  BLKSIZE, blocksize 'integer' is greater than the maximum, 'integer'

      [1mExplanation:[0m  There is an internal limit (currently 2048 characters) on  the
      size  of  the  output  buffer  used  within  the program.  If a blocksize of
      greater than that is specified with the /BLOCKSIZE  qualifier,  the  program
      will output this message and exit.

      [1mUser[0m [1maction:[0m  Specify a blocksize that is less than the specified limit.

  ENDFILE, error closing output file

      [1mExplanation:[0m  This message is given at the end of output,  after  processing
      all  of  the  input  IFF files, if a file cannot be closed successfully.  It
      will be followed by an LSLLIB message giving more details  of  the  problem.
      The program will exit.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-21
  MESSAGES (ERROR)                                                26 November 1992


      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.

  ENDTAPE, error ending file on tape

      [1mExplanation:[0m  This message is given at the end of output,  after  processing
      all  of  the input IFF files, if the two closing tapemarks cannot be written
      successfully to end the OSTF data on the tape, or  if  the  tape  cannot  be
      rewound.   It  will  be followed by an LSLLIB message giving more details of
      the problem.  The program will exit.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.

  INVMH, invalid map header type 'integer' - should be in the range 'min' to 'max'

      [1mExplanation:[0m  The program only  recognises  certain  map  header  types  (it
      assumes that only these exist).  The only types recognised are currently 0,2
      or 3.  If the IFF file contains any other header type, the program will give
      this message and exit.

      [1mUser[0m [1maction:[0m  An IFF file should never contain a header type other than  0,2
      or 3.  Please report this problem to Laser-Scan.

  LISTOPN, error opening input specification file "'file-spec'"

      [1mExplanation:[0m  The program cannot open the specification file  selected  with
      the  /INPUT_LIST  qualifier.   This  message  will  be followed by an LSLLIB
      message explaining the problem.  The program will exit.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.

  MAXINFILE, more than 'integer' input IFF files

      [1mExplanation:[0m  The index at the beginning of the OSTF output can only hold  a
      certain  number  of  entries  -  currently 150.  This message is given if an
      attempt is made to output more than that number of IFF files.   The  program
      will exit.

      [1mUser[0m [1maction:[0m  Specify fewer IFF files for output to one OSTF tape.

  MHERR, IFF map header has not been correctly set up

      [1mExplanation:[0m  This error message is  given  when  the  program  attempts  to
      output the OSTF map header entry (flag -1), but finds that one of the values
      that it requires from the IFF map header is less  than  zero.   The  program
      requires  that  each  IFF file has the basic grid interval (BGI), the source
      scale and the sheet origin defined in an OS style map header.  This  message
      is  followed  by  the informational message MHVAL, and the program will then
      exit.

      [1mUser[0m [1maction:[0m  Use the OSMHED utility to correct the map header.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-22
  MESSAGES (ERROR)                                                26 November 1992


  MHMDDIFF, conflicting Map Header and Map Descriptor entries

      [1mExplanation:[0m  One or more of the map header (MH) entries do  not  match  the
      map  descriptor  (MD)  entries.  Specifically the origin Eastings, Northings
      and scale are tested against the values held in the MD entry of a type 3 IFF
      OS  Map  Header.   This  check  is performed on type 3 IFF OS Map Headers by
      default or if the /MHCHECK qualifier is given.

      [1mUser[0m [1maction:[0m  Laser-Scan recommend that the  origin  and  scale  fields  are
      updated in the MD entry using ITRANS/DESCRIPTOR.

  NEEDFRT, FRT file required for IFF revision 1 input

      [1mExplanation:[0m  This message appears when the input IFF file is revision level
      1,  and  the /FRT qualifier has not been specified on the command line.  The
      ACD table in the FRT is used to identify non-standard AC entry types and  CB
      attribute codes.  The program will abort.

      [1mUser[0m [1maction:[0m  Specify an FRT file on the command line and  run  the  program
      again.

  NEEDOSTF3, /PLUS requires /OSTF_VERSION=3 or /OSTF_VERSION=4

      [1mExplanation:[0m  If OSTF+ output is required, the OSTF version specified should
      be  at least 3, preferably 4.  The default version number is 4, so a version
      number less than 3 has been given either explicitely on the command line  or
      through any symbols which may have been set up.

      [1mUser[0m [1maction:[0m  Respecify the command, either without /PLUS, or ensuring  that
      the version number is 4.

  NOCONTRACTOR, OSTF-3 and OSTF-4 need a contractor ID

      [1mExplanation:[0m  The auxiliary map header contains a contractor ID.  For OSTF-3
      there  is  a single field containing an integer number, and for OSTF-4 there
      are two fields, each containing two alphabetic or  numeric  characters.   If
      OSTF-3  or OSTF-4 is being output, that ID must either be present in the IFF
      map header, or be specified with the /CONTRACTOR qualifier.   If  not,  then
      this message is given and the program will exit.

      [1mUser[0m [1maction:[0m  Either edit the IFF map header using the  OSMHED  utility,  or
      specify the contractor ID using the /CONTRACTOR qualifier.

  NOINFILE, specification file is empty - no IFF filenames

      [1mExplanation:[0m  If the file specified with the /INPUT_LIST qualifier does  not
      contain  any  IFF  filespecs,  then this message is given.  The program will
      exit.

      [1mUser[0m [1maction:[0m  Specify a file which does contain IFF filespecs.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-23
  MESSAGES (ERROR)                                                26 November 1992


  NOMH, no map header in input IFF file "'file-spec'"

      [1mExplanation:[0m  When all of the input  IFF  files  have  been  specified,  the
      program  opens  each one and inspects the map header to find the data needed
      for the index at the start of the OSTF dataset.  If any of the IFF files  do
      not contain a map header, then this message is given and the program exits.

      [1mUser[0m [1maction:[0m  All Laser-Scan utilities  that  create  IFF  files  will  also
      insert  a  map  header (with the exception of Laseraid patch files, which do
      not contain map data).  If a file is found with no map  header,  then  check
      your  flowline  to find out how the file was created.  If it is necessary to
      consult Laser-Scan, provide details of the  flowline  used  to  produce  the
      file, and also all intermediate files.

  NORIENT, A 'name' feature, FSN 'integer', has no orientation

      [1mExplanation:[0m  The sequence of IFF records associated with the  feature  have
      been  examined  and  the  feature  has been found to have no orientation.  A
      feature orientation is mandatory, the program will abort.

      [1mUser[0m [1maction:[0m  Check the IFF  records  for  the  feature,  text  and  symbols
      require  two  distinct  IFF  points  in  an  ST/ZS/CB  record  to provide an
      orientation, or one IFF point in a ST/ZS/CB record followed by an RO record.
      Line  features  must  not  be  purely  vertical  (OSTF+  only)  to within OS
      resolution (note not IFF resolution).

  OSTFVER, unknown OSTF version 'integer' - should be 'min' to 'max'

      [1mExplanation:[0m  The program only  recognises  certain  versions  of  OSTF  (it
      assumes  that  only  these  versions  exist).   The  versions recognised are
      currently 0 to 4, inclusive.  If you request any other version, the  program
      will give this message and exit.

      [1mUser[0m [1maction:[0m  Specify a supported version of OSTF.

  OUTDEL, error deleting output "'file-spec'"

      [1mExplanation:[0m  This message will be followed by an LSLLIB message  explaining
      what is wrong.  The program will exit.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.

  OUTFILE, error in output specification "'file-spec'"

      [1mExplanation:[0m  The output filespec or magnetic tape name is unacceptable  for
      some  reason.  This message will be followed by an LSLLIB message to explain
      what is wrong.  The program will then exit.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-24
  MESSAGES (ERROR)                                                26 November 1992


  OUTOPEN, error opening output "'file-spec'"

      [1mExplanation:[0m  This message will be followed by an LSLLIB message  explaining
      what  is  wrong.   The  most common cause is an attempt to 'open' a magnetic
      tape that has not been mounted.  The program will exit.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.

  READFRT, error reading FRT file 'file-spec'

      [1mExplanation:[0m  An error occured while reading in the  FRT  file.   A  message
      output  by  the  Feature  Representation Library (FRTLIB) will appear before
      this message, giving further information as to what  has  gone  wrong.   For
      example,  the  specified  FRT  file  may  not exist, or it may be in another
      directory.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.

  WRTBLK, error writing OSTF block 'integer' to magnetic tape

      [1mExplanation:[0m  This message will be followed by an LSLLIB message  explaining
      what the error was.  The program will attempt to continue.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-25
  MESSAGES (FATAL)                                                26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(FATAL)[0m

  These messages indicate a severe error in processing, or  some  form  of  system
  failure, which has caused the program to terminate.

  ACDSTAND, cannot find standard ACD definition 'name'

      [1mExplanation:[0m  The attribute code definition for the standard attribute  with
      the given name cannot be found.  This means that there is either an error in
      the program or a problem with the feature  representation  library,  FRTLIB.
      The program will abort.

      [1mUser[0m [1maction:[0m  Please report this problem to Laser-Scan.

  NOTFOUND, cannot find 'name' entry, found 'name' entry in IFF file

      [1mExplanation:[0m  The indicated IFF entry could not be found in  the  IFF  file.
      This  means  either  that  the  file  has  somehow  become  corrupted during
      processing, or there is a serious error in the program.   The  program  will
      abort.

      [1mUser[0m [1maction:[0m  Please report this problem to Laser-Scan.


  IFFOSTF REFERENCE (1.1): I2OSTF utility                                Page 3-26
  MESSAGES (OTHER)                                                26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages  may  be  generated  by  the  IFF
  library  and  by  the  Laser-Scan I/O library, LSLLIB.  IFF library messages are
  introduced by '%IFF' and are documented in the IFF  library  users'  guide.   In
  most  cases  IFF  errors will be due to a corrupt input file, and this should be
  the first area of investigation.  If the cause of the error cannot be traced  by
  the user, and Laser-Scan are consulted, then the output file should be preserved
  to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'  and  are
  generally  self-explanatory.   They  are  used to explain the details of program
  generated errors.














                                     CHAPTER 4

                                   OSTF2I UTILITY





  IFFOSTF REFERENCE (1.1): OSTF2I utility                                 Page 4-1
  UTILITY OSTF2I                                                  26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mUTILITY[0m [1mOSTF2I[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            OSTF2I reads input data on magnetic tape or from disk, in  OS  DMC  or
            OSTF formats, and produces an IFF file for each map sheet in the input
            data.  The user should specify whether OS text heights are  stored  as
            tenths of a millimetre (the default) or as point sizes.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ OSTF2I input-file-spec output-file-spec

            [1mCommand[0m [1mqualifiers[0m                       [1mDefaults[0m
            /ASCII                                   /ASCII
            /[NO]AUTO_PLUS                           /NOAUTO_PLUS
            /BLOCKSIZE[=integer]                     /BLOCKSIZE=1800
            /EBCDIC                                  /ASCII
            /[NO]FRT[=file-spec]                     /NOFRT
            /[NO]GRID[=integer]                      /NOGRID
            /[NO]HISTORY                             /HISTORY
            /[NO]IFF_POINTSIZE                       /IFF_POINTSIZE
            /[NO]INDEX                               /NOINDEX
            /[NO]LOWER_LEFT                          /NOLOWER_LEFT
            /MH_TYPE=integer                         /MH_TYPE=2
            /[NO]OSTEXT_COMBINE[=keyword=integer[,...]]
                                                     /NOOSTEXT_COMBINE
            /[NO]PLUS                                /NOPLUS
            /[NO]POINT_SIZE                          /NOPOINT_SIZE
            /SELECT=(integer[,...])                  Select all sheets
            /[NO]SERIAL_MAGTAPE                      /NOSERIAL_MAGTAPE
            /[NO]TRUNCATE                            /NOTRUNCATE

  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPT[0m

            _From:          input-file-spec
            _To:            output-file-spec

  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  input-file-spec

          - specifies either a  magnetic  tape,  or  a  disk  file.   The  default
            extension .OSTF is applied.

            In either case, the file is  expected  to  contain  valid  OSTF  data,
            possibly composed of several sheets, terminated by end of file (ie two
            tapemarks on a magnetic tape device).


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                 Page 4-2
  UTILITY OSTF2I                                                  26 November 1992


  output-file-spec

          - specifies the name of an IFF file, and  is  optional.   If  specified,
            then  only  one  sheet  is  being output from the input file, and this
            defaults to the first sheet in the input.  Use the  /SELECT  qualifier
            to select a different sheet.

            If no output file is given, then if an output file  is  required,  the
            filename  for  each sheet is deduced by working out the appropriate OS
            National Grid name - eg NZ2345NW

            In both  cases,  the  default  device  and  extension  LSL$IF:.IFF  is
            applied.

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

  /ASCII

          - states that the OSTF data is in ASCII, and is the default.

  /AUTO_PLUS
  /NOAUTO_PLUS (default)

          - specifies that the input file be scanned for OSTF+ data, and if  OSTF+
            data  is  found  then  the  IFF output revision level is set to 1.  If
            OSTF+ data is not found then IFF the output revision level is  set  to
            0.

  /BLOCKSIZE=integer

          - used to select the blocksize of the magnetic tape being read -  it  is
            ignored for disk files.  The default blocksize is 1800 characters.

  /EBCDIC

          - states that the OSTF data is in EBCDIC.

  /FRT[=file-spec]
  /NOFRT (default)

          - specifies an FRT file which the program will read

            a)  to determine which features  are  texts  and  which  are  oriented
                symbols,  so  that  IFF  RO (ROtation) entries are only output for
                such features, and
            b)  to enable the use of OS ACD definitions and IFF revision 1 output.

            The default is /NOFRT, which results in the output of RO  entries  for
            all  non-linear  features regardless of whether or not the orientation
            is zero, and allows only IFF revision 0 output.

            The  default  file-specification   is   LSL$FRT:OS.FRT,   and   if   a
            file-specification is given, it is parsed against this default.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                 Page 4-3
  UTILITY OSTF2I                                                  26 November 1992


  /GRID[=integer]
  /NOGRID (default)

          - results in the output of a grid in layer 0 of the output IFF file.  If
            a  grid  interval is given, it is assumed that only one sheet is being
            output from the input file, and this defaults to the  first  sheet  in
            the input.  Use the /SELECT qualifier to select a different sheet.

            If no grid interval is specified, the defaults used are

                    100 m for scales larger than 1:10000
                   1000 m for scales equal to or smaller than 1:10000
                                              and larger than 1:250000
                  10000 m for scales equal to or smaller than 1:250000 

            and there is no limit to the number of sheets output.

            The default is /NOGRID

  /HISTORY (default)
  /NOHISTORY

          - results in output of a  HI  (HIstory)  entry  in  the  IFF  file.   In
            addition  there  will  also be a type 2 MD (Map Descriptor) entry with
            the origin and scale set.  /HISTORY is the default.

            /NOHISTORY outputs an old type IFF file with unset type 1 MD,  and  is
            invalid if output is to be IFF revision level 1.

  /IFF_POINTSIZE (default)
  /NOIFF_POINTSIZE

          - specifies that IFF text heights are  to  be  output  as  point  sizes.
            /IFF_POINTSIZE is the default.

            /NOIFF_POINTSIZE specifies that IFF text heights are to be  output  in
            hundredths of a mm.

  /INDEX
  /NOINDEX (default)

          - specifies that only a display of the map reference limits in the index
            of  each  of  the  maps present in the OSTF file are required.  No IFF
            output file is produced.  The default is /NOINDEX.

  /LOWER_LEFT
  /NOLOWER_LEFT (default)

          - specifies that the lower left coordinates  for  texts  are  transfered
            rather than those of the the digitised position.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                 Page 4-4
  UTILITY OSTF2I                                                  26 November 1992


  /MH_TYPE=integer

          - used to select the type of the MH entry in the output IFF file and may
            only  be  type  2  or  3  with type 2 being the default.  Refer to the
            description of the output files for details  on  the  effect  of  this
            qualfier.

  /OSTEXT_COMBINE=([FC=(integer,integer,integer)],
                   [CATEGORY=integer,]
                   [SIZE=integer,]
                   [STYLE=integer])
  /NOOSTEXT_COMBINE (default)

          -  Pairs of symbol and text features with OSTF feature  codes  specified
            by  the  first  two  arguments  in  the FC keyword are combined into a
            single IFF text feature with a feature code  specified  by  the  third
            argument  to  the  FC keyword.  The coordinates of the new IFF feature
            are taken from the first feature (the symbol) and the  text  from  the
            second  feature  (the  text).   The  category,  size  and style of the
            combined feature are taken from the arguments of  the  CATEGORY,  SIZE
            and  STYLE  keywords  respectively.   If  /OSTEXT_COMBINE is specified
            without some or all of the keywords the following default  values  are
            used:

                      /OSTEXT_COMBINE = (FC=(900,555,28),
                                         CATEGORY=11,
                                         SIZE=12,
                                         STYLE=3)

            Thus if all keywords are omitted a combined feature is created with FC
            28  which  has  the coordinates from feature 900 and text from feature
            555, and has category 11, size 12 and style  3.   OSTF2I  expects  the
            text  feature  to follow immediately after the coordinate feature.  If
            the text feature is missing a blank text field with a character  count
            of  1  is  written  to  the  combined feature in the IFF file.  If the
            symbol feature is not present, the text will be transferred as normal.
            /FRT  is mandatory with /OSTEXTCOMBINE and the specified feature codes
            must appear in the FRT.

  /PLUS
  /NOPLUS (default)

          - specifies that the input data is OSTF+.  This  means  that  the  first
            byte  of  coordinate  records  will be interpreted as the plan capture
            method, and entries -23, -24 and -25 are expected.  If output  is  IFF
            revision   level   1,  /PLUS  requires  an  FRT  file  containing  ACD
            definitions to be specified (see the DESCRIPTION section below).   The
            default is /NOPLUS.

  /POINT_SIZE
  /NOPOINT_SIZE (default)

          - specifies that text heights in the input are read as being point sizes
            -  this  fits  the  OSTF-0  specification.   Values  from  1 to 24 are
            accepted.  The program will report an error if a  value  outside  this
            range is encountered, and a point size of 24 will be used instead.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                 Page 4-5
  UTILITY OSTF2I                                                  26 November 1992


            The default state is /NOPOINT_SIZE, which means  that  the  height  of
            text strings is stored as tenths of a millimetre.  This corresponds to
            the requirements of OSTF-1 to  OSTF-4.   The  text  heights  are  then
            converted  to  point sizes for storage as TH entries in the output IFF
            files.  Values are looked  up  in  a  conversion  table,  with  a  .05
            millimetre  tolerance.   If  a  height  is  encountered which does not
            translate to a point size in the table, the  program  will  report  an
            error  and  the next highest point size will be used, defaulting to 24
            point if the height is outside the table range altogether.

            Note that successive errors of the types described may  indicate  that
            the whole input file requires reprocessing with the correct POINT_SIZE
            qualifier.

  /SELECT=(integer[,...])

          - used to select a list of sheets to be read from the input  file.   The
            default is to read all sheets.

            The list may be a single number, or a list  of  sheets  surrounded  by
            parentheses.   The  list  of  sheets is made up of numbers and ranges,
            separated by commas, where a range  is  two  numbers  separated  by  a
            colon.

            For instance,

                /SELECT=3         will output sheet 3 only
                /SELECT=(1,4,5)   will output sheets 1, 4 and 5
                /SELECT=(1,3,5:7) will output sheets 1, 3, 5, 6 and 7
                /SELECT=(2:4,1)   will output sheets 1, 2, 3 and 4 (in that order)

            If an output file-spec is given, then only one sheet may be selected.

  /SERIAL_MAGTAPE
  /NOSERIAL_MAGTAPE

          - indicates that the standard input for the program is a  magnetic  tape
            drive connected via a DIL serial controller interface.

            The qualifier is ignored if input is from a device  which  is  mounted
            /FOREIGN (in which case input is from a standard magnetic tape drive).
            If input is requested from a terminal device, then it will be  assumed
            that this is the DIL controller.

            The  /NOSERIAL_MAGTAPE  qualifier  counteracts   the   /SERIAL_MAGTAPE
            qualifier,  and  would normally be used to allow input from a terminal
            when the OSTF2I symbol is defined as (for instance)

                      OSTF2I == "$lsl$exe:ostf2i/serial_magtape"


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                 Page 4-6
  UTILITY OSTF2I                                                  26 November 1992


  /TRUNCATE
  /NOTRUNCATE (default)

          - specifies that input  texts  containing  trailing  spaces  are  to  be
            truncated.  The default is /NOTRUNCATE.

  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  /ASCII and /EBCDIC are mutually exclusive

             o  /FRT required with /PLUS or /AUTO_PLUS  for  IFF  output  revision
                level 1

             o  /FRT required with /OSTEXTCOMBINE

             o  /HISTORY required for IFF output revision level 1

             o  /INDEX can be used only alone or with /ASCII, /BLOCKSIZE, /ECBDIC,
                /PLUS, /AUTO_PLUS or /SERIAL_MAGTAPE


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m


            [1mCommand[0m [1mline[0m

            The symbol OSTF2I is normally set up as

                      OSTF2I == "$lsl$exe:ostf2i"

            so that the program may then be used  as  if  it  were  a  normal  VMS
            utility.

            Sites which normally read data via a DIL  serial  port  magnetic  tape
            driver will generally define the symbol as

                      OSTF2I == "$lsl$exe:ostf2i/serial_magtape"

            [1mInput[0m [1mfiles[0m

            If the input is magnetic tape on a standard tape drive, then it should
            be  mounted  /FOREIGN, with the block size declared via /BLOCKSIZE and
            the record size declared as /RECORDSIZE=8.  Note that  /BLOCKSIZE=1800
            should be used if the OSTF2I block size default is to be in operation.
            For example,

                      $ MOUNT/FOREIGN/BLOCKSIZE=1800/RECORDSIZE=8 MT:

            If the input  is  magnetic  tape  on  a  drive  connected  via  a  DIL
            controller  then  the  OSTF2I qualifier /SERIAL_MAGTAPE is required to
            inform the program that  it  is  actually  communicating  with  a  DIL
            controller on a serial line.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                 Page 4-7
  UTILITY OSTF2I                                                  26 November 1992


            The input is expected to be valid OSTF, possibly composed  of  several
            sheets, terminated by end of file (ie two tapemarks on a magnetic tape
            device).

            [1mOutput[0m [1mfiles[0m

            The default action is to output all sheets, the output filenames being
            deduced  from the OS National Grid coordinates of the SW corners.  The
            /SELECT qualifier can be used to specify either a single  sheet  or  a
            list of sheets to be output.

            There are two instances where it is only possible to output  a  single
            sheet.  These are

             o  when an output file-spec is specified, and
             o  when the /GRID qualifier is given with an explicit grid interval.

            In both cases the default is the first sheet in  the  input,  but  the
            /SELECT qualifier can be used to select a different sheet.

            If the logical name LSL$IFF_OUTPUT_REVISION has been set,  IFF  output
            revision  level  1  will be produced; otherwise, it will be IFF output
            revision level 0.  However if the /AUTO_PLUS qualifier  is  specified,
            then  the  logical  name  LSL$IFF_OUTPUT_REVISION is ignored.  Further
            details of IFF revision levels are given  in  the  "LAMPS  Environment
            Guide" and the "IFF User Guide".

            If the /MH_TYPE qualifier is specified with type 2, then only selected
            parts of the OSTF header are written to the IFF MH entry.  This is the
            default action  and  is  recommended  by  Laser-Scan.   /MH_TYPE=3  is
            designed for use by Ordnance Survey (Great Britain) only.

            If type 3 is specified, then the  whole  OSTF  map  header  is  copied
            across  as  an ASCII block using the -1 and -20 header sizes specified
            in  the  translation  table,  LSL$OS_MH_TABLE.   The  values  of   the
            Eastings,  Northings  and  scale  are  taken from positions within the
            header and inserted into the map descriptor (MD) entry.   For  details
            of  how  to  set  up  the translation table, refer to the IFFOSTF DATA
            PREPARATION section.

            Note that no output file is required if /INDEX has been given.

            [1mProgram[0m [1maction[0m

            After decoding the command line, the program reports on what was asked
            for,  and if an index is present, the map reference limits for each of
            the maps is reflected.  If /INDEX  is  in  effect,  the  program  then
            terminates.   Otherwise,  each  successive  8-character  record in the
            input data is then read, all data being output  to  the  IFF  file  in
            layer 1.  If a grid was requested, that is output in layer 0.

            Immediately prior to starting the first feature, the IFF  RAnge  (RA),
            Map  Header  (MH),  Map  Descriptor  (MD),  New  Section  (NS),  Cubic
            Coefficients (CC), and Control Point (CP) entries are output.  By this
            time  all map header data will have been read.  If a new type (with HI
            and MD type 2 entries) or  a  revision  level  1  IFF  file  is  being


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                 Page 4-8
  UTILITY OSTF2I                                                  26 November 1992


            produced, a HIstory (HI) entry is also output.

            For the Map Header, OSTF-4 or older formats are accepted, but obsolete
            or  superceded  fields  are  either ignored or used in the appropriate
            OSTF-4 field.

            Whether or not a feature code is a symbol or name is determined by the
            flag  (-7  or  -8) in the input data, regardless of the information in
            any FRT file which might have been specified.  If the  flag  indicates
            that the feature is either a symbol or a name, the FRT is then used to
            determine whether or not an orientation is to be output.

            Coordinates are buffered up as they are read, and output  either  when
            the  buffer  is  full or at the end of the feature.  The first byte in
            each coordinate record is treated as the OSTF+ plan capture method, if
            /PLUS  or  /AUTO_PLUS  has  been  specified,  and  is  output  as  the
            CAPTURE_XY attribute.  When the first byte is left blank, the value of
            the last capture method specified is assumed, unset by default.

            -17 (contour height) records are output as CONTOUR AC entries.

            -19  (left/right  coding)  records  are  output  as  LH_boundary   and
            RH_boudary AC entries.

            -23 (feature history) records are output as  SURVEY_DATE,  CHANGE_DATE
            and  CHANGE_TYPE  AC entries.  If a date is not present it will be set
            to the initial value (17-NOV-1858), and if change type is  missing  it
            will be left unset.

            -24 (height) records are output as point attributes  Z,  DHeight,  and
            CAPTURE_Z.  Empty fields are left as unset point attributes on output.

            -25 records are output as SECURITY_MARKER AC entries with the code set
            to 1.

            Within texts, a text location is  output  if  present,  otherwise  the
            calculated  position of the SW corner of the text box is output.  Text
            cross references are ignored.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                 Page 4-9
  UTILITY OSTF2I                                                  26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m


  $ [1mOSTF2I/GRID/FRT[0m [1mMS:[0m [1mSU3621<CR>[0m

  Input file:     MS:
  Output file:    LSL$IF:SU3621.IFF
  FRT file:       LSL$FRT:OS.FRT
  ROtation only output for texts and oriented symbols
  Grid output in layer 0
  Output IFF file to contain HIstory and type 2 Map Descriptor
  Text heights read as tenths of a millimetre
  Input is in ASCII
  Assuming blocksize of 1800
  Selected sheets: 1

  Index of maps - there is    1 map listed
  Map    1 from   436000,  121000 to   437000,  122000

  Writing sheet   1 to IFF file LSL$IF:SU3621.IFF
   ELAPSED:    0 00:11:05.12  CPU: 0:09:27.17  BUFIO: 45  DIRIO: 1911  FAULTS: 280
  $

            This example illustrates a successful run of OSTF2I with input of  one
            OSTF   file   on   magnetic   tape.    Output  was  to  the  IFF  file
            LSL$IF:SU3621.IFF, which will by default contain a  HIstory  (HI)  and
            Map  Descriptor  (MD) type 2 entry, and which will contain a grid with
            the default grid interval.  The default FRT  file  LSL$FRT:OS.FRT  was
            read  to  ascertain  texts and oriented symbols for output of ROtation
            (RO) entries, and the IFF file produced is by default a new type  one.
            Text heights are assumed to be in millimetres rather than point sizes,
            and a block size of 1800 has been assumed.  Since the output IFF  file
            was  given  explicitly  on  the  command line, only one sheet has been
            selected.

  $ [1mOSTF2I/FRT=FRED[0m [1mMS:[0m [1mHERE:TEMP<CR>[0m

  Input file:     MS:
  Output file:    HERE:TEMP.IFF
  FRT file:       LSL$FRT:FRED.FRT
  ROtation only output for texts and oriented symbols
  Output IFF file to contain HIstory and type 2 Map Descriptor
  Text heights read as tenths of a millimetre
  Input is in ASCII
  Assuming blocksize of 1800
  Selected sheets: 1

  %FRTLIB-W-FRTERR, Error opening FRT file LSL$FRT:FRED.FRT
  %LSLLIB-E-NOSUCHFILE, file cannot be found
  %OSTF2I-E-READFRT, Error reading FRT file LSL$FRT:FRED.FRT
   ELAPSED:    0 00:00:00.78  CPU: 0:00:00.35  BUFIO: 15  DIRIO: 1  FAULTS: 119 
  $


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-10
  UTILITY OSTF2I                                                  26 November 1992


            This  example  illustrates   an   error   detected   by   Laser-Scan's
            input/output  library,  LSLLIB.   The  Feature Representation Library,
            FRTLIB, has made an unsuccessful attempt at opening the specified  FRT
            file,  and  the LSLLIB error returned indicates that the file does not
            exist.  The program outputs a further  message  as  confirmation,  and
            exits immediately.

  $ [1mOSTF2I/PLUS/FRT=OSTF_PLUS[0m [1m[OS.OSTF]TL1659NE.PLUS[0m [1mTL1659NE.IFF<CR>[0m

  Input file:     [OS.OSTF]TL1659NE.PLUS;0
  Output file:    LSL$IF:TL1659NE.IFF
  FRT file:       LSL$FRT:OSTF_PLUS.FRT
  ROtation only output for texts and oriented symbols
  Output IFF file to contain HIstory and type 2 Map Descriptor
  Expecting OSTF+ data
  Text heights read as tenths of a millimetre
  Input is in ASCII
  Assuming blocksize of 1800
  Selected sheets: 1

  %OSTF2I-I-NOINDX, OSTF-0 - tape does not contain sheet index

  Writing sheet   1 to IFF file LSL$IF:TL1659NE.IFF
   ELAPSED:    0 00:01:37.39  CPU: 0:00:53.12  BUFIO: 21  DIRIO: 159  FAULTS: 365 
  $

            This example  illustrates  the  conversion  of  OSTF+  data  into  IFF
            revision level 0.  Input is from a disk file so there is no tape index
            - hence the message appears.  Since input is OSTF+,  heights  will  be
            carried  through  and  output  as ZS entries, but all other additional
            OSTF+ attribute information will be  lost.   If  /PLUS  had  not  been
            specified,  the  heights  would  also  have  been  lost and ST entries
            output.  Note that had /AUTO_PLUS been  specified,  it  would  not  be
            necessary to define the logical name LSL$IFF_OUTPUT_REVISION.

  $ [1mDEFINE[0m [1mLSL$IFF_OUTPUT_REVISION[0m [1m1<CR>[0m
  $ [1mMOUNT/FOR/BLOCK=1800/REC=8[0m [1mMS:<CR>[0m
  %MOUNT-I-MOUNTED,  mounted on _LSL750$MSA0:
  $ [1mOSTF2I/PLUS/FRT=OSTF_PLUS[0m [1mMS:<CR>[0m

  Input file:     MS:
  FRT file:       LSL$FRT:OSTF_PLUS.FRT
  ROtation only output for texts and oriented symbols
  Output IFF file to contain HIstory and type 2 Map Descriptor
  Expecting OSTF+ data
  Text heights read as tenths of a millimetre
  Input is in ASCII
  Assuming blocksize of 1800

  Index of maps - there is    1 map listed
  Map    1 from   478000,  241000 to   478500,  241500

  Writing sheet   1 to IFF file LSL$IF:SP7841SW.IFF
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 376 not found in FRT


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-11
  UTILITY OSTF2I                                                  26 November 1992


  %OSTF2I-W-FINDFC, feature code 376 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 376 not found in FRT
  %OSTF2I-W-FINDFC, feature code 376 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 376 not found in FRT
  %OSTF2I-W-FINDFC, feature code 376 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 376 not found in FRT
  %OSTF2I-W-FINDFC, feature code 376 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 376 not found in FRT
  %OSTF2I-W-FINDFC, feature code 376 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 376 not found in FRT
  %OSTF2I-W-FINDFC, feature code 376 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 376 not found in FRT
  %OSTF2I-W-FINDFC, feature code 376 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 376 not found in FRT
  %OSTF2I-W-FINDFC, feature code 376 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 376 not found in FRT
  %OSTF2I-W-FINDFC, feature code 376 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 376 not found in FRT
  %OSTF2I-W-FINDFC, feature code 376 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 376 not found in FRT
  %OSTF2I-W-FINDFC, feature code 376 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-12
  UTILITY OSTF2I                                                  26 November 1992


  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 376 not found in FRT
  %OSTF2I-W-FINDFC, feature code 376 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 382 not found in FRT
  %OSTF2I-W-FINDFC, feature code 382 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 374 not found in FRT
  %OSTF2I-W-FINDFC, feature code 374 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 376 not found in FRT
  %OSTF2I-W-FINDFC, feature code 376 not defined in FRT
  %FRTLIB-W-FRTERR, Feature Code 376 not found in FRT
  %OSTF2I-W-FINDFC, feature code 376 not defined in FRT
   ELAPSED:    0 00:01:25.89  CPU: 0:01:19.62  BUFIO: 101  DIRIO: 299  FAULTS: 458
  $ [1mDISMOUNT[0m [1mMS:<CR>[0m
  $

            This example illustrates IFF revision  level  1  output  and  the  DCL
            command  defining  the  logical name has been included.  Input is from
            magnetic tape, and the DCL command mounting the  tape  has  also  been
            included.   The  output  filename was not given as it was deduced from
            the information in the tape index.  Since output is  to  IFF  revision
            level  1,  CB  entries  will  be  output  and  all  of  the OSTF+ data
            converted.  Note that some of the feature codes have not been  defined
            in  the  FRT file.  This means that the graphical type in the relevant
            CB entries may be incorrect.

  $ [1mOSTF2I[0m [1mMODEL1.BATOSTFP[0m [1mMODEL1.IFF<CR>[0m

  Input file:     MODEL1.BATOSTFP;0
  Output file:    LSL$IF:MODEL1.IFF
  ROtation output for all features except lines
  Output IFF file to contain HIstory and type 2 Map Descriptor
  Text heights read as tenths of a millimetre
  Input is in ASCII
  Assuming blocksize of 1800
  Selected sheets: 1

  %OSTF2I-I-NOINDX, OSTF-0 - tape does not contain sheet index

  Writing sheet   1 to IFF file LSL$IF:MODEL1.IFF
  %OSTF2I-I-OLDHDR3, OSTF-3 - secondary sheet header is late OSTF format
  %OSTF2I-W-GOTPLUS, OSTF+ entries ignored - /PLUS not specified
   ELAPSED:    0 00:01:19.93  CPU: 0:01:18.28  BUFIO: 31  DIRIO: 768  FAULTS: 247 
  $


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-13
  UTILITY OSTF2I                                                  26 November 1992


            In this example OSTF+ data has been used but the /PLUS  qualifier  was
            not  specified.   The  OSTF+  entries are therefore ignored.  Note the
            conflicting messages regarding the OSTF version.  First, because there
            is  no sheet index, the program assumes that the data is OSTF-0.  Once
            the header has been read, it establishes that it is  actually  OSTF-3.
            These  messages  are  purely  informational and the assumptions behind
            them are made only in order to display the messages.  The  assumptions
            about the OSTF version do not in any way affect the way the conversion
            proceeds.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-14
  MESSAGES (INFORMATIONAL)                                        26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  NOINDX, OSTF-0 - tape does not contain sheet index

      [1mExplanation:[0m  OSTF version 1 and above require that a  tape  start  with  an
      index  of  all  sheets  present.   This  message indicates that the index is
      absent, and therefore this tape must be OSTF-0 (old DMC) data.

      [1mUser[0m [1maction:[0m  None.

  OLDHDR1, OSTF-1 - secondary sheet header is middle DMC format

      [1mExplanation:[0m  The OSTF  data  being  read  contains  the  earliest  form  of
      secondary  sheet  header  (after  flag -20), containing minimal information.
      Some data will not be supplied to the map header in the IFF file.

      [1mUser[0m [1maction:[0m  None.

  OLDHDR2, OSTF-2 - secondary sheet header is middle OSTF format

      [1mExplanation:[0m  The OSTF data contains a sheet header which is longer than the
      original  OSTF-1  form of sheet header, but is still not as long as the full
      OSTF-3 header - it is thus presumed to be an OSTF-2 header.  Some data  will
      not be supplied to the map header in the IFF file.

      [1mUser[0m [1maction:[0m  None.

  OLDHDR3, OSTF-3 - secondary sheet header is late OSTF format

      [1mExplanation:[0m  The OSTF data contains the full OSTF-3 header, rather than the
      current  OSTF-4 header.  Some data will not be supplied to the map header in
      the IFF file.

      [1mUser[0m [1maction:[0m  None.

  OLDSHDR, start of sheet header is early OSTF format - before OSTF-3

      [1mExplanation:[0m  The start-of-sheet header (after flag  -1)  is  the  original,
      short form.  It does not include either job number or digitising scale.

      [1mUser[0m [1maction:[0m  None.

  RECORD, in record 'integer', containing "'string'"

      [1mExplanation:[0m  This message is output after a previous error message, to show
      the number of the record in the OSTF data at which an error occurred.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-15
  MESSAGES (WARNING)                                              26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  BADFEATURE, illegal input record 'integer'

      [1mExplanation:[0m  An error occurred reading input record indicated.

      [1mUser[0m [1maction:[0m  Correct input data.  If no error is found, please report  this
      problem to Laser-Scan.

  BADFLAG, unrecognised input flag 'integer' in record 'integer'

      [1mExplanation:[0m  OSTF data entries are identified by  a  negative  number,  the
      flag  number.   This  program  recognises flags -1 to -22 and flag -44.  Any
      other flag value will provoke this error message.  The program will  attempt
      to ignore the offending record, and to carry on.

      [1mUser[0m [1maction:[0m  Check that the provider of the data has supplied a valid  OSTF
      dataset.   It  may be necessary to dump the OSTF data to a text file, and to
      inspect the offending record, and those around it, to work out whether it is
      actually  an  unknown flag, or whether it is just incorrect data.  It may be
      possible to edit the offending records out using a  text  editor,  and  then
      process the remaining data meaningfully.

  BADINDX, unexpected sheet index flag in record 'integer' - continuing

      [1mExplanation:[0m  The OSTF sheet index at the beginning of the tape  starts  and
      finishes with flag -21.  The program reads any sheet index before processing
      the sheets in the input.  This  error  message  is  given  if  flag  -21  is
      detected  whilst  looking  for map data.  The program will ignore the record
      and attempt to carry on.

      [1mUser[0m [1maction:[0m  As for the BADFLAG warning message.

  BADOSSZ, unsupported OS point size 'integer' - using point size 'integer'

      [1mExplanation:[0m  In OSTF-0, text heights are encoded as  point  sizes,  and  in
      other  versions  of  OSTF  as heights in millimetres.  If user specifies the
      /POINT_SIZE and /NOIFFPOINTSIZE qualifiers, then  the  program  will  assume
      that  heights  are  held  as  point  sizes  in  the OSTF data, but are to be
      converted into mm/100 in the IFF data.  Some point  sizes  however  are  not
      supported  in  the  conversion procedure.  If such a point size occurs, then
      this message is output, and the indicated point size is substituted.

      [1mUser[0m [1maction:[0m  Check that the /POINT_SIZE and /NOIFFPOINTSIZE qualifiers were
      the right choice.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-16
  MESSAGES (WARNING)                                              26 November 1992


  BADPTSZ, there is no point size 'integer' (should be 1-24) - using point size
      'integer'

      [1mExplanation:[0m  In OSTF-0, text heights are encoded as  point  sizes,  and  in
      other  versions  of  OSTF  as heights in millimetres.  If user specifies the
      /POINT_SIZE qualifier, then the program will assume that heights are held as
      point  sizes  in  the  OSTF  data, and will check that they lie in the valid
      range.  If the point size found is not valid, then this message  is  output,
      and the indicated point size is substituted.

      [1mUser[0m [1maction:[0m  Check that the /POINT_SIZE qualifier was the right choice.

  BADTXHT, there is no point size corresponding to 'integer' mm/10 - using point
      size 'integer'

      [1mExplanation:[0m  In OSTF-0, text heights are encoded as  point  sizes,  and  in
      other  versions  of OSTF as heights in millimetres.  By default, the program
      assumes that heights are held as tenths of a millimetre,  and  will  try  to
      find  the  appropriate  OS  point  size  for  each height (since OS IFF text
      heights are to be held as point sizes).  If the height does not translate to
      a  known  point  size,  then this message is output, and the indicated point
      size is substituted.

      [1mUser[0m [1maction:[0m  Check that the /POINT_SIZE qualfier was not needed.

  BINDAY, error in date field in secondary sheet header - 'day'/'month'/'year'

      [1mExplanation:[0m  A date field in the secondary sheet header has fields that are
      unacceptable.   A system message follows to explain the reason.  The program
      will not attempt to translate the date into the map header in the IFF file.

      [1mUser[0m [1maction:[0m  Complain to the supplier of the data that the secondary header
      is incorrectly set.

  FINDFC, feature code 'integer' not defined in FRT

      [1mExplanation:[0m  The program has tried to look up the specified feature code in
      the  FRT file specified, and has not found a definition.  This means that an
      RO entry will appear in the output file regardless of  the  graphical  type,
      and  if  output  is IFF revision level 1, the graphical type in the CB entry
      could be incorrect.

      [1mUser[0m [1maction:[0m  If the feature code in the OSTF data is correct,  then  either
      correct the FRT or use a different FRT file.

  GOTPLUS, OSTF+ entries ignored - /PLUS not specified

      [1mExplanation:[0m  One or more OSTF+ entries (-23, -24, and -25) have been  found
      in  the  input  data,  but  /PLUS  was  not  specified  on the command line.
      Regardless of the IFF revision level, all OSTF+  data  will  be  ignored  on
      output.

      [1mUser[0m [1maction:[0m  If the OSTF+ data is required, and especially if output is IFF
      revision  level 1, /PLUS should be specified on the command line.  Note that
      specifying /PLUS with IFF output revision level 0 will result in ZS  entries
      being produced for those features which contain -24 (height) entries.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-17
  MESSAGES (WARNING)                                              26 November 1992


  GRIDBIG, grid step 'integer' too big - doing 'integer'

      [1mExplanation:[0m  The grid step specified with the /GRID  qualifier  is  greater
      than  the  map extent.  The basic grid interval taken from the map header is
      used instead.

      [1mUser[0m [1maction:[0m  Specify a correct grid size.

  GRIDSMALL, grid step 'integer' too small - doing 'integer'

      [1mExplanation:[0m  The grid step specified with /GRID is less than 1.  The  basic
      grid interval taken from the map header is used instead.

      [1mUser[0m [1maction:[0m  Specify a correct grid size.

  INVALCAP, invalid capture method, "'string'"

      [1mExplanation:[0m  An invalid capture method has been  encountered  either  in  a
      coordinate  record, or in a height entry (after flag -24).  It will be reset
      to the unknown value, "0".

      [1mUser[0m [1maction:[0m  Check that the data has not been corrupted and that the  range
      specified  in  the relevant ACD entry in the FRT file is correct.  Otherwise
      complain to the supplier of the data.

  INVALCHA, invalid change type, "'string'"

      [1mExplanation:[0m  An invalid change type has been  encountered  in  the  feature
      history entry (after flag -23).  It will be reset to the unknown value, "0".

      [1mUser[0m [1maction:[0m  Check that the data has not been corrupted and that the  range
      specified  in  the relevant ACD entry in the FRT file is correct.  Otherwise
      complain to the supplier of the data.

  INVALDATE, invalid date, "'date-string'"

      [1mExplanation:[0m  An invalid date has been encountered in  the  feature  history
      entry (after flag -23).  It will be reset to the initial value, 17-NOV-1858

      [1mUser[0m [1maction:[0m  Check that the data has not been corrupted and that the  range
      specified  in  the relevant ACD entry in the FRT file is correct.  Otherwise
      complain to the supplier of the data.

  LONGHDR, the -20 header was longer than expected in type 3 header

      [1mExplanation:[0m  The secondary sheet header (after the -20 flag) of  a  type  3
      map  header  was  longer  than  the  size  given  in  the  translation table
      LSL$OS_MH_TABLE.  The longer header will be written as an ASCII block to the
      IFF file.

      [1mUser[0m [1maction:[0m  Check for consistancy between the header length  of  the  OSTF
      file and the size given for this in the translation table LSL$OS_MH_TABLE.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-18
  MESSAGES (WARNING)                                              26 November 1992


  MHUPGRADE, cannot fully upgrade IFF map header

      [1mExplanation:[0m  If the data being processed is OSTF-3 or earlier, the IFF  map
      header  is  upgraded  to OSTF-4 standard after the OSTF header has been read
      in.  This message appears when a problem  has  occurred  with  that  upgrade
      procedure.   It is most likely due to one of the old digital update dates or
      the old selected revision date having been corrupted.  The latest  of  these
      dates  is used for the new digital update date which is stored in the OS map
      header  as  ICL  binary  days.   A  system  message  follows   for   further
      explanation.   The  program  will  not attempt to set the new digital update
      date.

      [1mUser[0m [1maction:[0m  The source of the problem may be a bad digital update date  or
      selected revision date in the OSTF header.  If this is the case, complain to
      the supplier of the data that  the  secondary  header  is  incorrectly  set.
      Otherwise, it may be necessary to report the problem to Laser-Scan.  In this
      case, please supply details of the command line used to invoke the  program,
      as well as the OSTF file.

  NOENDFL, unexpected end of data - no end of data flag (-3)

      [1mExplanation:[0m  The data in the OSTF input file should be terminated  by  flag
      -3,  followed by dummy (-6) entries to pad the file out to a block boundary.
      If the end of file is found before the end of data  flag,  then  this  error
      message  is  output.   The  final  sheet  in  the  input  data may have been
      truncated.

      [1mUser[0m [1maction:[0m  Check that the data has  not  been  corrupted,  and  otherwise
      complain  to  the  supplier  of  the data that the OSTF data was incorrectly
      terminated.

  NOTINFTR, coordinate record 'X' 'Y' outside feature in record 'integer'

      [1mExplanation:[0m  An OSTF record which does not start with a flag (ie a negative
      number)  and  which is not part of the data associated with a flag, has been
      found.  It cannot be a coordinate because it  is  outside  a  feature.   The
      program ignores the record and attempts to continue.

      [1mUser[0m [1maction:[0m  Check that the data has  not  been  corrupted,  and  otherwise
      complain to the supplier of the data.

  SHORTHDR, the -20 header was shorter than expected in type 3 header

      [1mExplanation:[0m  The secondary sheet header (after the -20 flag) of  a  type  3
      map  header  was  shorter  than  the  size  given  in  the translation table
      LSL$OS_MH_TABLE.  The shorter header will be written as an  ASCII  block  to
      the IFF file.

      [1mUser[0m [1maction:[0m  Check for consistancy between the header length  of  the  OSTF
      file and the size given for this in the translation table LSL$OSMHTABLE.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-19
  MESSAGES (WARNING)                                              26 November 1992


  TOOMNYLR, more than 'integer' left/right boundaries - ignoring some

      [1mExplanation:[0m  The program  stores  left/right  boundary  texts  and  feature
      codes,  and  outputs  them when it encounters a coordinate.  This message is
      given if it encounters more left/right codes than it  can  store.   It  will
      ignore some of them, and output the rest.

      [1mUser[0m [1maction:[0m  If this is a  problem,  request  Laser-Scan  to  increase  the
      limit.

  UNEXPEND, end of data flag (-3) found before end of sheet flag (-2)

      [1mExplanation:[0m  The end of data flag marks the end of the data in  this  file,
      and should be preceded by a flag to stop the current sheet.  This message is
      given if the end of sheet flag is not seen.

      [1mUser[0m [1maction:[0m  Check that the data has  not  been  corrupted,  and  otherwise
      complain to the supplier of the data that the relevant sheet was incorrectly
      terminated.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-20
  MESSAGES (ERROR)                                                26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  ACDOSTF, cannot find OSTF+ ACD definition 'name'

      [1mExplanation:[0m  The attribute code definition for an attribute required in the
      translation  of  OSTF+  data  cannot  be  found.  An additional message from
      LSLLIB will give further informatoin.  The most likely cause of  this  error
      is  that the attribute code has not been defined in the ACD table in the FRT
      file.  The program will abort.

      [1mUser[0m [1maction:[0m  Ensure that the  ACD  table  in  the  FRT  file  contains  the
      required definition, and run the program again.

  BADHDR2, error reading input record, in secondary sheet header

      [1mExplanation:[0m  An error occurred reading a  record  in  the  secondary  sheet
      header (after the -20 flag).  The program will abort.

      [1mUser[0m [1maction:[0m  Unless the associated error messages make the  cause  of  this
      problem obvious, please report this problem to Laser-Scan.

  BCKSPCERR, failed to backspace the tape one record

      [1mExplanation:[0m  This is an error generated if the  program  has  attempted  to
      read  the sheet index, found it absent, and failed to return to the start of
      the tape.

      [1mUser[0m [1maction:[0m  Unless the associated error messages make the  cause  of  this
      problem obvious, please report this problem to Laser-Scan.

  DIGSCAL, error reading data capture scale

      [1mExplanation:[0m  An error occurred reading the data capture scale  entry  (part
      of  the OSTF sheet header, after flag -1).  This was known as the digitising
      scale in versions prior to OSTF-4.  The program will abort.

      [1mUser[0m [1maction:[0m  Check that the data has  not  been  corrupted,  and  otherwise
      complain to the supplier of the data.

  ENDINDX, unexpected end of data during sheet index

      [1mExplanation:[0m  The end of file was found whilst reading the sheet index.  The
      program will abort.

      [1mUser[0m [1maction:[0m  Check that the data has  not  been  corrupted,  and  otherwise
      complain to the supplier of the data.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-21
  MESSAGES (ERROR)                                                26 November 1992


  ENDPROC, processing aborted at input record 'integer'

      [1mExplanation:[0m  This message will  follow  a  previous  error  message,  which
      should explain the problem.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error message.

  ERRINDX, error reading input record, in sheet index

      [1mExplanation:[0m  An error occurred whilst  reading  the  sheet  index,  at  the
      beginning of the input file.  The program will abort.

      [1mUser[0m [1maction:[0m  Check that the data has  not  been  corrupted,  and  otherwise
      complain to the supplier of the data.

  FLAGJOB, error reading record in second part of sheet header

      [1mExplanation:[0m  An error occurred reading the job number entry  (part  of  the
      OSTF sheet header, after flag -1).  The program will abort.

      [1mUser[0m [1maction:[0m  Check that the data has  not  been  corrupted,  and  otherwise
      complain to the supplier of the data.

  GRIDSEL, if you give a grid interval, you can only select one sheet

      [1mExplanation:[0m  If a grid interval is given explicitly  with  /GRID,  and  the
      /SELECT  qualifier  used, then only one sheet can be selected from the input
      file.  This message is output when several sheets have been selected and  an
      explicit grid interval was given.  The program will abort.

      [1mUser[0m [1maction:[0m  If the grid intervals for the sheets must be  specified,  then
      each sheet must be read from the OSTF data individually.

  HEADERONE, Error reading essential fields from -1 header record

      [1mExplanation:[0m  A problem was encountered in reading one of the fields in  the
      -1  header.  The program cannot open an IFF file without these values and so
      was aborted.

      [1mUser[0m [1maction:[0m  Examine the position and size of the fields in the translation
      table LSL$OS_MH_TABLE and ensure that they correspond to those fields in the
      -1 header record.

  HISTDATE, error reading feature history dates

      [1mExplanation:[0m  An error occurred reading the  record  containing  the  survey
      date  and  change  date  in the feature history entry (after flag -23).  The
      program will abort.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-22
  MESSAGES (ERROR)                                                26 November 1992


  ILEGCAT, Illegal category 'integer' in /OSTEXT_COMBINE qualifier

      [1mExplanation:[0m  An illegal Category  was  encountered  in  the  /OSTEXTCOMBINE
      qualifier.

      [1mUser[0m [1maction:[0m  Retype the command line with a valid  category  entry  in  the
      range 1-32767.

  ILEGFC, Illegal feature code 'integer' in /OSTEXT_COMBINE qualifier

      [1mExplanation:[0m  An illegal Feature Code was encountered in the  /OSTEXTCOMBINE
      qualifier.

      [1mUser[0m [1maction:[0m  Retype the command line with a valid FC  entry  in  the  range
      1-32767.

  ILEGMH, Illegal type 'integer' map header in /MH_TYPE qualifier

      [1mExplanation:[0m  An illegal map header type  was  encountered  in  the  /MHTYPE
      qualifier.

      [1mUser[0m [1maction:[0m  Retype the command line with a valid map header type (2 or 3).

  ILEGSIZ, Illegal size 'integer' in /OSTEXT_COMBINE qualifier

      [1mExplanation:[0m   An  illegal  Size  was  encountered  in  the   /OSTEXTCOMBINE
      qualifier.

      [1mUser[0m [1maction:[0m  Retype the command line with a valid size entry in  the  range
      1-32767.

  ILEGSTY, Illegal style 'integer' in /OSTEXT_COMBINE qualifier

      [1mExplanation:[0m   An  illegal  Style  was  encountered  in  the  /OSTEXTCOMBINE
      qualifier.

      [1mUser[0m [1maction:[0m  Retype the command line with a valid Style entry in the  range
      1-32767.

  INCNUMCAT, Incorrect number of Categories in /OSTEXT_COMBINE qualifier

      [1mExplanation:[0m  The wrong number of category entries was  encountered  in  the
      /OSTEXTCOMBINE qualifier on the command line.  Only one is required.

      [1mUser[0m [1maction:[0m  Retype command line with one category entry only.

  INCNUMFC, Incorrect number of FC entries in /OSTEXT_COMBINE qualifier

      [1mExplanation:[0m  The wrong number of Feature Code entries was specified in  the
      /OSTEXTCOMBINE  qualifier on the command line.  Precisely three are required
      corresponding to coordinate, text and destination codes.

      [1mUser[0m [1maction:[0m  Retype the command line with the correct number of FC entries.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-23
  MESSAGES (ERROR)                                                26 November 1992


  INCNUMSIZ, Incorrect number of Size entries in /OSTEXT_COMBINE qualifier

      [1mExplanation:[0m  The wrong number  of  size  entries  was  encountered  in  the
      /OSTEXTCOMBINE qualifier.  Only one is required.

      [1mUser[0m [1maction:[0m  Retype command line with one size entry.

  INCNUMSTY, Incorrect number of Style entries in /OSTEXT_COMBINE qualifier

      [1mExplanation:[0m  The wrong number of  style  entries  was  encountered  in  the
      /OSTEXTCOMBINE switch.  Only one is required.

      [1mUser[0m [1maction:[0m  Retype command line with one style entry.

  INITINP, error initialising input device 'device-name'

      [1mExplanation:[0m  An error occurred in trying to attach to  the  input  magnetic
      tape device.  The program will abort.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.

  INPTYPE, error checking input device type 'device-name'

      [1mExplanation:[0m  Before trying to read from  the  input  file  or  device,  the
      program  looks  to  see  what  it is - a magnetic tape drive or a disk file.
      This error is given if something went wrong with that process.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.

  MULTSEL, if you name the output file, you can only select one sheet

      [1mExplanation:[0m  If the output IFF file is specified, and the /SELECT qualifier
      used,  then  only  one  sheet may be selected.  The program will abort after
      this message.

      [1mUser[0m [1maction:[0m  Either request only one sheet when specifying the IFF file, or
      request  several  sheets,  allow  the program to produce names for them, and
      then RENAME them if those names are unacceptable.

  NEEDFRT, FRT file required for IFF revision 1 output

      [1mExplanation:[0m  This message appears when IFF revision level 1 data is  to  be
      produced, and the /FRT qualifier has not been specified on the command line.
      An FRT file containing an ACD table is required for  IFF  revision  level  1
      output.  The program will abort.

      [1mUser[0m [1maction:[0m  Either specify an FRT file on the command line,  or  ask  your
      system manager to set the appropriate logical name to produce IFF revision 0
      output, and run the program again.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-24
  MESSAGES (ERROR)                                                26 November 1992


  NEEDHIST, HI and MD type 2 required for IFF revision 1 output

      [1mExplanation:[0m  This message appears when IFF revision level 1 data is  to  be
      produced,  and  the  /NOHISTORY  qualifier has been specified on the command
      line.  IFF revision level 1 data  should  always  contain  HIstory  and  Map
      Descriptor  type  2 entries.  This is achieved by specifying /HISTORY (which
      is present by default) on the command line.  The program will abort.

      [1mUser[0m [1maction:[0m  Ensure that /HISTORY is specified on the commnd  line,  either
      explicitly or by default, and run the program again.

  NEWGRID, error reading grid square entry

      [1mExplanation:[0m  The coordinates in OSTF are specified using  the  grid  square
      and  the  offset  within  that grid square (the "grid" in this context being
      that defined by the basic grid interval).  This message  indicates  that  an
      error  occurred  reading  an  entry that specifies a new grid square for the
      following coordinates (ie one of flags -9 or -14).  The program will abort.

      [1mUser[0m [1maction:[0m  Check that the data has  not  been  corrupted,  and  otherwise
      complain to the supplier of the data.

  OSNAME, error parsing OS sheet name "'name'" as IFF file name

      [1mExplanation:[0m  The program has calculated a file name  for  the  relevant  OS
      sheet, but this does not form part of a legal filespec.

      [1mUser[0m [1maction:[0m  Please report this problem to Laser-Scan.

  RDBERR, failed to read a block from magtape

      [1mExplanation:[0m  The associated error messages  should  help  to  clarify  what
      happened.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.

  RDSTART, error reading record in start of sheet header

      [1mExplanation:[0m  An error occurred reading the start of sheet entry (after flag
      -1).  The program will abort.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.

  READFRT, error reading FRT file 'file-spec'

      [1mExplanation:[0m  An error occured while reading in the  FRT  file.   A  message
      output  by  the  Feature  Representation Library (FRTLIB) will appear before
      this message, giving further information as to what  has  gone  wrong.   For
      example,  the  specified  FRT  file  may  not exist, or it may be in another
      directory.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-25
  MESSAGES (ERROR)                                                26 November 1992


  READREC, error reading record

      [1mExplanation:[0m  An error occurred whilst reading a record of the  input  file.
      The program will abort.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.

  TXTCOORD, error reading text location coordinate entry

      [1mExplanation:[0m  An error occurred reading the coordinates for a text  location
      (after flag -18).  The program will abort.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.

  TXTDESC, error reading text description

      [1mExplanation:[0m  An error occurred reading the  text  description  data  (after
      flag -10).  The program will abort.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.

  TXTERR, error reading text

      [1mExplanation:[0m  An error occurred whilst reading the data for  a  text  (after
      flag -11).  The program will abort.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.

  TXTGRID, error reading text location grid square entry

      [1mExplanation:[0m  An error occurred reading the grid square  entry  for  a  text
      location (after flag -18).  The program will abort.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.

  UNEXPEOF, unexpected end of input data

      [1mExplanation:[0m  The end of file was found, whilst more sheet  data  was  still
      expected.  The program will abort.

      [1mUser[0m [1maction:[0m  Check that the data has  not  been  corrupted,  and  otherwise
      complain to the supplier of the data.

  VERSION, version number not allowed on output IFF file

      [1mExplanation:[0m  The IFF filespec supplied may not specify which version of the
      file is to be created.  The program will abort.

      [1mUser[0m [1maction:[0m  Do not specify a version number for the IFF file.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-26
  MESSAGES (ERROR)                                                26 November 1992


  ZCOORD, error reading z-coordinate in height record

      [1mExplanation:[0m  An error occurred reading the  record  containing  the  height
      capture  method  and  z-coordinate  in  the feature height entry (after flag
      -24).  The program will abort.

      [1mUser[0m [1maction:[0m  Dependant upon the associated error messages.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-27
  MESSAGES (FATAL)                                                26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(FATAL)[0m

  These messages indicate a severe error in processing, or  some  form  of  system
  failure, which has caused the program to terminate.

  ACDSTAND, cannot find standard ACD definition 'name'

      [1mExplanation:[0m  The attribute code definition for the standard attribute  with
      the given name cannot be found.  This means that there is either an error in
      the program or a problem with the feature  representation  library,  FRTLIB.
      The program will abort.

      [1mUser[0m [1maction:[0m  Please report this problem to Laser-Scan.

  NORA, unable to patch RAnge - internal pointer corrupted

      [1mExplanation:[0m  After all of the data for a sheet has been output, the program
      attempts to patch the RAnge entry in the IFF file, to reflect the true range
      of the data.  This error indicates that it was unable to find the  RA  entry
      again.   This  means  that  either  the  program  or the IFF file has become
      corrupted.  The program will abort.

      [1mUser[0m [1maction:[0m  Please report this problem to Laser-Scan.


  IFFOSTF REFERENCE (1.1): OSTF2I utility                                Page 4-28
  MESSAGES (OTHER)                                                26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages  may  be  generated  by  the  IFF
  library  and  by  the  Laser-Scan I/O library, LSLLIB.  IFF library messages are
  introduced by '%IFF' and are documented in the IFF  library  users'  guide.   In
  most  cases  IFF  errors will be due to a corrupt input file, and this should be
  the first area of investigation.  If the cause of the error cannot be traced  by
  the user, and Laser-Scan are consulted, then the output file should be preserved
  to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'  and  are
  generally  self-explanatory.   They  are  used to explain the details of program
  generated errors.














                                     CHAPTER 5

                              OSMHED MAP HEADER EDITOR





  IFFOSTF REFERENCE (1.1): OSMHED map header editor                       Page 5-1
  UTILITY OSMHED                                                  26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mUTILITY[0m [1mOSMHED[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            OSMHED edits an Ordnance Survey type 2 map header.  Individual  fields
            in  the  header  can be edited either sequentially by stepping through
            them, or explicitly through the use of simple commands.   The  program
            also has its own built in help facility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ OSMHED IFF-file-spec

            [1mCommand[0m [1mqualifiers[0m                       [1mDefaults[0m
            /[NO]FULL                                /NOFULL
            /[NO]LIST                                /NOLIST
            /[NO]READ_ONLY                           /NOREAD_ONLY

  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPT[0m

            _IFF-file:      input-file-spec

  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  input-file-spec

          - specifies the IFF file which is to be edited.  Any part  of  the  file
            specification  which  is  not  supplied will be taken from the default
            specification 'LSL$IF:IFF.IFF'.

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

  /FULL
  /NOFULL (default)

          - allows display and editing of currently unused fields within  the  map
            header.   This  only  applies  to fields which have always been spare;
            fields made obsolete with the advent of OSTF-4 will be  displayed  but
            cannot be edited.  Note that this qualifier has the same effect as the
            [1mFULL[0m command (see below).

  /LIST
  /NOLIST (default)

          - causes the program to list all fields in the map header and then  exit
            without   allowing   editing.   Note  that  /LIST  implies  /READ_ONLY
            regardless of what has been specified on  the  command  line  for  the
            latter.


  IFFOSTF REFERENCE (1.1): OSMHED map header editor                       Page 5-2
  UTILITY OSMHED                                                  26 November 1992


  /READ_ONLY
  /NOREAD_ONLY (default)

          - specifies that the IFF file is opened only for reading.   Any  changes
            made  during the editing session will not be included in the IFF file.
            Note that the default is /READ_ONLY if /LIST has been specified.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m


            [1mOrdnance[0m [1mSurvey[0m [1mMap[0m [1mHeader[0m

            The Ordnance Survey type 2 map header is divided  into  two  sections.
            These are

             o  the process control part, and
             o  the map header part

            The first contains information relating  to  how  the  data  has  been
            processed,  and the second contains information about the data itself.
            Note that the source scale and origin offset appear in both sections.

            [1mEditing[0m [1mthe[0m [1mMap[0m [1mHeader[0m

            The program edits the map header in situ, and  operates  by  prompting
            for  data in a particular field.  Once this has been entered, a prompt
            appears for the next field.  Carriage return can be pressed to move to
            the  next  field  without  altering  the  existing data.  Commands and
            character data are case-independent,  i.e.  they  can  be  entered  in
            either upper or lower case and will be converted internally into upper
            case.  Alternatively, a command can be entered to select a  particular
            field  to be edited.  Note also that an asterisk ([1m*[0m) will unset a date
            field, and a TAB character will unset a  character  field.   When  the
            last  field of the current section (either the process control part or
            the  map  header  part)  has  been  dealt  with,  the   program   will
            automatically return to the first field.

            Note that when /FULL is specified, obsolete fields will  be  displayed
            but  cannot be edited.  When stepping through the header, these fields
            will be skipped.

            Initially it is assumed that the process control part is to be edited,
            and  the  data  in each field is listed.  This is followed by a prompt
            for the job number, which is the first field in  the  process  control
            section.

            The program can be directed to edit either the process control part or
            the  map  header  part.  When editing the process control section, the
            command [1mMH[0m will move the editor into the map header section  and  list
            the  data in each field.  When editing this part, the command [1mPCF[0m will
            move the editor back to the process control section.

            The command [1mHELP[0m or [1m?[0m  will list the commands  available  for  editing
            the current section.


  IFFOSTF REFERENCE (1.1): OSMHED map header editor                       Page 5-3
  UTILITY OSMHED                                                  26 November 1992


            The command [1mEXIT[0m or [1m<CTRL/Z>[0m will list all fields in both the  process
            control  and  map  header  sections,  write the data back into the map
            header  in  the  IFF   file,   and   finish   the   editing   session.
            Alternatively,  the  command  [1mQUIT[0m  will  abandon  the session without
            making any changes to the IFF file.  In the former case, if the  input
            file  is  a new style IFF file containing a type 2 MD (Map Descriptor)
            entry, the origin offset will be set to the same value as that in  the
            MH (Map Header) entry.  The HI (HIstory) entry will also be updated.

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMANDS[0m

            This section summarises the commands available.

            Many of the fields are only of relevance within  the  Ordnance  Survey
            production  environment  and  so  detailed  explanations of the actual
            codes used in each field have not been given.  However, the format  of
            the  data  has  been indicated, and where the fields are coded bitwise
            the various parts are summarised.  If a number is entered  in  a  base
            other  than  the  one indicated, it should be prefixed with one of the
            following radix escape sequences :-

                  ^B   -   binary
                  ^O   -   octal
                  ^D   -   decimal
                  ^X   -   hexadecimal

            Dates are entered in one of the following forms :-

                  [d]d/[m]m/[yy]yy        e.g. 12/06/1987 or 12/6/87
                       [m]m/[yy]yy        e.g.    06/1987 or    6/87
                            [yy]yy        e.g.       1987 or      87
                     [yy]yy/[yy]yy        e.g.  1984/1987 or   84/87

            In addition to the above, a single year can be input as the first year
            in  a multi-year field.  It is also possible to input 0 explicitly for
            the year in both multi-year and single year date fields.   This  means
            that  one  part  of  a  multi-year  field can be updated and the other
            cleared in the same operation.

            Note that commands cannot be given in response to prompts that  expect
            character data.

            [1mGeneral[0m [1mCommands[0m

            The following commands are available when editing either part  of  the
            map header :-

            FULL      - include currently unused fields for display and editing
            MH        - jump to editing the map header part
            PCF       - jump to editing the process control file part
            HELP or ? - get help
            EXIT      - exit and update file
            QUIT      - abandon editing


  IFFOSTF REFERENCE (1.1): OSMHED map header editor                       Page 5-4
  UTILITY OSMHED                                                  26 November 1992


            [1mProcess[0m [1mControl[0m [1mCommands[0m

            The following commands are available when editing the process  control
            file section :-

            JOBN    - JOB Number (decimal)

            MRCE    - Map Reference Corner Easting (decimal)

            MRCN    - Map Reference Corner Northing (decimal)

            SCSC    - SourCe SCale (decimal)

            GENR    - GENeration and Run (octal)
                      bits  0-11 - generation
                      bits 12-23 - run

            SECT    - SECTion/subsection (4 characters)

            INPC    - INPut Control (octal)
                      bit   0    - offline indicator
                      bit   1    - M/T input indicator
                      bits  2-3  - M/T input status
                      bit   4    - DM input file indicator
                      bit   5    - processing stop
                      bits  6-23 - end of digitised input
                                   on input file, word addr

            FLAG    - FLAG (octal)
                      bits  0-5  - correction pen colour
                      bit   6    - plot suppress flag
                      bits  7-10 - Corner control (NW,NE,SE,SW)
                      bit  11    - data exchange transfer flag
                      bits 12-17 - spare
                      bits 18-23 - processing table number

            EDGC    - EDGe match Control (octal)
                      bits  0-2  - N
                      bits  3-5  - E
                      bits  6-8  - S
                      bits  9-11 - W
                      bits 12-15 - Date of databanking - month
                      bits 16-22 -   "   "      "      - year
                      bit  23    - map extracted from databank

            MDFN    - Map Data File Number (octal)
                      bits  0-5  - map data file number
                      bits  6-23 - Subfile datum (bucket)
                                   on map data file

            DMPC    - DuMP Control (octal)
                      bit   0    - dump required indicator
                      bits  1-11 - gen of last dump for this job
                      bits 12-22 - spare ?
                      bit  23    - listing indicator


  IFFOSTF REFERENCE (1.1): OSMHED map header editor                       Page 5-5
  UTILITY OSMHED                                                  26 November 1992


            SUBF    - SUBFile size (octal)
                      bit   0    - subfile open indicator
                      bits  1-11 - spare ?
                      bits 12-23 - subfile size (buckets)

            SUBC    - SUBfile Creation date (octal)
                      bit   0    - edge match plot status
                      bit   1    - job awaiting back transfer
                      bits  2-7  - spare
                      bits  8-23 - date of initial subfile
                                   formation (days since 1900)

            REST    - RESTart counts (octal)
                      bits  0-5  - -1
                      bits  6-11 - -2
                      bits 12-17 - -3
                      bits 18-23 - -4

            EDGS    - EDGe match Status (octal)
                      bit   0    - N
                      bit   1    - E
                      bit   2    - S
                      bit   3    - W
                      bit   4    - D23 marker
                      bit   5    - databank marker
                      bit   6    - edge data amended marker
                      bit   7    - master plan marker
                      bit   8-23 - spare ?

            EDGJ    - EDGe Job counts (octal)
                      bits  0-5  - N
                      bits  6-11 - E
                      bits 12-17 - S
                      bits 18-23 - W

            [1mMap[0m [1mHeader[0m [1mCommands[0m

            The following commands are  available  when  editing  the  map  header
            section :-

            SP03    -  3 spare (decimal)
            SP04    -  4 spare (decimal)
            MRCE    - Map Reference Corner Easting (decimal)
            MRCN    - Map Reference Corner Northing (decimal)
            MLE     - Map Limit Easting (decimal)
            MLN     - Map Limit Northing (decimal)
            BGI     - Basic Grid Interval (decimal)
            STSC    - STorage SCale (decimal)
            DCSC    - Data Capture SCale (decimal)
            SP13    - 13 spare (decimal)
            SP14    - 14 spare (decimal)
            SP15    - 15 spare (decimal)
            SP18    - 18 spare (decimal)
            SP19    - 19 spare (decimal)
            EMSN    - Edge Match Status (North) (decimal)
            EMSE    - Edge Match Status (East) (decimal)


  IFFOSTF REFERENCE (1.1): OSMHED map header editor                       Page 5-6
  UTILITY OSMHED                                                  26 November 1992


            EMSS    - Edge Match Status (South) (decimal)
            EMSW    - Edge Match Status (West) (decimal)
            DIDB    - Date of Initial DataBanking (decimal dd/mm/[yy]yy)
            SP25    - 25 spare (decimal)
            SP26    - 26 spare (decimal)
            SP27    - 27 spare (decimal)
            SP28    - 28 spare (decimal)
            SP29    - 29 spare (decimal)
            SP30    - 30 spare (decimal)
            EDTN    - EDiTioN (12 characters)
            SURT    - SURvey Type (4 characters)
            LFRD    - Latest Full Revision Date (decimal mm/[yy]yy)
            BOUD    - BOUndary Date (decimal mm/[yy]yy)
            LEVD    - LEVelling Date 1 (decimal [yy]yy)
            LEV2    - LEVelling date 2 (decimal [yy]yy)
            CPYD    - CoPYright Date (decimal [yy]yy)
            DUPC    - Digital UPdate Count (decimal)
            COND    - CONtour Date (decimal [yy]yy)
            CVI     - Contour Vertical Interval (decimal)
            MSPC    - Map SPeCification number (decimal)
            ABI1    - Additional Boundary Information (80 characters)
            ABI2    - Additional Boundary Information (80 characters)
            ABI3    - Additional Boundary Information (80 characters)
            MHWM    - High Water Mark Dates (decimal [yy]yy/[yy]yy)
            MLWM    - Low Water Mark Dates (decimal [yy]yy/[yy]yy)
            CIND    - Content INDicator (8 characters)
            OSRD    - Original Survey Date 1 (decimal mm/[yy]yy)
            OSR2    - Original Survey Date 2 (decimal mm/[yy]yy)
            DUPD    - Digital UPdate Date (decimal dd/mm/[yy]yy)
            QCD     - Quality Control Date (decimal mm/[yy]yy)
            HUC     - House Unit Count (decimal)
            OSTF    - OSTF+ indicator (decimal)
            STRD    - STRucture Date (decimal dd/mm/[yy]yy)
            CVAL    - Check VALues (8 characters)
            UNSL    - UNSpecified Long (decimal)
            UNSS    - UNSpecified Short 1 (decimal)
            UNS2    - UNSpecified Short 2 (decimal)
            FLG1    - update FLaG 1 (character)
            FLG2    - update FLaG 2 (character)
            FLG3    - update FLaG 3 (character)
            FLG4    - update FLaG 4 (character)
            FLG5    - update FLaG 5 (character)
            FLG6    - update FLaG 6 (character)
            FLG7    - update FLaG 7 (character)
            FLG8    - update FLaG 8 (character)
            STRC    - STRucture Category (decimal)
            BNUM    - Batch NUMber (decimal)
            CID     - Contractors IDentity (4 characters)

            Note that SPn (where n is an integer) takes the editor on to the  next
            used field when not editing the full map header.


  IFFOSTF REFERENCE (1.1): OSMHED map header editor                       Page 5-7
  UTILITY OSMHED                                                  26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m


  $ [1mOSMHED[0m [1mEXAMPLE<CR>[0m

  Map Reference TA9999   at 21-JAN-1989 21:27:19.15
   
   JOBN 3510                      STorage SCale 1:2500
   MRCE 599000                    MRCN 499000
   GENeRation 0170                last run no 0000
   SECTion C1DE                   INPut Control     1001
   FLAG        2                  EDGe match Control        0
   Map Data File No  3005452      DuMP Control  2370001
   SUBFile size      230          SUBfile Creation    71654
   RESTart counts 00,00,00,00
   EDGe match Status        0     EDGe Job counts 00,00,00,00

  Type ? or HELP for help

   JOB number (3510) [D] ?  [1m3500<CR>[0m
   Map Ref Corner (E) (599000) [D] ?  [1mMH<CR>[0m

   Map Ref Corner (E) 599000      (N) 499000
   Map Limit (E) 0                (N) 0
   Basic Grid Interval 50         STorage SCale 2500
   Data Capture SCale 1500        Edge Match Status (N) 1
   Edge Match Status (E) 1        Edge Match Status (S) 0
   Edge Match Status (W) 0        Date of Initial DataBanking 1/8/1987
   EDiTioN B                      SURvey Type    A
                                  Latest Full Revision Date 1/1981
   BOUndary Date 9/1980           LEVelling Date (1) 1961
   LEVelling Date (2) 1962                CoPYright Date 1981
   Digital UPdate Count 1         CONtour Date 0
   Contour Vert Interval 0        Map SPeCification number 00000000
   Additional Boundary Information - BOUNDARY INFORMATION MAY BE INCOMPLETE AND IS
   UNVERIFIED
   Additional Boundary Information - 
   Additional Boundary Information - 
   High Water Mark Dates 3869/0   Low Water Mark Dates 3869/0
   Content INDicator              Orig SuRvey Date (1) 7/1976
   Orig SuRvey Date (2) 3/1981    Digital UPdate Date 1/7/1979
   Quality Control Date 0/0       House Unit Count 0
   OSTF+ indicator 0              STRucture Date 0/0/0
   Check VALues 
   UNSpecified Long 0             UNSpecified Short (1) 0
   UNSpecified Short (2) 0
   FLaG1                          FLaG2 
   FLaG2                          FLaG4 
   FLaG5                          FLaG6 
   FLaG7                          FLaG8 
   STRucture Category 0
   Batch NUMber 0                 Contractors IDentity 9141

   Map Ref Corner (E) (599000) [D] ? [1mHELP<CR>[0m



  IFFOSTF REFERENCE (1.1): OSMHED map header editor                       Page 5-8
  UTILITY OSMHED                                                  26 November 1992


  The following commands are available :-

  FULL  MH    PCF   HELP  ?     EXIT  
  QUIT  SP03  SP04  MRCE  MRCN  MLE   
  MLN   BGI   STSC  DCSC  SP13  SP14  
  SP15  SP18  SP19  EMSN  EMSE  EMSS  
  EMSW  DIDB  SP25  SP26  SP27  SP28  
  SP29  SP30  EDTN  SURT  LFRD  BOUD  
  LEVD  LEV2  CPYD  DUPC  COND  CVI   
  MSPC  ABI1  ABI2  ABI3  HWMD  LWMD  
  CIND  OSRD  OSR2  DUPD  QCD   HUC   
  OSTF  STRD  CVAL  UNSL  UNSS  UNS2  
  UNS3  UNS4  STRC  BNUM  CID   

  Type a number to replace contents of current field.
  Hit RETURN to go on to next field.
  Type PC to jump back to editing the Process Control File.
  Type FULL to include currently unused fields.
  Type EXIT to exit normally, or QUIT to exit immediately.
  Type the four letter mnemonic to edit a particular field.
  Type an asterisk ('*') to unset a date field.

   Map Ref Corner (E) (599000) [D] ? [1mBGI<CR>[0m
   Basic Grid Interval (50) [D] ? [1m100<CR>[0m
   STorage SCale (2500) [D] ? [1mOSRD<CR>[0m
   Original SuRvey Date 1 (7/1976) [M/Y] ? [1m<CR>[0m
   Original SuRvey Date 2 (3/1981) [M/Y] ? [1m<CR>[0m
   Digital UPdate Date (1/7/1979) [D/M/Y] ? [1m<CR>[0m
   Quality Control Date (0/0) [M/Y] ? [1mDUPC<CR>[0m
   Digital UPdate Count (1) [D] ? [1m*<CR>[0m
  %OSMHED-E-NOTDATE, asterisk only valid for unsetting date field
   Digital UPdate Count (1) [D] ? [1mDUPD<CR>[0m
   Digital UPdate Date (1/7/1979) [D/M/Y] ? [1m*<CR>[0m
  %OSMHED-I-DATUNSET, date field now unset
   Quality Control Date (0/0) [M/Y] ? [1mEDTN<CR>[0m
   EDiTioN (B           )  [S] ? [1m<CR>[0m
   SURvey Type (   A) [S] ? [1m<CR>[0m
   Latest Full Revision Date (1/1981) [M/Y] ? [1mEXIT<CR>[0m

  Map Reference TA9999   at 21-JAN-1989 21:30:08.67
   
   JOBN 3500                      STorage SCale 1:2500
   MRCE 599000                    MRCN 499000
   GENeRation 0170                last run no 0000
   SECTion C1DE                   INPut Control     1001
   FLAG        2                  EDGe match Control        0
   Map Data File No  3005452      DuMP Control  2370001
   SUBFile size      230          SUBfile Creation    71654
   RESTart counts 00,00,00,00
   EDGe match Status        0     EDGe Job counts 00,00,00,00

   Map Ref Corner (E) 599000      (N) 499000
   Map Limit (E) 0                (N) 0
   Basic Grid Interval 100        STorage SCale 2500
   Data Capture SCale 1500        Edge Match Status (N) 1
   Edge Match Status (E) 1        Edge Match Status (S) 0


  IFFOSTF REFERENCE (1.1): OSMHED map header editor                       Page 5-9
  UTILITY OSMHED                                                  26 November 1992


   Edge Match Status (W) 0        Date of Initial DataBanking 1/8/1987
   EDiTioN B                      SURvey Type    A
                                  Latest Full Revision Date 1/1981
   BOUndary Date 9/1980           LEVelling Date (1) 1961
   LEVelling Date (2) 1962                CoPYright Date 1981
   Digital UPdate Count 1         CONtour Date 0
   Contour Vert Interval 0        Map SPeCification number 00000000
   Additional Boundary Information - BOUNDARY INFORMATION MAY BE INCOMPLETE AND IS
   UNVERIFIED
   Additional Boundary Information - 
   Additional Boundary Information - 
   High Water Mark Dates 3869/0   Low Water Mark Dates 3869/0
   Content INDicator              Orig SuRvey Date (1) 7/1976
   Orig SuRvey Date (2) 3/1981    Digital UPdate Date 0/0/0
   Quality Control Date 0/0       House Unit Count 0
   OSTF+ indicator 0              STRucture Date 0/0/0
   Check VALues 
   UNSpecified Long 0             UNSpecified Short (1) 0
   UNSpecified Short (2) 0
   FLaG1                          FLaG2 
   FLaG2                          FLaG4 
   FLaG5                          FLaG6 
   FLaG7                          FLaG8 
   STRucture Category 0
   Batch NUMber 0                 Contractors IDentity 9141
   ELAPSED:    0 00:02:50.04  CPU: 0:00:00.40  BUFIO: 125  DIRIO: 8  FAULTS: 231 
  $ 

            This example illustrates a few simple edits of the map  header.   When
            invoked,  the  program took the user straight into editing the process
            control file part, listing the data and prompting for the  job  number
            which was amended.  The MH command was then given to move into the map
            header section.  The data was listed and a prompt for the first  field
            in  this  section,  the map reference corner Eastings, appeared.  HELP
            was then issued to obtain a list of the commands available,  and  this
            was followed by a second prompt for the first field.

            The BGI command was then issued, in  order  to  edit  the  basic  grid
            interval.   A  prompt  for this data appeared and the new value of 100
            was entered.  This was followed by a prompt for the storage scale, the
            field following the basic grid interval.

            The command OSRD was given to move the editor to  the  first  original
            survey date field.  Carriage return was used to move to the second and
            again to move on to the digital update date  field.   Carraige  return
            was  then  used  a third time by mistake, taking the editor beyond the
            desired field, so the command DUPC was given (DUPD was intended).   An
            attempt  was  then  made  to unset the digital update count using '*'.
            Since this field simply requires an integer and not a date,  an  error
            message was output, and the prompt repeated.  Note that error messages
            output as a result of operator errors do not affect the exit status of
            the  program.   DUPD  was then given to get back to the digital update
            date, which was then  unset  by  typing  '*'.   Note  that  a  message
            confirming this action is displayed.


  IFFOSTF REFERENCE (1.1): OSMHED map header editor                      Page 5-10
  UTILITY OSMHED                                                  26 November 1992


            The command EDTN was then given for the edition and a prompt for  that
            field  appeared.   It and the next are character fields, and therefore
            commands are not recognised.  Thus carriage return was used to move to
            the next field which would allow recognition of a command.

            The session was then terminated by typing EXIT, and a listing  of  the
            updated   data   in   both   sections   of   the  header  was  output.
            Alternatively, <CTRL/Z> could have been used to exit when  the  prompt
            for EDiTioN appeared.


  IFFOSTF REFERENCE (1.1): OSMHED map header editor                      Page 5-11
  MESSAGES (INFORMATIONAL)                                        26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  DATUNSET, date field now unset

      [1mExplanation:[0m  This message confirms that the date field just edited  is  now
      unset.  This would have been done by typing '*'

      [1mUser[0m [1maction:[0m  None.

  RDONLY, IFF file was opened read-only, not being updated

      [1mExplanation:[0m  This message confirms  that  the  program  was  run  with  the
      /READ_ONLY  qualifier,  and that the IFF file will not be updated.  If /LIST
      is also in force, the message will not be output.

      [1mUser[0m [1maction:[0m  None.


  IFFOSTF REFERENCE (1.1): OSMHED map header editor                      Page 5-12
  MESSAGES (WARNING)                                              26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  FROMBIN, illegal date 'integer' (should be from 'min' to 'max')

      [1mExplanation:[0m  Some dates are stored in the OS map header as ICL binary days,
      and  this  message  indicates  that a value outside the legal range has been
      found.  The dates concerned are the date of initial databanking, the digital
      update  date,  and  the structure date.  A system error message will also be
      output.  The program will appear to use a binary date of zero, although  the
      date  in  the map header will not be altered unless a new value is typed in.
      The date the message applies to will be on the output line or in the  prompt
      string following the messages.

      [1mUser[0m [1maction:[0m  If the IFF file has been  created  or  edited  using  standard
      Laser-Scan  software,  then  the date should be correctly defined.  If it is
      not obvious why the date is incorrect (for instance,  the  file  might  have
      been  produced  by  translation from an OSTF tape using OSTF2I, and not have
      had a date defined in the OSTF data), then it may be necessary to  report  a
      problem  to Laser-Scan.  In this case, please supply details of the flowline
      used to produce  the  IFF  file,  as  well  as  the  file  itself,  and  any
      intermediate files.

  MHUPGRADE, cannot fully upgrade IFF map header

      [1mExplanation:[0m  Once the IFF map header has  been  read  in,  it  is  upgraded
      internally  to  the  OSTF-4 standard ready for output.  (The IFF file is not
      altered if the /READ_ONLY qualifier was  specified.)  This  message  appears
      when  a  problem has occurred with the upgrade procedure.  It is most likely
      due to one of the old digital update dates or the old selected revision date
      having  been  corrupted.   The  latest  of  these  dates is used for the new
      digital update date which is stored in the OS map header as ICL binary days.
      A  system  message  follows for further explanation.  The program will use a
      binary date of zero for the new digital update date.

      [1mUser[0m [1maction:[0m  If the IFF file has been  created  or  edited  using  standard
      Laser-Scan  software,  then the dates should be correctly defined.  If it is
      not obvious why any of the dates are incorrect (for instance, the file might
      have  been  produced  by translation from an OSTF tape using OSTF2I, and not
      have had a date defined in the OSTF data),  then  it  may  be  necessary  to
      report  a problem to Laser-Scan.  In this case, please supply details of the
      flowline used to produce the IFF file, as well as the file itself,  and  any
      intermediate files.

  WRONGLEN, strange MH length 'integer' (should be 'integer')

      [1mExplanation:[0m  A fixed Map Header length is expected for OS  IFF  files.   If
      this  is  different  to  the length expected, this message will be displayed
      when execution begins.  Editing can be performed as normal if desired.

      [1mUser[0m [1maction:[0m  If the reason for the unusual  Map  Header  length  is  known,
      editing  can proceed.  If not, use the command QUIT to terminate the session
      without changing the IFF file.  The normal length for an OS  Map  Header  is


  IFFOSTF REFERENCE (1.1): OSMHED map header editor                      Page 5-13
  MESSAGES (WARNING)                                              26 November 1992


      174,  and  the  value set should be checked using the IMP utility IPATCH.  A
      normal length will indicate a bug in OSMHED and this should be  reported  on
      an  SPR  form.   If the map header length is as indicated by OSMHED, look at
      the IFF HIstory entry to determine how it was created and possibly  amended.
      If  this  indicates  a  possible problem with any Laser-Scan utility, an SPR
      should be submitted.


  IFFOSTF REFERENCE (1.1): OSMHED map header editor                      Page 5-14
  MESSAGES (ERROR)                                                26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  BADDAY, day ('number') out of range in date

      [1mExplanation:[0m  The day part of a date field should be an integer in the range
      1  to  31.   A  number  outside this range will cause the generation of this
      message.  The date input is ignored, and the prompt repeated.

      [1mUser[0m [1maction:[0m  Try again with a valid value for the day within the date.

  BADMONTH, month ('number') out of range in date

      [1mExplanation:[0m  The month part of a date field should be  an  integer  in  the
      range  1  to  12.   A number outside this range will cause the generation of
      this message.  The date input is ignored, and the prompt repeated.

      [1mUser[0m [1maction:[0m  Try again with a valid value for the month within the date.

  BADNUM, bad numeric value - ignored

      [1mExplanation:[0m  This message indicates an error  in  reading  a  number.   The
      number is ignored, and the prompt is repeated.

      [1mUser[0m [1maction:[0m  Try again with a legal number.

  NOMD, cannot find MD entry in IFF file

      [1mExplanation:[0m  After editing  the  map  header,  OSMHED  looks  for  the  Map
      Descriptor  entry.   If the descriptor is type 2, (i.e.  a new type IFF file
      is being edited), the origin  offset  and  scale  are  updated.   If  a  map
      descriptor  is not found immediately after the map header, the program exits
      and this message appears, indicating  that  the  IFF  file  is  invalid  and
      therefore cannot be used.

      [1mUser[0m [1maction:[0m  Look at the IFF file using the IMP utility IPATCH, in order to
      ascertain  the  level of corruption.  The HIstory entry may indicate how the
      IFF file came to have no MD entry.

  NOMH, cannot find MH entry in IFF file

      [1mExplanation:[0m  If a map header is not  found,  the  program  exits  and  this
      message  appears,  indicating  that  the  IFF  file is invalid and therefore
      cannot be used.

      [1mUser[0m [1maction:[0m  Look at the IFF file using the IMP utility IPATCH, in order to
      ascertain  the  level of corruption.  The HIstory entry may indicate how the
      IFF file came to have no MH entry.


  IFFOSTF REFERENCE (1.1): OSMHED map header editor                      Page 5-15
  MESSAGES (ERROR)                                                26 November 1992


  NOTDATE, asterisk only valid for unsetting date field

      [1mExplanation:[0m  An asterisk '*' has been input for a  field  which  is  not  a
      date,  causing  the  output of this message, and followed by a repeat of the
      prompt.

      [1mUser[0m [1maction:[0m  Try again  using  a  command,  integer  number  or  string  as
      appropriate.

  RDERR, error reading from terminal

      [1mExplanation:[0m  This message indicates failure to read  in  a  line  from  the
      terminal,  and  is  followed  by  a system error message.  the program exits
      immediately.

      [1mUser[0m [1maction:[0m  Depends on the severity of the system error, but it may simply
      be a case of trying again.

  STRTOOLONG, string too long (max length 'integer')

      [1mExplanation:[0m  Some fields in the map header require a string of  characters.
      This  message  appears  when  the string input for such a field is too long.
      The string is ignored, and the prompt repeated.

      [1mUser[0m [1maction:[0m  Try again with a string of an acceptable length.

  TOBIN, illegal input date - 'day'/'month'/'year'

      [1mExplanation:[0m  A date input has  fields  that  are  unacceptable.   A  system
      message  follows  to  explain  the  reason.  The program will not attempt to
      translate the date into the map header in the IFF file.

      [1mUser[0m [1maction:[0m  Try again with a legal date.

  UNEXPCH, unexpected character ''character''

      [1mExplanation:[0m  Input to the program should consist of  four-letter  mnemonics
      for the commands, integer numbers for numeric data, text for character data,
      or integer numbers separated by '/' for dates.  The only exceptions are  '?'
      for  HELP,  and '*' to unset a date field.  Any other characters will result
      in the generation of this message, followed by  a  repetition  of  the  last
      prompt for input.

      [1mUser[0m [1maction:[0m  Try again with legal input.

  UNKNAME, unknown name 'string'

      [1mExplanation:[0m  This message is produced when an  invalid  command  is  input.
      The command is ignored and the prompt repeated.

      [1mUser[0m [1maction:[0m  Try again with a valid command.  HELP will give you a list  of
      commands to use.


  IFFOSTF REFERENCE (1.1): OSMHED map header editor                      Page 5-16
  MESSAGES (ERROR)                                                26 November 1992


  WRONGMH, wrong map header type 'number'

      [1mExplanation:[0m  The program encountered a map header that is did  not  expect.
      OSMHED is only intended to work on type 0 and 2 map headers.

      [1mUser[0m [1maction:[0m  Ensure that the input IFF file has a type 0 or  2  map  header
      (MH) entry.


  IFFOSTF REFERENCE (1.1): OSMHED map header editor                      Page 5-17
  MESSAGES (OTHER)                                                26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages  may  be  generated  by  the  IFF
  library  and  by  the  Laser-Scan I/O library, LSLLIB.  IFF library messages are
  introduced by '%IFF' and are documented in the IFF  library  users'  guide.   In
  most  cases  IFF  errors will be due to a corrupt input file, and this should be
  the first area of investigation.  If the cause of the error cannot be traced  by
  the user, and Laser-Scan are consulted, then the output file should be preserved
  to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'  and  are
  generally  self-explanatory.   They  are  used to explain the details of program
  generated errors.














                                     CHAPTER 6

                            OSPIF IFF FILE PRINT UTILITY





  IFFOSTF REFERENCE (1.1): OSPIF IFF file print utility                   Page 6-1
  UTILITY OSPIF                                                   26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mUTILITY[0m [1mOSPIF[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            OSPIF is a program for printing out the contents of  an  IFF  file  in
            summary  format,  and  is  useful  for  checking  that  a map has been
            successfully coded and formatted.  The information  produced  includes
            the  identity  of the map sheet, feature codes, descriptions of texts,
            and start and end points of each feature.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ OSPIF IFF-file-spec

            [1mCommand[0m [1mqualifiers[0m                       [1mDefaults[0m
            /[NO]FC[=integer]                        All feature codes
            /FRT=file-spec                           No FRT file read
            /[NO]FSN[=integer]                       All feature serial numbers
            /[NO]KEEP[=file-spec]                    /NOKEEP
            /[NO]PRINT                               /NOPRINT
            /[NO]TYPE                                /TYPE

  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPT[0m

            _IFF-file:      input-file-spec

  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  input-file-spec

          - specifies the IFF file which is to be printed.  Any part of  the  file
            specification  which  is  not  supplied will be taken from the default
            specification 'LSL$IF:IFF.IFF'.

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

  /FC[=integer]
  /NOFC

          - enables selection of a range of feature codes to be output.  Either  a
            single  feature code or a range may be specified - multiple ranges are
            not allowed.  /FC by itself selects all feature codes  (the  default).
            Feature  codes  must  lie  in the range 0 to 32767, and up to 1024 are
            allowed.  Note, however, that the feature code  table  can  only  cope
            with  feature  codes  in the range 0 to 1000.  Any features in the IFF
            file with codes outwith  this  range  will  be  ignored,  and  warning
            messages will appear.


  IFFOSTF REFERENCE (1.1): OSPIF IFF file print utility                   Page 6-2
  UTILITY OSPIF                                                   26 November 1992


  /FRT=file-spec

          - causes an FRT file, containing commands to set up an ACD common block,
            to  be  read  in  and  obeyed.  These definitions will then be used to
            identify any AC codes encountered and reported.  If  no  FRT  file  is
            specified,  then  only  the  default AC values will be identified, any
            others will be described by a '?' in the appropriate position  in  the
            output.

  /FSN[=integer]
  /NOFSN

          - enables selection of a range of feature serial numbers to  be  output.
            Either  a  single  feature serial number or a range may be specified -
            multiple ranges are not allowed.  /FSN by itself selects all  features
            (the  default).   Feature  serial  numbers  must lie in the range 1 to
            65535, and up to 1024 are allowed.

  /KEEP[=file-spec]
  /NOKEEP

          - causes the output to be written to the given file-spec.   The  default
            file-spec is PIFFILE.TMP

  /PRINT
  /NOPRINT

          - causes the output to be spooled.  That is, it is written to  the  file
            PIFFILE.TMP,  and  printed.  When the printing has completed, the file
            is deleted.

  /TYPE
  /NOTYPE

          - causes the output to be written to the terminal, and  is  the  default
            action.

  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  /KEEP, /PRINT and /TYPE are mutually exclusive


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m

            After the command line has been decoded, the relevant  information  is
            read  from  the feature code file (see below).  The program then reads
            through the IFF file sequentially, printing the  relevant  information
            for  each  feature.  Whenever a new feature code is encountered, a new
            header with the feature code and description is printed.   Information
            from the map header is summarised at the start of the output, and some
            totals given at the end.


  IFFOSTF REFERENCE (1.1): OSPIF IFF file print utility                   Page 6-3
  UTILITY OSPIF                                                   26 November 1992


            OSPIF will only accept IFF files containing type 2, 3 or 4 MH entries.
            If  the map header is type 3, the positions of the BGI, job number and
            capture scale are obtained from the translation table LSL$OS_MH_TABLE,
            and  the  values  will  be  read  from the header for inclusion in the
            display.  The Eastings, Northings and storage scale will be taken from
            the map descriptor.  Refer to the IFFOSTF DATA PREPARATION section for
            details on how to set up the translation table.

            IFF ZS (3-d string) entries are treated like ST (2-d string)  entries,
            the  heights  being  ignored.   Similarly, CB (co-ordinate blocks with
            variable numbers of co-ordinates and  per  point  attributes)  entries
            will be treated like ST entries, with any heights and attributes being
            ignored.  Composite texts (i.e.  features which  contain  Text  Status
            (TS)  entries)  are treated like individual text features, except that
            the feature serial number is the same  for  each  component,  and  the
            number of components is given at the end of the feature.

            [1mFeature[0m [1mCode[0m [1mNames[0m

            OSPIF outputs the name of each feature code as it  encounters  it  (eg
            'Name'  or  'Antiquity  symbol').   It obtains this information from a
            text file pointed to by the logical name LSL$OS_CODES.  Care  must  be
            taken to change this file when amendments are made to FRT files.

            Each line in the file  is  of  fixed  format,  and  consists  of  four
            4-character fields followed by a 28-character field, thus :-

                 <fc>     <type>     <layer>     <code>     <description>

            where <fc> is the feature code
                  <type> is the feature type 
                       1 and 2 for lines
                       3 for names
                       5 for 1-point symbols
                       6 for 2-point symbols
                       7 for scaled symbols
                  <layer> is the layer number and is ignored
                  <code> is an OS specific code which is ignored
                  <description> is the feature code description

            An example follows :-

               1   1   1   1Building (public)
              18   2   1  12Railway (disused)
              28   3   1   0Name
              40   5   1  10Telephone post/pillar (GPO)
              48   6   1  23Elect pylon (standard)
              49   7   1   0Elect pylon (surveyed)


  IFFOSTF REFERENCE (1.1): OSPIF IFF file print utility                   Page 6-4
  UTILITY OSPIF                                                   26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m


  $ [1mOSPIF/FRT=RON_ACD[0m [1mINFO_TEST<CR>[0m
  IFF file LSL$IF:INFO_TEST.IFF;0
  FRT file LSL$FRT:RON_ACD.FRT
  Job     0 Map Ref SV0000SW on 27-NOV-1987 11:48:50.32   
  Reference corner       0,      0
  BGI   0m.; storage scl 1:    0 data cap scl 1:    0

  Section identification: created by IFROMTEXT at 15:01:42 on 26-NOV-87

  Layer  1

  Code   0 type 1 - Unknown feature type
    FSN   Size     Start - Coords       Final - Coords      PC
      1      1       0.00     0.00        0.00     0.00      0
  AC found : Contour =         100
      2      1       0.00     0.00        0.00     0.00      0
  AC found : Height = 101.123
      3      1       0.00     0.00        0.00     0.00      0
  AC found : Contour =         200
      4      1       0.00     0.00        0.00     0.00      0
  AC found : Height = -12.1

  Layer  2

  Code   0 type 1 - Unknown feature type
    FSN   Size     Start - Coords       Final - Coords      PC
      5      1       0.00     0.00        0.00     0.00      0
  AC found : Contour =         -10
      6      1     234.57   948.40      234.57   948.40      0
      7      1       0.00     0.00        0.00     0.00      0
  AC found : Secondary_FC =     0
      8      1       0.00     0.00        0.00     0.00      0
  AC found : Contour =        1000
      9      1       0.00     0.00        0.00     0.00      0
  AC found : Height = -100.582
     10      1       0.00     0.00        0.00     0.00      0
     11      1       0.00     0.00        0.00     0.00      0
     12      1       0.00     0.00        0.00     0.00      0
  AC found : Contour =           0
     13      1       0.00     0.00        0.00     0.00      0
     14      0       0.00     0.00        0.00     0.00      0
  AC found : Text =    13  "This is text"
     15      0       0.00     0.00        0.00     0.00      0
  AC found : INT_EXAMPLE =         -11
     16      0       0.00     0.00        0.00     0.00      0
  AC found : INTEGER_EXAMPLE =       1000

  Layer  3

  Code   0 type 1 - Unknown feature type
    FSN   Size     Start - Coords       Final - Coords      PC
     17      0       0.00     0.00        0.00     0.00      0


  IFFOSTF REFERENCE (1.1): OSPIF IFF file print utility                   Page 6-5
  UTILITY OSPIF                                                   26 November 1992


  AC found : SECURITY_MARKER = 1

  Total FSNs    17 (different    17); total points      13
   ELAPSED:    0 00:00:24.93  CPU: 0:00:09.85  BUFIO: 63  DIRIO: 17  FAULTS: 405 
  $

            This illustrates the use of an FRT  file,  containing  AC  defintions,
            when  reporting  on an IFF file containing AC entries.  Some of the AC
            definitions above, such as CONTOUR, are default codes,  while  others,
            such as SECURITY_MARKER are defined in the specified FRT file.

  $ [1mOSPIF/KEEP=CCB1.LIS[0m [1mCCB1<CR>[0m
  %LSLLIB-I-IFFOPENED, DUA0:[OS.IFF]CCB1.IFF;1 opened for read
  %OSPIF-I-CREOUT, output file CCB1.LIS created
   ELAPSED:    0 00:00:04.52  CPU: 0:00:03.40  BUFIO: 9  DIRIO: 21  FAULTS: 203 
  $

            When output is directed to a text file, a message confirming that  the
            IFF  file  has been opened is output, followed by a message indicating
            that the output file has been created.

  $ [1mOSPIF/PRINT[0m [1mCCB1<CR>[0m
  %LSLLIB-I-IFFOPENED, DUA0:[OS.IFF]CCB1.IFF;1 opened for read
   ELAPSED:    0 00:00:05.23  CPU: 0:00:03.51  BUFIO: 9  DIRIO: 23  FAULTS: 199 
  $

            When the output is spooled and printed, only  the  message  confirming
            that the IFF file has been opened is output.


  IFFOSTF REFERENCE (1.1): OSPIF IFF file print utility                   Page 6-6
  UTILITY OSPIF                                                   26 November 1992


  $ [1mOSPIF[0m [1mTEST/FC=28<CR>[0m
  IFF file LSL$IF:TEST.IFF;0
  Job  3500 Map Ref TA9999   on 11-AUG-1987 13:07:31.32   
  Reference corner  599000, 499000
  BGI 100m.; storage scl 1: 2500 data cap scl 1: 1500

  Section identification: Created by RJH as a text file

  Layer  1

  Code  28 type 5 - Name
    FSN   Size     Start - Coords    Ang  P S  C  Text
     45      5     611.62   860.16     0  6 1  1  IMPORTANT BUILDING BELOW ULC
     62     10     263.73   846.38    32  0 0  0  T
     62     10     270.42   850.32    28  0 0  0  h
     62     10     276.06   853.17    25  0 0  0  i
     62     10     280.18   855.01    22  0 0  0  s
     62     10     286.75   857.53    19  0 0  0     
     62     10     294.17   859.83    15  0 0  0  i
     62     10     298.55   860.93    12  0 0  0  s
     62     10     305.46   862.28     9  0 0  0     
     62     10     313.17   863.26     5  0 0  0  a
     62     10     320.56   863.69     1  0 0  0     
     62     10     328.32   863.61   357  0 0  0  b
     62     10     335.35   863.06   353  0 0  0  e
     62     10     342.32   862.08   350  0 0  0  n
     62     10     348.51   860.82   346  0 0  0  t
     62     10     354.62   859.20   343  0 0  0     
     62     10     361.99   856.75   339  0 0  0  t
     62     10     367.85   854.38   336  0 0  0  e
     62     10     374.21   851.35   332  0 0  0  x
     62     10     380.36   847.92   329  0 0  0  t
  Composite text with 19 components
     63     24     198.41   663.98     0  0 0  0  This is a paragraph of text
     63     24     198.41   642.22     0  0 0  0  being used for testing
     63     24     198.41   620.46     0  0 0  0  transformations.  Note that 
     63     12     198.41   605.83     0  0 0  0  the point size of the text
     63     12     198.41   592.19     0  0 0  0  can change.
  Composite text with 5 components

  Layer 11

  Total FSNs     3 (different     3); total points      25
   ELAPSED:    0 00:00:05.25  CPU: 0:00:03.61  BUFIO: 46  DIRIO: 29  FAULTS: 209 
  $

            In this example, only feature code 28 (text)  has  been  selected  for
            output.   There  are three features, two of which are composite texts.
            Note that the FSN is the same for each component, and a summary of the
            number  of  components  is  given at the end of the feature.  Note the
            different angles for each component of FSN 62, and the change in point
            size for FSN 63.  This file contains a grid in layer 11, but since the
            feature code for grid lines is not  being  output,  only  the  heading
            appears.

  $ [1mOSPIF[0m [1mTESTERR2<CR>[0m


  IFFOSTF REFERENCE (1.1): OSPIF IFF file print utility                   Page 6-7
  UTILITY OSPIF                                                   26 November 1992


  IFF file LSL$IF:TESTERR2.IFF;0
  Job  3500 Map Ref TA9999   on 11-AUG-1987 13:08:01.87   
  Reference corner  599000, 499000
  BGI 100m.; storage scl 1: 2500 data cap scl 1: 1500

  Section identification: Created by RJH as a text file

  Layer  1

  Code  30 type 1 - Fence,wall (non road)
    FSN   Size     Start - Coords       Final - Coords      PC
      1      7     899.71    -0.00      999.90    74.12      0

  Code  14 type 1 - Railway (narrow gauge)
    FSN   Size     Start - Coords       Final - Coords      PC
      2     15     999.61    62.30      904.69    -0.00      0

  Code 993 type 0 - 
  %OSPIF-W-NOTINTAB, FSN 3 has feature code 993 not in code table
  %OSPIF-W-UNKFC, FSN 4 has unknown feature code 2000

  Code   0 type 1 - Unknown feature type
    FSN   Size     Start - Coords       Final - Coords      PC
      5    178     177.44   404.49      177.44   404.49      0

  Code  87 type 1 - CL Motorway roundabout
    FSN   Size     Start - Coords       Final - Coords      PC
      6    145     192.19   375.68      192.19   375.68     20

  Code  29 type 1 - Fence,wall etc (road)
    FSN   Size     Start - Coords       Final - Coords      PC
      7     22     238.18   405.66      213.96   365.82     21

  Code  21 type 1 - Road edge of carriageway
    FSN   Size     Start - Coords       Final - Coords      PC
      8     18     233.11   405.76      220.61   377.05     21
      9     33     185.94   448.63      232.23   414.75     21

  Code  49 type 4 - Elect pylon (surveyed)
    FSN   Size     Start - Coords    Ang
  %OSPIF-W-NULLVEC, FSN 10 has null alignment vector
  %OSPIF-W-ZEROSIZE, FSN 10 is zero size scaled symbol
     10   0.00     254.69   427.15     0

  Code  35 type 1 - Unsvyd pecks plotted
    FSN   Size     Start - Coords       Final - Coords      PC
     11     58     598.73   329.69      759.57   388.96      0

  Code  28 type 5 - Name
    FSN   Size     Start - Coords    Ang  P S  C  Text
  %OSPIF-W-NULLVEC, FSN 12 has null alignment vector
     12      5     611.62   860.16     0  6 1  1  IMPORTANT BUILDING

  Total FSNs    10 (different    10); total points     480
   ELAPSED:    0 00:00:05.02  CPU: 0:00:02.71  BUFIO: 59  DIRIO: 16  FAULTS: 188 
  $


  IFFOSTF REFERENCE (1.1): OSPIF IFF file print utility                   Page 6-8
  UTILITY OSPIF                                                   26 November 1992


            This example illustrates an IFF file which  contains  several  errors.
            FSN  3  has a feature code of 993 which does not appear in the feature
            code table on LSL$OS_CODES.  The heading is output, but the feature is
            ignored.   FSN  4 has a feature code of 2000 which outside the allowed
            range 0-1000, and so is  ignored.   Statistics  for  the  feature  are
            output, but a warning message also appears.  FSN 10 is a scaled symbol
            with equal centre and  aligning  points.   This  results  in  the  two
            warning  messages, although the statistics do appear.  Finally, FSN 12
            has the same problem as FSN 10, its orientation point being  equal  to
            its locating point.


  IFFOSTF REFERENCE (1.1): OSPIF IFF file print utility                   Page 6-9
  MESSAGES (INFORMATIONAL)                                        26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  CREOUT, output file 'file-spec' created

      [1mExplanation:[0m  When /KEEP is specified, this message appears once  processing
      is  complete,  and  confirms  the  name  of  the  output file which has been
      created.

      [1mUser[0m [1maction:[0m  None.

  RANGE, should be in the range 0 to 'integer'

      [1mExplanation:[0m  This message follows either of the ILEGFC or ILEGFSN messages,
      and gives the correct range for the arguments of the respective qualifiers.

      [1mUser[0m [1maction:[0m  Give the command line  again,  this  time  ensuring  that  the
      qualifier arguments lie in the appropriate range.


  IFFOSTF REFERENCE (1.1): OSPIF IFF file print utility                  Page 6-10
  MESSAGES (WARNING)                                              26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  ERRPOSAC, AC positioning error - found 'entry' length 'integer' at 'location'

      [1mExplanation:[0m  Before any details of a feature are output,  all  IFF  entries
      relating  to that feature are read and the relevant information stored.  For
      AC entries, this simply consists of the positions of the entries within  the
      IFF  file.  When the end of a particular feature is reached, the details are
      output.  If the feature contains any AC's, the details  of  these  are  read
      directly  from the file.  This error occurs when, after repositioning to the
      saved IFF file address, the program does not find an AC  entry,  or  the  AC
      found  contains  no data.  The current AC and any remaining ones are ignored
      and processing continues.

      [1mUser[0m [1maction:[0m  This error may indicate an error either in the IFF file or  in
      the program.  The IFF file can be examined using the IMP utility IPATCH.  If
      the AC entry length indicated in the message is less than  zero,  check  the
      contents  of  all of the AC's in the feature of interest.  Alternatively, if
      the length appears to be valid, you can  position  the  editor  to  the  IFF
      address  given  in  the error message.  Note that this will be a hexadecimal
      value.  Examination of the IFF file  may  reveal  no  errors,  indicating  a
      possible  programming  error.   If this is the case, please submit an SPR to
      Laser-Scan.

  NOTINTAB, FSN 'fsn' has feature code 'fc' not in code table

      [1mExplanation:[0m  A feature code which has been read from the IFF file does  not
      appear  in  the  feature  code table.  Thus its statistics cannot be output.
      The feature is ignored and processing continues.

      [1mUser[0m [1maction:[0m  The most likely reason for this message is that  there  is  no
      entry  for  the  feature  code  in  question  in  the  feature code table on
      LSL$OSCODES.  This should therefore be  edited.   On  the  other  hand,  the
      message  may  indicate  an  error in feature coding within the IFF file.  In
      such a case, use the IMP utility IRECODE to assign new feature codes to  the
      offending  features.   A  third  alternative  would  be simply to use /FC to
      exclude the offending feature codes.

  NULLVEC, FSN 'fsn' has null alignment vector

      [1mExplanation:[0m  This message refers to either an  oriented  symbol,  a  scaled
      symbol,  or  a  text, each of whose orientation is defined by a two-point ST
      rather than an RO entry.  The message  occurs  when  the  two  points  which
      should  define  the  alignment  are  in  fact  the same.  The orientation is
      assumed to be zero, and execution continues.

      [1mUser[0m [1maction:[0m  Edit the IFF file using either  the  IMP  utility  IPATCH,  or
      LITES2, and ensure that the offending feature has a sensible orientation.


  IFFOSTF REFERENCE (1.1): OSPIF IFF file print utility                  Page 6-11
  MESSAGES (WARNING)                                              26 November 1992


  TOOMANYAC, FSN 'fsn' has too many AC entries

      [1mExplanation:[0m  The maximum number of AC's which can be handled is 100.   This
      message appears when a feature is found which contains more than the allowed
      number.  The first 100 AC's will appear on the output listing, and any  more
      will be ignored, each occurrence beyond the maximum producing this message.

      [1mUser[0m [1maction:[0m  Edit the IFF file using either  the  IMP  utility  IPATCH,  or
      LITES2, and delete the superfluous AC entries.  If a large number of AC's is
      a continuing requirement, please submit an SPR to Laser-Scan.

  UNEXPAC, FSN 'fsn' has unexpected AC 'type'

      [1mExplanation:[0m  Ancillary Codes of types 2, 4 and 5 only are allowed in OS IFF
      files  and  these must be within line features.  This message occurs when an
      AC of a type other than the  permitted  ones  is  encountered.   The  AC  is
      ignored and processing continues.

      [1mUser[0m [1maction:[0m  Edit the IFF file using either  the  IMP  utility  IPATCH,  or
      LITES2, to remove the invalid AC's.

  UNEXPENT, Unexpected IFF code 'entry'

      [1mExplanation:[0m  OSPIF has encountered an IFF entry it cannot deal  with.   The
      entry is ignored and processing continues.

      [1mUser[0m [1maction:[0m  Use the IMP  utility  IPATCH  to  examine  the  IFF  file  and
      ascertain  if  the  offending entry is a valid IFF entry.  The HIstory entry
      may indicate how the entry in question came to be there.  If it is an  entry
      which should be dealt with by OSPIF, please submit an SPR to Laser-Scan.

  UNKFC, FSN 'fsn' has unknown feature code 'fc'

      [1mExplanation:[0m  Feature codes in the feature code table must fall in the range
      0-1000.  Any outwith that range are ignored when the table is read in.  If a
      feature code outwith the range is read  from  the  IFF  file,  this  message
      appears.  The feature is ignored and processing continues.

      [1mUser[0m [1maction:[0m  Use the IMP utility IRECODE to assign new feature codes to the
      offending features.  The feature code table on LSL$OS_CODES may also require
      editing.  Alternatively, use /FC to exclude the offending feature codes.  If
      large  feature  codes  are a continuing requirement, please submit an SPR to
      Laser-Scan.

  ZEROSIZE, FSN 'fsn' is zero size scaled symbol

      [1mExplanation:[0m  This message is output when the two points  which  define  the
      alignment  and  size  of  a  scaled symbol are equal, resulting in a size of
      zero.  The message NULLVEC will have appeared immediately prior to this one.
      Details  of  the  feature  are  nevertheless output, and execution continues
      normally.

      [1mUser[0m [1maction:[0m  Edit the IFF file using either  the  IMP  utility  IPATCH,  or
      LITES2,  and  ensure  that  the  offending  symbol  has  a sensible size and
      alignment.


  IFFOSTF REFERENCE (1.1): OSPIF IFF file print utility                  Page 6-12
  MESSAGES (ERROR)                                                26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  ERRCLOOUT, Error closing output to 'file-spec'

      [1mExplanation:[0m  The output file could not be  closed.   An  additional  LSLLIB
      message will follow, giving the reason for the failure.  If this is due to a
      system error, the system error message will also appear.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given,
      and  take the appropriate remedial action.  If the error is due to a serious
      problem such as a system failure, the System Manager should be informed.

  ERROPNCODE, Error opening feature code file LSL$OS_CODES

      [1mExplanation:[0m  The feature code file could  not  be  opened.   An  additional
      Fortran or system message will follow, giving the reason for the failure.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given.
      There  may  be  a simple remedy, e.g.  change the assignment of logical name
      LSL$OS_CODES.  Alternatively, this error could be  due  to  a  more  serious
      problem  such  as  a system failure, and in that case the System Manager may
      have to be informed.

  ERROPNOUT, Error opening 'file-spec' for output

      [1mExplanation:[0m  The output file could not be  opened.   An  additional  LSLLIB
      message will follow, giving the reason for the failure.  If this is due to a
      system error, the system error message will also appear.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given.
      There may be a simple remedy, e.g.  a change in the directory specification.
      Alternatively, this error could be due to a more serious problem such  as  a
      system failure, and in that case the System Manager may have to be informed.

  ERRSPLOUT, Error spooling output file 'file-spec'

      [1mExplanation:[0m  The output file could not be spooled.   An  additional  LSLLIB
      message will follow, giving the reason for the failure.  If this is due to a
      system error, the system error message will also appear.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given,
      and  take the appropriate remedial action.  If the error is due to a serious
      problem such as a system failure, the System Manager should be informed.


  IFFOSTF REFERENCE (1.1): OSPIF IFF file print utility                  Page 6-13
  MESSAGES (ERROR)                                                26 November 1992


  ILEGFC, Illegal feature code range, 'integer' to 'integer'

      [1mExplanation:[0m  The feature code range given with /FC must be within the range
      0  to  32767.   This  message is output when the feature codes specified are
      partly or wholly outwith the allowed range, or  when  the  range  itself  is
      invalid.   The  informational  message  RANGE  will  follow,  indicating the
      correct range.

      [1mUser[0m [1maction:[0m  Give the command line again, this time ensuring that the range
      specified with /FC is valid.

  ILEGFSN, Illegal feature serial number range, 'integer' to 'integer'

      [1mExplanation:[0m  The feature serial number range given with /FSN must be within
      the  range  0  to  65535.   This  message  is output when the feature serial
      numbers specified are partly or wholly outwith the allowed  range,  or  when
      the  range  itself is invalid.  The informational message RANGE will follow,
      indicating the correct range.

      [1mUser[0m [1maction:[0m  Give the command line again, this time ensuring that the range
      specified with /FSN is valid.


  IFFOSTF REFERENCE (1.1): OSPIF IFF file print utility                  Page 6-14
  MESSAGES (OTHER)                                                26 November 1992


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages  may  be  generated  by  the  IFF
  library  and  by  the  Laser-Scan I/O library, LSLLIB.  IFF library messages are
  introduced by '%IFF' and are documented in the IFF  library  users'  guide.   In
  most  cases  IFF  errors will be due to a corrupt input file, and this should be
  the first area of investigation.  If the cause of the error cannot be traced  by
  the user, and Laser-Scan are consulted, then the output file should be preserved
  to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'  and  are
  generally  self-explanatory.   They  are  used to explain the details of program
  generated errors.
