
















                                  [3mLaser-Scan Ltd.[0m


                                  [3mCONVERT PACKAGE[0m

                                 [3mIFFIMAP Reference[0m


                              [3mIssue 1.4 - 21-June-1994[0m































  Copyright (C) 1994 Laser-Scan Ltd
  Science Park, Milton Road, Cambridge, England CB4 4FY  tel: (01223) 420414

  Document "IFFIMAP REFERENCE", Category "REFERENCE"
  Document Issue 1.4      S Townrow (modified 21-Jun-1994)


  IFFIMAP REFERENCE (1.4)
  Contents                                                  21 June 1994


                                     CONTENTS

                  IFFIMAP - Change Record  . . . . . . . . . . . . . . i

                  PREFACE  . . . . . . . . . . . . . . . . . . . . . . 1
                    Intended audience  . . . . . . . . . . . . . . . . 1
                    Structure of this document . . . . . . . . . . . . 1
                    Conventions used in this document  . . . . . . . . 2


  CHAPTER 1       INFORMAP FORMAT DESCRIPTION

                  FORMAT DESCRIPTION . . . . . . . . . . . . . . . . 1-1
                    Introduction . . . . . . . . . . . . . . . . . . 1-1
                    Informap data  . . . . . . . . . . . . . . . . . 1-1
                    Informap drawings  . . . . . . . . . . . . . . . 1-2


  CHAPTER 2       INFORMAP DATA PREPARATION

                  DATA PREPARATION . . . . . . . . . . . . . . . . . 2-1
                    Comparison of Informap and IFF . . . . . . . . . 2-1
                    Preparation for data to be transferred between 
                    Informap and IFF . . . . . . . . . . . . . . . . 2-1
                    The I2IMAP parameter file  . . . . . . . . . . . 2-3
                      The feature description table  . . . . . . . . 2-3
                      The attribute description table  . . . . . . . 2-4
                      The translation error table  . . . . . . . . . 2-5
                    The IMAP2I parameter file  . . . . . . . . . . . 2-7
                      The datatype description table . . . . . . . . 2-7
                      The attribute description table  . . . . . . . 2-8


  CHAPTER 3       I2IMAP UTILITY

                  UTILITY I2IMAP . . . . . . . . . . . . . . . . . . 3-1
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 3-1
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 3-1
                    PROMPT . . . . . . . . . . . . . . . . . . . . . 3-1
                    PARAMETERS . . . . . . . . . . . . . . . . . . . 3-1
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 3-1
                    RESTRICTIONS . . . . . . . . . . . . . . . . . . 3-4
                    DESCRIPTION  . . . . . . . . . . . . . . . . . . 3-4
                      IFF file . . . . . . . . . . . . . . . . . . . 3-4
                      Parameter file . . . . . . . . . . . . . . . . 3-4
                      Using the program  . . . . . . . . . . . . . . 3-5
                      How the program works  . . . . . . . . . . . . 3-5
                      The Informap drawing . . . . . . . . . . . . . 3-6
                      Secondary annotation points  . . . . . . . . . 3-6
                    EXAMPLES . . . . . . . . . . . . . . . . . . . . 3-8
                    MESSAGES (INFORMATIONAL) . . . . . . . . . . .  3-11
                    MESSAGES (WARNING) . . . . . . . . . . . . . .  3-13
                    MESSAGES (ERROR) . . . . . . . . . . . . . . .  3-20
                    MESSAGES (OTHER) . . . . . . . . . . . . . . .  3-24


  IFFIMAP REFERENCE (1.4)
  Contents                                                  21 June 1994


  CHAPTER 4       IMAP2I UTILITY

                  UTILITY IMAP2I . . . . . . . . . . . . . . . . . . 4-1
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 4-1
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 4-1
                    PROMPT . . . . . . . . . . . . . . . . . . . . . 4-1
                    PARAMETERS . . . . . . . . . . . . . . . . . . . 4-1
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 4-1
                    RESTRICTIONS . . . . . . . . . . . . . . . . . . 4-3
                    DESCRIPTION  . . . . . . . . . . . . . . . . . . 4-4
                      Parameter file . . . . . . . . . . . . . . . . 4-4
                      Facet Description File . . . . . . . . . . . . 4-4
                      Using the program  . . . . . . . . . . . . . . 4-4
                      How the program works  . . . . . . . . . . . . 4-5
                      Secondary annotation points  . . . . . . . . . 4-6
                      IFF files  . . . . . . . . . . . . . . . . . . 4-7
                    EXAMPLES . . . . . . . . . . . . . . . . . . . . 4-8
                    MESSAGES (INFORMATIONAL) . . . . . . . . . . .  4-10
                    MESSAGES (WARNING) . . . . . . . . . . . . . .  4-12
                    MESSAGES (ERROR) . . . . . . . . . . . . . . .  4-18
                    MESSAGES (FATAL) . . . . . . . . . . . . . . .  4-23
                    MESSAGES (OTHER) . . . . . . . . . . . . . . .  4-24


  IFFIMAP REFERENCE (1.4)                                                   Page i
  Change record                                                       21 June 1994


  [1m-------------------------------------------------------------------------------[0m
  [1mIFFIMAP -[0m [1mChange Record[0m


  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.0   S[0m [1mTownrow  17-June-1991[0m

            Module IFFIMAP    - Reorganised package documentation.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.1   S[0m [1mGupta     1-July-1992[0m

            Module IFFIMAP    - Reference Documentation  for  the  I2IMAP  utility
                                updated.   I2IMAP now allows selected ACs from the
                                IFF file to be transferred  as  INFORMAP  2  point
                                secondary annotation positions.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.2   S[0m [1mG[0m [1mHancock     2-June-1993[0m

            Module IFFIMAP    - Reference Documentation  for  the  I2IMAP  utility
                                updated.   I2IMAP  now  allows  multiple secondary
                                annotation positions per feature, up to a  maximum
                                of 32.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.3   S[0m [1mTownrow      18-August-1993[0m

            Module IMAP2I     - Reference Documentation  for  the  IMAP2I  utility
                                updated.   A  new message, TOOMANYATTDES, added to
                                the messages section.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.4   S[0m [1mTownrow      21-June-1994[0m

            Module IMAP2I     - Reference Documentation  for  the  IMAP2I  utility
                                updated   to   included  details  of  support  for
                                attribute annotation points.

  [1m-------------------------------------------------------------------------------[0m


  IFFIMAP REFERENCE (1.4)                                                   Page 1
  PREFACE                                                             21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mPREFACE[0m



  [1m--------------------------------------------------------------------------------[0m
  [1mIntended[0m [1maudience[0m

            This manual is intended  for  users  of  a  specific  utility  of  the
            Laser-Scan CONVERT package running under the VAX/VMS operating system.
            Each manual  contains  the  documentation  for  a  particular  CONVERT
            utility  and a site will only receive new or updated documentation for
            those utilities which they have purchased.

  [1m--------------------------------------------------------------------------------[0m
  [1mStructure[0m [1mof[0m [1mthis[0m [1mdocument[0m

            This document is composed of 2 major sections.

            The Introduction is  an  overview  of  the  CONVERT  package  and  its
            purpose.

            There then follow the User Guides for  the  individual  modules  which
            comprise  CONVERT.   Each  individual  module  contains the same basic
            categories of information.  These are:

            MODULE              - the name of the CONVERT module.

            FORMAT DESCRIPTION  - a description of the data format written or
                                  read by the utility programs in this conversion
                                  module.

            DATA PREPARATION    - guidance on how to digitise or prepare the IFF
                                  and other data required by the utility programs
                                  in this module.

            For each utility program  in  the  module,  there  will  then  be  the
            following categories:

            UTILITY             - the name of the utility.

            FUNCTION            - a synopsis of what the utility does.

            FORMAT              - a summary of the utility command format
                                  and command qualifiers. Default qualifier
                                  settings are indicated.

            PROMPT              - how it prompts the user.

            PARAMETERS          - description of expected command parameters.

            COMMAND QUALIFIERS  - description of all command qualifiers.
                                  Qualifiers are ordered alphabetically and 
                                  default argument values are indicated.

            RESTRICTIONS        - a summary of restrictions on the use of 


  IFFIMAP REFERENCE (1.4)                                                   Page 2
  PREFACE                                                             21 June 1994


                                  qualifiers

            DESCRIPTION         - the definitive description of the utility 
                                  action.

            COMMANDS            - for interactive utilities only, a description 
                                  of all commands. Commands are ordered 
                                  alphabetically and default argument values are 
                                  indicated. 

            EXAMPLES            - annotated examples of utility useage.

            MESSAGES            - all classes of message are listed and described
                                  and suggested user action given. The messages
                                  are divided into sections according to message
                                  severity within which the messages are ordered
                                  alphabetically by message mnemonic.

  [1m--------------------------------------------------------------------------------[0m
  [1mConventions[0m [1mused[0m [1min[0m [1mthis[0m [1mdocument[0m


            ----------------------------------------------------------------------
            Convention            Meaning
            ----------------------------------------------------------------------
            <CR>                  The user should press the carriage control key
                                  on the terminal

            <CTRL/x>              The phrase <CTRL/x> indicates that the user must
                                  press the key labelled CTRL while simultaneously
                                  pressing another key, for example, <CTRL/Z>.

            $ [1mIFF2SIF<CR>[0m         Command examples show all user entered commands
                                  in [1mbold[0m type.

            $ [1mIFF2SIF<CR>[0m         Vertical series of periods, or ellipsis, mean
                    .             either that not all the data that CONVERT would
                    .             display in response to the particular command is
                    .             shown or that not all the data that the user
                                  would enter is shown.

            file-spec...          Horizontal elipsis indicates that additional
                                  parameters, values or information can be
                                  entered.

            [logical-name]        Square brackets indicate that the enclosed item
                                  is optional. (Square brackets are not, however,
                                  optional in the syntax of a directory name in
                                  a file-specification, or in the syntax of a
                                  substring specification in a VMS assisnment
                                  statement).
            ----------------------------------------------------------------------


  IFFIMAP REFERENCE (1.4)                                                   Page 3
  PREFACE                                                             21 June 1994


            ----------------------------------------------------------------------
            Convention            Meaning
            ----------------------------------------------------------------------
            'integer'             An integer number is expected in the specified
                                  input or output field. (See "Command line data
                                  types" below).

            'real'                A real number is expected in the specified input
                                  or output field. (See "Command line data types"
                                  below).

            'file-spec'           A VMS file specification is expected in the
                                  specified input or output field.

            'device-name'         A VMS device specification (for instance, MTA0:)
                                  is expected in the specified input or output
                                  field.
            ----------------------------------------------------------------------















                                     CHAPTER 1

                            INFORMAP FORMAT DESCRIPTION





  IFFIMAP REFERENCE (1.4): Informap format description                    Page 1-1
  FORMAT DESCRIPTION                                                  21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m [1mDESCRIPTION[0m

            [1m----------------------------------------------------------------------[0m
            [1mIntroduction[0m

            Informap is  a  Mapping  Information  Management  System  produced  by
            Synercom  Technology,  Inc.,  and  is  well  suited to map storage and
            usage.  It not only provides a simple set of drawing  primitives,  but
            each  item  on  the screen can have information attached which defines
            exactly what is being shown.

            The database comprises both graphic and non-graphic data,  the  former
            being  the  information  needed  to  draw  the  item, the latter being
            attribute information.  The non-graphic data is at least as  important
            as  the  graphic display, and in fact many applications will query the
            non-graphic data without reference to the map image at all.

            This section attempts to give a very brief description of Informap.

            [1m----------------------------------------------------------------------[0m
            [1mInformap data[0m

            There are five basic types of data in Informap, known as  data  kinds.
            These are

             o  non-facility lines
             o  non-facility symbols
             o  facility lines
             o  facility symbols
             o  primary annotation

            Informap further separates its  data  into  datatypes,  so  that  each
            graphic  element  has  a  value  determining what it represents.  Each
            datatype must  be  one  of  the  above  data  kinds.   For  any  given
            application, the various datatypes and their associated attributes are
            defined in a schema.  The schema is fundamental  to  the  system,  and
            without it the data has no meaning.

            Each graphic element in a facility datatype has a  set  of  attributes
            associated  with it, an attribute consisting of a name and a value.  A
            facility datatype can also contain attribute (or secondary) annotation
            graphic  elements  which  are  used  to  display the attributes on the
            screen.  The non-facility datatypes have no attributes associated with
            them.   Primary  annotation  is  cartographic  text,  and  cannot have
            attributes as well.

            Each  of  the  graphic  elements  within  a  particular  datatype  has
            associated  with  it  a  linetype, which defines how that element will
            appear on the screen.  A graphic element  generally  consists  of  two
            (sometimes three) data points

             o  a straight  line  segment  comprises  the  previous  and
                current points


  IFFIMAP REFERENCE (1.4): Informap format description                    Page 1-2
  FORMAT DESCRIPTION                                                  21 June 1994


             o  a curved line segment comprises the previous and current
                defining points
             o  an  arc  or  circle  comprises  three  points   on   the
                circumference
             o  a symbol comprises the centre point and rotation point
             o  a text comprises the defining point and rotation point
             o  an attribute annotation element comprises  the  defining
                point and rotation point

            Each graphic element also has a mode code

             o  GREEN for pen up
             o  WHITE for pen down

            [1m----------------------------------------------------------------------[0m
            [1mInformap drawings[0m

            An Informap drawing is stored as a  sequence  of  files  in  a  single
            directory.   Which  directory is used is determined by an entry in the
            schema.

            There is a different file for each datatype, and if the  datatype  has
            graphic  and non-graphic data, then it will have a file for each.  The
            filename is always the same as the drawing  name,  and  the  extension
            encodes  which  datatype that file represents, and whether the data is
            graphic or non-graphic.

            Informap  restricts  drawing  and  schema  names  to  9   alphanumeric
            characters,  where the first character must be alphabetic.  Extensions
            are restricted to 3 characters.

            Thus, for instance, drawing VAXTEST might  incorporate  the  following
            files:

            VAXTEST.INF  - the basic header file - contains  the  monument  points
                           for the drawing, and other general information

            VAXTEST.LAC  - contains the graphic data for basic  lines  and  curves
                           (datatype 1)

            VAXTEST.ANO  - contains the location, linetype, etc for  each  primary
                           annotation (datatype 2)

            VAXTEST.CHR  - contains  the  text   for   each   primary   annotation
                           (datatype 2)

            VAXTEST.SYM  - contains the location and identification data for basic
                           symbols (datatype 3)

            VAXTEST.G14  - contains the graphical information for datatype 14

            VAXTEST.N14  - contains the non-graphical information for datatype 14














                                     CHAPTER 2

                             INFORMAP DATA PREPARATION





  IFFIMAP REFERENCE (1.4): Informap data preparation                      Page 2-1
  DATA PREPARATION                                                    21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mDATA[0m [1mPREPARATION[0m

            [1m----------------------------------------------------------------------[0m
            [1mComparison[0m [1mof[0m [1mInformap[0m [1mand[0m [1mIFF[0m

            IFF is a feature  oriented  data  format  -  data  is  separated  into
            features,  and  each  feature  represents  one 'thing' on the map.  An
            integer feature code is used to say what type of thing it is that  the
            feature represents.  A feature might thus be a contour, or a house, or
            a river, depending on the type of map being  digitised,  and  the  way
            that  the  data is to be used.  IFF also allows features to be grouped
            into separate layers, and can hold attribute information either  on  a
            'per feature' basis, or on a 'per point' basis.

            In contrast, Informap  has  no  concept  of  a  'feature',  the  basic
            elements  of  graphical  data  being  line segments, points and circle
            arcs.  It does, however, have the capacity to hold a large  amount  of
            attribute data in an ordered manner.  This allows complex searches and
            enquiries to be performed on the data.  Enough information  about  the
            individual  graphic  elements  can  be held to enable them to look the
            same on the screen as they would if  taken  from  the  equivalent  IFF
            file.

            IFF is much more suited to  the  capture  and  editing  of  map  data,
            whereas  Informap  is better when it comes to the manipulation and use
            of that data.  Despite the differences in the way the  data  is  held,
            transfer  between  Informap and IFF is relatively easy with no loss of
            information.

            [1m----------------------------------------------------------------------[0m
            [1mPreparation[0m [1mfor[0m [1mdata[0m [1mto[0m [1mbe[0m [1mtransferred[0m [1mbetween[0m [1mInformap[0m [1mand[0m [1mIFF[0m

            It is quite likely that IFF will be used as the digitising format  and
            the  data  subsequently  transferred  to an Informap database.  On the
            other hand, data may be transferred from an Informap database  to  IFF
            for  complex  editing  operations,  or  for  other  spatial processing
            functions such as structuring or polygon formation.  IFF may  also  be
            used  as  in  intermediate format for converting data from an external
            transfer format such as SIF or NTF to Informap, or vice versa.

            Whatever the purpose for transferring data,  the  correlation  between
            IFF  feature  codes  and  Informap  datatypes has to be defined.  This
            definition should include the datatype and linetype  to  be  used  for
            each  feature  code, the line weight, style and colour to be used, the
            text fonts and sizes required and symbols to be used.  The  definition
            should  also  include  the  relationship  between  IFF  attributes and
            Informap attributes, if these are to be preserved

            The implementation of these specifications requires

             o  an Informap schema, defining each datatype,

             o  a parameter file for I2IMAP, the IFF to Informap translator,


  IFFIMAP REFERENCE (1.4): Informap data preparation                      Page 2-2
  DATA PREPARATION                                                    21 June 1994


             o  a parameter file for IMAP2I, the Informap to IFF translator, and

             o  an FRT file (together with SRI and TRI files)


            The Informap schema is a mandatory requirement by both programs.

            The parameter files define the relationships between


            a)  IFF feature codes and Informap datatypes and linetypes, and

            b)  IFF AC entries and Informap attributes.


            There is not likely to be a one-to-one  correspondence  in  the  above
            relationships.   For this reason, the parameter files for each program
            will be different.  In particular, several IFF feature codes  may  map
            onto  the  same datatype/linetype combination in Informap.  This means
            that IFF data translated into Informap and then back to IFF can finish
            up with a reduced set of feature codes and attribute codes.

            Sometimes, most often in the  transfer  of  attributes,  an  FRT  file
            (together  with  SRI  and TRI files) will have to be created.  Feature
            codes  must  be  assigned  to  all  of  the   corresponding   Informap
            datatype/linetype  combinations.   Care should be taken to ensure that
            the graphical type  for  the  IFF  features  is  compatible  with  the
            corresponding Informap datatype.

            IFF files prepared for transfer to Informap  using  I2IMAP  should  be
            revision level 0, with coordinates held in ST entries.  ZS entries are
            not supported.  Text features should have TH entries to hold the  text
            height,  and  the  text  category  in the FS entry should be set.  All
            features should have the text/symbol bit in the FS entry  set  to  the
            appropriate  value  to indicate the feature type.  The map data can be
            held in any layer in the IFF file.

            When transferring data from Informap,  IMAP2I  will  only  produce  ST
            entries  unless the output revision level has been set to 1 within the
            system.  The attributes in any facility  datatypes  will  be  ignored,
            unless  the appropriate definitions are present in the parameter file.
            Note that it is not possible to transfer Informap attributes into  IFF
            point  attributes.   Text features will contain TH entries holding the
            text height.  All features will have the text/symbol  bit  in  the  FS
            entry  set to the appropriate value to indicate the feature type.  All
            data will be output to layer 1 in the IFF file.

            Note that in addition to the above it may also be necessary to  supply
            instructions on how to digitise or edit the various features.


  IFFIMAP REFERENCE (1.4): Informap data preparation                      Page 2-3
  DATA PREPARATION                                                    21 June 1994


            [1m----------------------------------------------------------------------[0m
            [1mThe[0m [1mI2IMAP[0m [1mparameter[0m [1mfile[0m

            This file contains three tables :-


            a)  the feature description table,

            b)  the attribute description table, and

            c)  the translation error table.


            The attribute description table and translation error table  are  both
            optional.

            Each line of a particular table  is  prefixed  with  a  command  which
            identifies  the  line  as  belonging  to  that  table.   The lines are
            free-format, so the order of entries matters, but the actual  position
            of entries on the line is not important.

            Any text starting with the "!" character is treated as a comment,  and
            is  ignored.  Comments can appear on the same lines as commands, or on
            separate lines.  Note that commands may be in upper or lower case.

            [1mThe[0m [1mfeature[0m [1mdescription[0m [1mtable[0m

            The feature description table describes the translations  required  to
            produce  Informap  data from IFF data.  Each line is prefixed with the
            FDT command which tells the program  how  to  translate  a  particular
            feature code into the data-base.

            A line has one of the following two forms :-

                 [1mFDT   fc   dtype   ltype   [pen][0m

                 [1mFDT   fc   dtype   ltype   [low   high   [cat] ][0m

            where the fields are :-

             -  [1mFDT    [0m- the command FDT.  This states that this line is an  entry
                in the feature description table

             -  [1mfc     [0m- the feature code being described - a value in the range 0
                to 32767

             -  [1mdtype  [0m- the Informap data type, an  integer  matching  the  value
                required from the schema.  This should be in the range 1 to 128.

             -  [1mltype  [0m- the Informap line type, an integer in the range 1 to 128.

             -  [1mpen    [0m- the pen number to be used for symbols, an integer from  1
                to 8.  This field is only present for symbol feature codes.


  IFFIMAP REFERENCE (1.4): Informap data preparation                      Page 2-4
  DATA PREPARATION                                                    21 June 1994


             -  [1mlow    [0m- the lower limit of a range of point sizes or text heights
                for  a  text feature.  This field is only present for text feature
                codes.

             -  [1mhigh   [0m- the upper limit of a range of point sizes or text heights
                for  a  text feature.  This field is only present for text feature
                codes.

             -  [1mcat    [0m- a specified text category (which can be  a  font  number)
                for  a  text feature.  This field is only present for text feature
                codes.


            An example follows :-


                 FDT    1    6    1                       ! line   - public
                 building
                 !
                 FDT   27   14    2    2                  ! symbol
                 FDT   28    2    1    0  999    3        ! text
                 FDT   29   15    6                       ! line



            Note that it is possible to have several entries in the  table  for  a
            single  text feature code.  Note also that if text features in the IFF
            file contain heights, or if  text  categories  are  set,  then  height
            ranges  must  be  supplied in the table.  These may be chosen to cover
            the full height range possible, e.g 1 to  24  (for  heights  given  as
            point sizes).

            [1mThe[0m [1mattribute[0m [1mdescription[0m [1mtable[0m

            The attribute description table describes the translations required to
            produce  Informap  attributes  from  IFF  attributes.   Each  line  is
            prefixed with the ADT command which tells the program how to translate
            a particular attribute into the data-base.

            A line has one of the following two forms :-

                 [1mADT CODE   code   entry   field   NGname   [dtype][0m

                 [1mADT NAME   name   entry   field   NGname   [dtype][0m

            where the fields are :-

             -  [1mADT    [0m- This command states that this line is  an  entry  in  the
                attribute description table.

             -  [1mCODE   [0m- this  sub-command  states  that  the  attribute  will  be
                described by its IFF attribute code.

             -  [1mcode   [0m- the IFF attribute code, an integer  in  the  range  0  to
                32767, as derived from the appropriate ACD entry in an FRT file.


  IFFIMAP REFERENCE (1.4): Informap data preparation                      Page 2-5
  DATA PREPARATION                                                    21 June 1994


             -  [1mNAME   [0m- this  sub-command  states  that  the  attribute  will  be
                described by its IFF attribute name.

             -  [1mname   [0m- the IFF attribute name, as given by the  appropriate  ACD
                entry  in  an  FRT file.  The names "STARTX", "STARTY", "ENDX" and
                "ENDY" are reserved for transferring between secondary  annotation
                points.

             -  [1mentry  [0m- a command specifying which IFF entry the attribute is  to
                be taken from.  The only valid command is

                    [1mAC[0m which specifies that an AC entry is to be used


             -  [1mfield  [0m- a  sub-command  to  AC,  specifiying  which   field   the
                attribute is to be taken from - valid commands are either

                    [1mVALUE[0m which specifies that the AC value field is to  be  used,
                    or

                    [1mTEXT [0m which specifies that the AC text  field is to be used


             -  [1mNGname [0m- the Informap non-graphic field name, a string  which  can
                be up to 8 characters in length

             -  [1mdtype  [0m- an optional Informap data type or range of data types.  A
                range   should  be  specified  as  a  series  of  integers  and/or
                sub-ranges in ascending order, separated by commas.   A  sub-range
                consists  of  two  integers separated by a hyphen.  Any given data
                type must be in the range 1 to 128.


            An example follows :-

                 ADT CODE 6                       AC TEXT         PARNAME         20
                 !
                 ADT NAME COUNTY_LEFT_OF_LINE     AC TEXT         COUNTYL         16
                 ADT NAME COUNTY_RIGHT_OF_LINE    AC TEXT         COUNTYR         16

            [1mThe[0m [1mtranslation[0m [1merror[0m [1mtable[0m

            The translation error table specifies default datatypes to be  applied
            to  feature codes for which there is no defined translation in the FDT
            table.  These TRANS_ERR entries are  entered  in  the  parameter  file
            following the FDT table.  Separate definitions are required for lines,
            symbols and text.  They are specified as follows:

             -  [1mTRANS_ERR_TEXT      fc   dtype   ltype   [low   high   [cat] ][0m

             -  [1mTRANS_ERR_LINES     fc   dtype   ltype[0m

             -  [1mTRANS_ERR_SYMBOLS   fc   dtype   ltype   [pen][0m



  IFFIMAP REFERENCE (1.4): Informap data preparation                      Page 2-6
  DATA PREPARATION                                                    21 June 1994


            where the fields are the same as for the FDT table.


  IFFIMAP REFERENCE (1.4): Informap data preparation                      Page 2-7
  DATA PREPARATION                                                    21 June 1994


            [1m----------------------------------------------------------------------[0m
            [1mThe[0m [1mIMAP2I[0m [1mparameter[0m [1mfile[0m

            This file contains two tables :-


            a)  the datatype description table, and

            b)  the attribute description table


            The attribute description table is optional.

            Each line of a particular table  is  prefixed  with  a  command  which
            identifies  the  line  as  belonging  to  that  table.   The lines are
            free-format, so the order of entries matters, but the actual  position
            of  entries  on the line is not important.  Any text starting with the
            "!" character is regarded as a comment, and is ignored.  Comments  can
            appear on the same lines as commands, or on separate lines.  Note that
            commands may be in upper or lower case.

            [1mThe[0m [1mdatatype[0m [1mdescription[0m [1mtable[0m

            The datatype description table describes the translations required  to
            produce  IFF  data from Informap data.  Each line is prefixed with the
            DDT command which tells the program  how  to  translate  a  particular
            datatype and linetype into an IFF feature code.

            A line has the form :-

                 [1mDDT   dtype   ltype   fc   [size   [cat] ][0m

            where the fields are :-

             -  [1mDDT    [0m- the command DDT which states that this line is  an  entry
                in the datatype description table

             -  [1mdtype  [0m- the Informap data type, an  integer  matching  the  value
                required from the schema.  This should be in the range 1 to 128.

             -  [1mltype  [0m- the Informap line type, an integer in the range 1 to 128.

             -  [1mfc     [0m- the IFF feature code, a value in the range 0 to 32767

             -  [1msize   [0m- the IFF text size, an integer which can represent  either
                a  point size or height in millimetres.  If not required, i.e.  if
                text sizes are taken from the FRT, enter 0.  This  field  is  only
                present  for  primary annotation datatypes, and is optional if [1mcat[0m
                is not supplied.

             -  [1mcat    [0m- a specified text category (which can be  a  font  number)
                for  a  text  feature.   This  field  is  only present for primary
                annotation datatypes, and is optional.



  IFFIMAP REFERENCE (1.4): Informap data preparation                      Page 2-8
  DATA PREPARATION                                                    21 June 1994


            An example follows :-

                 DDT    6    1    1                       ! line   - public
                 building
                 DDT   14    2   27                       ! symbol
                 DDT    2    1   28    12    3            ! text
                 DDT   15    6   29                       ! line

            Note  that  there  must  be  an  entry  in   the   table   for   every
            datatype/linetype combination which is likely to occur.

            [1mThe[0m [1mattribute[0m [1mdescription[0m [1mtable[0m

            The attribute description table describes the translations required to
            produce  IFF  attributes  from  Informap  attributes.   Each  line  is
            prefixed with the ADT command which tells the program how to translate
            a particular attribute from the data-base.

            A line has one of the following two forms :-

                 [1mADT CODE   code   entry   field   NGname   [dtype][0m

                 [1mADT NAME   name   entry   field   NGname   [dtype][0m

            where the fields are :-

             -  [1mADT    [0m- the command ADT which states that this line is  an  entry
                in the attribute description table.

             -  [1mCODE   [0m- the sub-command CODE which states that the attribute will
                be described by its IFF attribute code.

             -  [1mNAME   [0m- the sub-command NAME which states that the attribute will
                be described by its IFF attribute name.

             -  [1mcode   [0m- the IFF attribute code, an integer  in  the  range  0  to
                32767, as derived from the appropriate ACD entry in an FRT file.

             -  [1mname   [0m- the IFF attribute name, as given by the  appropriate  ACD
                entry in an FRT file.

             -  [1mentry  [0m- a command specifying which IFF entry the attribute is  to
                be transferred to.  The only valid command is

                    [1mAC[0m which specifies that an AC entry is to be used


             -  [1mfield  [0m- a  sub-command  to  AC,  specifiying  which   field   the
                attribute is to be transferred to - valid commands are either

                    [1mVALUE[0m which specifies that the AC value field is to  be  used,
                    or

                    [1mTEXT [0m which specifies that the AC text  field is to be used



  IFFIMAP REFERENCE (1.4): Informap data preparation                      Page 2-9
  DATA PREPARATION                                                    21 June 1994


             -  [1mNGname [0m- the Informap non-graphic field name, a string  which  can
                be up to 8 characters in length

             -  [1mdtype  [0m- an optional Informap data type or range of data types.  A
                range   should  be  specified  as  a  series  of  integers  and/or
                sub-ranges in ascending order, separated by commas.   A  sub-range
                consists  of  two  integers separated by a hyphen.  Any given data
                type must be in the range 1 to 128.


            An example follows :-

                 ADT CODE 6                       AC TEXT         PARNAME  20
                 !
                 ADT NAME COUNTYLEFTOFLINE        AC TEXT         COUNTYL  16
                 ADT NAME COUNTYRIGHTOFLINE       AC TEXT         COUNTYR  16














                                     CHAPTER 3

                                   I2IMAP UTILITY





  IFFIMAP REFERENCE (1.4): I2IMAP utility                                 Page 3-1
  UTILITY I2IMAP                                                      21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mUTILITY[0m [1mI2IMAP[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            I2IMAP reads an IFF file and outputs the data to an Informap database.
            The program is driven by a parameter file which describes each feature
            code, and  by  the  Informap  schema  which  describes  the  database.
            Options  exist to select only particular feature codes and to select a
            rectangular area.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ I2IMAP IFF-file-spec

            [1mCommand[0m [1mqualifiers[0m                       [1mDefaults[0m

            /AREA=(limit[,...])                      All data output
            /DRAWING=name                            IFF-file-spec name part
            /FC=(integer[,...])                      All feature codes
            /[NO]FRT[=file-spec]                     /NOFRT
            /INVALID_COORDS=name                     No invalid coordinate output
            /[NO]LOG                                 /NOLOG
            /MAX_INVALID                             No maximum applied
            /OFFSET=(coordinates)                    See text
            /PARAMETER=file-spec                     See text
            /[NO]QUIET                               /NOQUIET
            /SCHEMA=name                             None
            /SUMMARY                                 No summary output


  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPT[0m

            _IFF-file:          IFF-file-spec

  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  IFF-file-spec

          - specifies the IFF file which is to be  converted.   Any  part  of  the
            file-spec  which  is  not  supplied  will  be  taken  from the default
            specification 'LSL$IF:IFF.IFF'.

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m



  IFFIMAP REFERENCE (1.4): I2IMAP utility                                 Page 3-2
  UTILITY I2IMAP                                                      21 June 1994


  /AREA=(WEST:real,SOUTH:real,EAST:real,NORTH:real)

          - ensures that only data falling  within  the  area  specified  will  be
            output  from  the  IFF  file.  The keywords are the western, southern,
            eastern and northern boundaries of the area  required,  in  [1mIFF[0m  [1munits[0m
            with  respect to the local origin.  Only the required keywords need to
            be given, the others defaulting to the limits given in the range  (RA)
            entry  in  the  IFF  file.   The  /AREA  qualifier  is  not allowed in
            conjunction with the /INVALID_COORDS qualifier.

  /DRAWING=name

          - specifies the Informap drawing to which the data is to be output.  The
            drawing  name may be from 1 to 9 alphanumeric characters.  The default
            drawing name is the name part of the parsed  IFF-file-spec,  truncated
            to 9 characters if necessary.

  /FC=(integer[,...])

          - causes I2IMAP to  output  only  those  IFF  features  which  have  the
            specified  feature  code(s).   The  /FC  qualifier will accept single,
            multiple or ranges of feature code arguments.  Ranges may be specified
            with  starting and ending feature codes that are separated by a colon,
            for example /FC=56:58.  When specifying more than one range of feature
            codes,  separate each range with a comma, for example /FC=(1:5,56:89).
            The maximum number of feature codes which may be specified is 1024.

  /FRT[=file-spec]
  /NOFRT

          - specifies an FRT file which the program will read and use to interpret
            non-standard  AC  entries.   The  FRT  file-spec is parsed against the
            default LSL$FRT:'name'.FRT where 'name' is  the  name  specified  with
            /SCHEMA.

            /FRT is necessary if ADT  NAME  is  present  in  the  parameter  file,
            otherwise  that  particular attribute definition will be skipped.  The
            FRT is also used to ascertain ACD  types,  and  if  not  specified,  a
            default ACD type will be assumed.

  /INVALID_COORDS=[file-spec]

          - specifies the file to contain details of any coordinates  in  the  IFF
            file  falling  outside the map area.  The details recorded will be the
            actual coordinates of the point and the Feature Serial Number, Feature
            Code  and Text category (if appropriate) of the feature.  For text and
            symbol features only one entry will be written to this file.  For line
            features  one  entry  will be written to this file for each coordinate
            that is outside the bounds of the map.  The file-spec is  parsed  from
            the  default  SYS$DISK:'name'.INV  where  'name' is the name specified
            with /SCHEMA.  The qualifier is intended for  use  with  OS  type  IFF
            files  which  contain the map extent in the CP entry.  If the facility
            is to be used with any other files then care should be taken that  the
            CP   entry   contains   values   representing  the  map  extent.   The
            /INVALID_COORDS qualifier is not allowed with the /AREA qualifier.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                 Page 3-3
  UTILITY I2IMAP                                                      21 June 1994


  /LOG
  /NOLOG

          - causes supplementary messages to be sent to SYS$OUTPUT.  Supplementary
            messages  are  generated  when  a  file  is successfully opened, and a
            reassuring message is output each time a new IFF layer is  encountered
            in the input file.

  /MAX_INVALID=n

          - specifies the maximum number of entries to be written to  the  invalid
            coordinates  file  before processing is stopped.  If this qualifier is
            not supplied then there is no restriction  on  the  number  of  errors
            detected.   The  qualifier  is  not  valid  unless the /INVALID_COORDS
            qualifier is also specified.

  /OFFSET=(EAST:real,NORTH=real)

          - specifies an Easting and Northing offset (in IFF units) to be  applied
            to all coordinates in the IFF file, before output to Informap.  If the
            IFF file contains a type 2  map  descriptor  (MD)  entry,  the  origin
            offset  in  that  entry  is used by default.  Otherwise, the origin is
            assumed to be (0,0).

  /PARAMETER=file-spec

          - specifies the IFF parameter file, which defines the transformation  of
            feature codes in the IFF data to data types in the Informap data base.
            The parameter file-spec is parsed from the default
                      STI_ROOT:[300010]'name'.I2IMAP_PAR

            where 'name' is the name specified with /SCHEMA.  If /PARAMETER is not
            given  explicitly on the command line, the default parameter file-spec
            used.

  /QUIET
  /NOQUIET

          - suppresses the UNKFC and UNKATT warning messages.  UNKFC  informs  the
            user  that  a  particular  feature  code  has  not been defined in the
            parameter file.  UNKATT informs the user that a  particular  attribute
            has  not  been  defined  for transfer into the current datatype.  This
            qualifier can be useful if (for example) only a partial parameter file
            has  been created, and /FC has been used to select those feature codes
            which [1mhave[0m been defined.

  /SCHEMA=name

          - specifies the schema to be used  in  outputting  the  map  data.   The
            schema  name  may  be  from  1  to  9  alphanumeric  characters.  This
            qualifier is mandatory.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                 Page 3-4
  UTILITY I2IMAP                                                      21 June 1994


  /SUMMARY=[file-spec]

          - specifies the file to be used in outputting summary details about  the
            translation  of  an individual map sheet.  The entries in the file are
            currently

            a)  FCE - Feature Code Errors i.e.  the number of features for which a
                translation could not be found within the parameter file, and
            b)  CRE - Coordinate Range Errors i.e.  the number of  errors  written
                to the invalid coords file (if specified).

            The file-spec is parsed from  the  default  SYS$DISK:'name'.SUM  where
            'name' is the name used with /DRAWING.

  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  /SCHEMA must be specified

             o  /MAX_INVALID requires an /INVALID_COORDS specification

             o  /AREA and /INVALID_COORDS are not allowed together


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m

            I2IMAP reads an IFF file containing  a  single  map  and  produces  an
            Informap  working storage drawing with the aid of a parameter file and
            an Informap schema.  The user is assumed to have a  working  knowledge
            of the Informap system, including how to set up and use the schema.

            [1mIFF[0m [1mfile[0m

            The IFF file should conform to the  standards  set  out  in  the  DATA
            PREPARATION  section  under  the  heading  'Preparation for data to be
            transferred between Informap and IFF'.

            [1mParameter[0m [1mfile[0m

            This file contains one or more of the following tables:

             o  A  feature  description   table   (FDT).    This   describes   the
                translations needed to produce Informap data from IFF data.

             o  An  attribute  description  table  (ADT)   which   describes   the
                translations  needed  to  produce  Informap  attributes  from  IFF
                attributes.

             o  A translation error  table  specifying  default  datatypes  to  be
                applied to feature codes for which there is no defined translation
                in the FDT.

            The format of the table is described in the DATA  PREPARATION  section
            under the heading [1m'The[0m [1mI2IMAP[0m [1mparameter[0m [1mfile'[0m.  The file will probably


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                 Page 3-5
  UTILITY I2IMAP                                                      21 June 1994


            have been set up by the LAMPS system  manager  and  remain  relatively
            static at most installations.

            [1mUsing[0m [1mthe[0m [1mprogram[0m

            Normal use of the program is in batch mode - that is, running it via a
            batch  command  file,  submitted  with the SUBMIT command.  It is also
            possible to run I2IMAP interactively, although as translating  an  IFF
            file can take a long time this is not necessarily the best method.

            I2IMAP may have been set up to include at  least  the  /PARAMETER  and
            /SCHEMA  qualifiers  on  your system, so you may only need to give the
            input IFF file and /DRAWING.

            [1mHow[0m [1mthe[0m [1mprogram[0m [1mworks[0m

            Once the program has been invoked and the  command  line  successfully
            read,  a  summary  of  the  inputs and outputs is displayed.  Then the
            parameter file is read and if successful the IFF file is opened.

            If /OFFSET has not been specified, the IFF file is scanned for the map
            descriptor  (MD) entry.  If the descriptor is type 2, it is read in to
            obtain the origin offset.

            The program reads the range (RA) entry from the IFF file, this is used
            with  the  origin  offset  and  any area limits to deduce the Informap
            drawing limits.  These are then used to calculate the DEL  factor  and
            the  distance  to  be used for working out text and symbol orientating
            points.

            If /AREA was specified, the program checks to see if the map

             -  is  totally  within  the  area  (in  which  case  no  clipping  is
                required),

             -  is totally outside the area (in which case it will be skipped),

             -  overlaps the area (in which case it will be clipped).

            A check is also made to ensure that the area boundaries are sensible.

            The contents of the IFF file are processed  to  produce  the  Informap
            drawing  files.   The  datatype  and linetype for a particular feature
            code are obtained from the parameter file, but for processing purposes
            the  type  of  feature  (line, symbol or text) is ascertained from the
            setting of the text/symbol bit in the IFF  FS  entry  rather  than  by
            using  the  Informap  data  kind.   [1mNote[0m that there are no consistency
            checks between these two values.

            Different types of data are treated as follows :-

             o  Linear data is output without modification.  Green  mode  is  used
                for  the  first  point  in  a feature, white elsewhere.  Invisible
                lines  are  regarded  as  feature  breaks  -  no   connection   is
                transmitted.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                 Page 3-6
  UTILITY I2IMAP                                                      21 June 1994


             o  Symbols are output using the position and rotation angle  supplied
                in  the  IFF  file.   The pen number used is determined by the FDT
                entry in the parameter file for that symbol  feature  code.   Note
                that  scaled  symbols  are not treated separately - they are still
                output using only the position and rotation  angle  from  the  IFF
                file.

             o  The datatype and linetype for a particular text depend on the  IFF
                text  height  and  text  category  (often  used  to  hold the font
                number).  If a text does not fall  within  any  of  the  specified
                height ranges or categories, the first entry in the table for that
                particular feature code is used by default.  If set, the IFF  text
                justification   is  used  to  determine  the  equivalent  Informap
                justification.  The IFF text style entry is ignored.

            Coordinates are assumed to be held in ST entries - ZS entries are  not
            supported.

            The Informap attribute name for a particular IFF attribute is obtained
            from  the  parameter file.  A new non-graphic record is always written
            when a new feature is encountered in the IFF file.

            AC entries in text features cannot be transferred.  similarly, if  the
            feature  code  translates  to  a non-facility datatype, AC entries are
            ignored.

            IFF attributes of type "real"  will  if  necessary  translate  to  the
            nearest  integer  in Informap .  Similarly, IFF integer attributes can
            translate into Informap type real.  IFF character attributes and  text
            strings will be truncated if necessary.

            When all applicable data has been output  to  the  drawing  file,  the
            program will exit.

            [1mThe[0m [1mInformap[0m [1mdrawing[0m

            The drawing produced by I2IMAP is output to the directory specified in
            the schema.

            [1mNote:[0m if a drawing already exists new data will  be  appended  to  it.
            Thus  /DRAWING may be used successively to add to a particular drawing
            - this is not generally  recommended,  as  facetisation  produces  the
            required effect.

            [1mSecondary[0m [1mannotation[0m [1mpoints[0m

            I2IMAP allows selected AC entries from the IFF file to be  transferred
            as secondary annotation points in the Informap drawing.

            As mentioned in "Informap data preparation", the IFF  attribute  names
            "STARTX",  "START",  "ENDX" and "ENDY" are reserved for the purpose of
            transferring Secondary annotation points.  All of these names must  be
            present  as  "ADT NAME" entries in the attribute description to enable
            secondary annotation transfer.  E.g.

                      ADT NAME STARTX AC VALUE COMMENT


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                 Page 3-7
  UTILITY I2IMAP                                                      21 June 1994


            Although the "dtype" field of the ADT entry is not used, its  presence
            is required for the ADT entry to be valid.

            Corresponding entries must be present as ACD entries in the  FRT  file
            which translate the names "STARTX"...  into IFF attribute codes.  E.g.

                      ACD TABLE 1
                      ACD R 1 STARTX -1.0E37 +1.0E 

            This specifies that the IFF Attribute name "STARTX" corresponds to the
            IFF ancillary code 1001 (see the FRT user guide for information on FRT
            entries).

            AC entries must be  present  in  the  IFF  file  for  these  secondary
            annotation points to be transferred.  E.g.

                      NF 186 158
                      FS 29 0 0 0
                      AC 1001 122.1191
                      AC 1002 61.32813
                      AC 1003 120.7519
                      AC 1004 58.4961
                      TH 0
                      ST 2 0
                         122.1191 61.32813
                         120.7519 58.4961
                      EF

            In this example the AC codes 1001, 1002, 1003 and 1004  correspond  to
            the Attribute names STARTX, STARTY, ENDX and ENDY respectively.

            These ACs will  be  processed  by  I2IMAP  and  a  2  point  secondary
            annotation  point  will  be  transferred to the Informap drawing.  The
            first point will be at (122.1191, 61.32813) and the second point  (the
            rotation  point) will be at (120.7519, 58.4961).  These points will be
            converted to  absolute  coordinates  prior  to  being  output  to  the
            Informap drawing using details from the map-descriptor "MD" entry from
            the IFF file.

            Multiple secondary annotation points, up to a  limit  of  32,  may  be
            created  for a given feature.  The relevant ACs are taken in order, so
            the first STARTX will be associated with the  first  STARTY  (and  the
            first ENDX and ENDY if present), and the second STARTX with the second
            STARTY.  In the case of a discrepancy, the smaller of the  numbers  of
            STARTX and STARTY ACs for a given feature will be taken as definitive.

            [1mNote:[0m  The rotation point will be assumed to be the same as the  first
            point if the appropriate AC entries for ENDX and ENDY are missing from
            the IFF file.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                 Page 3-8
  UTILITY I2IMAP                                                      21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m


  $ [1mI2IMAP/SCHEMA=DEMO/PAR=STI_ROOT:[LSL.LOOKUP]/LOG[0m [1mSP7461SE<CR>[0m
   
  Schema           : DEMO
  Parameter file   : STI_ROOT:[LSL.LOOKUP]DEMO.I2IMAP_PAR
  IFF input file   : LSL$IF:SP7461SE.IFF
  Informap drawing : SP7461SE
  Outputting supplementary messages
   
  %I2IMAP-I-READPAR, reading parameter file
  %LSLLIB-I-IFFOPENED, STI_ROOT:[LSL.TEMP]SP7461SE.IFF;1 opened for read
   
  Offsets          :  474500.00,  261000.00
   
  %I2IMAP-I-LAYER, layer 1 found
  %I2IMAP-W-UNKFC, FC 66 has not been defined, FSN 1179 ignored
  %I2IMAP-W-UNKFC, FC 66 has not been defined, FSN 1180 ignored
  %I2IMAP-W-UNKFC, FC 66 has not been defined, FSN 1183 ignored
  %I2IMAP-W-UNKFC, FC 90 has not been defined, FSN 1205 ignored
  %I2IMAP-W-UNKFC, FC 98 has not been defined, FSN 1206 ignored
  %I2IMAP-W-UNKFC, FC 90 has not been defined, FSN 1207 ignored
  %I2IMAP-W-UNKFC, FC 90 has not been defined, FSN 1208 ignored
  %I2IMAP-W-UNKFC, FC 98 has not been defined, FSN 1209 ignored
  %I2IMAP-W-UNKFC, FC 98 has not been defined, FSN 1210 ignored
  %I2IMAP-W-UNKFC, FC 98 has not been defined, FSN 1211 ignored
  %I2IMAP-W-UNKFC, FC 98 has not been defined, FSN 1212 ignored
  %I2IMAP-W-UNKFC, FC 98 has not been defined, FSN 1213 ignored
  %I2IMAP-W-UNKFC, FC 98 has not been defined, FSN 1214 ignored
  %I2IMAP-W-UNKFC, FC 98 has not been defined, FSN 1215 ignored
  %I2IMAP-W-UNKFC, FC 96 has not been defined, FSN 1216 ignored
  %I2IMAP-W-UNKFC, FC 98 has not been defined, FSN 1217 ignored
  %I2IMAP-W-UNKFC, FC 98 has not been defined, FSN 1218 ignored
  %I2IMAP-W-UNKFC, FC 98 has not been defined, FSN 1219 ignored
  %I2IMAP-W-UNKFC, FC 102 has not been defined, FSN 1220 ignored
  %I2IMAP-W-UNKFC, FC 102 has not been defined, FSN 1221 ignored
  %I2IMAP-W-UNKFC, FC 100 has not been defined, FSN 1222 ignored
  %I2IMAP-W-UNKFC, FC 102 has not been defined, FSN 1227 ignored
  %I2IMAP-W-UNKFC, FC 102 has not been defined, FSN 1228 ignored
  %I2IMAP-W-UNKFC, FC 102 has not been defined, FSN 1229 ignored
  %I2IMAP-W-UNKFC, FC 102 has not been defined, FSN 1232 ignored
  %I2IMAP-W-UNKFC, FC 102 has not been defined, FSN 1233 ignored
  %I2IMAP-W-UNKFC, FC 102 has not been defined, FSN 1234 ignored
  %I2IMAP-W-UNKFC, FC 102 has not been defined, FSN 1235 ignored
  %I2IMAP-W-UNKFC, FC 98 has not been defined, FSN 1239 ignored
  %I2IMAP-W-UNKFC, FC 102 has not been defined, FSN 1240 ignored
  %I2IMAP-W-UNKFC, FC 102 has not been defined, FSN 1241 ignored
  %I2IMAP-W-UNKFC, FC 102 has not been defined, FSN 1242 ignored
  %I2IMAP-W-UNKFC, FC 102 has not been defined, FSN 1243 ignored
  %I2IMAP-W-UNKFC, FC 102 has not been defined, FSN 1244 ignored
  %I2IMAP-I-IFFCLOSED, IFF file closed
   
   ELAPSED:    0 00:02:56.85  CPU: 0:01:34.77  BUFIO: 2252  DIRIO: 1544  FAULTS:
  269 


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                 Page 3-9
  UTILITY I2IMAP                                                      21 June 1994


  $ 

            This example shows what happens when some feature  codes  in  the  IFF
            file are not defined in the parameter file.

            The parameter file directory has been  specified,  but  the  file-spec
            name  part  and  extension have both defaulted (the name to the schema
            name).

            [1mNote:[0m if the schema and parameter file are fixed at a site, the symbol
            I2IMAP  could  be  set  up  to  include  the  /SCHEMA  and  /PARAMETER
            qualifiers.

            Only the name part of the IFF file-spec has been given, defaults being
            filled  in for the directory and extension.  The Informap drawing name
            defaults to the the IFF file-spec name  part,  in  the  absence  of  a
            /DRAWING qualifier.

            All IFF feature  codes  are  converted  to  the  appropriate  Informap
            datatypes,  except  those which have not been defined in the parameter
            file.  A warning message is output for each feature whose feature code
            is undefined, and the feature is ignored.The /LOG qualifier causes the
            extra informational messages to be output.

            [1mNote:[0m the offset applied to IFF coordinates is the  origin  offset  in
            the Map Descriptor (MD) entry in the IFF file.

  $ [1mI2IMAP/SCHEMA=DEMO/PAR=STI_ROOT:[LSL.LOOKUP][0m [1mSP7461[0m [1m-[0m
  _$ [1m/DRAW=MY_MAP/AREA=(W:600,E:900,S:200,N:650)/FC=(15,21,30,108)/QUIET<CR>[0m
   
  Schema           : DEMO
  Parameter file   : STI_ROOT:[LSL.LOOKUP]DEMO.I2IMAP_PAR
  IFF input file   : LSL$IF:SP7461.IFF
  Informap drawing : MY_MAP
  Selecting by FC
  Not complaining about unknown FCs
  Offsets          :  474000.00,  261000.00
  Area selected    :  474600.00,  261200.00 to  474900.00,  261650.00
   
   ELAPSED:    0 00:01:09.52  CPU: 0:00:51.04  BUFIO: 185  DIRIO: 1010  FAULTS:
  230 
  $ 

            This example illustrates  the  conversion  of  a  specified  area  and
            selected feature codes from an IFF file.

            The IFF file-spec is given and an explicit Informap  drawing  name  is
            specified with /DRAWING.

            /AREA defines the boundaries of the area to be converted.   These  are
            specified  in  IFF  units.  If a boundary coincides with the edge of a
            map the relevant keyword is not required.

            Feature codes to be translated are specified with /FC, and  /QUIET  is
            used  to  suppress  the messages warning of undefined feature codes in
            the parameter file.  The /QUIET  qualifier  should  only  be  used  by


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                Page 3-10
  UTILITY I2IMAP                                                      21 June 1994


            experienced operators.

            The offset applied to IFF coordinates is the origin offset in the  Map
            Descriptor (MD) entry in the IFF file.

            Note the use of the DCL continuation character "-", and  abbreviations
            for /PARAMETER, /DRAWING and the /AREA keywords.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                Page 3-11
  MESSAGES (INFORMATIONAL)                                            21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  2NDANO, point generated ('x','y)

      [1mExplanation:[0m  This is  a  diagnostic  message  an  shows  that  a  secondary
      annotation point has been generated at the position indicated.

      [1mUser[0m [1maction:[0m  None

  CODES, error kind = 'integer', error code = 'integer'

      [1mExplanation:[0m  This message always appears after an error has occurred  while
      attempting  an  operation on an Informap drawing.  It gives the user further
      information about the error.

      [1mUser[0m [1maction:[0m  Depends on the main error messages, but if  necessary  consult
      the appropriate Informap manuals for explanations of the error codes.

  IFFCLOSED, IFF file closed

      [1mExplanation:[0m  This message appears if /LOG  was  specified  on  the  command
      line, and confirms that the IFF file has been successfully closed.

      [1mUser[0m [1maction:[0m  None.

  IFFINFO, 'entry' entry in FSN 'fsn', FC 'fc'

      [1mExplanation:[0m  This message always appears after an error has occurred  while
      attempting to translate an attribute.  It gives the user further information
      about the feature to which the attribute belongs.

      [1mUser[0m [1maction:[0m  Depends on the main error messages.

  LAYER, layer 'number' found

      [1mExplanation:[0m  This message appears if /LOG  was  specified  on  the  command
      line,  and  informs  the  user that the given layer in the IFF file has been
      found.

      [1mUser[0m [1maction:[0m  None.

  LINEINPAR, line 'number' of parameter file

      [1mExplanation:[0m  This message always appears after an error has occurred  while
      decoding  a  line  in  the  parameter  file,  and it informs the user of the
      offending line number.  The previous message will have been generated either
      by  LSLLIB  or  by  the  program  itself,  and  the line in question will be
      ignored.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                Page 3-12
  MESSAGES (INFORMATIONAL)                                            21 June 1994


      [1mUser[0m [1maction:[0m  If the error message was generated by LSLLIB, it  most  likely
      indicates   an  error  in  the  parameter  file  which  should  be  amended.
      Otherwise, see the relevant error message explanation.

  READPAR, reading parameter file

      [1mExplanation:[0m  This message appears if /LOG  was  specified  on  the  command
      line, and informs the user that the parameter file is being read.

      [1mUser[0m [1maction:[0m  None.

  WRITESUM, writing to summary file

      [1mExplanation:[0m  The summary file specified with the /SUMMARY qualifier is  now
      being written

      [1mUser[0m [1maction:[0m  none.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                Page 3-13
  MESSAGES (WARNING)                                                  21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  ATTNOTFOUND, cannot find attribute 'name' for datatype 'datatype' in schema

      [1mExplanation:[0m  The named attribute for the given datatype cannot be found  in
      the schema.  This is most probably due to an incorrect name specified in the
      parameter file.  The  attribute  will  be  left  unset  and  execution  will
      continue.

      [1mUser[0m [1maction:[0m  Edit the parameter file  to  correct  the  Informap  attribute
      name.

  ATTOFLOW, number in attribute code 'code' too large for 'name', datatype
      'datatype'

      [1mExplanation:[0m  A number in the given attribute code (in either  a  CB  or  AC
      entry) is too large for the corresponding Informap attribute.  The attribute
      is ignored and processing continues.

      [1mUser[0m [1maction:[0m  Either change the representation of the attribute  within  the
      IFF file or within Informap (which might mean altering the schema), or amend
      the parameter file so that IFF attributes  are  translated  into  compatible
      Informap attributes.

  BADATTCODE, attribute code 'code' out of range

      [1mExplanation:[0m  An invalid IFF attribute code (outwith the range 0  to  32767)
      has been read from the parameter file.  The LINEINPAR message indicating the
      parameter file line number will follow, and the  program  will  continue  to
      read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend the  attribute  code  in  the  parameter  file,  and  if
      necessary run the program again.

  BADATTNAME, invalid attribute name 'name'

      [1mExplanation:[0m  An invalid IFF or Informap attribute name has been  read  from
      the  parameter  file.   This  message  may  be followed by an LSLLIB message
      indicating an error in reading the name.  Alternatively, this message may be
      preceded  by  a  message  indicating  why  the name was not recognised.  The
      LINEINPAR message indicating the parameter  file  line  number  will  appear
      last, and the program will continue to read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend the  attribute  name  in  the  parameter  file,  and  if
      necessary run the program again.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                Page 3-14
  MESSAGES (WARNING)                                                  21 June 1994


  BADDTYPE, datatype 'datatype' out of range

      [1mExplanation:[0m  An invalid Informap datatype (outwith the range 1 to 128)  has
      been  read  from  the  parameter file.  The LINEINPAR message indicating the
      parameter file line number will follow, and the  program  will  continue  to
      read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend the Informap datatype in  the  parameter  file,  and  if
      necessary run the program again.

  BADFC, feature code 'fc' out of range

      [1mExplanation:[0m  An invalid feature code (outwith the range  0  to  32767)  has
      been  read  from  the  parameter file.  The LINEINPAR message indicating the
      parameter file line number will follow, and the  program  will  continue  to
      read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend the feature code in the parameter file, and if necessary
      run the program again.

  BADLTYPE, linetype 'linetype' out of range

      [1mExplanation:[0m  An invalid Informap linetype (outwith the range 1 to 128)  has
      been  read  from  the  parameter file.  The LINEINPAR message indicating the
      parameter file line number will follow, and the  program  will  continue  to
      read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend the Informap linetype in  the  parameter  file,  and  if
      necessary run the program again.

  BADRANGE, invalid range

      [1mExplanation:[0m  An invalid range of integers has been read from the  parameter
      file.  A range should be specified as a series of integers and/or sub-ranges
      in ascending order, separated  by  commas.   A  sub-range  consists  of  two
      integers  separated  by a hyphen.  A given integer should not appear (either
      explicitly or by implication) more than once in the  range.   The  LINEINPAR
      message  indicating  the  parameter  file  line  number will follow, and the
      program will continue to read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend the range in the parameter file, and  if  necessary  run
      the program again.

  BADSYMPEN, symbol pen number 'number' out of range

      [1mExplanation:[0m  An invalid Informap symbol pen number (outwith the range 1  to
      8)  has been read from the parameter file.  The LINEINPAR message indicating
      the parameter file line number will follow, and the program will continue to
      read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend the Informap symbol pen number in  the  parameter  file,
      and if necessary run the program again.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                Page 3-15
  MESSAGES (WARNING)                                                  21 June 1994


  BADTEXTCAT, text category 'cat' out of range

      [1mExplanation:[0m  An invalid IFF text category (outwith the range 0 to  63)  has
      been  read  from  the  parameter file.  The LINEINPAR message indicating the
      parameter file line number will follow, and the  program  will  continue  to
      read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend the IFF text category in  the  parameter  file,  and  if
      necessary run the program again.

  BADTEXTHT, invalid text height 'integer'

      [1mExplanation:[0m  A negative text height (either the lowest or  the  highest  of
      the  range  for a given feature code) has been read from the parameter file.
      The LINEINPAR message indicating the parameter file line number will follow,
      and the program will continue to read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend the relevant text height in the parameter file,  and  if
      necessary run the program again.

  DEFAULTACD, cannot find attribute code 'code', using default values

      [1mExplanation:[0m  The given IFF attribute code (as read from the parameter file)
      could  not be found amongst the current definitions.  Default values will be
      used instead.

      [1mUser[0m [1maction:[0m  Ensure that the appropriate ACD definition appears in the  FRT
      file  if  you  are  using  one.   Otherwise, amend the attribute code in the
      parameter file if it is in error.  If necessary run the program again.

  ENDINMAP, end of IFF file inside map

      [1mExplanation:[0m  The end of the IFF file was reached unexpectedly,  before  the
      end of map (EM) entry had been found.  The map data will have been correctly
      processed, but this  message  may  indicate  that  the  IFF  file  had  been
      improperly closed by a previous process, and some data may be missing.

      [1mUser[0m [1maction:[0m  Examine the file using LITES2 to determine  the  integrity  of
      the  data, and run the IMP utility IINFO to look at the history of the file.
      If none of the data is missing, run IMEND on the  IFF  file  to  insert  the
      missing  entries  at  the  end.  Otherwise, the history may indicate at what
      stage things went wrong.

  EXCANNLIM, annotation point discarded in FSN 'fsn'

      [1mExplanation:[0m  The maximum number of attribute annotation  points  have  been
      specified  for  the  feature  indicated,  and one annotation point (for each
      occurrence of this message) has been ignored.

      [1mUser[0m [1maction:[0m  The feature will be output, and further annotation points  may
      be  added  manually.   If  the limit is deemed to be too low, please contact
      Laser-Scan to have the limit increased in a future version of the program.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                Page 3-16
  MESSAGES (WARNING)                                                  21 June 1994


  ILLEGLATTLEN, illegal attribute length 'length' for 'name', datatype 'datatype'

      [1mExplanation:[0m  The Informap PLUS library has returned  an  illegal  attribute
      length for the named attribute in the given datatype.  The attribute will be
      left unset and execution will continue.  This message is unlikely to  occur,
      but  if  it  does  it  may indicate either a programming error, or a problem
      within the PLUS library.

      [1mUser[0m [1maction:[0m  Preserve the IFF file, together with the  parameter  file  and
      schema, and report the error to Laser-Scan.

  ILLEGLATTNUM, illegal attribute number 'number' for 'name', datatype 'datatype'

      [1mExplanation:[0m  The Informap PLUS library has returned  an  illegal  attribute
      number for the named attribute in the given datatype.  The attribute will be
      left unset and execution will continue.  This message is unlikely to  occur,
      but  if  it  does  it  may indicate either a programming error, or a problem
      within the PLUS library.

      [1mUser[0m [1maction:[0m  Preserve the IFF file, together with the  parameter  file  and
      schema, and report the error to Laser-Scan.

  INCOMPATT, incompatible attribute types, attribute code 'code'

      [1mExplanation:[0m  The type of the given attribute code (in either  a  CB  or  AC
      entry)  is  not  compatible  with the corresponding Informap attribute type.
      The attribute is ignored and processing continues.

      [1mUser[0m [1maction:[0m  Either change the representation of the attribute  within  the
      IFF file or within Informap (which might mean altering the schema), or amend
      the parameter file so that IFF attributes  are  translated  into  compatible
      Informap attributes.

  INCTETDEF, incomplete TRANS_ERR_TEXT definition in parameter file

      [1mExplanation:[0m  The point size range definition in the TRANS_ERR_TEXT entry of
      the  parameter  file  has  only  one  value  - two are needed for a complete
      definition.

      [1mUser[0m [1maction:[0m  Edit the parameter file  to  include  the  correct  number  of
      values in the TRANS_ERR_TEXT definition.

  NOATTNAME, cannot read attribute name

      [1mExplanation:[0m  An IFF  or  Informap  attribute  name  cannot  be  read  where
      expected  from  the  parameter  file.   This  message will be followed by an
      LSLLIB message indicating why the name could not  be  read.   The  LINEINPAR
      message  indicating the parameter file line number will also follow, and the
      program will continue to read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Edit the parameter file to include the attribute name  in  the
      parameter  file  where expected, and if necessary run the program again.  In
      the unlikely event that no errors are found in the  parameter  file,  please
      report the problem to Laser-Scan.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                Page 3-17
  MESSAGES (WARNING)                                                  21 June 1994


  NONFACILITY, non-facility datatype, attributes ignored

      [1mExplanation:[0m  One or more attributes (in either a CB or AC entry) have  been
      found  in  the  given feature, which is being translated into a non-facility
      datatype.  The attribute is ignored and processing continues.

      [1mUser[0m [1maction:[0m  If the attributes are wanted, the  feature  code  in  question
      should be translated into a facility datatype.  This could be done either by
      amending the FDT definition in the parameter file, or  more  drastically  by
      altering the Informap schema.

  NOTGREEN, symbol or annotation position is not GREEN

      [1mExplanation:[0m  A symbol or annotation position is about to be written to  the
      Informap drawing, but it has not been coded as GREEN.  This could indicate a
      problem in the original IFF file, or it may indicate a programming error.

      [1mUser[0m [1maction:[0m  Preserve the IFF file, together with the  parameter  file  and
      schema, and report the error to Laser-Scan.  If the offending symbol or text
      can be recoded as GREEN within Informap, there should be  no  problems  with
      the data.

  TEXTATT, attributes found in text ignored

      [1mExplanation:[0m  One or more attributes (in either a CB or AC entry) have  been
      found  in  the  given  text  feature.   Texts are transferred to Informap as
      primary annotation, and as such cannot contain attributes.   The  attributes
      are therefore ignored.

      [1mUser[0m [1maction:[0m  None, unless the attributes are necessary, in which case  some
      other  method  of  transferring  them  will  need to be devised.  A possible
      solution might be an alternative representation within the IFF file.

  TOOMANYATTDES, Too many attribute descriptions, max is 'number'

      [1mExplanation:[0m  There are  too  many  attribute  description  records  in  the
      parameter  file.   The  LINEINPAR message indicating the parameter file line
      number will follow, and the program will continue to read the file, ignoring
      this line.

      [1mUser[0m [1maction:[0m  Amend the attribute definitions in the parameter file, and  if
      necessary run the program again.

  TOOMANYPTS, symbol/text has 'number' points, FSN 'fsn' ignored

      [1mExplanation:[0m  Symbols and texts can have no more  than  2  points.   Such  a
      feature has been found with more than the maximum, so the feature is ignored
      and processing continues.  This error may indicate either that the symbol or
      text bits in the FS entry have been incorrectly set, or that the feature has
      the wrong feature code, also in the FS entry.

      [1mUser[0m [1maction:[0m  Use the IMP utility IPATCH to correct the FS entry.   Look  at
      the HI entry to check the history of the file in order to ascertain where in
      the flowline the IFF file became corrupted.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                Page 3-18
  MESSAGES (WARNING)                                                  21 June 1994


  TRUNCATT, string in attribute code 'code' truncated

      [1mExplanation:[0m  A string in the given attribute code is  not  compatible  with
      the corresponding Informap attribute string.  The string appears as either a
      character value in a CB entry, or as a text string  in  an  AC  entry.   The
      string is truncated and transferred to the Informap attribute.

      [1mUser[0m [1maction:[0m  If the full string is required,  either  amend  the  parameter
      file  so  that  the  IFF  attribute  is  translated into a suitable Informap
      attribute, or amend the attribute definition in the Informap schema.

  UNEXPCH, unexpected character ''char''

      [1mExplanation:[0m  An alphabetic character has been read from the parameter  file
      where  a digit was expected.  The LINEINPAR message indicating the parameter
      file line number will follow, and the program  will  continue  to  read  the
      file, ignoring this line.

      [1mUser[0m [1maction:[0m  Edit the parameter file to correct  the  offending  character,
      and if necessary run the program again.

  UNKATT, attribute code 'code' undefined for datatype 'datatype'

      [1mExplanation:[0m  The given attribute code (in either a CB or AC entry) has  not
      been  defined in the parameter file for the datatype into which a particular
      feature is being  translated.   The  attribute  is  ignored  and  processing
      continues.  Note that this message can be suppressed by specifying /QUIET on
      the command line.

      [1mUser[0m [1maction:[0m  If the attribute is  wanted,  it  should  be  defined  in  the
      parameter file and the program run again.

  UNKCMD, unknown command "'command'"

      [1mExplanation:[0m  The given command in the parameter file  was  not  recognised.
      The LINEINPAR message indicating the parameter file line number will follow,
      and the program will continue to read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  This message is most likely due to an error in the program and
      should be reported to Laser-Scan.

  UNKFC, FC 'fc' has not been defined, FSN 'fsn' ignored

      [1mExplanation:[0m  The given feature code in the  IFF  file  was  not  recognised
      because  it  has  not  been  defined  in the parameter file.  The feature is
      ignored and processing continues.  Note that this message can be  suppressed
      by specifying /QUIET on the command line.

      [1mUser[0m [1maction:[0m  If the feature code is wanted, it should  be  defined  in  the
      parameter file and the program run again.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                Page 3-19
  MESSAGES (WARNING)                                                  21 June 1994


  UNKPLUS, unknown PLUS error 'number' processing attribute 'name', datatype
      'datatype'

      [1mExplanation:[0m  An error has occurred while processing the named attribute for
      the given datatype.  The attribute is ignored and processing continues.

      [1mUser[0m  [1maction:[0m   Please  refer  to   Informap   documentation   for   further
      information,  and  report  this  problem  to  Laser-Scan,  quoting the error
      number.

  UPCASE, error converting "'string'" to upper case

      [1mExplanation:[0m  An error occurred while converting the given string  to  upper
      case.   A system message will follow, most likely indicating that the string
      has been truncated.  Execution will continue, but problems may occur later.

      [1mUser[0m [1maction:[0m  This message probably indicates a minor programming error, and
      should be reported to Laser-Scan.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                Page 3-20
  MESSAGES (ERROR)                                                    21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  BADAREA, 'bound' boundary 'value' inconsistent with 'bound' boundary 'value'

      [1mExplanation:[0m  The indicated boundary values, either or both  of  which  have
      been specified with /AREA, are inconsistent.  The program exits immediately.

      [1mUser[0m [1maction:[0m   Reissue  the  I2IMAP  command  again,  this  time  specifying
      sensible  values.   These  must  be  compatible with the RA entry in the IFF
      file, which can be examined using the IMP utility IPATCH.

  ERRCLOPAR, error closing parameter file 'file-spec'

      [1mExplanation:[0m  The parameter file could not be closed.  An additional  LSLLIB
      message will follow, giving the reason for the failure.  If this is due to a
      system error, the system error message will also appear.  The program  exits
      immediately.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given,
      and  take the appropriate remedial action.  If the error is due to a serious
      problem such as a system failure, the System Manager should be informed.

  ERROPNINV, error opening invalid coordinates file 'file-spec'

      [1mExplanation:[0m  The specified invalid coordinates file could not be opened.

      [1mUser[0m [1maction:[0m  Check that you have write access to your current directory.

  ERROPNPAR, error opening parameter file 'file-spec'

      [1mExplanation:[0m  The parameter file could not be opened.  An additional  LSLLIB
      message will follow, giving the reason for the failure.  If this is due to a
      system error, the system error message will also appear.  The program  exits
      immediately.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given.
      There may be a simple remedy, e.g.  a change in the directory specification.
      Alternatively, this error could be due to a more serious problem such  as  a
      system failure, and in that case the System Manager may have to be informed.

  ERROPNSUM, error opening summary file 'file-spec'

      [1mExplanation:[0m  The specified summary file could not be opened.

      [1mUser[0m [1maction:[0m  Check that you have write access to your current directory.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                Page 3-21
  MESSAGES (ERROR)                                                    21 June 1994


  ERRRDFRT, error reading FRT file 'file-spec'

      [1mExplanation:[0m  An error occurred while reading in the FRT  file.   A  message
      output  by  the  Feature  Representation Library (FRTLIB) will appear before
      this message, giving further information as to what  has  gone  wrong.   For
      example,  the  specified  FRT  file  may  not exist, or it may be in another
      directory.

      [1mUser[0m [1maction:[0m  Dependent upon the associated error messages.

  ERRRDPAR, error reading from parameter file 'file-spec' at line 'number'

      [1mExplanation:[0m  The given line could not be read from the parameter file.   An
      additional  LSLLIB  message  will follow, giving the reason for the failure.
      If this is due to a system error, the system error message will also appear.
      The program exits immediately.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given,
      and  take the appropriate remedial action.  If the error is due to a serious
      problem such as a system failure, the System Manager should be informed.

  EXCMAXINV, exceeded maximum number of invalid coordinates

      [1mExplanation:[0m  The specified maximum number of invalid coordinates  has  been
      exceeded and processing has stopped.

      [1mUser[0m [1maction:[0m  None.

  IFFCLOERR, cannot close IFF file

      [1mExplanation:[0m  The IFF file could not be  closed.   This  may  be  due  to  a
      previous  IFF  error,  or  it may indicate a more serious system error.  The
      message will be preceded by an IFF library  message  which  will  give  more
      details, including a two-character code.

      [1mUser[0m [1maction:[0m  Look up the IFF error code  in  the  IFFLIB  Reference  Manual
      (part of the MAPPING package documentation) and take the appropriate action.

  NOMD, cannot find MD entry in IFF file

      [1mExplanation:[0m  If /OFFSET has not been specified, I2IMAP looks  for  the  Map
      Descriptor  entry immediately after opening the IFF file.  If the descriptor
      is type 2, it is read in to obtain the origin offset.  If a  map  descriptor
      is  not  found,  the program exits and this message appears, indicating that
      the IFF file is invalid and therefore cannot be used.

      [1mUser[0m [1maction:[0m  Look at the IFF file using the IMP utility IPATCH, in order to
      ascertain  the  level of corruption.  The HIstory entry may indicate how the
      IFF file came to have no MD entry.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                Page 3-22
  MESSAGES (ERROR)                                                    21 June 1994


  NORA, cannot find RA entry in IFF file

      [1mExplanation:[0m  Before processing the map data, I2IMAP has to set the  drawing
      limits.   Default  values are obtained from the RAnge entry in the IFF file,
      and if the entry is not found this message appears, indicating that the  IFF
      file   is   invalid  and  therefore  cannot  be  used.   The  program  exits
      immediately.

      [1mUser[0m [1maction:[0m  Look at the IFF file using the IMP utility IPATCH, in order to
      ascertain  the  level of corruption.  The HIstory entry may indicate how the
      IFF file came to have no RA entry.

  NOTINAREA, map is outside the specified area

      [1mExplanation:[0m  The  map  is  outside  the  area  defined  by  the  boundaries
      specified with /AREA.  The program exits immediately.

      [1mUser[0m [1maction:[0m   Reissue  the  I2IMAP  command  again,  this  time  specifying
      sensible  values.   Note  that these must be compatible with the RA entry in
      the IFF file, which can be examined using the IMP utility IPATCH.

  PUTANO, cannot write primary annotation

      [1mExplanation:[0m  A graphic annotation element  could  not  be  written  to  the
      Informap  drawing.   If  this  is  due  to an Informap error, an appropriate
      Informap message will  probably  have  been  output  by  the  PLUS  library,
      immediately  prior to this one.  The CODES message giving the Informap error
      codes follows, and if there has been a system failure,  the  system  message
      will also be output.  The program exits immediately.

      [1mUser[0m [1maction:[0m  Depends on the combination of messages,  but  Informap  errors
      should  be  reported  to  your  supervisor,  while  system  errors should be
      reported to the System Manager.

  PUTINF, cannot open Informap drawing files for datatype 'datatype'

      [1mExplanation:[0m  The graphic and attribute files for the given datatype in  the
      Informap  drawing  could  not  be successfully opened.  It could be that the
      user is trying to access a file in use by someone else, or is not logged  on
      as  a  Synercom  user  (i.e.   in the correct group).  If the message is the
      result of an Informap error, an appropriate Informap message  will  probably
      have  been  output  by the PLUS library, immediately prior to this one.  The
      CODES message giving the Informap error codes follows, and if there has been
      a system failure, the system message will also be output.  The program exits
      immediately.

      [1mUser[0m [1maction:[0m  Depends on the combination of messages,  but  Informap  errors
      should  be  reported  to  your  supervisor,  while  system  errors should be
      reported to the System Manager.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                Page 3-23
  MESSAGES (ERROR)                                                    21 June 1994


  WTGREL, cannot write to datatype 'datatype'

      [1mExplanation:[0m  A graphic element, an attribute annotation graphic element, or
      an  associated  attribute record for the given datatype could not be written
      to the  Informap  drawing.   If  this  is  due  to  an  Informap  error,  an
      appropriate  Informap  message  will  probably  have been output by the PLUS
      library, immediately prior to  this  one.   The  CODES  message  giving  the
      Informap  error  codes  follows, and if there has been a system failure, the
      system message will also be output.  The program exits immediately.

      [1mUser[0m [1maction:[0m  Depends on the combination of messages,  but  Informap  errors
      should  be  reported  to  your  supervisor,  while  system  errors should be
      reported to the System Manager.


  IFFIMAP REFERENCE (1.4): I2IMAP utility                                Page 3-24
  MESSAGES (OTHER)                                                    21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages  may  be  generated  by  the  IFF
  library  and  by  the  Laser-Scan I/O library, LSLLIB.  IFF library messages are
  introduced by '%IFF' and are documented in the IFF  library  users'  guide.   In
  most  cases  IFF  errors will be due to a corrupt input file, and this should be
  the first area of investigation.  If the cause of the error cannot be traced  by
  the user, and Laser-Scan are consulted, then the output file should be preserved
  to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'  and  are
  generally  self-explanatory.   They  are  used to explain the details of program
  generated errors.














                                     CHAPTER 4

                                   IMAP2I UTILITY





  IFFIMAP REFERENCE (1.4): IMAP2I utility                                 Page 4-1
  UTILITY IMAP2I                                                      21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mUTILITY[0m [1mIMAP2I[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            IMAP2I extracts data from an Informap database and outputs  it  to  an
            IFF  file.   The program is driven by a parameter file which describes
            each  datatype,  and  by  the  Informap  schema  which  describes  the
            database.   Options  exist  to select only particular datatypes and to
            read either from working storage or from permanent storage.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ IMAP2I IFF-file-spec

            [1mCommand[0m [1mqualifiers[0m                       [1mDefaults[0m

            /AREA=(limit[,...])                      See text
            /DRAWING=name                            IFF-file-spec name part
            /DATATYPE=(integer[,...])                All datatypes
            /FACET[=file-spec]                       None
            /[NO]FRT[=file-spec]                     /NOFRT
            /[NO]LOG                                 /NOLOG
            /[NO]OFFSET[=(coordinates)]              See text
            /OS                                      /NOOS
            /PARAMETER=file-spec                     See text
            /[NO]SCALE=integer                       /NOSCALE
            /SCHEMA=name                             None

  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPT[0m

            _IFF-file:          IFF-file-spec

  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  IFF-file-spec

          - specifies the output IFF file.  Any part of the file-spec which is not
            supplied    will    be    taken   from   the   default   specification
            'LSL$IF:IFF.IFF'.

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

  /AREA=(WEST:real,SOUTH:real,EAST:real,NORTH:real)

          - specifies the area of data, in either working  or  permanent  storage,
            that  is  to be read.  The keywords are the western, southern, eastern
            and  northern  boundaries  of  the  area  required,  in  the  database
            coordinate  units.   All  keywords  are  required.   The  qualifier is
            mandatory with /FACET but optional with /DRAWING.   With  the  latter,
            the default action is to read all data.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                 Page 4-2
  UTILITY IMAP2I                                                      21 June 1994


  /DATATYPE=(integer[,...])

          - causes IMAP2I to read only the  specified  datatypes.   The  /DATATYPE
            qualifier   will   accept  single,  multiple  or  ranges  of  datatype
            arguments.  Ranges may be specified with starting and ending datatypes
            that  are  separated  by  a  colon, for example /DATATYPE=56:58.  When
            specifying more than one range of datatypes, separate each range  with
            a  comma,  for  example  /DATATYPE=(1:5,56:89).  The maximum number of
            datatypes which may be specified is 128.

  /DRAWING=name

          - specifies the name of the Informap drawing, in working  storage,  that
            is  to  be  read.   The  drawing  name may be from 1 to 9 alphanumeric
            characters, starting with a letter.  The default drawing name  is  the
            name  part  of  the parsed IFF-file-spec, truncated to 9 characters if
            necessary.   This  qualifier  is  not  allowed  if  /FACET  has   been
            specified,   and  is  the  default  if  neither  have  been  specified
            explicitly.

  /FACET[=file-spec]

          - specifies the name of a facet description file if data is to  be  read
            from  permanent  storage.   The  facet description file-spec is parsed
            from the default STI_ROOT:[300010]'name'.FDT where 'name' is the  name
            specified  with  /SCHEMA.   This  qualifier requires /AREA, and is not
            allowed if /DRAWING has been specified explicitly.  In the absence  of
            /FACET, the default is as for /DRAWING

  /FRT[=file-spec]
  /NOFRT

          - specifies an FRT file which the program will read and use
            a)  to output non-standard AC entries, and
            b)  to determine which symbols are oriented or scaled.
            The FRT file-spec is parsed  against  the  default  LSL$FRT:'name'.FRT
            where 'name' is the name specified with /SCHEMA.

            /FRT is necessary if ADT  NAME  is  present  in  the  parameter  file,
            otherwise  that  particular attribute definition will be skipped.  The
            FRT is also used to ascertain ACD  types,  and  if  not  specified,  a
            default ACD type will be assumed.

            /FRT ensures that symbols are output correctly to the IFF file.

  /LOG
  /NOLOG

          - causes supplementary messages to be sent to SYS$OUTPUT.  Supplementary
            messages  are  generated  when  a  file  is successfully opened, and a
            reassuring message is output each time the output of a new  IFF  layer
            is started to the output file.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                 Page 4-3
  UTILITY IMAP2I                                                      21 June 1994


  /OFFSET[=(EAST:real,NORTH=real)]
  /NOOFFSET

          - specifies an Easting and Northing offset (in database coordinates)  to
            be  subtracted  from  all  coordinates  before  output  to  IFF.  Both
            keywords must be present if supplied.   The  defaults  are  the  lower
            limits  of  X  and  Y for working storage drawings, or the western and
            southern boundaries specified with /AREA.  /NOOFFSET implies an offset
            of (0,0).  The default is /OFFSET with the default keyword values.

  /OS
  /NOOS

          - specifies that an Ordnance Survey (Great Britain) style IFF file is to
            be produced.  This file will contain an OS style MH (Map Header) entry
            and will also have  scale  and  projection  details  in  the  MD  (Map
            Descriptor)  entry.   The  qualifier  requires /SCALE.  The default is
            /NOOS

  /PARAMETER=file-spec

          - specifies the IFF parameter file, which defines the transformation  of
            datatypes and linetypes in the Informap database to IFF feature codes.
            The   parameter    file-spec    is    parsed    from    the    default
            STI_ROOT:[300010]'name'.IMAP2I_PAR  where 'name' is the name specified
            with /SCHEMA.  If /PARAMETER is not given explicitly  on  the  command
            line, the default parameter file-spec used.

  /SCALE=integer
  /NOSCALE

          - specifies the  scale  of  the  map  to  be  entered  in  the  MD  (Map
            Descriptor)  entry  in  the IFF file.  This qualifier is required with
            /OS, otherwise the default is /NOSCALE

  /SCHEMA=name

          - specifies the schema to be used in reading the Informap drawing.   The
            schema  name may be from 1 to 9 alphanumeric characters, starting with
            a letter.  This qualifier is mandatory.

  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  /FACET and /DRAWING are mutually exclusive

             o  /FACET requires /AREA

             o  /OS requires /SCALE

             o  /SCHEMA must be specified



  IFFIMAP REFERENCE (1.4): IMAP2I utility                                 Page 4-4
  UTILITY IMAP2I                                                      21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m

            IMAP2I reads from an Informap drawing in working storage, or  an  area
            in  permanent  storage,  and  writes  an  IFF  file.   It  deduces the
            translation necessary by reading in a  parameter  file,  and  uses  an
            Informap schema to control access to the database.  It is assumed that
            the user has a working knowledge of the Informap system, including how
            to set up and use the schema.

            [1mParameter[0m [1mfile[0m

            This file contains the datatype description table which describes  the
            translations  required  to  produce  IFF data from Informap data.  The
            file can also contain an attribute description  table  describing  the
            translations   required   to  produce  IFF  attributes  from  Informap
            attributes.  The  format  of  the  table  is  described  in  the  DATA
            PREPARATION section under the heading 'The IMAP2I parameter file', and
            it will probably have been set up by  the  LAMPS  system  manager  and
            remain relatively static at most installations.

            [1mFacet[0m [1mDescription[0m [1mFile[0m

            This file is required if /FACET is specified on the command line.   It
            is  a  text  file  comprising  various  parameters  which describe the
            facetisation of the data and is used to obtain the  drawing  names  of
            the  area  in  question.   For  further details, refer to the Informap
            documentation.

            [1mUsing[0m [1mthe[0m [1mprogram[0m

            Normal use of the program is in batch mode - that is, running it via a
            batch command file, submitted with the SUBMIT command.  However, it is
            also possible to run the program interactively, although since it  can
            take  a  long  time to translate Informap data this is not necessarily
            the best method.

            It is probable that the symbol IMAP2I will have been set up to include
            at least the /PARAMETER and /SCHEMA qualifiers, so you may not need to
            specify these explicitly.

            If /OFFSET is specified on the command line, care should be  taken  to
            ensure that there will be no loss of precision of the data on transfer
            to IFF; coordinates in IFF are accurate to approximately 7 significant
            figures.   The  keyword  values  specified  (either  explicitly  or by
            default) with /OFFSET are the  origin  offset  values  which  will  be
            stored  in  the  Map Descriptor (MD) entry, the primary purpose of the
            origin offset in IFF being to maintain accuracy over large areas.

            Unlike   I2IMAP,   warning   messages   are   not   output   when    a
            datatype/linetype  or  attribute  is encountered for which there is no
            definition in the parameter file.  These entities are simply ignored.

            Note that  the  IFF  file  directory  (default  LSL$IF)  will  require
            worldwide  write  access  if  the Informap and Laser-Scan users are in
            different groups and are to access the same directory.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                 Page 4-5
  UTILITY IMAP2I                                                      21 June 1994


            [1mHow[0m [1mthe[0m [1mprogram[0m [1mworks[0m

            Once the program has been invoked and the  command  line  successfully
            read,  a  summary  of  the inputs and outputs is typed.  The parameter
            file is then read in, and if the data is to be read from  an  area  in
            permanent  storage,  the  facet description file is read to obtain the
            drawing names.  If these operations are successful, the  IFF  file  is
            opened.

            When the first datatype is opened, the area limits are checked against
            the  drawing limits (if using working storage), and values set for the
            IFF CP (Control Point) entry.  Additional summary information is  also
            output at this stage.

            The data is then read from the Informap  database,  and  processed  to
            produce  the IFF file.  The feature code for a particular datatype and
            linetype combination is obtained from  the  parameter  file,  but  for
            processing  purposes  the  graphical type is deduced from the Informap
            data kind and mode.  Note that there are no consistency checks between
            the feature code and the assumed graphical type.

            For the translation the various Informap data  kinds  are  treated  as
            follows :-

             o  [1mLines[0m are output as linear features.  Features are deemed to start
                    on green points,
                    on white points whenever a new attribute record is read,
                    at the transition of smooth curves into straight lines, and
                    wherever the linetype changes.

             o  [1mArcs[0m  [1mand[0m  [1mcircles[0m  are  output  as  circumcircle  arcs  and  full
                circumcircles respectively.

             o  [1mSmooth[0m [1mcurves[0m are output as interpolated curves.   The  conditions
                for  starting a new feature are the same as for lines, except that
                smooth curves can be started at the transition of  straight  lines
                into smooth curves, rather than vice-versa.

             o  [1mSymbols[0m are output as oriented symbols by default.  However,  when
                /FRT  is  specified,  rotations  will not be output for unoriented
                symbols or scaled symbols, and the latter will get a second point.
                Informap  non-facility  symbols  have  a  scale  which  is used to
                calculate the  scaling  distance,  and  hence  the  second  point;
                facility symbols have no scale, so the orienting point is used.

             o  [1mPrimary[0m [1mannotation[0m elements are output as  texts.   The  IFF  text
                justification  is  set  according to the Informap value, while the
                IFF text height and text category for  the  appropriate  linestyle
                are  taken  from  the  parameter file if present.  If not present,
                they are left unset in the IFF file.  The IFF text style  is  left
                unset  in  any case.  Line feed characters are replaced by spaces,
                and texts truncated to 255 characters if necessary - IFF composite
                texts are not supported at present.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                 Page 4-6
  UTILITY IMAP2I                                                      21 June 1994


             o  [1mSecondary[0m [1mannotation[0m (i.e.   attribute  annotation)  elements  are
                discussed in the section below.

             o  [1mNongraphic[0m  [1mattributes[0m  are  output  as  AC   entries.    Informap
                attributes  which  are  of type real will translate to the nearest
                integer  in  IFF  if  necessary.   Similarly,   Informap   integer
                attributes  can  translate  into  IFF  type  real.   If necessary,
                Informap text strings will be truncated when transferred into  IFF
                character attributes or text strings.

            When all applicable data has been output to the IFF file, the  program
            will exit.

            Errors which result in termination  of  the  program  will  cause  the
            output  of  appropriate  messages.   Unless  nothing  at  all has been
            written to the IFF file, it will be closed and preserved.

            [1mSecondary[0m [1mannotation[0m [1mpoints[0m

            IMAP2I has the facility to transfer secondary annotation points in the
            Informap  drawing  into  certain  AC  entries  of  the IFF file.  This
            functionality directly  mirrors  that  of  I2IMAP  so  that  attribute
            annotation points can be converted from IFF into Informap and back out
            to IFF again with no loss of data.

            As mentioned in "Informap data preparation", the IFF  attribute  names
            "STARTX",  "START",  "ENDX" and "ENDY" are reserved for the purpose of
            transferring Secondary annotation points.  All of these names must  be
            present  as  "ADT NAME" entries in the attribute description to enable
            secondary annotation transfer.  E.g.

                      ADT NAME STARTX AC VALUE COMMENT

            Although the "dtype" field of the ADT entry is not used, its  presence
            is required for the ADT entry to be valid.

            Corresponding entries must be present as ACD entries in the  FRT  file
            which translate the names "STARTX"...  into IFF attribute codes.  E.g.

                      ACD TABLE 1
                      ACD R 1 STARTX -1.0E37 +1.0E 

            This specifies that the IFF Attribute name "STARTX" corresponds to the
            IFF ancillary code 1001 (see the FRT user guide for information on FRT
            entries).

            If there are one or more attribute annotation  points  on  a  line  or
            point  feature in the Informap drawing, then 4 IFF AC entries (STARTX,
            STARTY and ENDX, ENDY) will be created for each annotation point.  The
            values  of  these  4 ACs will define a line whose angle represents the
            placement for the text.

            Here is an example IFF line created from an Informap  line  which  had
            two attribute annotation points.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                 Page 4-7
  UTILITY IMAP2I                                                      21 June 1994


                      NF 186 158
                      FS 29 0 0 0
                      AC 1001 122.1191
                      AC 1002 63.543
                      AC 1003 120.7519
                      AC 1004 60.834
                      AC 1001 128.392
                      AC 1002 66.313
                      AC 1003 125.923
                      AC 1004 54.956
                      TH 0
                      ST 2 0
                         122.1191 61.32813
                         120.7519 58.4961
                      EF

            In this example the AC codes 1001, 1002, 1003 and 1004  correspond  to
            the Attribute names STARTX, STARTY, ENDX and ENDY respectively.

            These points will be converted to coordinates relative to  the  origin
            offset held in the IFF Map Descriptor prior to being output to the IFF
            AC entry.

            [1mIFF[0m [1mfiles[0m

            IMAP2I produces a new style IFF file containing IFF HIstory  (HI)  and
            type  2  Map Descriptor (MD) entries.  The latter will have its origin
            offset and scale fields set.

            All data is output to layer 1 in the output IFF file.

            The program does not produce a  layer  containing  a  grid  or  corner
            ticks.   If  either  of  these  are desired, the file should be merged
            using the IMP utility IMERGE, with a template IFF file produced by the
            IMP utility ISTART.

            If /OS was specified on the command line, the IFF file will contain an
            OS  style  map  header  with  the  origin offset, scale and basic grid
            interval set.  The map descriptor will also have the projection, units
            and spheroid code fields set to the appropriate values.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                 Page 4-8
  UTILITY IMAP2I                                                      21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m


  $ [1mIMAP2I/SCHEMA=DEMO/PAR=STI_ROOT:[LSL.LOOKUP][0m [1mTL1659NE[0m [1m-[0m
  _$ [1m/OS/SCALE=1250/OFFSET=(E:516500,N:259500)<CR>[0m
   
  Schema                 : DEMO
  Parameter file         : STI_ROOT:[LSL.LOOKUP]DEMO.IMAP2I_PAR
  Informap drawing       : TL1659NE
  IFF output file        : LSL$IF:TL1659NE.IFF
  Offsets                :  516500.00,  259500.00
   
   ELAPSED:    0 00:00:17.66  CPU: 0:00:07.61  BUFIO: 124  DIRIO: 200  FAULTS: 189
  $ 

            This is a typical example showing the use  of  IMAP2I  to  produce  an
            Ordnance Survey style IFF file.  The parameter file directory has been
            specified, but  the  file-spec  name  part  and  extension  have  both
            defaulted  (the name to the schema name).  Note that if the schema and
            parameter file are fixed at a site, the symbol IMAP2I could be set  up
            to  include  the /SCHEMA and /PARAMETER qualifiers.  The IFF file-spec
            is given before the remaining qualifiers,  but  its  position  is  not
            important.   Only  the  name part of the IFF file-spec has been given,
            defaults being  filled  in  for  the  directory  and  extension.   The
            Informap  drawing name defaults to the the IFF file-spec name part, in
            the absence of a /DRAWING qualifier.   The  /OS,  /SCALE  and  /OFFSET
            qualifiers  are  necessary  for  an  Ordnance  Survey  type  IFF file,
            particularly if the IFF file is later to be converted  to  OSTF.   All
            Informap datatypes are converted to the appropriate IFF feature codes.
            Note the use of the DCL continuation character "-", and  abbreviations
            for /PARAMETER and the /OFFSET keywords.

  $ [1mIMAP2I/SCHEMA=DEMO/PAR=STI_ROOT:[LSL.LOOKUP]/FACET[0m [1m-[0m
  _$ [1m/AREA=(W:474200,E:474700,S:261350,N:261850)/DATATYPE=(6:11,13,14)[0m [1m-[0m
  _$ [1m/LOG[0m [1mMY_MAP<CR>[0m
   
  Schema                 : DEMO
  Parameter file         : STI_ROOT:[LSL.LOOKUP]DEMO.IMAP2I_PAR
  Facet description file : STI_ROOT:[300010]DEMO.FDT
  IFF output file        : LSL$IF:MY_MAP.IFF
  Selecting by datatype
  Outputting supplementary messages
   
  %IMAP2I-I-READPAR, reading parameter file
  %IMAP2I-I-READFAC, reading facet description file
  %LSLLIB-I-IFFOPENED, STI_ROOT:[LSL.TEMP]MY_MAP.IFF;1 opened for write
   
  Area selected          :  474200.00,  261350.00 to  474700.00,  261850.00
  Offsets                :  474200.00,  261350.00
   
  %IMAP2I-I-IFFCLOSED, IFF file closed
   
   ELAPSED:    0 00:01:44.98  CPU: 0:01:18.75  BUFIO: 445  DIRIO: 639  FAULTS: 207
  $ 


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                 Page 4-9
  UTILITY IMAP2I                                                      21 June 1994


            This example illustrates conversion from Informap  permanent  storage,
            through the use of /FACET and /AREA.  The /DATATYPE qualifier has been
            used to select Informap datatypes for conversion, and /LOG causes  the
            extra  informational  messages  to  be  output.   Note that the offset
            applied is the southwest corner of the specified area.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                Page 4-10
  MESSAGES (INFORMATIONAL)                                            21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  CODES, error kind = 'integer', error code = 'integer'

      [1mExplanation:[0m  This message always appears after an error has occurred  while
      attempting  an  operation on an Informap drawing.  It gives the user further
      information about the error.

      [1mUser[0m [1maction:[0m  Depends on the main error messages, but if  necessary  consult
      the appropriate Informap manuals for explanations of the error codes.

  IFFCLOSED, IFF file closed

      [1mExplanation:[0m  This message appears if /LOG  was  specified  on  the  command
      line, and confirms that the IFF file has been successfully closed.

      [1mUser[0m [1maction:[0m  None.

  IFFDELETED, IFF file deleted

      [1mExplanation:[0m  This message appears if /LOG  was  specified  on  the  command
      line, and confirms that the IFF file has been closed and deleted.  This will
      only happen if execution is terminated after the IFF file  has  been  opened
      but before the header data has been successfully written.

      [1mUser[0m [1maction:[0m  None.

  IMAPINFO, attribute number 'number', datatype 'datatype'

      [1mExplanation:[0m  This  message  appears  after  an  error  has  occurred  while
      attempting  to  translate  an  attribute.   It  gives the user the attribute
      number and current datatype.

      [1mUser[0m [1maction:[0m  Depends on the main error messages.

  LINEINFAC, line 'number' of facet description file

      [1mExplanation:[0m  This message always appears after an error has occurred  while
      decoding  a  line  in the facet description file, and it informs the user of
      the offending line number.  The previous message will have been generated by
      LSLLIB, and the line in question will be ignored.

      [1mUser[0m [1maction:[0m  The  LSLLIB  message  may  indicate  an  error  in  the  facet
      description file which should be amended.  Otherwise, see the relevant error
      message explanation.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                Page 4-11
  MESSAGES (INFORMATIONAL)                                            21 June 1994


  LINEINPAR, line 'number' of parameter file

      [1mExplanation:[0m  This message always appears after an error has occurred  while
      decoding  a  line  in  the  parameter  file,  and it informs the user of the
      offending line number.  The previous message will have been generated either
      by  LSLLIB  or  by  the  program  itself,  and  the line in question will be
      ignored.

      [1mUser[0m [1maction:[0m  If the error message was generated by LSLLIB, it  most  likely
      indicates   an  error  in  the  parameter  file  which  should  be  amended.
      Otherwise, see the relevant error message explanation.

  READFAC, reading facet description file

      [1mExplanation:[0m  This message appears if /LOG  was  specified  on  the  command
      line, and informs the user that the facet description file is being read.

      [1mUser[0m [1maction:[0m  None.

  READPAR, reading parameter file

      [1mExplanation:[0m  This message appears if /LOG  was  specified  on  the  command
      line, and informs the user that the parameter file is being read.

      [1mUser[0m [1maction:[0m  None.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                Page 4-12
  MESSAGES (WARNING)                                                  21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  ATTNOTFOUND, cannot find attribute in schema

      [1mExplanation:[0m  An attribute could not be found in the schema.   The  IMAPINFO
      message follows, giving the attribute number and current datatype.  This may
      indicate a problem within Informap.  The attribute is ignored and processing
      continues.

      [1mUser[0m [1maction:[0m  Preserve the  data,  together  with  the  parameter  file  and
      schema, and report this problem to Laser-Scan.

  BADATTCODE, attribute code 'code' out of range

      [1mExplanation:[0m  An invalid IFF attribute code (outwith the range 0  to  32767)
      has been read from the parameter file.  The LINEINPAR message indicating the
      parameter file line number will follow, and the  program  will  continue  to
      read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend the  attribute  code  in  the  parameter  file,  and  if
      necessary run the program again.

  BADATTNAME, invalid attribute name 'name'

      [1mExplanation:[0m  An invalid IFF or Informap attribute name has been  read  from
      the  parameter  file.   This  message  may  be followed by an LSLLIB message
      indicating an error in reading the name.  Alternatively, this message may be
      preceded  by  a  message  indicating  why  the name was not recognised.  The
      LINEINPAR message indicating the parameter  file  line  number  will  appear
      last, and the program will continue to read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend the  attribute  name  in  the  parameter  file,  and  if
      necessary run the program again.

  BADDTYPE, datatype 'datatype' out of range

      [1mExplanation:[0m  An invalid Informap datatype (outwith the range 1 to 128)  has
      been  read  from  the  parameter file.  The LINEINPAR message indicating the
      parameter file line number will follow, and the  program  will  continue  to
      read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend the Informap datatype in  the  parameter  file,  and  if
      necessary run the program again.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                Page 4-13
  MESSAGES (WARNING)                                                  21 June 1994


  BADFC, feature code 'fc' out of range

      [1mExplanation:[0m  An invalid feature code (outwith the range  0  to  32767)  has
      been  read  from  the  parameter file.  The LINEINPAR message indicating the
      parameter file line number will follow, and the  program  will  continue  to
      read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend the feature code in the parameter file, and if necessary
      run the program again.

  BADLTYPE, linetype 'linetype' out of range

      [1mExplanation:[0m  An invalid Informap linetype (outwith the range 1 to 128)  has
      been  read  from  the  parameter file.  The LINEINPAR message indicating the
      parameter file line number will follow, and the  program  will  continue  to
      read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend the Informap linetype in  the  parameter  file,  and  if
      necessary run the program again.

  BADRANGE, invalid range

      [1mExplanation:[0m  An invalid range of integers has been read from the  parameter
      file.  A range should be specified as a series of integers and/or sub-ranges
      in ascending order, separated  by  commas.   A  sub-range  consists  of  two
      integers  separated  by a hyphen.  A given integer should not appear (either
      explicitly or by implication) more than once in the  range.   The  LINEINPAR
      message  indicating  the  parameter  file  line  number will follow, and the
      program will continue to read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend the range in the parameter file, and  if  necessary  run
      the program again.

  BADTEXTCAT, invalid text category 'cat'

      [1mExplanation:[0m  An invalid text category has  been  read  from  the  parameter
      file.   Text categories must be positive integers in the range 0 to 63.  The
      LINEINPAR message indicating the parameter file line number will follow, and
      the program will continue to read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend  the  text  category  in  the  parameter  file,  and  if
      necessary run the program again.

  BADTEXTSIZE, invalid text size 'integer'

      [1mExplanation:[0m  An invalid text size has been read from  the  parameter  file.
      Text  sizes  must  be  positive integers up to 32767; no distinction is made
      between point sizes or actual heights.  The LINEINPAR message indicating the
      parameter  file  line  number  will follow, and the program will continue to
      read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Amend the text size in the parameter file,  and  if  necessary
      run the program again.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                Page 4-14
  MESSAGES (WARNING)                                                  21 June 1994


  DEFAULTACD, cannot find attribute code 'code', using default values

      [1mExplanation:[0m  The given IFF attribute code (as read from the parameter file)
      could  not be found amongst the current definitions.  Default values will be
      used instead.

      [1mUser[0m [1maction:[0m  Ensure that the appropriate ACD definition appears in the  FRT
      file  if  you  are  using  one.   Otherwise, amend the attribute code in the
      parameter file if it is in error.  If necessary run the program again.

  FACILITY, facility datatype 'datatype' has no attributes

      [1mExplanation:[0m  The given facility datatype has no attributes.

      [1mUser[0m [1maction:[0m  The datatype  in  question  should  be  non-facility.   Please
      report this problem to your system manager.

  ILLEGLATTLEN, illegal attribute length 'length'

      [1mExplanation:[0m  The Informap PLUS library has returned  an  illegal  attribute
      length.   The  IMAPINFO  message  follows,  giving  the attribute number and
      current datatype.  The attribute itself is ignored and processing continues.
      This  message  is unlikely to occur, but if it does it may indicate either a
      programming error, or a problem within the PLUS library.

      [1mUser[0m [1maction:[0m  Preserve the  data,  together  with  the  parameter  file  and
      schema, and report this problem to Laser-Scan.

  ILLEGLATTNUM, illegal attribute number for 'name'

      [1mExplanation:[0m  The Informap PLUS library has returned  an  illegal  attribute
      number  for  the  named attribute.  The IMAPINFO message follows, giving the
      erroneous attribute number and the current datatype.  The  attribute  itself
      is ignored and processing continues.  This message is unlikely to occur, but
      if it does it may indicate either a programming error, or a  problem  within
      the PLUS library.

      [1mUser[0m [1maction:[0m  Preserve the  data,  together  with  the  parameter  file  and
      schema, and report this problem to Laser-Scan.

  INCOMPATT, incompatible attribute types, attribute code 'code'

      [1mExplanation:[0m   An  Informap  attribute  type  is  not  compatible  with  the
      corresponding  type  of  the  given IFF attribute code (in either a CB or AC
      entry).  The IMAPINFO message  follows,  giving  the  attribute  number  and
      current datatype.  The attribute is ignored and processing continues.

      [1mUser[0m [1maction:[0m  Either change  the  representation  of  the  attribute  within
      Informap  (which  might mean altering the schema) or within the IFF file, or
      amend the parameter file so that Informap  attributes  are  translated  into
      compatible IFF attributes.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                Page 4-15
  MESSAGES (WARNING)                                                  21 June 1994


  NOATTNAME, cannot read attribute name

      [1mExplanation:[0m  An IFF  or  Informap  attribute  name  cannot  be  read  where
      expected  from  the  parameter  file.   This  message will be followed by an
      LSLLIB message indicating why the name could not  be  read.   The  LINEINPAR
      message  indicating the parameter file line number will also follow, and the
      program will continue to read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  Edit the parameter file to include the attribute name  in  the
      parameter  file  where expected, and if necessary run the program again.  In
      the unlikely event that no errors are found in the  parameter  file,  please
      report the problem to Laser-Scan.

  NODATA, IFF file does not contain any map data

      [1mExplanation:[0m  The IFF file produced by IMAP2I does not contain any map data.
      This  could be due either to the selected datatypes not occurring within the
      specified area, or to the  selected  datatypes  not  being  present  in  the
      specified  drawing.  Previous warning messages may indicate more plainly the
      reason.

      [1mUser[0m [1maction:[0m  Check the area and datatypes selected and if necessary run the
      program again.  If the selections appear to be correct, check the drawing or
      area within Informap to ensure that the required data is not present.

  NODTYPE, datatype 'datatype' not in schema

      [1mExplanation:[0m  The given Informap datatype is  not  defined  in  the  schema.
      This  could  be  due to an error in the schema, or the wrong schema may have
      been specified on the command line.  All drawing elements with this datatype
      are ignored and processing continues.

      [1mUser[0m [1maction:[0m  Check the schema, and if necessary amend it  to  include  this
      datatype.  If the datatype is wanted, the program should be run again.

  NOTGREEN, symbol (datatype 'datatype') is not green

      [1mExplanation:[0m  A symbol of the given Informap datatype does not have a  green
      button.   IMAP2I  assumes that all symbols are encoded as green.  The symbol
      is ignored and processing continues.

      [1mUser[0m [1maction:[0m  Amend the database so that the symbol has a green button.   If
      the symbol is required, the program should be run again.

  TOOMANYATTDES, Too many attribute descriptions, max is 'number'

      [1mExplanation:[0m  There are  too  many  attribute  description  records  in  the
      parameter  file.   The  LINEINPAR message indicating the parameter file line
      number will follow, and the program will continue to read the file, ignoring
      this line.

      [1mUser[0m [1maction:[0m  Amend the attribute definitions in the parameter file, and  if
      necessary run the program again.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                Page 4-16
  MESSAGES (WARNING)                                                  21 June 1994


  TRUNCATT, string in attribute code 'code' truncated

      [1mExplanation:[0m  An Informap attribute string is too long for the corresponding
      string  in  the given IFF attribute code.  The destination string appears as
      either a character value in a CB entry, or as a text string in an AC  entry.
      The string is truncated and transferred to the appropriate IFF entry.

      [1mUser[0m [1maction:[0m  If the full string is required,  either  amend  the  parameter
      file  so  that  the  Informap  attribute  is  translated into a suitable IFF
      attribute, or amend the attribute definition in the Informap schema.

  UNEXPCH, unexpected character ''char''

      [1mExplanation:[0m  An alphabetic character has been read from the parameter  file
      where  a digit was expected.  The LINEINPAR message indicating the parameter
      file line number will follow, and the program  will  continue  to  read  the
      file, ignoring this line.

      [1mUser[0m [1maction:[0m  Edit the parameter file to correct  the  offending  character,
      and if necessary run the program again.

  UNKCMD, unknown command "'command'"

      [1mExplanation:[0m  The given command in the parameter file  was  not  recognised.
      The LINEINPAR message indicating the parameter file line number will follow,
      and the program will continue to read the file, ignoring this line.

      [1mUser[0m [1maction:[0m  This message is most likely due to an error in the program and
      should be reported to Laser-Scan.

  UNKDKIND, unknown data kind 'kind'

      [1mExplanation:[0m  The given Informap data kind cannot be handled.   IMAP2I  only
      knows  about  data  kinds 1-5, i.e.  non-facility lines, primary annotation,
      non-facility symbols, facility symbols and facility line respectively.   All
      drawing  elements  with the datatype of the kind in question are ignored and
      processing continues.

      [1mUser[0m [1maction:[0m  If all the data is required, the  datatype  of  the  offending
      drawing elements should be changed to a datatype of the recognised kind.  If
      an alternative kind is required and is valid within Informap, please  submit
      an SPR to Laser-Scan.

  UNKDTYPE, datatype 'datatype' not in parameter file

      [1mExplanation:[0m  The given Informap datatype was not recognised because it  has
      not  been  defined  in  the  parameter file.  All drawing elements with this
      datatype are ignored and processing continues.

      [1mUser[0m [1maction:[0m  If this datatype is  wanted,  it  should  be  defined  in  the
      parameter file and the program run again.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                Page 4-17
  MESSAGES (WARNING)                                                  21 June 1994


  UNKLTYPE, unknown linetype 'linetype' for datatype 'datatype'

      [1mExplanation:[0m  The given Informap linetype was  not  defined  for  the  given
      datatype  in  the  parameter file.  A drawing element with this datatype and
      line type has been found and will be ignored, and processing will continue.

      [1mUser[0m [1maction:[0m  If this datatype and  linetype  are  wanted,  they  should  be
      defined in the parameter file and the program run again.

  UNKPLUS, unknown PLUS error 'number'

      [1mExplanation:[0m  An error has occurred  while  processing  an  attribute.   The
      IMAPINFO  message follows, giving the attribute number and current datatype.
      The attribute is ignored and processing continues.

      [1mUser[0m  [1maction:[0m   Please  refer  to   Informap   documentation   for   further
      information,  and  report  this  problem  to  Laser-Scan,  quoting the error
      number.

  UPCASE, error converting "'string'" to upper case

      [1mExplanation:[0m  An error occurred while converting the given string  to  upper
      case.   A system message will follow, most likely indicating that the string
      has been truncated.  Execution will continue, but problems may occur later.

      [1mUser[0m [1maction:[0m  This message probably indicates a minor programming error, and
      should be reported to Laser-Scan.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                Page 4-18
  MESSAGES (ERROR)                                                    21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  BADAREA, 'bound' boundary 'value' inconsistent with 'bound' boundary 'value'

      [1mExplanation:[0m  The indicated boundary values, either or both  of  which  have
      been specified with /AREA, are inconsistent.  The program exits immediately.

      [1mUser[0m [1maction:[0m   Reissue  the  IMAP2I  command  again,  this  time  specifying
      sensible values.

  ERRCLOFAC, error closing facet description file 'file-spec'

      [1mExplanation:[0m  The facet description file could not be closed.  An additional
      LSLLIB  message  will follow, giving the reason for the failure.  If this is
      due to a system error, the system  error  message  will  also  appear.   The
      program exits immediately.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given,
      and  take the appropriate remedial action.  If the error is due to a serious
      problem such as a system failure, the System Manager should be informed.

  ERRCLOPAR, error closing parameter file 'file-spec'

      [1mExplanation:[0m  The parameter file could not be closed.  An additional  LSLLIB
      message will follow, giving the reason for the failure.  If this is due to a
      system error, the system error message will also appear.  The program  exits
      immediately.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given,
      and  take the appropriate remedial action.  If the error is due to a serious
      problem such as a system failure, the System Manager should be informed.

  ERROPNFAC, error opening facet description file 'file-spec'

      [1mExplanation:[0m  The facet description file could not be opened.  An additional
      LSLLIB  message  will follow, giving the reason for the failure.  If this is
      due to a system error, the system  error  message  will  also  appear.   The
      program exits immediately.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given.
      There may be a simple remedy, e.g.  a change in the directory specification.
      Alternatively, this error could be due to a more serious problem such  as  a
      system failure, and in that case the System Manager may have to be informed.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                Page 4-19
  MESSAGES (ERROR)                                                    21 June 1994


  ERROPNPAR, error opening parameter file 'file-spec'

      [1mExplanation:[0m  The parameter file could not be opened.  An additional  LSLLIB
      message will follow, giving the reason for the failure.  If this is due to a
      system error, the system error message will also appear.  The program  exits
      immediately.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given.
      There may be a simple remedy, e.g.  a change in the directory specification.
      Alternatively, this error could be due to a more serious problem such  as  a
      system failure, and in that case the System Manager may have to be informed.

  ERRRDFAC, error reading from facet description file 'file-spec' at line 'number'

      [1mExplanation:[0m  The given line could not be read from  the  facet  description
      file.   An  additional LSLLIB message will follow, giving the reason for the
      failure.  If this is due to a system error, the system  error  message  will
      also appear.  The program exits immediately.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given,
      and  take the appropriate remedial action.  If the error is due to a serious
      problem such as a system failure, the System Manager should be informed.

  ERRRDFRT, error reading FRT file 'file-spec'

      [1mExplanation:[0m  An error occurred while reading in the FRT  file.   A  message
      output  by  the  Feature  Representation Library (FRTLIB) will appear before
      this message, giving further information as to what  has  gone  wrong.   For
      example,  the  specified  FRT  file  may  not exist, or it may be in another
      directory.

      [1mUser[0m [1maction:[0m  Dependent upon the associated error messages.

  ERRRDPAR, error reading from parameter file 'file-spec' at line 'number'

      [1mExplanation:[0m  The given line could not be read from the parameter file.   An
      additional  LSLLIB  message  will follow, giving the reason for the failure.
      If this is due to a system error, the system error message will also appear.
      The program exits immediately.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given,
      and  take the appropriate remedial action.  If the error is due to a serious
      problem such as a system failure, the System Manager should be informed.

  GETANO, cannot read primary annotation

      [1mExplanation:[0m  A graphic annotation  element  could  not  be  read  from  the
      Informap  drawing.   If  this  is  due  to an Informap error, an appropriate
      Informap message will  probably  have  been  output  by  the  PLUS  library,
      immediately  prior to this one.  The CODES message giving the Informap error
      codes follows, and if there has been a system failure,  the  system  message
      will also be output.  The program exits immediately.

      [1mUser[0m [1maction:[0m  Depends on the combination of messages,  but  Informap  errors
      should  be  reported  to  your  supervisor,  while  system  errors should be
      reported to the System Manager.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                Page 4-20
  MESSAGES (ERROR)                                                    21 June 1994


  IFFABORTED, cannot write to IFF file

      [1mExplanation:[0m  There has been an error while attempting to write to  the  IFF
      file, which has therefore been aborted.  The cause may be a system error, or
      it may be a programming error.  The message  will  be  preceded  by  an  IFF
      library  message  which  will  give  more details, including a two-character
      code.

      [1mUser[0m [1maction:[0m  Look up the IFF error code  in  the  IFFLIB  Reference  Manual
      (part of the MAPPING package documentation) and take the appropriate action.

  IFFCLOERR, cannot close IFF file

      [1mExplanation:[0m  The IFF file could not be  closed.   This  may  be  due  to  a
      previous  IFF  error,  or  it may indicate a more serious system error.  The
      message will be preceded by an IFF library  message  which  will  give  more
      details, including a two-character code.

      [1mUser[0m [1maction:[0m  Look up the IFF error code  in  the  IFFLIB  Reference  Manual
      (part of the MAPPING package documentation) and take the appropriate action.

  MISSKEY, missing keyword with /'qualifier'

      [1mExplanation:[0m  The given qualifier has a keyword missing  which  should  have
      been specified.  The program exits immediately.

      [1mUser[0m [1maction:[0m  Reissue the IMAP2I command  again,  this  time  supplying  the
      appropriate keyword.

  MOREVARFAC, more variable facet points than the maximum ('number')

      [1mExplanation:[0m  There are more variable facet points in the facet  description
      file  than  can  be handled.  All of these points have to be read before the
      relevant facets in permanent storage can  be  deduced.   The  program  exits
      immediately.

      [1mUser[0m [1maction:[0m  If possible, try to get round the problem by reading the  data
      from working storage.  If a large number of variable facet points is normal,
      please submit an SPR to Laser-Scan.

  NOFACETS, no facets within the given area

      [1mExplanation:[0m  There are no facets in  permanent  storage  within  the  given
      area.   The  relevant  facets  are  deduced  from  information  in the facet
      description file, in conjunction with the boundaries specified  with  /AREA.
      The program exits immediately.

      [1mUser[0m [1maction:[0m  Check the boundary values specified with  /AREA.   These  will
      need to be altered to define an area for which there are facets.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                Page 4-21
  MESSAGES (ERROR)                                                    21 June 1994


  NOTINAREA, drawing is outside the specified area

      [1mExplanation:[0m  The Informap drawing  is  outside  the  area  defined  by  the
      boundaries specified with /AREA.  The program exits immediately.

      [1mUser[0m [1maction:[0m  Reissue the IMAP2I command again, this time specifying  either
      a  different  drawing or sensible values for the area boundaries.  Note that
      these must be compatible with the Informap drawing limits.

  PUTINF, cannot open Informap drawing files for datatype 'datatype'

      [1mExplanation:[0m  The graphic and attribute files for the given datatype in  the
      Informap  drawing  could  not  be successfully opened.  It could be that the
      user is trying to access a file in use by someone else, or is not logged  on
      as  a  Synercom  user  (i.e.   in the correct group).  If the message is the
      result of an Informap error, an appropriate Informap message  will  probably
      have  been  output  by the PLUS library, immediately prior to this one.  The
      CODES message giving the Informap error codes follows, and if there has been
      a system failure, the system message will also be output.  The program exits
      immediately.

      [1mUser[0m [1maction:[0m  Depends on the combination of messages,  but  Informap  errors
      should  be  reported  to  your  supervisor,  while  system  errors should be
      reported to the System Manager.

  RDGREL, cannot read from datatype 'datatype'

      [1mExplanation:[0m  A graphic element, an attribute annotation graphic element, or
      an associated attribute record for the given datatype could not be read from
      the Informap drawing.  If this is due to an Informap error,  an  appropriate
      Informap  message  will  probably  have  been  output  by  the PLUS library,
      immediately prior to this one.  The CODES message giving the Informap  error
      codes  follows,  and  if there has been a system failure, the system message
      will also be output.  The program exits immediately.

      [1mUser[0m [1maction:[0m  Depends on the combination of messages,  but  Informap  errors
      should  be  reported  to  your  supervisor,  while  system  errors should be
      reported to the System Manager.

  TOOMANYDRAW, number of drawings exceeds the maximum ('number')

      [1mExplanation:[0m  The  number  of  drawings  which  need  to  be  accessed  from
      permanent storage is more than can be handled.  The relevant facets and thus
      the drawings to be accessed  are  deduced  from  information  in  the  facet
      description  file,  in conjunction with the boundaries specified with /AREA.
      The program exits immediately.

      [1mUser[0m [1maction:[0m  Check the boundary values specified with  /AREA.   These  will
      need  to be altered to define a smaller area, so that the number of drawings
      to be accessed is not too large.  If accessing a large number of drawings is
      to be a continuing requirement, please submit an SPR to Laser-Scan.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                Page 4-22
  MESSAGES (ERROR)                                                    21 June 1994


  UNEXPENDFAC, unexpected end of facet description file

      [1mExplanation:[0m  The end of the facet description file was reached  before  all
      the  required  information  was read from it.  Without this information, the
      facets in permanent storage within the specified  area  cannot  be  deduced.
      The program exits immediately.

      [1mUser[0m [1maction:[0m  Check your facet description file to ensure that the format is
      correct  and  that  the  file  has  all  the  relevant sections, including a
      variable facet section at the end.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                Page 4-23
  MESSAGES (FATAL)                                                    21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(FATAL)[0m

  These messages indicate a severe error in processing, or  some  form  of  system
  failure, which has caused the program to terminate.

  NORA, unable to patch RAnge - internal pointer corrupted

      [1mExplanation:[0m  After all of the data for an area or drawing has been  output,
      the  program  attempts  to patch the RAnge entry in the IFF file, to reflect
      the true range of the data.  This error indicates that it was unable to find
      the  RA entry again.  This means that either the program or the IFF file has
      become corrupted.  The program will abort.

      [1mUser[0m [1maction:[0m  Please report this problem to Laser-Scan.


  IFFIMAP REFERENCE (1.4): IMAP2I utility                                Page 4-24
  MESSAGES (OTHER)                                                    21 June 1994


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages  may  be  generated  by  the  IFF
  library  and  by  the  Laser-Scan I/O library, LSLLIB.  IFF library messages are
  introduced by '%IFF' and are documented in the IFF  library  users'  guide.   In
  most  cases  IFF  errors will be due to a corrupt input file, and this should be
  the first area of investigation.  If the cause of the error cannot be traced  by
  the user, and Laser-Scan are consulted, then the output file should be preserved
  to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'  and  are
  generally  self-explanatory.   They  are  used to explain the details of program
  generated errors.
