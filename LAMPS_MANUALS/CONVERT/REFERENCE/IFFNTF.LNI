
















                                  [3mLaser-Scan Ltd.[0m


                                  [3mCONVERT PACKAGE[0m

                                  [3mIFFNTF Reference[0m


                              [3mIssue 2.7 - 4-March-1997[0m































  Copyright (C) 1997 Laser-Scan Ltd
  Science Park, Milton Road, Cambridge, England CB4 4FY  tel: (01223) 420414

  Document "IFFNTF REFERENCE", Category "REFERENCE"
  Document Issue 2.7      Matt Wenham (modified 4-Mar-1997)


  IFFNTF REFERENCE (2.7)
  Contents                                                  4 March 1997


                                     CONTENTS

                  IFFNTF - Change Record . . . . . . . . . . . . . . . i

                  PREFACE  . . . . . . . . . . . . . . . . . . . . . . 1
                    Intended audience  . . . . . . . . . . . . . . . . 1
                    Structure of this document . . . . . . . . . . . . 1
                    Conventions used in this document  . . . . . . . . 2


  CHAPTER 1       NTF FORMAT DESCRIPTION

                  FORMAT DESCRIPTION . . . . . . . . . . . . . . . . 1-1
                    Introduction . . . . . . . . . . . . . . . . . . 1-1


  CHAPTER 2       NTF DATA PREPARATION

                  DATA PREPARATION . . . . . . . . . . . . . . . . . 2-1
                    Comparison of NTF and IFF  . . . . . . . . . . . 2-1
                    Requirements for outputting IFF files to NTF . . 2-1
                    The IFF files produced from NTF  . . . . . . . . 2-2
                    Support for Ordnance Survey's Common Internal 
                    Transfer Format (CITF) . . . . . . . . . . . . . 2-2
                    OS Map Header Translation Table  . . . . . . . . 2-3
                    Example OS Map Header Translation Table  . . . . 2-6
                    OS Map Header Translation Table Error Messages . 2-7
                    MESSAGES (INFORMATIONAL) . . . . . . . . . . . . 2-8
                    MESSAGES (WARNING) . . . . . . . . . . . . . . . 2-9
                    MESSAGES (ERROR) . . . . . . . . . . . . . . .  2-10
                    MESSAGES (OTHER) . . . . . . . . . . . . . . .  2-16
                    Feature Code Conversion Lookup Table . . . . .  2-17
                    Example Feature Code Lookup Table  . . . . . .  2-17


  CHAPTER 3       I2NTF UTILITY

                  UTILITY I2NTF  . . . . . . . . . . . . . . . . . . 3-2
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 3-2
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 3-2
                    PROMPT . . . . . . . . . . . . . . . . . . . . . 3-3
                    PARAMETERS . . . . . . . . . . . . . . . . . . . 3-3
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 3-3
                      Command Line Qualifiers  . . . . . . . . . . . 3-4
                      Command Line Or Parameter File Qualifiers  . . 3-6
                    RESTRICTIONS . . . . . . . . . . . . . . . . .  3-10
                    DESCRIPTION  . . . . . . . . . . . . . . . . .  3-12
                    Attributes . . . . . . . . . . . . . . . . . .  3-16
                    Conversion of Ordnance Survey CITF data  . . .  3-18
                      The IFF MH Entry And CITF Header Records . .  3-18
                      Feature Level Attributes . . . . . . . . . .  3-18
                      Per-point Attributes And CBs . . . . . . . .  3-19
                      Symbol Features  . . . . . . . . . . . . . .  3-19
                      Text Features  . . . . . . . . . . . . . . .  3-19
                      Attribute File . . . . . . . . . . . . . . .  3-20
                      FRT ACD Section  . . . . . . . . . . . . . .  3-21


  IFFNTF REFERENCE (2.7)
  Contents                                                  4 March 1997


                      Changing Feature Codes During Translation  .  3-22
                    EXAMPLES . . . . . . . . . . . . . . . . . . .  3-23
                    MESSAGES (SUCCESS) . . . . . . . . . . . . . .  3-28
                    MESSAGES (INFORMATIONAL) . . . . . . . . . . .  3-29
                    MESSAGES (WARNING) . . . . . . . . . . . . . .  3-32
                    MESSAGES (ERROR) . . . . . . . . . . . . . . .  3-41
                    MESSAGES (OTHER) . . . . . . . . . . . . . . .  3-53


  CHAPTER 4       NTF2I UTILITY

                  UTILITY NTF2I  . . . . . . . . . . . . . . . . . . 4-1
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 4-1
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 4-1
                    PROMPT . . . . . . . . . . . . . . . . . . . . . 4-1
                    PARAMETERS . . . . . . . . . . . . . . . . . . . 4-1
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 4-1
                    RESTRICTIONS . . . . . . . . . . . . . . . . . . 4-5
                    DESCRIPTION  . . . . . . . . . . . . . . . . . . 4-7
                    Attributes . . . . . . . . . . . . . . . . . . . 4-9
                    Conversion of Ordnance Survey CITF data  . . .  4-10
                      The IFF MH Entry And CITF Header Records . .  4-10
                      Combined Attributes  . . . . . . . . . . . .  4-10
                      Feature Level Attributes . . . . . . . . . .  4-11
                      Per-point Attributes And CBs . . . . . . . .  4-11
                      Symbol Features  . . . . . . . . . . . . . .  4-12
                      Text Features  . . . . . . . . . . . . . . .  4-13
                      Date Attributes  . . . . . . . . . . . . . .  4-13
                      Attribute File . . . . . . . . . . . . . . .  4-13
                      FRT ACD Section  . . . . . . . . . . . . . .  4-14
                      Changing Feature Codes During Translation  .  4-15
                    EXAMPLES . . . . . . . . . . . . . . . . . . .  4-16
                    MESSAGES (SUCCESS) . . . . . . . . . . . . . .  4-20
                    MESSAGES (INFORMATIONAL) . . . . . . . . . . .  4-21
                    MESSAGES (WARNING) . . . . . . . . . . . . . .  4-24
                    MESSAGES (ERROR) . . . . . . . . . . . . . . .  4-34
                    MESSAGES (FATAL) . . . . . . . . . . . . . . .  4-46
                    MESSAGES (OTHER) . . . . . . . . . . . . . . .  4-47


  IFFNTF REFERENCE (2.7)                                                    Page i
  Change record                                                       4 March 1997


  [1m-------------------------------------------------------------------------------[0m
  [1mIFFNTF -[0m [1mChange Record[0m


  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.0   S[0m [1mTownrow  17-June-1991[0m

            Module IFFNTF     - Reorganised package documentation.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.1 (Interim[0m [1mrelease)   S[0m [1mGupta  26-June-1991[0m

            Module NTF2I      - NTF2I rewritten to give greater compatibility with
                                NTF  level  3.   Outward  behaviour  of  NTF2I  is
                                unchanged since  the  changes  made  were  to  the
                                structure    of    the   program   and   not   its
                                functionality.   Restrictions  on   positions   of
                                records with level 3 NTF files, have been removed.
                                Reference documentation updated.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.2    S[0m [1mGupta  05-August-1991[0m

            Module NTF2I      - NTF2I enhanced to give complete compatibility with
                                NTF  level 3.  This includes [CPOLY] and [COLLECT]
                                records,   but   excludes    [NODEREC]    records.
                                Reference documentation updated.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.3    J[0m [1mCadogan  05-August-1991[0m

            Module I2NTF      - Entry for /Z_LEN qualifier corrected in the  I2NTF
                                reference documentation.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.4    S[0m [1mTownrow  03-October-1991[0m

            Module NTF2I      - New qualifier /IFF_POINTSIZE and an explanation of
                                point   feature   handling   added  to  the  NTF2I
                                reference documentation.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.5    S[0m [1mTownrow  08-May-1992[0m

            Module NTF2I      - Four new warning messages have  been  added  which
                                inform  the  user of a discrepency between the NTF
                                range and the true IFF range.  These are  BADXMIN,
                                BADXMAX,  BADYMIN and BADYMAX and are described in
                                the messages section.


  IFFNTF REFERENCE (2.7)                                                   Page ii
  IFFNTF - Change Record                                              4 March 1997


            Module I2NTF      - Two messages have been removed which notified  the
                                user of a problem writing the range entries to the
                                NTF header.  These  messages  were  TOONARROW  and
                                SUGGEST and will no longer be produced because the
                                range is no longer written to the NTF header.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.6    S[0m [1mTownrow  21-Dec-1992[0m

            Module DATA PREPARATION      - A new  section  has  been  added  which
                                describes  the  lookup table intended for use with
                                Ordnance Survey CITF map headers.  This includes a
                                new   message   section  describing  the  messages
                                capable  of  being  produced  by  the  Map  Header
                                library, OSMHLIB.

            Module NTF2I      - A new section has  been  added  to  the  reference
                                manual  which describes the conversion of Ordnance
                                Survey CITF data into IFF.   The  message  section
                                has  be  revised  to  include  new  CITF  specific
                                messages.

            Module I2NTF      - A new section has  been  added  to  the  reference
                                manual which describes the conversion of IFF files
                                into  Ordnance  Survey  CITF  data.   The  message
                                section   has  be  revised  to  include  new  CITF
                                specific messages.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.7    S[0m [1mTownrow  14-Jan-1993[0m

            Module NTF2I      - The CITF section has been modified to correct some
                                mistakes   and   document  the  handling  of  date
                                attributes and text features.

            Module I2NTF      - The CITF section has been modified to correct some
                                mistakes   and   document  the  handling  of  date
                                attributes and text features.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.8    S[0m [1mTownrow  4-Feb-1993[0m

            Module NTF2I      - The CITF section has been modified to clarify that
                                all  IFF/CITF  attributes should be present in the
                                ATTRIBUTE_FILE and ACD section of the FRT.

            Module I2NTF      - The CITF section has been modified to clarify that
                                all  IFF/CITF  attributes should be present in the
                                ATTRIBUTE_FILE and ACD section of the FRT.

  [1m-------------------------------------------------------------------------------[0m


  IFFNTF REFERENCE (2.7)                                                  Page iii
  IFFNTF - Change Record                                              4 March 1997


  [1mVersion[0m [1m1.9    S[0m [1mTownrow  1-Mar-1993[0m

            Module I2NTF      - The message section has been  modified  to  remove
                                two    warning    messages,    CITFDIFEXTENT   and
                                CITFIGNSECTREF   which   were   deemed    to    be
                                unnecessary.

            Module I2NTF      - The message section has been modified to include a
                                new message, RANGEOVER, which is reported when the
                                CITF range value would  exceed  the  maximum  size
                                that will fit into a 4 byte integer.

            Module NTF2I      - The message section has been modified to include a
                                new message, NOSECHREC, which occurs when the CITF
                                file being  read  does  not  contain  a  [SECHREC]
                                record.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.0    S[0m [1mTownrow  20-Apr-1993[0m

            Module I2NTF      - The CITF section has been altered to document that
                                certain  alphanumeric  feature level attibutes are
                                now read from the value field of ACs  rather  that
                                the optional text string.

            Module NTF2I      - The CITF section has been altered to document that
                                certain  alphanumeric  feature level attibutes are
                                now written to the value field of ACs rather  that
                                the optional text string.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.1   S[0m [1mTownrow  3-Aug-1993[0m

            All chapters      - All  chapters  have  been  revised  to  cover  the
                                support of version 2.0 NTF (BS7567).

            Module I2NTF      - The CITF section has been altered to document  new
                                default  attribute,  `AM'.   Attribute `HT' is not
                                present but implied.

            Module NTF2I      - The CITF section has been altered to document  new
                                default  attribute,  `AM'.   Attribute `HT' is not
                                present but implied.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.2   S[0m [1mTownrow  16-Dec-1994[0m

            Module NTF2I      - Three new qualifiers, /OSCAR, /OSCAR_START_AC  and
                                /OSCAR_END_AC  have  been added.  They are used to
                                convert OSGB OSCAR level  information  from  nodes
                                onto links.


  IFFNTF REFERENCE (2.7)                                                   Page iv
  IFFNTF - Change Record                                              4 March 1997


            Module NTF2I      - A new message, BADVALUE, has been added  which  is
                                reported  when  the  value  supplied  to qualifier
                                /OSCAR_START_AC or /OSCAR_END_AC is invalid.  Also
                                message NODE has been altered as [NODEREC] records
                                are not always ignored.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.3    J[0m [1mBarber  10-Oct-1995[0m

            Module I2NTF      - The qualifiers /DDATE, /DDNAME,  /DBNAME,  /FCNAME
                                and  /FCDATE  can  now  take  their values with or
                                without enclosing double quotes.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.4   T[0m [1mMulcahy  23-May-1996[0m

            Module I2NTF      - The qualifier /CITF now has an optional  parameter
                                for  selecting the desired CITF version.  /CITF=93
                                selects OS93 data structures and /CITF=96  selects
                                OS96  data structures.  The use of /CITF without a
                                parameter defaults to /CITF=96.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.5   C[0m [1mC[0m [1mBrunt  2-Oct-1996[0m

            Module NTF2I      - The qualifier /CITF now has an optional  parameter
                                for   selecting  the  CITF  version  to  be  read.
                                /CITF=93 selects OS93 data structures and /CITF=96
                                selects  OS96  data  structures.  The use of /CITF
                                without a parameter defaults to /CITF=96.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.6    M[0m [1mWenham  6-Dec-1996[0m

            Module DATA PREPARATION      - A new  section  has  been  added  which
                                describes the lookup table used to convert feature
                                codes during translation.

            Module I2NTF      - New qualifier /FC_LOOKUP and a description of  its
                                use added to the I2NTF reference documentation.

            Module NTF2I      - New qualifier /FC_LOOKUP and a description of  its
                                use added to the NTF2I reference documentation.

  [1m-------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.7    M[0m [1mWenham  4-Mar-1997[0m

            Module I2NTF      - New qualifier /ROUND and a description of its  use
                                added to the I2NTF reference documentation.

  [1m-------------------------------------------------------------------------------[0m


  IFFNTF REFERENCE (2.7)                                                    Page 1
  PREFACE                                                             4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mPREFACE[0m



  [1m--------------------------------------------------------------------------------[0m
  [1mIntended[0m [1maudience[0m

            This manual is intended  for  users  of  a  specific  utility  of  the
            Laser-Scan CONVERT package running under the VAX/VMS operating system.
            Each manual  contains  the  documentation  for  a  particular  CONVERT
            utility  and a site will only receive new or updated documentation for
            those utilities which they have purchased.

  [1m--------------------------------------------------------------------------------[0m
  [1mStructure[0m [1mof[0m [1mthis[0m [1mdocument[0m

            This document is composed of 2 major sections.

            The Introduction is  an  overview  of  the  CONVERT  package  and  its
            purpose.

            There then follow the User Guides for  the  individual  modules  which
            comprise  CONVERT.   Each  individual  module  contains the same basic
            categories of information.  These are:

            MODULE              - the name of the CONVERT module.

            FORMAT DESCRIPTION  - a description of the data format written or
                                  read by the utility programs in this conversion
                                  module.

            DATA PREPARATION    - guidance on how to digitise or prepare the IFF
                                  and other data required by the utility programs
                                  in this module.

            For each utility program  in  the  module,  there  will  then  be  the
            following categories:

            UTILITY             - the name of the utility.

            FUNCTION            - a synopsis of what the utility does.

            FORMAT              - a summary of the utility command format
                                  and command qualifiers. Default qualifier
                                  settings are indicated.

            PROMPT              - how it prompts the user.

            PARAMETERS          - description of expected command parameters.

            COMMAND QUALIFIERS  - description of all command qualifiers.
                                  Qualifiers are ordered alphabetically and 
                                  default argument values are indicated.

            RESTRICTIONS        - a summary of restrictions on the use of 


  IFFNTF REFERENCE (2.7)                                                    Page 2
  PREFACE                                                             4 March 1997


                                  qualifiers

            DESCRIPTION         - the definitive description of the utility 
                                  action.

            COMMANDS            - for interactive utilities only, a description 
                                  of all commands. Commands are ordered 
                                  alphabetically and default argument values are 
                                  indicated. 

            EXAMPLES            - annotated examples of utility useage.

            MESSAGES            - all classes of message are listed and described
                                  and suggested user action given. The messages
                                  are divided into sections according to message
                                  severity within which the messages are ordered
                                  alphabetically by message mnemonic.

  [1m--------------------------------------------------------------------------------[0m
  [1mConventions[0m [1mused[0m [1min[0m [1mthis[0m [1mdocument[0m


            ----------------------------------------------------------------------
            Convention            Meaning
            ----------------------------------------------------------------------
            <CR>                  The user should press the carriage control key
                                  on the terminal

            <CTRL/x>              The phrase <CTRL/x> indicates that the user must
                                  press the key labelled CTRL while simultaneously
                                  pressing another key, for example, <CTRL/Z>.

            $ [1mIFF2SIF<CR>[0m         Command examples show all user entered commands
                                  in [1mbold[0m type.

            $ [1mIFF2SIF<CR>[0m         Vertical series of periods, or ellipsis, mean
                    .             either that not all the data that CONVERT would
                    .             display in response to the particular command is
                    .             shown or that not all the data that the user
                                  would enter is shown.

            file-spec...          Horizontal elipsis indicates that additional
                                  parameters, values or information can be
                                  entered.

            [logical-name]        Square brackets indicate that the enclosed item
                                  is optional. (Square brackets are not, however,
                                  optional in the syntax of a directory name in
                                  a file-specification, or in the syntax of a
                                  substring specification in a VMS assisnment
                                  statement).
            ----------------------------------------------------------------------


  IFFNTF REFERENCE (2.7)                                                    Page 3
  PREFACE                                                             4 March 1997


            ----------------------------------------------------------------------
            Convention            Meaning
            ----------------------------------------------------------------------
            'integer'             An integer number is expected in the specified
                                  input or output field. (See "Command line data
                                  types" below).

            'real'                A real number is expected in the specified input
                                  or output field. (See "Command line data types"
                                  below).

            'file-spec'           A VMS file specification is expected in the
                                  specified input or output field.

            'device-name'         A VMS device specification (for instance, MTA0:)
                                  is expected in the specified input or output
                                  field.
            ----------------------------------------------------------------------















                                     CHAPTER 1

                               NTF FORMAT DESCRIPTION





  IFFNTF REFERENCE (2.7): NTF format description                          Page 1-1
  FORMAT DESCRIPTION                                                  4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m [1mDESCRIPTION[0m

            [1m----------------------------------------------------------------------[0m
            [1mIntroduction[0m

            The National Transfer Format (NTF)  is  the  UK  standard  format  for
            transferring spatially referenced data.  Further information about the
            format may be obtained by contacting

                           The NTF Secretariat
                           c/o Research & Deveopment
                           Ordnance Survey
                           Romsey Road
                           Maybush
                           Southampton SO9 4DH
                           England

                                             NOTE

                    The programs described in this chapter support version
                    1.1  of  NTF  up  to  and  including the modifications
                    released in April 1989 and version 2.0 of NTF (BS7567)
                    with  some  restrictions.   For  a copy of the British
                    Standard document BS7567 contact


                           The Director
                           Standard Technical
                           BSI Standard
                           Linford Wood
                           Milton Keynes MK14 6LE
                           England

            NTF is a relatively simple format.  The default transfer method  is  9
            track  magnetic  tape  at  1600bpi.   The  blocksize is fixed (at 2000
            bytes), and each block is regarded as a sequence of up to 80 character
            records.  Each record starts with a 2 character identifying field, and
            ends with a single character which indicates whether it is  continued.
            The data held in a record (and its continuations) is determined by the
            identifying field at the start of the record.  All  data  is  held  as
            ASCII characters.

            The data stored in NTF  is  divided  into  a  hierarchical  structure.
            Everything  being  transferred  is  called  a  [1mTransfer[0m  [1mSet[0m, which is
            composed of several [1mVolumes[0m -  one  volume  per  magnetic  tape.   The
            software  detailed  in  the  rest  of  this  chapter  does not support
            multivolume transfer sets - all of  the  data  must  be  on  a  single
            physical  medimum.  Each transfer set is also divided into [1mDatabases[0m -
            in the NTF sense, this can mean true  databases,  or  may  just  be  a
            convenient  way  of  dividing  the  data  in  the  transfer set.  Each
            database is then divided into a sequence of [1mSections[0m, and it is  these
            that correspond to the IFF files being transferred.


  IFFNTF REFERENCE (2.7): NTF format description                          Page 1-2
  FORMAT DESCRIPTION                                                  4 March 1997


            There are five [1mlevels[0m of NTF at version 1.1.

                      level 0:  is used to transfer raster data

                      level 1:  is used  to  transfer  simple  vector  data,  with
                                limited  attribute representation (compare this to
                                the Ordnance Survey (GB) format OSTF).

                      level 2:  is used to transfer simple vector  data,  with  an
                                unlimited number of attributes per feature.

                      level 3:  is used to transfer topologically structured  data
                                -  this  may  be  as  simple as link & node, or as
                                complex as full object structuring.

                      level 4:  is used to transfer vector data, but the  producer
                                of  the data may use a data dictionary to redefine
                                the fields present in records, and even to  define
                                new records.

            At version 2.0 the [1mlevels[0m are as follows

                      level 1:  is used  to  transfer  simple  vector  data,  with
                                limited  attribute representation (compare this to
                                the Ordnance Survey (GB) format OSTF).

                      level 2:  is used to transfer simple vector  data,  with  an
                                unlimited number of attributes per feature.

                      level 3:  is  used  to   transfer   a   limited   level   of
                                topologically  structured  data  including complex
                                features and a link & node mechanism.

                      level 4:  is used to transfer topologically structured  data
                                -  this  may  be  as  simple as link & node, or as
                                complex as full object structuring.

                      level 5:  provides the ability to use a data  dictionary  to
                                redefine  the  fields  present  in  records  or to
                                define new records  and  can  be  used  to  supply
                                raster data (eg Ordnance Survey's 50000 DTM data).

            The  following  points  should  be  noted   concerning   the   current
            implementation of the translation programs:

             o  The programs are written to conform to  version  1.1  of  the  NTF
                standard and a subset of support for version 2.0 (BS7567).

             o  Multivolume transfer sets are  not  supported  when  using  I2NTF.
                When  using  NTF2I  to  directly  read  from unformatted tape, the
                program will prompt the user to mount the next continuation volume
                when  the  tape  mark  after  the  first  volume  is detected.  If
                seperate volumes are supplied on formatted media,  the  individual
                files should be appended together into one large disk file.


  IFFNTF REFERENCE (2.7): NTF format description                          Page 1-3
  FORMAT DESCRIPTION                                                  4 March 1997


             o  Only levels 1, 2 and 3 are supported.

             o  At the moment, three dimensional coordinate  data  may  be  output
                using  I2NTF,  but  may  not  be  read  using  NTF2I.   Per  point
                attributes are not supported in either direction.

             o  At  level  1,  the  only  attributes   (values)   recognised   are
                orientation (OR) and height (HT).

             o  At levels 2 and 3, full attribute transfer  is  possible  in  both
                directions.   A  file  containing  the destinations for attributes
                must be given together with an FRT defining the IFF AC's.

             o  The  NTF  version  1.1  specification   has   various   predefined
                attributes  which  need  not  be  defined in the header of the NTF
                file, but this is not the  case  at  NTF  version  2.0  where  all
                attributes must be defined.

             o  At level 3, topologically structured  data  may  be  output  using
                I2NTF, but will be read as unstructured data using NTF2I.

             o  Projection information for  each  IFF  file  will  be  written  as
                comments to the appropriate section in the NTF.














                                     CHAPTER 2

                                NTF DATA PREPARATION





  IFFNTF REFERENCE (2.7): NTF data preparation                            Page 2-1
  DATA PREPARATION                                                    4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDATA[0m [1mPREPARATION[0m

            [1m----------------------------------------------------------------------[0m
            [1mComparison[0m [1mof[0m [1mNTF[0m [1mand[0m [1mIFF[0m

            It is possible to represent IFF files fairly closely in NTF.  Each IFF
            file  to be transferred is treated as an NTF section, and features are
            mapped onto the relevant [LINEREC], [POINTREC], [NAMEREC] or [TEXTREC]
            records,  with  their associated data.  Layers are not present in NTF,
            but if necessary an IFF file could be split by layer before output.

            NTF identifies the form of an item by feature code, which  means  that
            IFF feature codes can generally be used for this purpose.

            [1m----------------------------------------------------------------------[0m
            [1mRequirements[0m [1mfor[0m [1moutputting[0m [1mIFF[0m [1mfiles[0m [1mto[0m [1mNTF[0m

            All IFF files to be translated must include a fully  set  type  2  map
            descriptor  (MD)  entry.  If this is not the case, use the IMP utility
            ITRANS/DESCRIPTOR to set the map descriptor.

            If OS map header data is required by the customer, then the  IFF  file
            must  include  a correctly set OS style map header (MH) entry, and the
            /OS qualifier must be specified when using I2NTF.  The CONVERT utility
            OSMHED may be used to set the OS map header correctly.  Use of the /OS
            qualifier will also cause all text heights to  be  read  as  OS  point
            sizes and to be converted to mm as required in NTF.

            NTF does not support IFF layers.  Any data in layer 0 will be ignored,
            and  the data in all other layers will be output in the order in which
            it is found, ignoring the layer structure.

            IFF feature serial numbers (FSNs) are not used within the NTF  output.
            NTF  identity  numbers are generated for each feature as it is output.
            This means that the IFF file does not need to be sorted  or  otherwise
            processed before outputting to NTF.

            I2NTF distinguishes graphical type by the  bits  set  in  the  feature
            status  (FS)  entry.   This  allows it to recognise lines, symbols and
            text.  Other forms of data should not be present in the IFF file being
            output, or they will be incorrectly transferred.

            Per point attributes are not supported, and  will  be  ignored  -  IFF
            files are read at IFF revision level 0.

            Texts longer than 99 characters will be truncated.

            Composite texts may be present, but they will be split  into  separate
            text features on output to NTF.


  IFFNTF REFERENCE (2.7): NTF data preparation                            Page 2-2
  DATA PREPARATION                                                    4 March 1997


            [1m----------------------------------------------------------------------[0m
            [1mThe[0m [1mIFF[0m [1mfiles[0m [1mproduced[0m [1mfrom[0m [1mNTF[0m

            The IFF file names will be taken from the section reference  field  in
            the section header.

            The file created will have a history (HI) entry,  and  a  type  2  map
            descriptor,  with the spheroid set to "Airy" and the projection to 101
            (UK  National   grid).    If   this   is   not   correct,   then   use
            ITRANS/DESCRIPTOR to change it.

            If the /OS qualifier was used, then the NTF  section  header  will  be
            assumed to contain OS map header data, and an OS map header (MH) entry
            will be created.  Otherwise, the map header will be unset.

            All data will be output to layer 1 - NTF does not provide the  concept
            of layers.

            Feature serial numbers (FSNs) will be generated from 1 upwards  -  the
            ID numbers within the NTF data will not be used.

            Only lines, symbols and texts will be created.  The  text/symbol  bits
            in the feature status (FS) entry will be set appropriately.  Note that
            3 dimensional coordinates are not supported.

            Line features may not contain more than 10,000 points.   Symbols  will
            have a rotation (RO) entry if it is defined in the FRT as being of the
            appropriate graphical type.  For text features, the text  category  is
            taken from the NTF font field, and may thus be inappropriate.

            At version 2.0, all attributes which are present in the NTF  that  are
            required  in  the  output  IFF  should  be  defined  in  the attribute
            description record in the  NTF  header  and  in  the  NTF2I  attribute
            definition file.  The are no default attributes as for version 1.1 (eg
            'FC', 'OR', 'HT' etc).

  [1m----------------------------------------------------------------------[0m
  [1mSupport[0m [1mfor[0m [1mOrdnance[0m [1mSurvey's[0m [1mCommon[0m [1mInternal[0m [1mTransfer[0m [1mFormat[0m [1m(CITF)[0m

            I2NTF and NTF2I have the ability to read  and  write  CITF  files  (as
            defined in the OS document Mod 7/C dated October 1992) which are based
            on level 5, revision 2.0 NTF as defined by BS 7567.

            This includes the need to copy map headers to and from  IFF  as  ASCII
            character  blocks  which  can  be  interfaced  with map header editors
            developed by Ordnance Survey (Great Britain).

            Refer to  the  I2NTF  and  NTF2I  documentation  for  details  of  the
            conversion to and from CITF.

                                           [1mWarning[0m

                    Map headers in this form are not intended to  be  used
                    outside  OS, and Laser-Scan recommend that other users
                    use type 2 map  headers  which  can  be  edited  using
                    OSMHED.


  IFFNTF REFERENCE (2.7): NTF data preparation                            Page 2-3
  DATA PREPARATION                                                    4 March 1997


            NTF2I also has the facility to change CITF feature codes  which  would
            be  invalid  in  IFF (i.e.  greater than 32767) into valid IFF feature
            codes.  I2NTF has the opposite facility.  These facilities are invoked
            through  the  use  of  a  feature  code  lookup table, which lists the
            corresponding NTF/CITF and IFF feature code pairs.

            The conversion facility may also be used with  conventional  NTF  data
            should  users wish to change feature codes during translation, so long
            as valid IFF and NTF feature codes are listed in the lookup table.

  [1m----------------------------------------------------------------------[0m
  [1mOS[0m [1mMap[0m [1mHeader[0m [1mTranslation[0m [1mTable[0m

            In order to facilitate the future expansion of OS map header fields, a
            translation  table  in  the  form  of  a  parameter file is used which
            contains two sections.  These sections define the positions and  sizes
            of  various  fields  within  a  type  3 (OSTF) or type 4 (CITF) OS Map
            Header.  Type 4 map headers  only  are  interpretted  and  written  by
            I2NTF/CITF and NTF2I/CITF.

            Each line of the file is prefixed with a command which identifies  the
            line  as  belonging  to  that  section.  The lines are free format and
            their position within the file is not important.  However, entries  on
            a given line must occur in a fixed order.  Commands may be in upper or
            lower case.

            A maximum of 255 commands will be allowed per parameter file.

            Any text starting with the "!" character is regarded as a comment, and
            is  ignored.  Comments can appear on the same lines as commands, or on
            separate lines.

            The header positions and sizes given  in  the  table  must  accurately
            reflect  that  of  the actual map header, particularly when converting
            between IFF and OSTF/CITF.

            In OSTF, note that the field positions start at character  position  1
            and  are continuous through both the -1 and -20 headers.  ie.  the -20
            header positions do not begin from character position 1 but follow  on
            from the -1 header.  Note also that the character positions within the
            header are equivalent to those within the  file;  position  1  is  the
            first space in the OSTF record containing the -1 entry and is the same
            position as that used for the byte count.

            Note also that, in CITF, the character positions within the header are
            not  equivalent  to those within the file as other records precede the
            header.  The offsets for CITF are within the Section Header  (SECHREC)
            record of a CITF file.

            The  logical  LSL$OS_MH_TABLE  must  be  defined  to  point   to   the
            translation  table  and any part of the file specification not defined
            will    be    taken    from    the    default    file    specification
            LSL$LOOKUP:OSMH_NEW_TABLE.DAT


  IFFNTF REFERENCE (2.7): NTF data preparation                            Page 2-4
  DATA PREPARATION                                                    4 March 1997


            The translation table will take the form:

      [1mOSTF_MH_ONE            <fileposn>   <size>[0m
      [1mOSTF_MH_TWENTY         <fileposn>   <size>[0m
      [1m![0m
      [1mOSTF_MD_X_ORIG         <posn>       <size>       <format>[0m
      [1mOSTF_MD_Y_ORIG         <posn>       <size>       <format>[0m
      [1mOSTF_MD_SCALE          <posn>       <size>       <format>[0m
      [1m![0m
      [1mOSTF_MH_BGI            <posn>       <size>       <format>[0m
      [1mOSTF_MH_CAP_SCALE      <posn>       <size>       <format>[0m
      [1mOSTF_MH_JOB_NUMBER     <posn>       <size>       <format>[0m
      [1mOSTF_MH_CHANGE_IND_A   <posn>       <size>       <format>[0m
      [1mOSTF_MH_CHANGE_IND_B   <posn>       <size>       <format>[0m
      [1mOSTF_MH_CHANGE_IND_C   <posn>       <size>       <format>[0m
      [1mOSTF_MH_CHANGE_IND_D   <posn>       <size>       <format>[0m
      [1mOSTF_MH_CHANGE_IND_E   <posn>       <size>       <format>[0m
      [1mOSTF_MH_CHANGE_IND_F   <posn>       <size>       <format>[0m
      [1mOSTF_MH_CHANGE_IND_G   <posn>       <size>       <format>[0m
      [1mOSTF_MH_CHANGE_IND_H   <posn>       <size>       <format>[0m
      [1mOSTF_MH_CHECK_VALUES   <posn>       <size>       <format>[0m
      [1mOSTF_MH_BYTE_COUNT     <posn>       <size>       <format>[0m
      [1m![0m
      [1mCITF_MH_LENGTH         <size>[0m
      [1m![0m
      [1mCITF_MD_X_ORIG         <line>   <offset>   <size>   <format>[0m
      [1mCITF_MD_Y_ORIG         <line>   <offset>   <size>   <format>[0m
      [1mCITF_MD_SCALE          <line>   <offset>   <size>   <format>[0m
      [1m![0m
      [1mCITF_MH_DIFF_HT_LEN    <divs>   <offset>   <size>   <format>[0m
      [1mCITF_MH_CHANGE_IND_A   <divs>   <offset>   <size>   <format>[0m
      [1mCITF_MH_CHANGE_IND_B   <divs>   <offset>   <size>   <format>[0m
      [1mCITF_MH_CHANGE_IND_C   <divs>   <offset>   <size>   <format>[0m
      [1mCITF_MH_CHANGE_IND_D   <divs>   <offset>   <size>   <format>[0m
      [1mCITF_MH_CHANGE_IND_E   <divs>   <offset>   <size>   <format>[0m
      [1m![0m

  where

      [1m<fileposn>  [0mis a character position of the OSTF or CITF  header  within  the
                  file and must be a positive integer
      [1m<posn>      [0mis a character position of a  field  within  the  OSTF  or  CITF
                  header and must be a positive integer
      [1m<size>      [0mis the number of characters this value occupies and  must  be  a
                  positive integer
      [1m<format>    [0mis the datatype in OSTF or CITF (uppercase I or A)of the field
      [1m<line>      [0mis the line number within the Section Header Record (SECHREC) of
                  a  CITF  header  in  which the field is to go.  Since the header
                  size is  10000  bytes,  the  maximum  line  number  is  125  (ie
                  10000/80) and should ideally be a multiple of 80.
      [1m<divs>      [0mis the number of CITF DIVIDER characters  (usually  a  backslash
                  '\')  after which the field is to be located.  This only applies
                  to the variable change indicator fields CITF_MH_CHANGE_IND_n and
                  the CITF_MH_DIFF_HT_LEN field.
      [1m<offset>    [0mis the number of countable characters after the number  of  CITF
                  DIVIDERs  defined by [1m<divs>[0m at which the field is to be located.


  IFFNTF REFERENCE (2.7): NTF data preparation                            Page 2-5
  DATA PREPARATION                                                    4 March 1997


                  This also only applies to the variable change  indicator  fields
                  CITF_MH_CHANGE_IND_n and the CITF_MH_DIFF_HT_LEN field.

  and the commands [1mOSTF_MH_ONE[0m and [1mOSTF_MH_TWENTY[0m  define  where  the  map  header
  block fits into an OSTF file.  The order of these commands is important and must
  be as specified above.  Hence these commands do not have a [1m<format>[0m entry.


  IFFNTF REFERENCE (2.7): NTF data preparation                            Page 2-6
  DATA PREPARATION                                                    4 March 1997


  [1m----------------------------------------------------------------------[0m
  [1mExample[0m [1mOS[0m [1mMap[0m [1mHeader[0m [1mTranslation[0m [1mTable[0m

  An example of the translation table, LSL$OS_MH_TABLE, is given here:


  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
  !                                                                             !
  !       OS Map Header Translation Table                                       !
  !                                                                             !
  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
  !
  !       Copyright Laser-Scan Laboratories Ltd., Cambridge, England.
  !
  !       Created                                 ST      20-Oct-1992
  !
  ! Field               Offset  Size    Type
  !
  OSTF_MH_ONE              1     56
  OSTF_MH_TWENTY          57    440
  !
  OSTF_MD_X_ORIG           9      8       I
  OSTF_MD_Y_ORIG          17      8       I
  OSTF_MD_SCALE           33      8       I
  !
  OSTF_MH_BGI             25      8       I
  OSTF_MH_CAP_SCALE       49      8       I
  OSTF_MH_JOB_NUMBER      41      8       I
  OSTF_MH_CH_IND_A       161      1       A       ! OSTF Change indicator flags
  OSTF_MH_CH_IND_B       162      1       A       ! must be of format A1 and
  OSTF_MH_CH_IND_C       163      1       A       ! contiguous for compatibility
  OSTF_MH_CH_IND_D       164      1       A
  OSTF_MH_CH_IND_E       165      1       A
  OSTF_MH_CH_IND_F       166      1       A
  OSTF_MH_CH_IND_G       167      1       A
  OSTF_MH_CH_IND_H       168      1       A
  OSTF_MH_CHECK_VALUES   137      8       A
  OSTF_MH_BYTE_COUNT     145      8       I
  !
  !
  CITF_MH_LENGTH        4000                      ! Minimum 320, Maximum 10000
  !
  ! Field                Line  Offset   Size     Type
  !
  CITF_MD_X_ORIG           1     47      10       I
  CITF_MD_Y_ORIG           1     57      10       I
  CITF_MD_SCALE            3     31       9       I
  !
  ! Field             Number of  Offset  Size    Type
  !                   Dividers   
  CITF_MH_DIFF_HT_LEN      8      1       5       I
  CITF_MH_CH_IND_A         8     34       1       A       ! posn of NONEXT_FLAG
  CITF_MH_CH_IND_B         8     35       1       A       ! posn of OSCAR_FLAG
  CITF_MH_CH_IND_C         8     36       1       A       ! posn of CA_FLAG
  CITF_MH_CH_IND_D         8     37       1       A       ! posn of APP_FLAG
  CITF_MH_CH_IND_E         8     38       1       A       ! posn of SUPPLY_FLAG


  IFFNTF REFERENCE (2.7): NTF data preparation                            Page 2-7
  DATA PREPARATION                                                    4 March 1997


  !
  ! The above CITF_MH_CH_IND field positions are used by the LITES2 OPERATION
  ! command thus:
  !
  ! CITF_MH_CH_IND_A position is used for LITES2 OPERATION flag 1
  ! CITF_MH_CH_IND_B position is used for LITES2 OPERATION flag 2
  ! CITF_MH_CH_IND_C position is used for LITES2 OPERATION flag 3
  ! CITF_MH_CH_IND_D position is used for LITES2 OPERATION flag 4
  ! CITF_MH_CH_IND_E position is used for LITES2 OPERATION flag 5
  !!

            It is suggested that this layout is adhered to as closely as  possible
            to  avoid spurious errors caused by accessing incorrect header fields,
            although some flexibility is permitted as described earlier.

            [1m----------------------------------------------------------------------[0m
            [1mOS[0m [1mMap[0m [1mHeader[0m [1mTranslation[0m [1mTable[0m [1mError[0m [1mMessages[0m

            The following is a list of error messages which may occur in utilities
            that  access  type  3  or  4 map headers or in reading the translation
            table.

            For each message, the message name and text are listed.   The  message
            name  is  the  name  of  the  message parameter, without the OSMHLIB__
            prefix.


  IFFNTF REFERENCE (2.7): NTF data preparation                            Page 2-8
  MESSAGES (INFORMATIONAL)                                            4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  LINEINPAR, line 'number' of parameter file

      [1mExplanation:[0m  This message always appears after an error has occurred  while
      decoding  a  line  in  the  parameter  file,  and it informs the user of the
      offending line number.  The previous message will  have  been  generated  by
      LSLLIB and the line in question will be ignored.

      [1mUser[0m [1maction:[0m  The error message generated by LSLLIB most likely indicates an
      error  in  the  parameter  file which should be amended.  Otherwise, see the
      relevant error message explanation.


  IFFNTF REFERENCE (2.7): NTF data preparation                            Page 2-9
  MESSAGES (WARNING)                                                  4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  BLANKLINE, Blank CITF header line found

      [1mExplanation:[0m  A line of the CITF header was found to be totally blank  which
      is used as the criteria which denotes the end of the header.  When searching
      for CITF divider characters in order  to  located  variable  fields,  is  is
      possible  that  the  header size defined in the lookup table is greater than
      the true header size which will result in the search running off the end  of
      the header.

      [1mUser[0m [1maction:[0m  This message should not occur as it is used  to  identify  the
      end of the CITF header.

  INTSIZ, Value 'integer' truncated to fit into header field of 'integer' bytes.

      [1mExplanation:[0m  A value was truncated to fit into a header field whose size is
      determined by the <size> column of the translation table, LSL$OS_MH_TABLE.

      [1mUser[0m [1maction:[0m  Check that the field size for the value in question is correct
      in the translation table pointed to by LSL$OS_MH_TABLE.

  STRSIZ, String ''string'' truncated to fit into header field of 'integer' bytes.

      [1mExplanation:[0m  A string was truncated to fit into a header field  whose  size
      is   determined   by   the   <size>   column   of   the  translation  table,
      LSL$OS_MH_TABLE.

      [1mUser[0m [1maction:[0m  Check that the field size for the string in question  has  the
      correct value in the translation table pointed to by LSL$OS_MH_TABLE.

  UNKCMD, unknown command "'command'"

      [1mExplanation:[0m  The given command in the parameter file  was  not  recognised.
      The LINEINPAR message indicating the parameter file line number will follow,
      and this line will be ignored.

      [1mUser[0m [1maction:[0m  This message is most likely due to an error in the translation
      table, LSL$OS_MH_TABLE which should be amended to contain correct commands.

  UNKFLG, unknown flag

      [1mExplanation:[0m  Unknown map header flag in translation table.  Must be  MH_ONE
      or MH_TWENTY.

      [1mUser[0m [1maction:[0m  This message is most likely due to an error in the translation
      table, LSL$OS_MH_TABLE which should be amended to contain correct commands.


  IFFNTF REFERENCE (2.7): NTF data preparation                           Page 2-10
  MESSAGES (ERROR)                                                    4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  BADCALL, Invalid function call.  Map header not type 3 or 4.

      [1mExplanation:[0m  A file with an MH header entry of type 3 or 4 was expected.

      [1mUser[0m [1maction:[0m  Ensure that the file has the correct header type.

  BADLINESIZE, Tried to write a bad line to header.

      [1mExplanation:[0m  An attempt was made to write a line to the  header  which  was
      less  than  4  characters  or  greater than 80.  This error should not occur
      under normal conditions since the application program will calls the routine
      to write the line should ensure that the line is a sensible length.

      [1mUser[0m [1maction:[0m  If this error occurs, it indicates  that  something  is  wrong
      with the application program and the user should contact Laser-Scan.

  BADOFFSET, Offset lies outside header

      [1mExplanation:[0m  The position of a  variable  field  was  calculated  as  being
      outside  the  header defined by size CITF_MH_LENGTH in the lookup table.  It
      is therefore impossible to extract or insert a value into that position.

      [1mUser[0m [1maction:[0m  Ensure that the number of dividers and offset of all  variable
      fields  are  defined  correctly into the lookup table so that all fields lie
      within the header.

  ERRCHFLG, Change indicator flag not format A1 in lookup table

      [1mExplanation:[0m  A change indicator flag defined in the lookup  table  was  not
      defined as alphanumeric and of field width 1.  This message will be followed
      by another which reports the offending line number in the file.

      [1mUser[0m [1maction:[0m  Ensure that all change indicator <size> and <type> values  are
      defined as '1' and 'A' respectively in the lookup table.

  ERRCIMHSIZ, CITF header size outside valid range 'integer' to 'integer'

      [1mExplanation:[0m  Header size read from the table defined by LSL$OS_MH_TABLE  is
      outside the range specified.  The maximum size for the header is 10000 bytes
      and the minimum is 320 in order to accomodate the first 4 lines of the  CITF
      [SECHREC] record.

      [1mUser[0m [1maction:[0m  Correct the CITF_MH_LENGTH entry so that its <size>  parameter
      inside the range reported.


  IFFNTF REFERENCE (2.7): NTF data preparation                           Page 2-11
  MESSAGES (ERROR)                                                    4 March 1997


  ERRCISIZ, CITF field size is greater than CITF header size 'CITF header size'

      [1mExplanation:[0m  CITF field read from the table defined by  LSL$OS_MH_TABLE  is
      larger than CITF header.

      [1mUser[0m [1maction:[0m  Check that the sum of the <posn>  and  <size>  parameters  for
      each  CITF_ field in the table is less than or equal to the <size> parameter
      in the CITF_MH_LENGTH entry.

  ERRCLOPAR, error closing parameter file 'file-spec'

      [1mExplanation:[0m  The parameter file could not be closed.  An additional  LSLLIB
      message will follow, giving the reason for the failure.  If this is due to a
      system error, the system error message will also appear.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given,
      and  take the appropriate remedial action.  If the error is due to a serious
      problem such as a system failure, the System Manager should be informed.

  ERRFMT, error reading format from table file 'file-spec'

      [1mExplanation:[0m  A  problem  was  encountered  reading  the  table  defined  by
      LSL$OS_MH_TABLE.   An  additional  LSLLIB  message  will  follow, giving the
      reason for the failure.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given,
      and take the appropriate remedial action.  Examine the translation table and
      ensure that the format field is correct.

  ERRGETCITF, error getting CITF line from header.

      [1mExplanation:[0m  This message will be preceded by one giving a reason  for  the
      failure.

      [1mUser[0m [1maction:[0m  Depends upon the details of the message preceding this one.

  ERRGETFLD, error getting field from header.

      [1mExplanation:[0m  This message will be preceded by one giving a reason  for  the
      failure.

      [1mUser[0m [1maction:[0m  Depends upon the details of the message preceding this one.

  ERRINI, error initialising translation table LSL$OS_MH_TABLE.

      [1mExplanation:[0m  This message will be preceded by one giving a reason  for  the
      failure.

      [1mUser[0m [1maction:[0m  Depends upon the details of the message preceding this one.


  IFFNTF REFERENCE (2.7): NTF data preparation                           Page 2-12
  MESSAGES (ERROR)                                                    4 March 1997


  ERRNOTCONT, OSTF change indicator flags are not contiguous

      [1mExplanation:[0m  One or more change indicator flags defined in the lookup table
      are  not contiguous which is essential for OSTF as they are mapped onto an 8
      character string.  This message will be followed by  another  which  reports
      the offending line number in the file.

      [1mUser[0m [1maction:[0m  Ensure that all change indicator flags  have  <offset>  fields
      which are contiguous.

  ERROFFSIZ, CITF offset size is outside valid range

      [1mExplanation:[0m  The CITF offset value must be less than 2  because  the  first
      two  characters  of  each  CITF line are reserved for the record descriptor.
      The sum of the offset and field size must also be less than 79 to allow  for
      a continuation and end-of-record character at the end of the line.

      [1mUser[0m [1maction:[0m  Ensure that the <offset> and <size> values are defined so that
      the field inside the valid range.

  ERROPNPAR, error opening parameter file 'file-spec'

      [1mExplanation:[0m  The parameter file could not be opened.  An additional  LSLLIB
      message will follow, giving the reason for the failure.  If this is due to a
      system error, the system error message will also appear.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given.
      There may be a simple remedy, e.g.  a change in the directory specification.
      Alternatively, this error could be due to a more serious problem such  as  a
      system failure, and in that case the System Manager may have to be informed.

  ERROSMHSIZ, OSTF header size greater than maximum size 'max header size'

      [1mExplanation:[0m  Header size read from the table defined by LSL$OS_MH_TABLE  is
      too large.

      [1mUser[0m [1maction:[0m  Correct the OSTF_MH_ONE and  OSTF_MH_TWENTY  entries  so  that
      their <size> parameters add up to less than or equal to the maximum size.

  ERROSSIZ, OSTF field size is greater than OSTF header size 'OSTF header size'

      [1mExplanation:[0m  OSTF field read from the table defined by  LSL$OS_MH_TABLE  is
      larger than OSTF header.

      [1mUser[0m [1maction:[0m  Check that the sum of the <posn>  and  <size>  parameters  for
      each OSTF_ field in the table is less than or equal to the sum of the <size>
      parameters of the OSTF_MH_ONE and OSTF_MH_TWENTY entries.


  IFFNTF REFERENCE (2.7): NTF data preparation                           Page 2-13
  MESSAGES (ERROR)                                                    4 March 1997


  ERRPUTCITF, error inserting CITF line into header.

      [1mExplanation:[0m  This message will be preceded by one giving a reason  for  the
      failure.

      [1mUser[0m [1maction:[0m  Depends upon the details of the message preceding this one.

  ERRPUTINT, error inserting integer field into header.

      [1mExplanation:[0m  This message will be preceded by one giving a reason  for  the
      failure.

      [1mUser[0m [1maction:[0m  Depends upon the details of the message preceding this one.

  ERRPUTSTR, error inserting string field into header.

      [1mExplanation:[0m  This message will be preceded by one giving a reason  for  the
      failure.

      [1mUser[0m [1maction:[0m  Depends upon the details of the message preceding this one.

  ERRRDCH, error reading character value from the header.

      [1mExplanation:[0m  An error occurred while trying to read a value of type  string
      from the header.  The value of MH_STRLEN will be zero.

      [1mUser[0m [1maction:[0m  Ensure that  the  position  and  size  of  the  field  in  the
      translation table are correct.

  ERRRDINT, error reading integer value from the header.

      [1mExplanation:[0m  An error occurred while trying to read a value of type integer
      from the header.  The contents of MH_I_VALUE will be zero.

      [1mUser[0m [1maction:[0m  Ensure that  the  position  and  size  of  the  field  in  the
      translation table are correct.

  ERRRDPAR, error reading from parameter file 'file-spec' at line 'number'

      [1mExplanation:[0m  The given line could not be read from the parameter file.   An
      additional  LSLLIB  message  will follow, giving the reason for the failure.
      If this is due to a system error, the system error message will also appear.
      The program exits immediately.

      [1mUser[0m [1maction:[0m  Ascertain the cause of the failure from  the  messages  given,
      and  take the appropriate remedial action.  If the error is due to a serious
      problem such as a system failure, the System Manager should be informed.


  IFFNTF REFERENCE (2.7): NTF data preparation                           Page 2-14
  MESSAGES (ERROR)                                                    4 March 1997


  FLDNOTINT, Field for insertion into header expected as integer.

      [1mExplanation:[0m  An attempt was made to insert an integer field into the header
      that   was   not   declared   as   an   integer  in  the  translation  table
      LSL$OS_MH_TABLE.

      [1mUser[0m [1maction:[0m  Check that the fields specified in the translation  table  are
      of the type expected.

  FLDNOTSTR, Field for insertion into header expected as string.

      [1mExplanation:[0m  An attempt was made to insert a string field into  the  header
      that was not declared as a string in the translation table LSL$OS_MH_TABLE.

      [1mUser[0m [1maction:[0m  Check that the fields specified in the translation  table  are
      of the type expected.

  NOCONTCHAR, No continuation flag ending CITF header line 'integer'

      [1mExplanation:[0m   The  reported  line  of  the  CITF  header  did  not  have  a
      continuation  character  (0 or 1) in the penultimate position before the end
      of record {EOR} character.

      [1mUser[0m [1maction:[0m  Examine the header at the line reported and try  to  establish
      why  the continuation character is missing.  Use the OS Map Header Editor to
      correct the header if possible or convert the file to text and do so.

  NOEORCHAR, No {EOR} character ending CITF header line 'integer'

      [1mExplanation:[0m  The reported line of the CITF header was not terminated by the
      end of record {EOR} character (usually the '%' character).

      [1mUser[0m [1maction:[0m  Examine the header at the line reported and try  to  establish
      why the {EOR} character is missing.  Use the OS Map Header Editor to correct
      the header if possible or convert the file to text and do so.

  NOFILE, file pointed to by LSL$OS_MH_TABLE does not exist

      [1mExplanation:[0m   The  logical  name  LSL$OS_MH_TABLE  has  been   defined   as
      referencing a file that cannot be found.

      [1mUser[0m [1maction:[0m  Check that the logical points to a valid table filename.

  NOLOG, logical LSL$OS_MH_TABLE undefined

      [1mExplanation:[0m  The logical name  LSL$OS_MH_TABLE  defined  to  reference  the
      translation table has not been defined.

      [1mUser[0m [1maction:[0m  Set up the logical using VMS command DEFINE.


  IFFNTF REFERENCE (2.7): NTF data preparation                           Page 2-15
  MESSAGES (ERROR)                                                    4 March 1997


  NOSECHREC, no SECHREC record descriptor found in header

      [1mExplanation:[0m  The line numbers and offsets defined in the lookup table start
      from  the  SECHREC (the 07 record) which may not necessarily be at the start
      of the file.  The map header was scanned  and  no  '07'  records  descriptor
      denoting the Section Header Recortd was found.

      [1mUser[0m [1maction:[0m  All type 4 Map Headers intended to have fields  extractd  from
      them must have a Section Header Record present.

  NOSUCHFIELD, invalid header field - not defined in lookup table.

      [1mExplanation:[0m  An attempt was made to extract or  insert  a  field  from  the
      header.  Either the routine was called with a bad header field or one of the
      fields in the lookup table is not defined.

      [1mUser[0m [1maction:[0m  Check that the field specified as the argument is one of those
      in  the  lookup  table  and  that  the  lookup table has all of the required
      commands defined.

  ODDSIZE, CITF line too short at header line 'integer'

      [1mExplanation:[0m  The reported line of the CITF header was not a sensible  size.
      The  minimum  permissible  size  for a line is 4 character, albeit a strange
      one.  Each line must have 2 characters at  the  start  denoting  the  record
      descriptor,  and  2  at  the end for the continuation flag and end of record
      {EOR} character.

      [1mUser[0m [1maction:[0m  Examine the header at the line reported and try  to  establish
      why  the  line  is  so  short.   Use the OS Map Header Editor to correct the
      header if possible or convert the file to text and do so.

  TOOFEWDIVS, Too few dividers in SECHREC

      [1mExplanation:[0m  When  searching  the  SECHREC  record  for  the  CITF  DIVIDER
      characters (usually a backslash) to determine the offset of variable fields,
      the end of the header was encountered before all the  dividers  were  found.
      Only  as  many  lines as defined by the CITF header size in the lookup table
      will be use to search for divider characters.

      [1mUser[0m [1maction:[0m  Ensure that the header has  the  correct  number  of  dividers
      delimiting  the  variable  length  fields and that the entries in the lookup
      table defining the change indicator flags have a  sensible  number  for  the
      number  of  dividers.  Also ensure that the CITF header length is correct to
      the nearest line.


  IFFNTF REFERENCE (2.7): NTF data preparation                           Page 2-16
  MESSAGES (OTHER)                                                    4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages  may  be  generated  by  the  IFF
  library  and  by  the  Laser-Scan I/O library, LSLLIB.  IFF library messages are
  introduced by '%IFF' and are documented in the IFF  library  users'  guide.   In
  most  cases  IFF  errors will be due to a corrupt input file, and this should be
  the first area of investigation.  If the cause of the error cannot be traced  by
  the user, and Laser-Scan are consulted, then the output file should be preserved
  to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'  and  are
  generally  self-explanatory.   They  are  used to explain the details of program
  generated errors.


  IFFNTF REFERENCE (2.7): NTF data preparation                           Page 2-17
  DATA PREPARATION                                                    4 March 1997


  [1m----------------------------------------------------------------------[0m
  [1mFeature[0m [1mCode[0m [1mConversion[0m [1mLookup[0m [1mTable[0m

            I2NTF and NTF2I both have the facility to change feature  codes  on  a
            one-to-one  basis  through the use of a feature code lookup table read
            from a parameter file.  The facility is invoked by using the /FCLOOKUP
            qualifier with either I2NTF or NTF2I.

            Each line of the lookup file should start with "FC", followed  by  two
            feature  codes.   Any text starting with the "!" character is regarded
            as a comment, and is ignored.  Comments can appear on the  same  lines
            as commands, or on separate lines.

            The first of the pair of feature codes to appear on the  line  is  the
            NTF/CITF feature code, the second is the IFF feature code.

            When using I2NTF with a feature code lookup table,  any  instances  of
            the  IFF  feature codes listed in the table will be converted into the
            corresponding NTF/CITF feature code when they  appear  in  the  output
            file.  The converse is true when using NTF2I.

            [1m----------------------------------------------------------------------[0m
            [1mExample[0m [1mFeature[0m [1mCode[0m [1mLookup[0m [1mTable[0m

            An example of a feature code lookup table follows:


  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
  !                                                                             !
  !       Example Feature Code Lookup Table                                     !
  !                                                                             !
  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
  !
  !       NTF FC          IFF FC
  !
  FC      101234          1234
  FC      101235          1235
  FC      101236          1236
  FC      101237          1237
  FC      101238          1238
  FC      101239          1239
  FC      101240          1240
  FC      101241          1241














                                     CHAPTER 3

                                   I2NTF UTILITY





  IFFNTF REFERENCE (2.7): I2NTF utility                                   Page 3-1
                                                                      4 March 1997


  [1m.[0m!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


  IFFNTF REFERENCE (2.7): I2NTF utility                                   Page 3-2
  UTILITY I2NTF                                                       4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mUTILITY[0m [1mI2NTF[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            I2NTF reads a series of IFF files and outputs  NTF  data  to  file  or
            magnetic  tape.   The user may select which NTF level or version is to
            be output use of qualifiers on the command line.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ I2NTF input-file-spec,...  output-file-spec

            [1mCommand[0m [1mqualifiers[0m                        [1mDefaults[0m

            The following qualifiers may be entered on the command line


            /[NO]CITF='integer'                        /NOCITF
            /DENSITY='integer'                         /DENSITY=1600
            /FRT='file-spec'                           See description below
            /INPUT_LIST='file-spec'                    See description below
            /[NO]LOG                                   /NOLOG
            /[NO]OS                                    /NOOS
            /[NO]WATER_DISTRIB                         /NOWATER_DISTRIB
            /[NO]OUTPUT='file-spec'                    /NOOUTPUT
            /PARAMETER_FILE='file-spec'                No parameter file
            /[NO]SERIAL_MAGTAPE                        /NOSERIAL_MAGTAPE

            The remaining qualifiers may be entered either on the command line  or
            in the parameter file

            /ATTRIBUTE_FILE='file-spec'                See description below
            /COPYRIGHT='yyyymmdd'                      /COPYRIGHT=00000000
            /DONOR="'text'"                            /DONOR="Laser-Scan Ltd."
            /DBNAME="'text'"                           /DBNAME='RECIPIENT'
            /DDNAME="'text'"                           /DDNAME="DEFAULT_02.00"
            /DDATE="'yyyymmdd'"                        /DDATE="19890401"
            /DIFF_HT_LEN                               /DIFF_HT_LEN=5
            /FCNAME="'text'"                           /FCNAME="        "
            /FCDATE="'yyyymmdd'"                       /FCDATE="        "
            /FC_LOOKUP='file-spec'                     No lookup file
            /FEATCLASS_FILE='file-spec'                No classification file
            /FIXED                                     /NOFIXED
            /LEVEL='integer'                           /LEVEL=2
            /POINT_SIZE                                /NOPOINT_SIZE
            /RECIPIENT="'text'"                        Required
            /ROUND                                     /NOROUND
            /SERIAL='integer'                          /SERIAL=0000
            /VERSION='real'                            /VERSION=2.0
            /XY_LEN='integer'                          /XY_LEN=10          
            /XY_MULT='real'                            /XY_MULT=.001
            /Z_DATUM='integer'                         /Z_DATUM=0
            /Z_LEN='integer'                           /Z_LEN=6


  IFFNTF REFERENCE (2.7): I2NTF utility                                   Page 3-3
  UTILITY I2NTF                                                       4 March 1997


            /Z_MULT='real'                             /Z_MULT=1.0
            /Z_UNIT='integer'                          /Z_UNIT=2 (metres)

  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPT[0m

            _Input IFF files:          input-file-spec,...
            _Output destination:       output-file-spec

            If /INPUT_LIST is specified instead of an input  IFF  file,  then  the
            file  given  as  argument to the qualifier will be opened, and the IFF
            file-specs will be read from the file, one per line, with a maximum of
            500  files.   Note  that  /INPUT_LIST  must  be  specified  before the
            output-file-spec

  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  input-file-spec

          - specifies the input file or files to be translated to  NTF.   No  more
            than  eight  files may be specified in this manner - if more files are
            to be translated in one program run, then  the  /INPUT_LIST  qualifier
            must  be  used.  Any part of the first file-spec that is not specified
            will be  completed  from  the  default  of  "LSL$IF:IFF.IFF;0".   Each
            file-spec  after that will be completed using the appropriate parts of
            the previous file-spec (as for the VMS COPY utility).  IFF  files  are
            read and output in the order in which they are specified.

  output-file-spec

          - specifies where the NTF data is to be written.  This may be either the
            name  of  a magnetic tape drive (e.g. MTA0:), or the name of a file on
            disk (e.g. TEST.NTF).  If the output is to tape then the colon at  the
            end  of the device name must be provided.  The default output filespec
            is SYS$DISK:[].NTF

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

            The qualifiers accepted by I2NTF fall into two categories.  The  first
            of  these  are  commands  relating  to  the  environment  in which the
            conversion will take place such as the  /DENSITY  and  /PARAMETER_FILE
            qualifiers.  These may be entered on the command line when the program
            is called.  The second group of qualifiers includes  those  qualifiers
            directly  relating  to  fields  in  the  NTF  file  format such as the
            /RECIPIENT, /LEVEL and /X_MULT qualifiers.  These commands may also be
            entered  on  the  command  line but, in addition, may be included in a
            parameter file indicated by the /PARAMETER_FILE  parameter.   See  the
            /PARAMETER_FILE entry below for further information.


  IFFNTF REFERENCE (2.7): I2NTF utility                                   Page 3-4
  UTILITY I2NTF                                                       4 March 1997


  [1mCommand[0m [1mLine[0m [1mQualifiers[0m

            The following qualifiers may be entered on the command line only.

  /CITF='integer'
  /NOCITF (default)

          - specifies which version of CITF is to be created.

            /CITF=93 specifies that the CITF file to be created must use OS93 data
            structures.

            /CITF=96 specifies that the CITF file to be created must use OS96 data
            structures.

            The use of /CITF with no parameter defaults to /CITF=96.

            Any NTF lines in the Map Header (type 4) are to be read and copied  to
            the  NTF  file (which has file extension .CITF) after checking for any
            inaccuracies as far as is possible, and warnings output if an error is
            encountered.

            See  the  separate  section  below  for  a  full  description  of  the
            differences between CITF and other NTF output.

  /DENSITY='integer'

          - selects the density at which the magnetic tape will be written.  It is
            ignored  if  output is not to a magnetic tape.  The default density is
            1600 bpi and the other supported densities are 800 and 6250 bpi.

  /INPUT_LIST='file-spec'

          - specifies a  file  containing  the  names  of  the  IFF  files  to  be
            processed.   If this qualifier is given, then all input IFF files must
            be specified within the input list file - any input file-specs on  the
            command line will not be recognised.  This qualifier must occur before
            the output file-spec, if it is used.

            The input list file contains the names of the IFF files to be used for
            input,  one  per line, in the order they are to be read.  The standard
            default of "LSL$IF:IFF.IFF;0" is applied to each filename.  There is a
            maximum of 500 files allowed in this list file.

            The default file-spec for the input list file is SYS$DISK:[].I2NTF_LIS

  /LOG
  /NOLOG (default)

          - specifies  that  additional  information  is  to  be  written  to  the
            terminal.  When the program starts up the names of the IFF files being
            read, and of the device to which the NTF data is  being  written,  are
            logged.   Various  messages  summarising  the form of NTF being output
            will also be produced.  If output to tape is selected then  a  message
            detailing the number of blocks written is given on exit.


  IFFNTF REFERENCE (2.7): I2NTF utility                                   Page 3-5
  UTILITY I2NTF                                                       4 March 1997


  /OS
  /NOOS (default)

          - specifies that OS(GB) map header information is to be  output  in  the
            free  text  area of the section header relating to each IFF file.  The
            layout of the map header information in the free text area is  defined
            by  OS.  Note that this use of free text space is allowable within the
            standard.  All IFF files transferred  using  the  /OS  qualifier  must
            contain  a  valid  OS style map header entry.  It also causes all text
            heights to be read as OS point sizes and converted to mm.  as required
            for NTF.

  /WATER_DISTRIB
  /NOWATER_DISTRIB (default)

          - specifies that output is to  match  the  specification  given  in  the
            document  "Specification  for  representation  of  North  West Water's
            digitised distribution overlays in NTF level 3  format",  produced  by
            ISTEL  (Jan  1990).   At  present,  this qualifier cannot be used when
            outputting version 2.0 (BS7567) data.

  /OUTPUT='file-spec'
  /NOOUTPUT (default)

          - specifies that information  about  the  files  being  output  in  NTF,
            together with the form of NTF being produced, should be written to the
            specified log file.  All comment records output will also be copied to
            the  file,  prefixed  with "//".  This output file may then be printed
            and used as documentation for the data  on  the  magnetic  tape.   The
            default file-spec for the log file is SYS$DISK:[]I2NTF.LOG

  /PARAMETER_FILE='file-spec'

          - indicates  that  a  parameter  file   exists   containing   additional
            qualifiers.   Qualifiers  given  on  the  command  line override those
            specified in the parameter file.  For  example,  if  NTF  level  1  is
            selected  in  the  parameter  file  but  /LEVEL=2  is requested on the
            command line then all output will be to NTF level 2.   Note  that  not
            all qualifiers are allowed in the parameter file - see below.

            It is advised that only one qualifier is entered on each line  in  the
            parameter file so that it can be read and edited easily.  Comments may
            be used freely - any data after an exclamation mark (!) is treated  as
            comment and ignored.

            The default file-spec for the parameter file is SYS$DISK:[].I2NTF_PAR.

  /SERIAL_MAGTAPE
  /NOSERIAL_MAGTAPE (default)

          - indicates that the standard output for the program is a magnetic  tape
            drive  connected via a DIL serial controller interface.  The qualifier
            is ignored if output is to a device  which  is  mounted  /FOREIGN  (in
            which case output is to a standard magnetic tape drive).  If output is
            requested to a terminal device then it will be assumed  that  this  is
            the DIL controller.


  IFFNTF REFERENCE (2.7): I2NTF utility                                   Page 3-6
  UTILITY I2NTF                                                       4 March 1997


  [1mCommand[0m [1mLine[0m [1mOr[0m [1mParameter[0m [1mFile[0m [1mQualifiers[0m

            The following qualifiers may be entered either on the command line  or
            in the parameter file.

  /ATTRIBUTE_FILE='file-spec'

          - gives the file in which NTF attribute mnemonics  are  associated  with
            IFF  AC  names.  If this qualifier is not given then no attributes are
            transferred.

  /COPYRIGHT='yyyymmdd'

          - specifies an overriding copyright date for all files being  output  to
            NTF,  in  the  form yyyymmdd (for instance, 19870218 for 18th February
            1987).  This copyright date will be used for all files being output.

            If /COPYRIGHT is  not  specified,  and  /OS  is  specified,  then  the
            copyright  date  for  each  file will be taken from its (OS style) map
            header.  If /OS is not specified, a  copyright  of  00000000  will  be
            used.

  /DONOR="'text'"

          - specifies the name of the sender of the data.  The donor name  may  be
            up  to  20  characters  long  with  truncation  occurring  if  this is
            exceeded.  The default is "Laser-Scan Ltd.".

  /DBNAME="'text'"

          - specifies the name of  the  database.   The  name  may  be  up  to  20
            characters  long  with  truncation occurring if this is exceeded.  The
            default is the name given for the recipient of the data.

  /DDNAME="'text'"

          - specifies the name of the data dictionary.  The name may be up  to  20
            characters  long  with  truncation occurring if this is exceeded.  The
            default is "DEFAULT_02.00".

  /DDATE="'yyyymmdd'"

          - specifies the date associated with the data dictionary.   The  default
            is "19890401".

  /DIFF_HT_LEN='integer'

          - specifies the width of the field  used  to  store  DIFF_HT  fields  in
            GEOMETRY2 records, only valid in CITF.  The default value is 5.

  /FCNAME="'text'"

          - specifies the name of the feature classification scheme.  The name may
            be  up  to  20  characters  long  with truncation occurring if this is
            exceeded.  The default is " ".


  IFFNTF REFERENCE (2.7): I2NTF utility                                   Page 3-7
  UTILITY I2NTF                                                       4 March 1997


  /FCDATE="'yyyymmdd'"

          - specifies the date associated with the feature classification  scheme.
            The default is " ".

  /FC_LOOKUP='file-spec'

          - specifies the feature code lookup table parameter file to be used.  If
            this  qualifier  is  not  given,  all  feature  codes  are  translated
            verbatim.

  /FEATCLASS_FILE='file-spec'

          - gives the file from which a feature classification  scheme  is  to  be
            read.  If this file is present [FEATCLASS] records will be output.

  /FIXED
  /NOFIXED (default)

          - specifies that the NTF file is to be output in fixed length records of
            80  characters.   The  default option is for the records to be only as
            long as they need to be with a maximum length of 80 characters.   This
            can result in considerable space savings.

  /FRT='file-spec'

          - this qualifier gives the name  of  the  Feature  Representation  Table
            (FRT)  which  holds  information about IFF attributes.  If this is not
            given no attributes  are  transferred.   The  qualifier  may  only  be
            entered  on the command line and should not be used inside a parameter
            file.

  /LEVEL='integer'

          - specifies the NTF level that is to be output.  This may be either 1, 2
            or 3, and defaults to 1.

  /POINT_SIZE
  /NOPOINT_SIZE (default)

          - specifies that the IFF file text heights  are  to  be  interpreted  as
            point sizes (for CITF only).

  /RECIPIENT="'text'"

          - specifies the name of the recipient of the data.  The  recipient  name
            may  be  up to 20 characters long and truncation will occur if this is
            exceeded.  The recipient name is  required  -  it  must  be  specified
            either within the parameter file or on the command line.


  IFFNTF REFERENCE (2.7): I2NTF utility                                   Page 3-8
  UTILITY I2NTF                                                       4 March 1997


  /ROUND
  /NOROUND (default)

          - specifies that output co-ordinates should  be  explicitly  rounded  to
            seven  significant  figures  if needed.  Figures after the seventh are
            padded with zeroes.  This facility may  be  useful  to  maintain  data
            integrity with small-scale data.

  /SERIAL='integer'

          - specifies the volume serial number.  This should be an integer between
            1  and  9999.   If  the qualifier is not given then a default value of
            zero is used.

  /VERSION='real'

          - specifies the version of the NTF file to be created.  If the qualifier
            is  not given then a default value of 2.0 is used which will result in
            the output of NTF version 2.0 (BS7567) data.   Acceptable  values  for
            this qualifier are 1.1 and 2.0.

  /XY_LEN='integer'

          - specifies the width of the field used to store X and Y coordinate data
            in  NTF.   If a value is chosen that is not large enough to store some
            values in the file (as  determined  by  inspecting  the  file's  range
            entry)  then  an  error  message is output and an alternative value is
            suggested.  The default value is 10.

  /XY_MULT='real'

          - all X and Y coordinates are divided by the value specified  with  this
            qualifier  before being output to NTF.  This qualifier is thus used to
            specify the precision of planimetric data  in  the  NTF  output.   The
            default value is 0.001, meaning that X and Y coordinates are stored as
            thousandths of an IFF unit.

  /Z_DATUM='integer'

          - this qualifier is used to specify the 'notional' origin of Z values in
            the IFF files being output.  This datum value is stored in the section
            header for each sheet - it is  not  actually  subtracted  from  the  Z
            value.  The default Z datum is 0.

  /Z_LEN='integer'

          - specifies the width of the field used to store Z  coordinate  data  in
            NTF.   If  a  value  is  chosen that is not large enough to store some
            values in the file (as  determined  by  inspecting  the  file's  range
            entry)  then  an  error  message is output and an alternative value is
            suggested.  The default value is 6.  This qualifier may not be used at
            level 1.


  IFFNTF REFERENCE (2.7): I2NTF utility                                   Page 3-9
  UTILITY I2NTF                                                       4 March 1997


  /Z_MULT='real'

          - all Z values are divided by the value specified  with  this  qualifier
            before  being  output  to NTF.  This qualifier is thus used to specify
            the precision of height data in the NTF output.  The default value  is
            1.0,  meaning  that Z values are stored using the same units as in the
            IFF file.

  /Z_UNIT='integer'

          - specifies the units in which height data is stored.  The value may  be
            any of:

                1= degrees,
                2= metres,
                3= feet.

            The default units are metres, ie a value of 2.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-10
  UTILITY I2NTF                                                       4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  Restrictions on qualifiers

                 o  Both /CITF and /OS are not allowed  together  on  the  command
                    line.

                 o  If /CITF has been requested, the /FRT qualifier must be  given
                    for the attribute names required in the CITF translation.

                 o  If the  /INPUT_LIST  qualifier  is  used,  any  qualifiers  or
                    file-specs  occurring  before  it  will  be ignored.  Thus the
                    /INPUT_LIST qualifier should always be the first item  on  the
                    command line.

                 o  The /RECIPIENT qualifier is required, either  on  the  command
                    line or in the parameter file.

                 o  The /Z_LEN qualifier requires transfer level 2 or 3.

                 o  If a qualifier is used both on the command  line  and  in  the
                    parameter  file,  the  value  specified on the command line is
                    used.

                 o  /FRT, /ATTRIBUTE_FILE and /LEVEL=2 or  /LEVEL=3  must  all  be
                    given  if  attribute  transfer  is  required.   If  any one is
                    missing no attributes will be transferred.  However, at  level
                    1,  a  single attribute (AC 2 or 3) can be transferred without
                    the use  of  /ATTRIBUTE_FILE  since  this  qualifier  is  only
                    intended to be used at levels 2 and 3.

             o  The IFF files

                 o  The IFF files being input must have a type  2  map  descriptor
                    (MD)  entry,  which must be correctly set.  If this is not the
                    case, use ITRANS/DESCRIPTOR to  create  a  valid  type  2  map
                    descriptor.

                 o  The coordinates in the IFF file must be in either feet, metres
                    or  degrees.   If  the data is not in one of these units, then
                    use ITRANS to transform the IFF file.

                 o  The program will ignore all data in layer 0,  and  output  all
                    other layers without distinction.

                 o  Each IFF file is output to a separate NTF  section,  with  the
                    section  reference  taken from the IFF file name (truncated to
                    10 characters).

                 o  Features are output as  lines,  symbols  or  text,  using  the
                    text/symbol   bits   in  the  feature  status  (FS)  entry  to
                    distinguish the different forms.  Thus  the  IFF  file  should
                    have these bits set correctly (reading an IFF file into LITES2
                    with the correct  FRT  file  will  set  the  text/symbol  bits


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-11
  UTILITY I2NTF                                                       4 March 1997


                    correctly).

                 o  The original IFF feature serial numbers (FSNs) are not used in
                    the NTF data being produced.

                 o  At NTF level 1 only contour height ACs (types  2  and  3)  are
                    translated.  All other types of AC are ignored (with a warning
                    message).  This is done automatically and the  /ATTRIBUTE_FILE
                    qualifier should not be given.

                 o  At NTF level 3 the attribute mnemonics FC and OR are  used  to
                    output  the  feature  code and orientation of a feature in its
                    attribute record.  These mnemonics  should  therefore  not  be
                    used to refer to any other attributes.

                 o  If /WATER_DISTRIB is specified any point features with FC  999
                    will   be   output   with   attribute   records  of  the  form
                    "14nnnnnnACxx" (where "nnnnnn" is the  record  identifier  and
                    "xx" is a 2 character mnemonic).  This is a requirement of the
                    ISTEL specification document.   Note  that  /WATER_DISTRIB  is
                    currently not permitted when outputting version 2.0 NTF data.

                 o  Composite texts are output as a sequence of simple texts, with
                    no connection between them.

                 o  Texts of more than 99 characters in length will  be  truncated
                    before output.

                 o  The NTF text font is taken from the text category in  the  IFF
                    text feature.

                 o  If an IFF AC is required then  it  must  be  included  in  the
                    ATTRIBUTE file together with it's destination NTF mnemonic.

                 o  Any AC's to be transferred must be defined in the  FRT  either
                    by default or explicitly in ACD entries.

                 o  There is currently no mechanism  to  direct  an  AC  attribute
                    value  to go into the {VALUE} field of a [LINEREC], [POINTREC]
                    or [NAMEREC] and similarly for NTF v2.0 (level 1 & 2) CHG_TYPE
                    and CHG_DATE attributes.

             o  NTF output

                 o  Only levels 1, 2 and 3 of NTF are supported.

                 o  The section header field {COPYRIGHT} (ie  copyright  date)  is
                    only set if the data is being output /OS, or if the /COPYRIGHT
                    qualifier has been specified.

                 o  Multivolume datasets are not supported - all of the data being
                    output must fit onto one magnetic tape.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-12
  UTILITY I2NTF                                                       4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m

            I2NTF converts one  or  more  maps  from  IFF  (Laser-Scan's  Internal
            Feature  Format) into NTF (National Transfer Format) levels 1, 2 or 3.
            The NTF output maybe to disk, magnetic tape or  a  serial  tape  drive
            depending  on the qualifiers given on the command line.  The input IFF
            files may be specified either on the command line or in  a  text  file
            pointed to by the /INPUT_LIST qualifier.  All of the qualifiers may be
            given on the command line, or alternatively, qualifiers giving  values
            corresponding  directly  to  NTF  fields may be entered in a parameter
            file.

            Before outputting any data, each input IFF file  is  opened  to  check
            that  it exists and is readable.  If /OS has been specified, each file
            is also checked for the presence of an OS(GB) style map header entry.

            The NTF data file starts as follows:

             o  volume header - with the NTF version number set to 1.1 or  2.0  as
                appropriate.

             o  comment - this repeats the donor, and states  that  the  data  was
                produced using Laser-Scan's I2NTF conversion utility.

             o  database header - with  the  {DBNAME}  (database  name),  {DDNAME}
                (data dictionary) and {DDATE} (data dictionary date) fields set to
                their default values, or to values specified  in  the  appropriate
                qualifiers.

             o  feature classification records - these records will be output if a
                feature  classification  file  is  specified.   The values will be
                taken directly from the file, one record  being  output  for  each
                feature.   An  example  of  a feature classification file is shown
                below.  Note that any  unused  fields  should  contain  the  value
                "NONE".   The  field  widths  are of 4, 10, 20 and variable length
                characters for FCODE, CODECOM, STCLASS and FEATDES respectively.

                     ! 
                     !FEATURE         FCODE      CODECOM    STCLASS     FEATDES
                     !
                     FEATURE          0004       A10766      NONE        WOOD
                     FEATURE          0005       B23145      NONE        ROAD
                     FEATURE          0006        NONE       NONE        WATER


                If /WATER_DISTRIB has been specified, an additional field must  be
                included  in  the feature classification file.  A value 'T' or 'F'
                must be appended to each FCODE in the file, to indicate whether or
                not  the  associated  feature  code  should  be  referenced with a
                NODEREC record.

                     ! 
                     !FEATURE         FCODE      CODECOM    STCLASS     FEATDES
                     !
                     FEATURE          0004T       A10766     NONE        WOOD


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-13
  UTILITY I2NTF                                                       4 March 1997


                     FEATURE          0005F       B23145     NONE        ROAD
                     FEATURE          0006T       NONE       NONE        WATER


             o  attribute descriptor records - at levels 2 and  3  with  attribute
                transfer  these records will be added to give a description of all
                of the attributes that will occur in the  database.   Each  record
                contains  the  NTF  mnemonic,  the field width, interpretation and
                null, and maximum and minimum values for an attribute.

            Each IFF file is then reopened in turn and output to the NTF file as a
            separate  section.   The  [SECHREC]  (section header) record is output
            with the following values:

             o  {SECT_REF}  - the first 10 characters of the IFF file name
             o  {COORD_TYP} - deduced from the value in the map descriptor
             o  {STRUC_TYP} - always set to 1 for vector data
             o  {XYLEN}     - taken from the /XY_LEN qualifier
             o  {XY_UNIT}   - deduced from the value in the map descriptor
             o  {XY_MULT}   - taken from the /XY_MULT qualifier
             o  {Z_LEN}      - taken from the /Z_LEN qualifier
             o  {Z_UNIT}    - taken from the /Z_UNIT qualifier
             o  {Z_MULT}    - taken from the /Z_MULT qualifier
             o  {X_ORIG}    - taken from the map descriptor
             o  {Y_ORIG}    - taken from the map descriptor
             o  {Z_DATUM}   - taken from the /Z_DATUM qualifier
             o  {XMIN}, etc - taken from the range entry
             o  {XY_ACC}    - left unset
             o  {Z_ACC}     - left unset
             o  {SURV_DATE} and {LAST_AMND} are taken from the map header  if  /OS
                is specified.  {COPYRIGHT} is taken from the /COPYRIGHT qualifier,
                or if that is not  specified,  from  the  map  header  if  /OS  is
                specified.   Otherwise,  all  three  are left unset (ie a value of
                00000000).
             o  {SQNAME} and {SQDATE} - left unset

            If /OS is specified, the following fields are output in the free  text
            area of the section header relating to each IFF file:

             o  {STORAGE_SCALE}         - scale at which the map is stored
             o  {INITIAL_DATABANK_DATE} - when the map was first digitised
             o  {EDITION}               - current edition of the map
             o  {SURVEY_TYPE}           - type of survey of the map
             o  {CONTENT_INDICATOR}     - survey accuracy of the data
             o  {LATEST_REVISION_DATE}  - when a full field examination of the
                                          continuous field revision process
                                          occurred
             o  {BOUNDARY_DATE}         - when the boundary information was last
                                          checked
             o  {DIGITAL_UPDATE_DATE}   - indicates the currency of the data
             o  {SVY_DATES_FIRST_LAST}  - dates of first and last surveys of the
                                          map
             o  {CONTOUR_VI}            - vertical interval of any contours
             o  {SPECIFICATION_NUMBER}  - specification number current at OS when
                                          the map was digitised
             o  {EDGE_MATCH_STATUS}     - indicates whether the edges have been


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-14
  UTILITY I2NTF                                                       4 March 1997


                                          matched or not
             o  {MULTI_YEAR_HWM_DATE}   - when the mean HWM dates were last
                                          checked
             o  {MULTI_YEAR_LWM_DATE}   - when the mean LWM dates were last
                                          checked
             o  {HOUSE_UNIT_COUNT}      - used by OS to trigger the supply of
                                          update information
             o  {BOUNDARY_INFORMATION}  - information about the boundaries on the
                                          map
             o  {DIGITAL_UPDATE_COUNT}  - number of updates applied to the map


            Features are read from the IFF file one by one.   They  are  separated
            into  lines,  points  (symbols)  and  names  (texts)  according to the
            text/symbol bits in the  FS  entry.   The  {LINE_ID},  {POINT_ID}  and
            {NAME_ID}  values are maintained independently of the original feature
            serial numbers (FSNs) in the IFF file.  Each type of ID is started  at
            1  and  incremented  for  each  feature  of  the relevant type that is
            output.  For all features, the {FEAT_CODE} is taken directly from  the
            IFF  feature  code  (ie  from  the  FS  entry).   Since  there  is  no
            {FEAT_CODE} field in level  3  linear  features,  at  this  level  the
            feature  code  is  stored  in  an  [ATTREC] referenced by the {ATT_ID}
            field, using the default NTF attribute mnemonic FC.  All security  and
            change fields are left unset.

            Linear  features  are  output  as  a  [LINEREC]  with  an   associated
            [GEOMETRY1]  or [GEOMETRY2] record and the {NUM_PARTS} field set to 1.
            At levels 1 and 2  the  [GEOMETRY*]  record  immediately  follows  the
            [LINEREC]  (the  {GEOM_ID}  field  being  identical  to  the {LINE_ID}
            field), whereas at level 3 the [GEOMETRY*] record is referenced by the
            {GEOM_ID} field.  If the feature has a height AC associated with it in
            the IFF file, then, at levels 1 and 2, the {VALUE} field will  be  set
            to HT followed by the height as six digits (according to Z_MULT, etc).
            At level 3 the {NAME_ID} field references any text feature which is to
            be  used  to  annotate the line, if there is no such text the field is
            set to 0.  In the [GEOMETRY*] record, the {GEOM_ID} field is  set  (as
            expected)  to  match  the {LINE_ID}.  The {GTYPE} field is set to 2 (a
            line).  The {QPLAN} field is set to 0 or 1 for each coordinate pair or
            triple,  indicating  pen up or pen down respectively.  The {QHT} field
            is not currently used.

            Symbol  features  are  output  as  a  [POINTREC]  with  an  associated
            [GEOMETRY1]  or [GEOMETRY2] record.  The procedure is the same as that
            for a [LINEREC].  If the feature has a rotation, then at  level  3  it
            will  be  output  in  an  associated  [ATTREC]  using  the default NTF
            attribute mnemonic OR, whereas  at  levels  1  and  2  an  orientation
            {VALUE} field will be output as OR, followed by the orientation as six
            digits in tenths of a degree.  The [GEOMETRY*] record is output with a
            {GTYPE} of 1 (a point).

            At version 1.1, text features are output as a [NAMEREC] followed by  a
            [NAMPOSTN] (or a [CURVTEXT] if the text is curved).  In the [NAMPOSTN]
            record, the {FONT} is taken from the text category (in the FS  entry).
            The  {TEXT_HT} is taken from the TH entry.  Since the [NAMEREC] record
            can only transmit up to 99 characters, text features that  are  longer
            than this will be truncated before being output.  The text position is


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-15
  UTILITY I2NTF                                                       4 March 1997


            given by  a  [GEOMETRY]  record  which  will  immediately  follow  the
            [NAMPOSTN]  (or  [CURVTEXT])  record.   However [CURVTEXT] records are
            currently not output at version 2.0 NTF.

            At version 2.0 level 3,  text  features  are  output  as  a  [TEXTREC]
            record, followed by a [TEXTPOS], [TEXTREP] and [ATTREC] which contains
            the text itself.  The  text  string  will  always  be  written  to  an
            attribute  called  'TX' which must be defined in the attribute file in
            order for there to be a corresponding [ATTDESC] attribute  description
            record in the file.

            Note that composite texts are transmitted as a sequence of  individual
            text features, with separate {NAME_ID}s.

            Additionally, if NTF level 3 version 1.1 output is requested there may
            be  [CHAIN], [CLINE], [NODEREC] and [COLLECT] records.  A [CLINE] (and
            associated [CHAIN]) is output if an IFF feature consists of several ST
            entries  -  one  [GEOMETRY*]  record  being  output  for  each  ST.  A
            [NODEREC] is output for every junction point which occurs  in  the  SH
            (sector  header)  entry of the IFJ file.  A [COLLECT] record is output
            for a group of features if each such feature  has  an  appropriate  AC
            (see the section on Attributes for details).

            Note that the NTF level 3 records [POLY] and [CPOLY] are not used.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-16
  UTILITY I2NTF                                                       4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mAttributes[0m

            NTF version 1.1 and  above  now  has  a  coherent  definition  of  how
            attributes  are  transferred so now IFF AC values can be easily ported
            to and from NTF.  Firstly an IFF attribute must be associated with  an
            NTF  mnemonic.   This  is done via the new attribute file ( given with
            the /ATTRIBUTE_FILE qualifier ), this file should contain IFF AC names
            together  with  the NTF mnemonic.  There are also 3 flags which should
            be added to the end of each line to specify whether :

            1.  the AC's optional text  field  should  be  read  rather  than  the
                attribute value
            2.  the AC is used to link a text to a linear feature so that the text
                can be used to annotate the feature - only valid at level 3
            3.  the AC is used to  group  several  features  together  so  that  a
                [COLLECT] record may be output - only valid at level 3

            Each flag should have the value T or  F  to  indicate  true  or  false
            respectively,  though  the latter two flags may be omitted at level 2.
            An example of an attribute file is shown below.

                 !
                 ! Command procedure to tell I2NTF/NTF2I which attributes to 
                 ! associate with which NTF mnemonic. The IFF name must be 
                 ! present in the FRT file.
                 !
                 !   Format is:
                 ! 
                 !ATTRIBUTE IFF_ATT_NAME  NTF_MNEMONIC  TEXT  ANNOTATE  COLLECT
                 !
                 ATTRIBUTE   LH_BOUNDARY          LH      T       F       F
                 ATTRIBUTE   RH_BOUNDARY          RH      T       F       F
                 ATTRIBUTE   CONTOUR              CO      F       F       T
                 ATTRIBUTE   TEXT                 TX      T       T       F
                 ATTRIBUTE   COUNTY_LEFT          CL      T       F       F
                 ATTRIBUTE   COUNTY_RIGHT         CR      T       F       F
                 ATTRIBUTE   COUNTY_LEFT          CA      F       F       F
                 ATTRIBUTE   COUNTY_RIGHT         CB      F       F       F


            In the above attribute file the IFF attribute CONTOUR has its AC value
            transferred  whilst  the  others have the optional text put in the NTF
            attribute.  Note that COUNTY_LEFT and COUNTY_RIGHT have both text  and
            value  transferred,  care  must  be  taken  to  ensure  that  they are
            associated with different NTF attributes.  The IFF  attribute  CONTOUR
            will  be  used  to  group  features  for [COLLECT] records and the IFF
            attribute TEXT will be used to  link  annotated  features  with  their
            associated  texts.   The interpretation of the attribute is taken from
            the FRT file which  must  be  specified  on  the  command  line.   Any
            non-standard AC types must be declared in ACD entries in the FRT file.
            Note also that NTF mnemonics must be 2 characters long.

            When an AC is used to form annotated features  or  [COLLECT]  records,
            the  value  given  to  this AC should be common to either a text and a
            linear feature, or to those features which are to be grouped  together


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-17
  UTILITY I2NTF                                                       4 March 1997


            into  the  [COLLECT]  record.   Such  ACs  will not appear in [ATTREC]
            records.  One text feature can be  used  to  annotate  several  linear
            features, but each linear feature can only be annotated with one text.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-18
  UTILITY I2NTF                                                       4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mConversion[0m [1mof[0m [1mOrdnance[0m [1mSurvey[0m [1mCITF[0m [1mdata[0m

            I2NTF will write version 1.0 CITF files which are based upon  level  5
            of  NTF Version 2 as defined by BS7567.  Only CITF files of DATA_MODEL
            2 will be created.

            [1mThe[0m [1mIFF[0m [1mMH[0m [1mEntry[0m [1mAnd[0m [1mCITF[0m [1mHeader[0m [1mRecords[0m

            If they are present in a type 4 Map  Header  entry,  the  [FEATCLASS],
            [SECHREC],  [TRANSFORM], [MANINFREC] and [EXTREC] header lines will be
            used to created the appropriate records in CITF.  No further FEATCLASS
            entries will be created if there are any in the map header.  This also
            applies to the TRANSFORM, MANINFORM  and  EXTREC  records,  which  may
            therefore only come from the map header.

            Certain values are required to be read from the [SECHREC] record to be
            used  when  interpreting  the  CITF  file  such as {XYLEN}, {XY_UNIT},
            {XY_MULT}, {ZLEN}, {Z_UNIT}, {Z_MULT} and {SCALE}.  These fields  must
            contain  correct  values  reflecting  the  true format of the data for
            successful conversion.

            Warning messages are output if there is any difference  between  those
            fields  such as map scale, range or map origin which are read directly
            from the IFF file, and the values contained in the map header, and the
            map header entries will be ignored.

            Any field width values supplied with qualifiers will  take  precedence
            over the map header values, and will be written to the map header.

            The {DIFF_HT_LEN} size is also required and is in the variable part of
            the  [SECHREC]  as  so  must be precisely defined as the program works
            under the  assumption  that  there  will  be  sufficient  divider  (/)
            characters  after  which it is located.  Refer to the DATA PREPARATION
            section for details of how to set  up  a  correct  map  header  lookup
            table.

            [1mFeature[0m [1mLevel[0m [1mAttributes[0m

            CITF  feature  records,  [LINEREC],  [POINTREC]  and  [NAMEREC]   have
            provision  for attributes which should come from AC entries in the IFF
            feature.   These  attributes  are  UPDATE_DATE,  UPDATE_STATUS,  SPEC,
            PROCESS,  DATE_OF_PROCESS,  PHYS_STAT  and  MARGINAL_TXT which must be
            defined in the ACD section of the FRT if they are to  be  transferred.
            These  features  should  not  be present in the attribute file as this
            intended for attributes  which  are  held  in  [ATTREC]  or  [ACRDREC]
            records.

            The alphanumeric  feature  level  attributes  UPDATE_STATUS,  PROCESS,
            PHYS_STAT and MARGINAL_TXT will be read from the value field of the AC
            and the datatype definition in the ACD part of the FRT is  ignored  by
            the program.  This is in case the LITES2 OPERATION command was used to
            update these ACs as this action is performed on the value field.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-19
  UTILITY I2NTF                                                       4 March 1997


            These attributes will always be treated as character values and should
            be  defined as datatype 'C' in the ACD so that programs such as LITES2
            and IPATCH will show their true representation.   The  SPEC  attribute
            which  is  a variable length alphanumeric string will be read from the
            optional text string of the AC and the datatype will not matter.   The
            UPDATE_DATE and DATE_OF_PROCESS attributes will be read from the value
            field of the AC and should be defined as datatype 'D' in the ACD.

            [1mPer-point[0m [1mAttributes[0m [1mAnd[0m [1mCBs[0m

            IFF Coordinate Blocks (CB) entries are able  to  hold  20  columns  to
            represent  each  point  in  a  feature,  which includes the X, Y and Z
            coordinates.

            [GEOMETRY*] records have various data quality fields attached to every
            point  which  are  maintained by transferring them from the columns of
            the CB of the feature, either  held  as  fixed  point  attributes,  or
            variable  column  entries.   The  AC codes of these attributes must be
            known and so they must be defined in the ACD part of the  FRT  in  the
            same way as for the feature level attributes and should not be present
            in the attribute file.

            The X_COORD, Y_COORD and Z_COORD should not be defined in the  ACD  as
            they have standard AC codes of 91, 92 and 93 respectively.

            [GEOMETRY1] records have fields X_COORD, Y_COORD, XY_ACQ_METH, QPLAN.

            [GEOMETRY2] record have fields X_COORD, Y_COORD,  XY_ACQ_METH,  QPLAN,
            Z_COORD,  DIFF_HT,  Z_ACQ_METH,  QHT  and  QDIFF_HT,  all of which are
            maintained in the conversion.

            Attributes held in Attribute Coordinate  [ACRDREC]  records  are  also
            attached to points in the CB, after those derived from the [GEOMETRY*]
            records.

            Since [GEOMETRY1] records result in 4 fields of a CB being  used,  the
            others may be used to hold [ACRDREC] attributes.

            Similarly, [GEOMETRY2] records result in 9 fields of a CB being  used,
            which leaves 11 which may be used to hold [ACRDREC] attributes.

            [1mSymbol[0m [1mFeatures[0m

            The graphical type of point features will be looked up in the  FRT  in
            order  to  determine  if  distance (DT) or orientation (OR) attributes
            should be output.  Points with a graphical type (GT) of 9 will  result
            in  the  output  of the DT and OR attributes, points with GT of 8 will
            only have an OR attribute and GT 7 points will not have either.

            [1mText[0m [1mFeatures[0m

            I2NTF/CITF will write all text features to CITF with two  points;  the
            first  being  the digitised position and the second being the plotting
            position calculated using {DIG_POSTN}.  If the value of {DIG_POSTN} is
            zero  then  plotting  position  will  be  the  same  as  the digitised
            position.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-20
  UTILITY I2NTF                                                       4 March 1997


            Text feature codes will be generated from the Category of the  Feature
            Status  (FS)  entry.  NTF2I generates text features with feature codes
            of 28 and stores enough information in the Category field for I2NTF to
            recalculate  it.  The feature code generated will be the value held in
            the Category field plus 1000.

            [1mAttribute[0m [1mFile[0m

            It is intended that all of the CITF default attributes listed  in  the
            CITF  Specification  Mod 7/C are defined in the ATTRIBUTE_FILE and ACD
            section of the FRT.  This will ensure that a stable list of  attribute
            definitions exists so that all CITF files created will have consistent
            attribute translation.   Any  IFF/CITF  attributes  undefined  in  the
            ATTRIBUTE_FILE and FRT will not be converted.

            Only [ATTREC] attribute mnemonics should be defined in  the  attribute
            file.   The  feature  level  (UPDATE_DATE,  UPDATE_STATUS,  etc.)  and
            per-point level (XY_ACQ_METH, QPLAN, etc.) attributes  should  not  be
            defined,  since they are looked up directly in the ACD part of the FRT
            file.

            Here  is  an  example  of  an  attribute  file  defining  the  default
            attributes  intended for use with CITF.  Note that any text attributes
            have the 'TEXT' option defined as true, denoting that value is to come
            from  the  optional  text string of the AC.  In this case, the type of
            the AC as defined in the ACD part of the FRT is irrelevant.

            Any integer, real, or date attributes should have  the  'TEXT'  option
            set to false.  Note also that the 'ANNOTATE' and 'COLLECT' options are
            not used for CITF and are set to false.

            The  default  set  of  CITF  attributes  as  defined   in   the   CITF
            Specification  (Mod  7/C)  date  October  1992  will not be written to
            [ATTDESC]  records  but  any  others  will  be  in  order  that  their
            interpretation is defined.

            !
            ! Default CITF attributes
            !
            !ATTRIBUTE  IFF_ATT_NAME  NTF_MNEM  TEXT  ANNOTATE  COLLECT
            !
            ATTRIBUTE     ADDR_ONE        A1      T       F       F
            ATTRIBUTE     ADDR_TWO        A2      T       F       F
            ATTRIBUTE     POSTAL_ADDR     AD      T       F       F
            ATTRIBUTE     ACCENTS_MASK    AM      T       F       F
            ATTRIBUTE     ADDR_QUAL       AQ      F       F       F
            ATTRIBUTE     ADDR_STAT       AS      F       F       F
            ATTRIBUTE     BUILD_NAME      BD      T       F       F
            ATTRIBUTE     BUILD_NUM       BN      F       F       F
            ATTRIBUTE     CONCAT_FLAG     CF      T       F       F
            ATTRIBUTE     COUNTY_NAME     CN      T       F       F
            ATTRIBUTE     CHANGE_TYPE     CT      T       F       F
            ..
            ..
            [lines deleted]
            ..


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-21
  UTILITY I2NTF                                                       4 March 1997


            ..
            ATTRIBUTE     SETTLEMENT      SN      T       F       F
            ATTRIBUTE     DATE_OF_SURV    SY      F       F       F
            ATTRIBUTE     TYPE_OF_CONSTR  TC      T       F       F
            ATTRIBUTE     THOROUGHFARE    TN      T       F       F
            ATTRIBUTE     CITFTEXT        TX      T       F       F
            ATTRIBUTE     UORN            UN      T       F       F


            [1mFRT[0m [1mACD[0m [1mSection[0m

            Here is an example of the ACD part of an FRT  suitable  for  use  with
            CITF  data  whose  ACD  TABLE 4 reflects the IFF_ATT_NAME field of the
            above attribute file.

            The feature level attributes in ACD TABLE 2 must be defined exactly as
            shown  and  should  not be defined in the attribute file.  While I2NTF
            ignores the datatype of ACs in the ACD (except for dates, which should
            be  'D'),  it  is  advised  that  attributes  are defined to be of the
            correct type so that programs such as LITES2 and IPATCH  will  display
            their true representation.

            The per-point attributes in ACD TABLE 3 must also be  defined  exactly
            as  shown  and  should  not  be defined in the attribute file.  The AC
            codes of the X, Y and Z coordinates that will appear in the  CB  entry
            will  be the default ones of 91, 92 and 93 respectively and should not
            be present in the ACD section.

            !
            ! Feature level attributes
            !
            ACD TABLE 2
            !
            ACD D 1 UPDATE_DATE
            ACD C 2 UPDATE_STATUS
            ACD C 3 SPEC
            ACD C 4 PROCESS
            ACD D 5 DATE_OF_PROCESS
            ACD C 6 PHYS_STAT
            ACD C 7 MARGINAL_TXT
            !
            ! Per-point attributes
            !
            ACD TABLE 3
            !
            ACD C 1 XY_ACQ_METH
            ACD C 2 QPLAN
            ACD R 3 DIFF_HT
            ACD C 4 Z_ACQ_METH
            ACD C 5 QHT
            ACD C 6 QDIFF_HT
            !
            ! Default attribute codes
            !
            ACD TABLE 4
            !


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-22
  UTILITY I2NTF                                                       4 March 1997


            ACD C  1 ADDR_ONE
            ACD C  2 ADDR_TWO
            ACD C  3 POSTAL_ADDR
            ACD C  4 ACCENTS_MASK
            ACD I  5 ADDR_QUAL
            ACD I  6 ADDR_STAT
            ACD C  7 BUILD_NAME
            ACD I  8 BUILD_NUM
            ACD C  9 CONCAT_FLAG
            ACD C 10 COUNTY_NAME
            ..
            ..
            [lines deleted]
            ..
            ..
            ACD C 60 SETTLEMENT
            ACD C 61 DATE_OF_SURV
            ACD C 62 TYPE_OF_CONSTR
            ACD C 63 THOROUGHFARE
            ACD C 64 CITFTEXT
            ACD C 65 UORN


            [1mChanging[0m [1mFeature[0m [1mCodes[0m [1mDuring[0m [1mTranslation[0m

            I2NTF allows feature codes to be changed  during  translation  through
            the  use of a feature code lookup table parameter file.  This facility
            is invoked by using  the  /FC_LOOKUP  qualifier.   It  is  useful  for
            converting IFF feature codes into CITF feature codes which are invalid
            in IFF (i.e.  greater than 32767).   Refer  to  the  DATA  PREPARATION
            section for details of how to set up a feature code lookup table.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-23
  UTILITY I2NTF                                                       4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m


  $ [1mMOUNT/FOREIGN[0m [1mMSA0:<CR>[0m
  %MOUNT-I-MOUNTED,  mounted on MSA0:
  $ [1mI2NTF/RECIPIENT="TJ[0m [1mIbbs"/LOG[0m  [1mFILE1[0m  [1mMSA0:<CR>[0m
  %I2NTF-I-NTFOPEN, NTF output opened on "MSA0:.NTF;0"
  %LSLLIB-I-IFFOPENED, LSL$IF:FILE1.IFF;0 opened for read
  %I2NTF-I-IGNORE, ignoring layer 0
  %I2NTF-I-LAYER, processing layer 1
  %I2NTF-I-LAYER, processing layer 2
  %I2NTF-I-NTFDONE, NTF data written to "MSA0", 15 blocks output
   ELAPSED:    0 00:00:16.25  CPU: 0:00:04.52  BUFIO: 23  DIRIO: 40  FAULTS: 175 

            This example shows the user mounting the magnetic tape on drive MSA0:,
            and  then  using I2NTF to output data for the customer "TJ Ibbs".  The
            program ignores layer 0, and outputs the data in layers 1 and 2.

  $ [1mTYPE[0m [1mTRANSYL.I2NTF_LIS<CR>[0m
  T1987Q1
  T1987Q2
  T1987Q3
  $ [1mI2NTF/INPUT_LIST=TRANSYL/RECIPIENT="Transylvanian[0m [1mWater"[0m [1m-[0m
  $_                         [1m/LOG/OUTPUT=TT:[0m  [1mMSA0:<CR>[0m
  %I2NTF-I-INFILOPN, input list file "TRANSYL.I2NTF_LIS" opened for read
  -I2NTF-I-LISTRD, 3 IFF filenames read from list file "TRANSYL.I2NTF_LIS"
  %LSLLIB-I-LOGOPNOUT, log file TT:I2NTF.LOG;0 opened for write
  ================================== I 2 N T F ===================================

  I2NTF invoked by TONY using terminal RTA1: at  2-JUL-1989 15:36:31.31

  Command line:

  I2NTF/INPUT_LIST=TRANSYL/RECIPIENT="TRANSYLVANIAN WATER"/LOG/OUTPUT=TT: MSA0: 

  ================================================================================

   
  NTF level 1
  Recipient of data is "Transylvanian Water "
  Donor of data is     "Laser-Scan Ltd.     "
  Name of database is  "Transylvanian Water "                                    
  NTF output to MSA0:.NTF;0                                                      
  Output to magnetic tape at density 1600                                        
   
  %I2NTF-I-NTFOPEN, NTF output opened on "MSA0:.NTF;0"
  // NTF data output by Laser-Scan's CONVERT utility I2NTF                       
  %LSLLIB-I-IFFOPENED, LSL$IF:T1987Q1.IFF;0 opened for read
  //                                                                             
  // IFF file        LSL$IF:T1987Q1.IFF;0                                        
  // Spheroid        Airy                                                        
  // Projection        UK national grid                                          
  // Scale           2500                                                        
  // Units           metres                                                      
  // Height data     metres                                                      


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-24
  UTILITY I2NTF                                                       4 March 1997


  %I2NTF-I-LAYER, processing layer 1
  %I2NTF-W-ONEPT, FSN 10 (10) is linear, but only has one point
  %LSLLIB-I-IFFOPENED, LSL$IF:T1987Q2.IFF;0 opened for read
  //                                                                             
  // IFF file        LSL$IF:T1987Q2.IFF;0                                      
  // Spheroid        Airy                                                        
  // Projection        UK national grid                                          
  // Scale           1250                                                        
  // Units           metres                                                      
  // Height data     metres                                                      
  %I2NTF-I-LAYER, processing layer 1
  %LSLLIB-I-IFFOPENED, LSL$IF:T1987Q3.IFF;0 opened for read
  //                                                                             
  // IFF file        LSL$IF:T1987Q3.IFF;0                                        
  // Spheroid        Airy                                                        
  // Projection        UK national grid                                          
  // Scale           2500                                                        
  // Units           metres                                                      
  // Height data     metres                                                      
  %I2NTF-I-LAYER, processing layer 1
  %I2NTF-I-NTFDONE, NTF data written to "MSA0", 184 blocks output
   ELAPSED:    0 00:02:02.24  CPU: 0:00:49.68  BUFIO: 85  DIRIO: 420  FAULTS: 171

            The user has created an input list file, TRANSYL.I2NTF_LIS, containing
            the names of the IFF files to be translated.  I2NTF has then been used
            to output the data from these files to magnetic tape.  Note the use of
            /LOG  and  /OUTPUT=TT:  to produce an interleaved log of what is being
            done - the comments written to the NTF tape  are  output  between  the
            relevant log messages.

  $ [1mI2NTF/RECIPIENT="Laser-Scan[0m [1mLabs"/LOG/XY_LEN=4[0m [1mSHEET7[0m [1mMSA0:<CR>[0m
  %I2NTF-I-NTFOPEN, NTF output opened on "MSA0:.NTF;0"
  %LSLLIB-I-IFFOPENED, LSL$IF:SHEET7.IFF;0 opened for read
  %I2NTF-E-TOONARROW, the XYLEN value of 4 given is too small
  -I2NTF-I-SUGGEST, suggest the use of /XYLEN=7
   ELAPSED:    0 00:00:10.18  CPU: 0:00:00.61  BUFIO: 10  DIRIO: 6  FAULTS: 112 

            In this example, the user has specified that all X,Y coordinates  will
            be  output in a field of length 4 characters.  The program checks that
            the file can indeed be output using this field width by inspecting the
            IFF  file's  range  (RA)  entry.   In  this instance, the field is too
            narrow, and the program suggests the minimum values that can  be  used
            for /XY_LEN.

  $ [1mTYPE[0m [1mTRANSYL.I2NTF_PAR<CR>[0m
  ! Standard parameter file for sending NTF data to
  !
  !               TRANSYLVANIAN WATER AUTHORITY
  !
  /recipient="Transylvanian Water"
  /xy_len =8              ! use a field of width 8 for X,Y coordinates
  /xy_mult=0.01           ! coordinates in hundredths of a metre
  /z_unit =3              ! heights are in FEET
  $ [1mI2NTF/PARAMETER_FILE=TRANSYL/XYMULT=0.1/SERIAL=1234/LOG/OUTPUT=T1234<CR>[0m
  Input IFF file : [1mSHEET1,SHEET2<CR>[0m
  Output destination : [1mT1234<CR>[0m


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-25
  UTILITY I2NTF                                                       4 March 1997


  %I2NTF-I-PARFILOPN, parameter file "TRANSYL.I2NTF_PAR;0" opened for read
  %I2NTF-I-PARFILCLO, parameter file "TRANSYL.I2NTF_PAR;0" closed
  %LSLLIB-I-LOGOPNOUT, log file T1234.LOG;0 opened for write
  %I2NTF-I-NTFOPEN, NTF output opened on "T1234.NTF;0"
  %LSLLIB-I-IFFOPENED, LSL$IF:SHEET1.IFF;0 opened for read
  %I2NTF-I-LAYER, processing layer 1
  %I2NTF-I-LAYER, processing layer 2
  %I2NTF-I-LAYER, processing layer 5
  %LSLLIB-I-IFFOPENED, LSL$IF:SHEET2.IFF;0 opened for read
  %I2NTF-I-LAYER, processing layer 1
   ELAPSED:    0 00:02:57.68  CPU: 0:01:21.65  BUFIO: 88  DIRIO: 466  FAULTS: 282
  $ [1mTYPE[0m [1mT1234.LOG<CR>[0m
  ================================== I 2 N T F ===================================

  I2NTF invoked by TONY using terminal RTA1: at  2-JUL-1989 16:20:22.10

  Command line:

  I2NTF/PARAMETERFILE=TRANSYL/XY_MULT=0.1/SERIAL=1234/LOG/OUTPUT=T1234 
  SHEET1,SHEET2 T1234 

  ================================================================================

   
  NTF level 1                                                                    
  Recipient of data is "Transylvanian Water "                                    
  Donor of data is     "Laser-Scan Ltd.     "                                    
  Name of database is  "Transylvanian Water "                                    
  NTF output to T1234.NTF;0                                                      
   
  // NTF data output by Laser-Scan's CONVERT utility I2NTF                       
  //                                                                             
  // IFF file        LSL$IF:SHEET1.IFF;0                                    
  // Spheroid        Airy                                                        
  // Projection        UK national grid                                          
  // Scale           2500                                                        
  // Units           metres                                                      
  // Height data     feet                                                        
  //                                                                             
  // IFF file        LSL$IF:SHEET2.IFF;0                                     
  // Spheroid        Airy                                                        
  // Projection        UK national grid                                          
  // Scale           1250                                                        
  // Units           metres                                                      
  // Height data     feet                                                        
  $

            In this example, a standard  parameter  file  has  been  prepared  for
            sending   data  to  this  customer.   I2NTF  is  run,  overriding  the
            coordinate multiplication factor (/XY_MULT) specified in the parameter
            file,   and  specifying  a  volume  serial  number  to  identify  this
            particular tape.  The output log is sent to a file, which is typed  to
            show  its  contents.  This file can be printed and used as part of the
            documentation for the data on the tape.



  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-26
  UTILITY I2NTF                                                       4 March 1997


  $ [1mI2NTF/RECIPIENT="Ordnance[0m [1mSurvey[0m [1m(GB)"/OS/LOG/OUTPUT=OS[0m [1mOSCODES[0m [1mMSA0:<CR>[0m
  %LSLLIB-I-LOGOPNOUT, log file OS.LOG;0 opened for write
  %I2NTF-I-NTFOPEN, NTF output opened on "MSA0:.NTF;0"
  %I2NTF-I-MHREAD, IFF file "LSL$IF:OSCODES.IFF;0" opened and map header read 
  %LSLLIB-I-IFFOPENED, LSL$IF:OSCODES.IFF;0 opened for read
  %I2NTF-I-IGNORE, ignoring layer 0
  %I2NTF-I-LAYER, processing layer 1
  %I2NTF-I-NTFDONE, NTF data written to "MSA0", 153 blocks output
   ELAPSED:    0 00:01:02.25  CPU: 0:00:39.34  BUFIO: 19  DIRIO: 353  FAULTS: 254 
  $ [1mTYPE[0m [1mOS.LOG<CR>[0m
  ================================== I 2 N T F ===================================

  I2NTF invoked by TONY using terminal RTA2: at  3-JUL-1989 11:52:20.93

  Command line:

  I2NTF/RECIPIENT="ORDNANCE SURVEY (GB)"/OS/LOG/OUTPUT=OS OSCODES MSA0: 

  ================================================================================

   
  NTF level 1                                                                    
  Recipient of data is "Ordnance Survey (GB)"                                    
  Donor of data is     "Laser-Scan Ltd.     "                                    
  Name of database is  "Ordnance Survey (GB)"                                    
  NTF output to MSA0:.NTF;0                                                      
  Output to magnetic tape at density 1600                                        
  Extra OS header information is being output
   
  // NTF data output by Laser-Scan's CONVERT utility I2NTF                       
  //                                                                             
  // IFF file        LSL$IF:OSCODES.IFF;0                                     
  // Spheroid        Airy                                                        
  // Projection        UK national grid                                          
  // Scale           1250                                                        
  // Units           metres                                                      
  // Height data     metres                                                      
  // Section header record contains OS(GB) map header data                       

            In this example, an OS (GB) style IFF file is being processed, and the
            user  has  used  the /OS qualifier to indicate that OS map header data
            should be output in the section header  record.   Note  that  the  log
            message  output  when the IFF file is initially opened includes a note
            that the map header is present, and that the output log file indicates
            that the extra data has been output to the section header.

  $ [1mI2NTF/RECIPIENT="Baron[0m [1mGreenback"/LOG/FRT=DM/ATTRIBUTE_FILE=DM/LEVEL=2[0m 
  [1mPENFOLD.IFF[0m [1mPENFOLD.NTF[0m [1m<CR>[0m

  %I2NTF-I-ATTFILOPN, attribute file "DM.NTFATTR;0" opened for read
  %I2NTF-I-ATTFILCLO, attribute file "DM.NTFATTR;0" closed
  %I2NTF-I-NTFOPEN, NTF output opened on "PENFOLD.NTF;0"
  %LSLLIB-I-IFFOPENED, LSL$IF:PENFOLD.IFF;0 opened for read
  %I2NTF-I-LAYER, processing layer 1
  %I2NTF-I-LAYER, processing layer 2
  %I2NTF-I-LAYER, processing layer 3


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-27
  UTILITY I2NTF                                                       4 March 1997


  %I2NTF-I-LAYER, processing layer 4
  %I2NTF-I-LAYER, processing layer 5
  %I2NTF-I-LAYER, processing layer 6

   ELAPSED:    0 00:00:11.32  CPU: 0:00:02.54  BUFIO: 17  DIRIO: 67  FAULTS: 285 

            This example shows the use of the /ATTRIBUTE_FILE and /FRT qualifiers.
            The files given with these qualifiers were used to transfer attributes
            from the IFF AC's into NTF attributes.  Note that /LEVEL=2 or /LEVEL=3
            must be given.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-28
  MESSAGES (SUCCESS)                                                  4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(SUCCESS)[0m

  These messages are used to indicate that the program has succeeded in performing
  some action, and do not require any user action.

  NORMAL, successful function return

      [1mExplanation:[0m  This message is used internally by the program to indicate the
      success or failure of a subroutine.

      [1mUser[0m [1maction:[0m  None.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-29
  MESSAGES (INFORMATIONAL)                                            4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  ASSUMEPTSIZ, text heights assumed to be given as OS point sizes

      [1mExplanation:[0m  This message is output if /OS is specified  to  indicate  that
      any text heights given in the IFF file will be assumed to be OS point sizes.

      [1mUser[0m [1maction:[0m  None.

  ATTFILCLO, attribute file 'file-spec' closed

      [1mExplanation:[0m  This message  is  output  when  the  /ATTRIBUTE_FILE  file  is
      closed, if /LOG was specified.

      [1mUser[0m [1maction:[0m  None.

  ATTFILOPN, attribute file 'file-spec' opened for read

      [1mExplanation:[0m  This message  is  output  when  the  /ATTRIBUTE_FILE  file  is
      opened, if /LOG was specified.

      [1mUser[0m [1maction:[0m  None.

  CITFLEVEL5, creating NTF level 5 for CITF

      [1mExplanation:[0m  This message is output if the user requests  any  level  other
      than 5 if /CITF has been supplied.

      [1mUser[0m [1maction:[0m  None.

  CONVERT, use ITRANS to convert to metres, feet or degrees

      [1mExplanation:[0m  This message is output after the BADUNIT error message.

      [1mUser[0m [1maction:[0m  As for the BADUNIT error message.

  DEFZUNIT, default height units (metres) assumed

      [1mExplanation:[0m  This message is output after the BADZUNIT error message.

      [1mUser[0m [1maction:[0m  As for the BADZUNIT error message.

  FEATFILCLO, featclass file 'file-spec' closed

      [1mExplanation:[0m  This message  is  output  when  the  /FEATCLASS_FILE  file  is
      closed, if /LOG was specified.

      [1mUser[0m [1maction:[0m  None.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-30
  MESSAGES (INFORMATIONAL)                                            4 March 1997


  FEATFILOPN, featclass file 'file-spec' opened for read

      [1mExplanation:[0m  This message  is  output  when  the  /FEATCLASS_FILE  file  is
      opened, if /LOG was specified.

      [1mUser[0m [1maction:[0m  None.

  IGNORE, ignoring layer 'integer'

      [1mExplanation:[0m  This message is output to confirm that the indicated layer  is
      being ignored, if the /LOG qualifier has been selected.

      [1mUser[0m [1maction:[0m  None.

  INFILOPN, input list file 'file-spec' opened for read

      [1mExplanation:[0m  This message is  output  when  the  file  specified  with  the
      /INPUT_LIST qualifier is opened, if the /LOG qualifier has been specified.

      [1mUser[0m [1maction:[0m  None.

  LAYER, processing layer 'integer'

      [1mExplanation:[0m  This message is output to confirm that the  current  layer  of
      the IFF file is being output, if the /LOG qualifier was specified.

      [1mUser[0m [1maction:[0m  None.

  LISTRD, 'integer' IFF filename(s) read from list file 'file-spec'

      [1mExplanation:[0m  This message is output  after  the  file  specified  with  the
      /INPUT_LIST qualifier has been read, if the /LOG qualifier was specified.

      [1mUser[0m [1maction:[0m  None.

  LUTFILCLO, FC lookup table file 'file-spec' closed

      [1mExplanation:[0m  This message is output when the FC lookup table file specified
      by /FCLOOKUP is closed.

      [1mUser[0m [1maction:[0m  None.

  LUTFILOPN, FC lookup table file 'file-spec' opened for read

      [1mExplanation:[0m  This message is output when the FC lookup table file specified
      by /FCLOOKUP is opened.

      [1mUser[0m [1maction:[0m  None.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-31
  MESSAGES (INFORMATIONAL)                                            4 March 1997


  MHREAD, IFF file 'file-spec' opened and map header read

      [1mExplanation:[0m  Each IFF file is inspected to check that it has a  map  header
      (MH) entry.  If the /LOG qualifier is specified, then this message is output
      as each map header is checked.

      [1mUser[0m [1maction:[0m  None.

  NTFDONE, NTF data written to 'file-spec', 'integer' block(s) output

      [1mExplanation:[0m  This message is output when the output  of  the  NTF  data  to
      magnetic tape has been completed.

      [1mUser[0m [1maction:[0m  None.

  NTFOPEN, NTF output opened on 'file-spec'

      [1mExplanation:[0m  This message is output when the NTF output file is opened,  or
      tape drive initialised, if /LOG was specified.

      [1mUser[0m [1maction:[0m  None.

  PARFILCLO, parameter file 'file-spec' closed

      [1mExplanation:[0m  This message  is  output  when  the  /PARAMETER_FILE  file  is
      closed, if /LOG was specified.

      [1mUser[0m [1maction:[0m  None.

  PARFILOPN, parameter file 'file-spec' opened for read

      [1mExplanation:[0m  This message  is  output  when  the  /PARAMETER_FILE  file  is
      opened, if /LOG was specified.

      [1mUser[0m [1maction:[0m  None.

  TRUNCTXT, text in FSN 'fsn' ('isn') truncated

      [1mExplanation:[0m  This message is output after the LONGTXT error message, and is
      itself followed by a line containing the text as output to NTF.

      [1mUser[0m [1maction:[0m  As for the LONGTXT error message.

  USEITRANS, use ITRANS/DESCRIPTOR to convert to a valid map descriptor

      [1mExplanation:[0m  This message is output  after  the  NOTSET  or  TYPE1MD  error
      messages,  to indicate what action the user should take to make the IFF file
      concerned suitable for output using I2NTF.

      [1mUser[0m [1maction:[0m  As the message says.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-32
  MESSAGES (WARNING)                                                  4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  ACIGNORE, AC entry ignored in feature FSN 'fsn' ('isn')

      [1mExplanation:[0m  The AC entry in this feature will be ignored as it is  invalid
      in this type of feature, or at this level.

      [1mUser[0m [1maction:[0m  Check the IFF file, and level required.

  ACNOTATT, AC 'actype' in feature FSN 'fsn' ('isn') not in the Attribute file

      [1mExplanation:[0m  The specified AC type was missing from the attribute file, and
      will be ignored.

      [1mUser[0m [1maction:[0m  Check the FRT file if this is a problem.

  ACNOTFND, AC 'actype' was not found in the FRT file

      [1mExplanation:[0m  The specified AC type was missing from the FRT file, and  some
      feature fields may be left unset.

      [1mUser[0m [1maction:[0m  Check the FRT file if this is a problem.

  ACTRUNCATE, AC field entry 'string' truncated in feature FSN 'fsn' ('isn')

      [1mExplanation:[0m  The AC entry for the specified field in this feature  will  be
      truncated as it is too long.

      [1mUser[0m [1maction:[0m  Check the IFF file.

  ACTYPES, only height ACs, types 2 and 3, are supported at level 1

      [1mExplanation:[0m  Only contour height ACs are output by I2NTF at level 1  -  all
      other AC types are ignored, and the program outputs this message.

      [1mUser[0m [1maction:[0m  Use level 2 if the attributes are required.

  BADFRTMAX, bad value in LSL$FRT_FRTMAX, default of 'integer' used

      [1mExplanation:[0m  LSL$FRTFRTMAX did not contain an integer value.  This  logical
      is used to set the maximum size of the FC lookup table.  Default value used.

      [1mUser[0m [1maction:[0m  Define LSL$FRTFRTMAX to hold an integer value.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-33
  MESSAGES (WARNING)                                                  4 March 1997


  BADLUTLIN, line 'integer' in 'file-spec' invalid

      [1mExplanation:[0m  The FC lookup table file contains an invalid line.

      [1mUser[0m [1maction:[0m  Check the FC lookup table file.

  BADPTSIZ, unknown point size 'integer', in feature 'integer'

      [1mExplanation:[0m  In OS data, text point sizes must be within the range 1 to 24,
      although not all values in that range are actually meaningful.  This message
      indicates that the specified feature contained a text with a point size that
      is not defined.  A point size of 24 will be used instead.

      [1mUser[0m [1maction:[0m  Edit the IFF file using either IPATCH or LITES2 to correct the
      offending feature - point sizes are held in the TH entry of a text feature.

  BADTEXTPOS, text position outside range 0-8 in FSN 'integer'

      [1mExplanation:[0m  This message is output when the text digitised position in the
      FS entry is outside the range 0 to 8.  It will default to zero.

      [1mUser[0m [1maction:[0m  Correct the text position in the  Feature  Status  (FS)  entry
      using  IPATCH/WRITE  or  ignore this message if the default value of zero is
      acceptable.

  BADVER, invalid NTF version given, defaulting to v'real'

      [1mExplanation:[0m  If the /VERSION qualifier is used  to  select  an  output  NTF
      version  other  than 1.1 or 2.0 this message is output, and the program will
      select the default version.

      [1mUser[0m [1maction:[0m  Do not try to output at versions other than 1.1  or  2.0  (the
      default) as the program does not support them.

  BADZUNIT, invalid units specified with /Z_UNIT

      [1mExplanation:[0m  The value specified with the /Z_UNIT qualifier is not  in  the
      range  1  to  3,  and will thus be ignored.  The default value of 2 (metres)
      will be used.

      [1mUser[0m [1maction:[0m  If the default  is  not  acceptable,  run  the  program  again
      specifying  the  correct value for Z_UNIT (ie 1 for degrees, 2 for metres, 3
      for feet).

  BOTHATTFRT, both /FRT and /ATTRIBUTE required for attribute transfer

      [1mExplanation:[0m  If attributes are to  be  transferred  to  NTF  then  both  an
      attribute  file and an FRT are required.  Only one of these was given on the
      command line so attributes will not be translated.

      [1mUser[0m [1maction:[0m  The command line should  be  re-entered  giving  both  of  the
      required files.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-34
  MESSAGES (WARNING)                                                  4 March 1997


  CITFDIFORIG, different origin in SECHREC record in field 'string', value
      'string'

      [1mExplanation:[0m  The origin coordinate in the specified field  in  the  current
      section header record in the CITF Map Header differs from the IFF MD2 origin
      offset, but will be copied across unaltered.

      [1mUser[0m [1maction:[0m  Check the MH entries.

  CITFDIFSCALE, different scale in SECHREC record with value 'integer'

      [1mExplanation:[0m  The scale in the section header record in the CITF Map  Header
      differs from the IFF MD2 scale, but will be copied across unaltered.

      [1mUser[0m [1maction:[0m  Check the MH entries.

  CITFEORERR, invalid end of record in 'string' in the CITF map header

      [1mExplanation:[0m  There was no valid record terminator in the  CITF  map  header
      record.  The proper one will be added.

      [1mUser[0m [1maction:[0m  None.

  CITFIGNFEAT, not first FEATCLASS record 'string' in the CITF map header

      [1mExplanation:[0m  There was a second FEATCLASS record in the CITF map header, or
      another IFF file, and will be ignored.

      [1mUser[0m [1maction:[0m  None.

  CITFIGNSECH, not first SECHREC record 'string' in the CITF map header

      [1mExplanation:[0m  There was a second SECHREC record in the CITF map header,  and
      will be ignored.

      [1mUser[0m [1maction:[0m  None.

  CITFINVALREC, invalid record 'string' in the CITF map header

      [1mExplanation:[0m  There was an unexpected record in the CITF map  header,  which
      will be ignored.

      [1mUser[0m [1maction:[0m  None.

  CITFNOTCONT, invalid continuation record 'string' in the CITF map header

      [1mExplanation:[0m  There was an unexpected continuation record in  the  CITF  map
      header, without any record to start with, and will be ignored.

      [1mUser[0m [1maction:[0m  None.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-35
  MESSAGES (WARNING)                                                  4 March 1997


  CITFNOTVECTOR, value 'string' not vector in SECHREC record in the CITF map
      header

      [1mExplanation:[0m  The STRUCTYP field in the  SECHREC  record  in  the  CITF  map
      header was not vector, but will be left unaltered.

      [1mUser[0m [1maction:[0m  None.

  CITFSECHREC, error reading SECHREC record, in field 'string', value 'string'

      [1mExplanation:[0m   An  error  occurred  in  interpreting  the  contents  of  the
      specified  field  in  the section header record in the CITF Map Header.  The
      contents of the offending field will be defaulted, or ignored, depending  on
      its subsequent use.

      [1mUser[0m [1maction:[0m  Check the MH entries.

  DEGEN, Line feature degenerates to 1 point - FSN 'fsn' deleted

      [1mExplanation:[0m  When converting a line feature to NTF or CITF which has  lower
      precision,  duplicate output points are discarded and this has resulted in a
      line feature reducing to fewer than two points.  The implication of this  is
      that no corresponding feature was created in the output file.

      [1mUser[0m [1maction:[0m  The IFF feature with the reported FSN may  be  examined  using
      LITES2 if its removal causes concern.

  DUPPTS, duplicated points in feature with FSN 'fsn' (point 'number')

      [1mExplanation:[0m  The duplicated points are the point numbered  in  the  message
      and  the  previously  accepted point (normally the previous point, unless it
      was also duplicated).   IFF  coordinates  have  a  smaller  resolution  than
      NTF/CITF  coordinates, so points which are very close in IFF may be equal on
      translation to NTF/CITF.  This can happen with lines, and since there is  no
      need for spurious data, the duplicated points are ignored.

      [1mUser[0m [1maction:[0m  In the case of lines, determine why successive points  are  so
      close.  Generated curves, arcs and circles may exhibit this problem if their
      construction tolerances were very small.  The problem can also  occur  where
      lines  have  been  clipped  to sheet edges, and existing points were already
      positioned very close to the edge.   If  many  occurences  of  this  message
      occur, it may be due to the combination of XY_LEN and XY_MULT giving rise to
      poor output precision and adjusting these may resolve the problem.

  FCTOOLARGE, FC 'code' is too large in feature FSN 'fsn' ('isn')

      [1mExplanation:[0m  The FC in the FS entry in this feature is too  large  for  the
      feature  code  field  (0  to 9999) and will be set to 0.  Note that this may
      have the wrong graphical type for output.

      [1mUser[0m [1maction:[0m  Check the IFF file feature.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-36
  MESSAGES (WARNING)                                                  4 March 1997


  FEATATT, feature level attribute 'ACDname' undefined in ACD

      [1mExplanation:[0m  The reported feature level attribute was not  defined  in  the
      ACD  part  of  the  given FRT.  This attribute is one of the default feature
      level ones for CITF and any occurances in the IFF file will not  be  written
      to the CITF file.

      [1mUser[0m [1maction:[0m  If the reported attribute is required to be in the CITF  file,
      then  ensure  that a correct definition of the attribute is given in the ACD
      part of the FRT file.

  HASOSMAP, file 'file-spec' has an OS map header

      [1mExplanation:[0m  An OS  style  map  header  entry  has  been  detected  in  the
      specified  file.  However, since the /OS qualifier was not specified, the OS
      header data will not be output in the NTF file.

      [1mUser[0m [1maction:[0m  If OS(GB) style output is required, then add the qualifier /OS
      to the command line.

  IFFFCDUPL, FC 'integer' from input file translated as NTF FC 'integer'

      [1mExplanation:[0m  There is a duplicate IFF  feature  code  in  the  lookup  file
      specified  with  /FCLOOKUP, making the translation ambiguous.  The IFF FC is
      translated into the smallest NTF FC with  which  it  is  associated  in  the
      lookup file.

      [1mUser[0m [1maction:[0m  You may wish to eliminate duplicate IFF FCs from the FC lookup
      file.

  LINEINATT, error decoding line in attribute file

      [1mExplanation:[0m  The line given in the  following  message  was  found  in  the
      attribute file but could not be decoded.

      [1mUser[0m [1maction:[0m  The line should be changed to contain valid commands.

  LINEINFEAT, error decoding line in featclass file

      [1mExplanation:[0m  The line given in the  following  message  was  found  in  the
      featclass file but could not be decoded.

      [1mUser[0m [1maction:[0m  The line should be changed to contain valid commands.

  LONGMSG, 'string' qualifier is too long (maximum is 'integer') - truncated

      [1mExplanation:[0m  The character string given for the  stated  qualifier  is  too
      long.  The program will truncate the name and continue.

      [1mUser[0m [1maction:[0m  If the truncated name is not acceptable, then run the  program
      again with a shorter recipient name.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-37
  MESSAGES (WARNING)                                                  4 March 1997


  LONGTXT, standard NTF allows only 99 chars in a text string

      [1mExplanation:[0m  A text entry of length greater than  99  characters  has  been
      found, and will be truncated.  The information message TRUNCTXT will also be
      output, to show the text as transferred to NTF.

      [1mUser[0m [1maction:[0m  Use LITES2 to find the  offending  text,  and  split  it  into
      smaller  text features of length less than or equal to 99 characters, before
      running the program again.

  MHUPGRADE, cannot fully upgrade IFF map header

      [1mExplanation:[0m  This message appears when a  problem  has  occurred  with  the
      upgrade  procedure.   It is most likely due to one of the old digital update
      dates or the old selected revision date having been corrupted.   The  latest
      of  these  dates  is used for the new digital update date which is stored in
      the OS map header as ICL binary days.  A system message follows for  further
      explanation.   The  program  will  not attempt to set the new digital update
      date.

      [1mUser[0m [1maction:[0m  The source of the problem may be a bad digital update date  or
      selected  revision  date.   If  this  is  the  case,  report  the problem to
      Laser-Scan - supplying details of  the  command  line  used  to  invoke  the
      program, as well as the IFF file.

  MISSLNK, link missing from node 'integer'

      [1mExplanation:[0m  The number of arms (radiating links) declared  in  the  sector
      header  for  the  specified node is greater then the number of corresponding
      links found.  The NODEREC record for the node is output, with zeros in place
      of the missing links.

      [1mUser[0m [1maction:[0m  Examine the .IFJ file to determine whether it is the number of
      links  or  the  link  definitions which are at fault.  Then correct the file
      accordingly.

  NOANNOTATE, annotation not available at NTF level 'integer' - command ignored

      [1mExplanation:[0m  The user requested the  ANNOTATE  option  for  an  AC  in  the
      attribute  file,  but  this  facility  is  not available at the level of NTF
      output specified.  The request will be ignored.

      [1mUser[0m [1maction:[0m  None.

  NOATTR, attribute records are not allowed at level 1

      [1mExplanation:[0m  An attribute file was given on the command file but at level 1
      NTF has no attribute descriptor record to store this information so the file
      was not read.

      [1mUser[0m [1maction:[0m  If attribute transfer is required use NTF level 2 or 3.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-38
  MESSAGES (WARNING)                                                  4 March 1997


  NOCOLLECT, collect records not available at NTF level 'integer' - command
      ignored

      [1mExplanation:[0m  The user requested  the  COLLECT  option  for  an  AC  in  the
      attribute  file,  but  this  facility  is  not available at the level of NTF
      output specified.  The request will be ignored.

      [1mUser[0m [1maction:[0m  None.

  NOLEVEL, level 'integer' not available, only 1, 2 or 3 supported

      [1mExplanation:[0m  If the /LEVEL qualifier is used to  select  NTF  levels  other
      than 1, 2 or 3, this message is output, and the program will select level 1.

      [1mUser[0m [1maction:[0m  Do not try to output at levels other than 1 (the  default),  2
      or 3, as the program does not support them.

  NOSH, sector header (SH) entry not found in file 'file-spec'

      [1mExplanation:[0m  The specified IFF file does not contain a sector  header,  and
      thus  it  will  not  be  possible to output node records - since there is no
      junction point information.  NTF level 3 will be output,  but  any  junction
      points will be ignored.

      [1mUser[0m [1maction:[0m  Investigate the history of the IFF file, to see why  there  is
      no sector header entry.

  NOTCITFMAP, file 'file-spec' does not have a CITF map header - default CITF
      output

      [1mExplanation:[0m  If the /CITF qualifier is  specified,  the  IFF  files  to  be
      output  should  contain  CITF  style  map header entries.  The files are all
      checked before any output to CITF is performed, and if one is found  without
      a CITF map header, this message is output and the program will continue.

      [1mUser[0m [1maction:[0m  If CITF style output really  is  required,  then  correct  the
      relevant file.

  NOTEXT, annotation expected for feature 'string' but not found

      [1mExplanation:[0m  The specified NTF feature had an AC indicating that it  should
      be  annotated with text.  However the required text feature did not occur in
      the IFF file.  The feature will be output unannotated.

      [1mUser[0m [1maction:[0m  Investigate the IFF file, to see why the text is missing.

  NOWIDTH, field widths may not be specified at level 1 - default used

      [1mExplanation:[0m  The qualifiers /XY_LEN or ZLEN were used at level 1.  This  is
      not allowed, the default values of XY_LEN = 10 and Z_LEN = 6 were used.

      [1mUser[0m [1maction:[0m  If the field widths need to be  modified  then  use  level  2,
      otherwise omit the length qualifiers.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-39
  MESSAGES (WARNING)                                                  4 March 1997


  NTFFCTOOLRG, NTF FC 'code' is too large in feature FSN 'fsn' ('isn')

      [1mExplanation:[0m  The NTF FC (translated using the FC lookup table)  in  the  FS
      entry  in  this  feature is too large for the feature code field (0 to 9999)
      and will be set to 0.  Note that this may have the wrong graphical type  for
      output.

      [1mUser[0m [1maction:[0m  Check the FC lookup table file NTF FC column.

  ONEPT, FSN 'fsn' ('isn') is linear, but only has one point

      [1mExplanation:[0m  The specified feature appears to be linear  (as  indicated  by
      the  text/symbol  bits in the FS entry), but it only has one locating point.
      The program will output it to NTF as  if  it  were  a  point  feature  -  ie
      unoriented symbol.

      [1mUser[0m [1maction:[0m  If this problem occurs, it is probable  that  the  text/symbol
      bits  in  the  IFF  file  are  not  set correctly.  This may be corrected by
      reading the file into LITES2 and then outputting it  again.   Alternatively,
      the  specified  feature  may  actually  have  been  incorrectly digitised or
      edited, in which case the missing points should be inserted again.

  POINTATT, per-point attribute 'ACDname' undefined in ACD

      [1mExplanation:[0m  The reported per-point attribute was not defined  in  the  ACD
      part  of the given FRT.  This attribute is one of the default per-point ones
      for CITF and any occurances in the IFF file will not be written to the  CITF
      file.

      [1mUser[0m [1maction:[0m  If the reported attribute is required to be in the CITF  file,
      then  ensure  that a correct definition of the attribute is given in the ACD
      part of the FRT file.

  SHMISS, FSN 'integer' has a JP entry but file has no sector header

      [1mExplanation:[0m  The specified IFF file does not contain a sector  header,  and
      thus  it  will  not  be possible to output the junction point which has been
      found.  The program will continue, but the junction point will be ignored.

      [1mUser[0m [1maction:[0m  Investigate the IFF file, to determine any errors in the data.

  SHZERO, variable IFSHSZ is zero, using calculated value = 'integer'

      [1mExplanation:[0m  IFSHSZ should contain the number of sectors  as  specified  in
      the  sector  header.   It can only be zero if the input file does not have a
      junction structure.  To enable the program to continue, the correct value is
      calculated from the size of the SH entry.

      [1mUser[0m [1maction:[0m  Investigate the sector header of the input file  to  determine
      why the number of sectors is incorrect.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-40
  MESSAGES (WARNING)                                                  4 March 1997


  STRTOOLONG, NTF mnemonic too long, truncated to 'string'

      [1mExplanation:[0m  The NTF attribute mnemonic given in the attribute file was too
      long and was truncated to 2 characters

      [1mUser[0m [1maction:[0m  If the truncated version is unacceptable  then  the  attribute
      file should be edited and a two character mnemonic inserted

  UNKNCOM, unknown command 'string' encountered in attribute file

      [1mExplanation:[0m  The specified command was found in  the  first  field  of  the
      attribute file.  The command is not valid and was ignored.

      [1mUser[0m [1maction:[0m  The manual should be checked and the correct command used.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-41
  MESSAGES (ERROR)                                                    4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  ABORT, erroneous function return

      [1mExplanation:[0m  This message is used internally by the program to indicate the
      success or failure of a subroutine.

      [1mUser[0m [1maction:[0m  None.

  ATTNOTFND, attribute 'string' not found in the FRT file

      [1mExplanation:[0m  The IFF attribute name given was not found in  the  FRT.   The
      program will exit.

      [1mUser[0m [1maction:[0m  Check the spelling of the name in the attribute file  and  add
      the ACD entry to the FRT if required.

  BADEOPTR, EO address in the NO entry is incorrect - layer structure broken

      [1mExplanation:[0m  When the program attempts to ignore a layer (notably layer 0),
      it  will try to 'jump' around the data in the layer using the NO/EO pointer,
      which points from the start of the layer to the end.  This message indicates
      that  the  program  found such a pointer at the start of the layer, but that
      the value contained in it was incorrect.  The IFF file  is  thus  incorrect,
      and the program will exit.

      [1mUser[0m [1maction:[0m  Inspect the history of the file to attempt to locate the cause
      of  the  incorrect  NO/EO  pointer.   If  the  cause is not obvious, contact
      Laser-Scan.

  BADFEAT, badly formed feature FSN 'fsn' ('isn')

      [1mExplanation:[0m  The specified feature is not correctly  formed,  and  the  IFF
      file is thus incorrect.  The program will exit.

      [1mUser[0m [1maction:[0m  Inspect the history of the file to attempt to locate the cause
      of the faulty feature.  If the cause is not obvious, contact Laser-Scan.

  BADIFFFC, NTF FC 'integer' is invalid in FC lookup file

      [1mExplanation:[0m  An invalid NTF FC appeared in the  feature  code  lookup  file
      specified with /FCLOOKUP.

      [1mUser[0m [1maction:[0m  Change the NTF  FC  in  the  lookup  file  to  a  valid  value
      (0-9999).


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-42
  MESSAGES (ERROR)                                                    4 March 1997


  BADPRJ, MD (map descriptor) contains unrecognised projection code 'integer'

      [1mExplanation:[0m  The projection code in the map descriptor is not recognised by
      the  program.  This means that it is either an incorrect projection code, or
      that the version of I2NTF in use has not been updated to  recognise  all  of
      the current projections in use.

      [1mUser[0m [1maction:[0m  Report this problem to Laser-Scan.

  BADRANGE, IFF RAnge entry is corrupt

      [1mExplanation:[0m  This message is generated when the minimum X value is  greater
      than  the maximum X value or the minimum Y value is greater than the maximum
      Y in the IFF Range entry.

      [1mUser[0m [1maction:[0m  This may indicate a corrupt IFF file which may be mended  with
      IPATCH/WRITE.

  BADSPH, MD (map descriptor) contains unrecognised spheroid code 'integer'

      [1mExplanation:[0m  The spheroid code in the map descriptor is not  recognised  by
      the  program.   This  means that it is either an incorrect spheroid code, or
      that the version of I2NTF in use has not been updated to  recognise  all  of
      the current spheroids in use.

      [1mUser[0m [1maction:[0m  Report this problem to Laser-Scan.

  BADTXT, unexpected entry "'char'" found in text feature

      [1mExplanation:[0m  This message is output after the BADFEAT error message, when a
      text  feature contains an IFF entry that is not understood by the program as
      being valid in such a feature.  The program will exit.

      [1mUser[0m [1maction:[0m  Ascertain whether the entry is actually allowed within a  text
      feature.   If  it  is, then report the problem to Laser-Scan, as the program
      should presumably be able to understand it.  Otherwise, investigate why  the
      entry is present in the text feature.

  BADUNIT, cannot output data from file 'file-spec' - wrong units

      [1mExplanation:[0m  The specified IFF file  contains  data  whose  units  are  not
      degrees, metres or feet.  Since NTF only supports these three types of unit,
      the file cannot be output.  The CONVERT informational message will  also  be
      output, and the program will exit.

      [1mUser[0m [1maction:[0m  As for the CONVERT message - ie use ITRANS to convert the data
      to units that can be output.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-43
  MESSAGES (ERROR)                                                    4 March 1997


  BADUNT, MD (map descriptor) contains unrecognised unit code 'integer'

      [1mExplanation:[0m  The units code in the map descriptor is not recognised by  the
      program.   This means that it is either an incorrect units code, or that the
      version of I2NTF in use has not been updated to recognise all of the current
      units in use.

      [1mUser[0m [1maction:[0m  Report this problem to Laser-Scan.

  CLOSERR, error closing file 'file-spec'

      [1mExplanation:[0m  An error occurred in closing the specified file.

      [1mUser[0m [1maction:[0m  Depends upond the associated error messages.

  COPYRT, the /COPYRIGHT date must be an integer of the form yyyymmdd

      [1mExplanation:[0m  The /COPYRIGHT qualfier has been used to specify  a  copyright
      date  that  is not in the correct form (eg 19870218 for 18th February 1987).
      The program will exit.

      [1mUser[0m [1maction:[0m  Specify the copyright date in the required format.

  ERRCLOATT, error closing attribute file 'file-spec'

      [1mExplanation:[0m  An error occurred while trying to close  file  specified  with
      the /ATTRIBUTE qualifier.

      [1mUser[0m [1maction:[0m  Depends upon the associated error messages.

  ERRCLOFEAT, error closing featclass file 'file-spec'

      [1mExplanation:[0m  An error occurred while trying to close  file  specified  with
      the /FEATCLASSFILE qualifier.

      [1mUser[0m [1maction:[0m  Depends upon the associated error messages.

  ERROPNATT, error opening attribute file 'file-spec'

      [1mExplanation:[0m  An error occurred in  opening  the  file  specified  with  the
      /ATTRIBUTE qualifier

      [1mUser[0m [1maction:[0m  Depends upon the associated error messages.

  ERROPNFEAT, error opening featclass file 'file-spec'

      [1mExplanation:[0m  An error occurred in  opening  the  file  specified  with  the
      /FEATCLASSFILE qualifier.

      [1mUser[0m [1maction:[0m  Depends upon the associated error messages.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-44
  MESSAGES (ERROR)                                                    4 March 1997


  ERROPNFRT, error opening FRT file 'file-spec'

      [1mExplanation:[0m  An error occurred in opening the file specified with the  /FRT
      qualifier.

      [1mUser[0m [1maction:[0m  Depends upon the associated error messages.

  ERRRDATT, error reading line from attribute file

      [1mExplanation:[0m  An error occurred in reading from the file specified with  the
      /ATTRIBUTE qualifier.

      [1mUser[0m [1maction:[0m  Depends upon the associated error messages.

  ERRRDFEAT, error reading line from featclass file

      [1mExplanation:[0m  An error occurred in reading from the file specified with  the
      /FEATCLASSFILE qualifier.

      [1mUser[0m [1maction:[0m  Depends upon the associated error messages.

  FRTFCERR, FC 'integer' not found in FRT file

      [1mExplanation:[0m  The specified FC was not found in the FRT file, while  looking
      for the graphical type in particular.

      [1mUser[0m [1maction:[0m  Check the FRT file.

  INITERR, error initialising magtape 'file-spec'

      [1mExplanation:[0m  An error occurred initialising the magnetic tape drive.

      [1mUser[0m [1maction:[0m  Depends upon the associated error messages.  A common  mistake
      is to forget to mount the tape before running the program.

  INLINE, error in line 'integer' of file 'file-spec'

      [1mExplanation:[0m  An error  occurred  in  reading  the  specified  line  of  the
      /PARAMETER_FILE file.  The file is abandoned, and the program will exit.

      [1mUser[0m [1maction:[0m  Edit the parameter file and correct the offending line.

  INTCMDLIN, internal version of command line doesn't start with 'string'

      [1mExplanation:[0m  The program parses the command line in several  stages.   This
      error  message  indicates  an  error  in  the internal representation of the
      command line.  It should never be produced.

      [1mUser[0m [1maction:[0m  Report this problem to Laser-Scan, with full  details  of  the
      error.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-45
  MESSAGES (ERROR)                                                    4 March 1997


  INTCONERR, integer conversion error of 'real' into an integer

      [1mExplanation:[0m  This indicates that a value is too large for an  integer,  and
      will cause the program to exit.

      [1mUser[0m [1maction:[0m  Check the indicated coordinates and field widths.

  INVALIDATT, invalid attribute mnemonic 'string' used

      [1mExplanation:[0m  The NTF attribute mnemonic specified in the attribute file  is
      invalid for use at level 3.  This mnemonic is a default NTF attribute and is
      reserved for use  by  the  program  at  this  level.The  attribute  file  is
      abandoned, and the program will exit.

      [1mUser[0m [1maction:[0m  Edit the attribute file to use a different NTF mnemonic.

  LUTLINE, error reading LINE 'integer' of FC lookup file

      [1mExplanation:[0m  An error has occurred reading a line from the FC lookup  file.
      This  message will be followed by LSLLIB and system messages describing what
      went wrong.

      [1mUser[0m [1maction:[0m  Depends upon the associated messages.

  LUTTOOSMA, FC lookup file too large for the lookup table

      [1mExplanation:[0m  The specified FC lookup file contains too many entries for the
      lookup table currently being used.

      [1mUser[0m [1maction:[0m  Define LSL$FRTFRTMAX to be larger than the number  of  entries
      in the FC lookup file.

  MAXINFILE, more than 'integer' filespecs in the /INPUT_LIST specification file

      [1mExplanation:[0m  The internal buffer for storing IFF filespecs can hold  up  to
      500  filespecs.   This  error  is  produced  if  more than 500 IFF files are
      specified in the input list file.  The program will exit.

      [1mUser[0m [1maction:[0m  Do not try to output so many files as one NTF dataset.

  MHDATE, error interpreting date in MH ('string')

      [1mExplanation:[0m  The OS(GB) map header stores some  date  fields  in  a  binary
      form, as a number of days since 1900.  In order to output these dates to the
      OS specific part of  the  sector  header  (SECHREC)  record,  when  the  /OS
      qualifier has been specified, the program must convert them to a year, month
      and day.  This message indicates that something went wrong with the process,
      and will be followed by a system message indicating the problem.

      [1mUser[0m [1maction:[0m  Depends upon the associated message.  If the problem is due to
      the  value  in  the map header, the CONVERT/OS utility OSMHED may be used to
      inspect and edit the relevant field.  If the problem appears to be due to  a
      fault in the program, consult Laser-Scan.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-46
  MESSAGES (ERROR)                                                    4 March 1997


  MULTZERO, setting XY_MULT or Z_MULT to zero is not a good idea

      [1mExplanation:[0m  If the user specifies the /XY_MULT or /Z_MULT  qualifier  with
      an  argument  of zero, then this message will be output and the program will
      exit.  Multiplying all of the coordinates, or all of the  heights,  by  zero
      before outputting them is not useful.

      [1mUser[0m [1maction:[0m  Specify sensible values for XY_MULT and Z_MULT, or accept  the
      defaults.

  NOCB, no reference to current CB entry in node 'integer'

      [1mExplanation:[0m  A CB entry has been found in a feature which contains junction
      points,  but  no  reference  can  be  found  to the CB in the junction point
      description obtained from the sector header.

      [1mUser[0m [1maction:[0m  Investigate the IFJ file, to see why the error  has  occurred.
      If possible amend the file.

  NOCITF, CITF version 'integer' not available - only 93 or 96 allowed

      [1mExplanation:[0m   This  program  only  knows   about   Ordnance   Survey   CITF
      specifications OS93 and OS96.

      [1mUser[0m [1maction:[0m  Choose one of the supported versions, or  accept  the  default
      (OS96).

  NODENS, density 'integer' not available - only 1600 or 800 allowed

      [1mExplanation:[0m  The program can only write data to magnetic tape  at  the  two
      specified densities.

      [1mUser[0m [1maction:[0m  Choose one of the supported densities, or accept  the  default
      (1600 bpi).

  NOFS, FS not present after NF in file 'file-spec'

      [1mExplanation:[0m  This message follows the BADFEAT error message, when a feature
      is  found  that  does  not  start  with  the  sequence  NF,FS.  The IFF file
      concerned is corrupt, and the program will exit.

      [1mUser[0m [1maction:[0m  Investigate the history of the IFF file,  to  see  why  it  is
      corrupt.  If the reason cannot be determined, consult Laser-Scan.

  NOIFFATT, IFF attribute name not given in attribute file

      [1mExplanation:[0m  In the attribute file the ATTRIBUTE command was given  without
      the name of an IFF attribute.

      [1mUser[0m [1maction:[0m  Check the attribute file to see why this error occurred.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-47
  MESSAGES (ERROR)                                                    4 March 1997


  NOMD, map descriptor (MD) entry not found in file 'file-spec'

      [1mExplanation:[0m  The specified IFF file does not contain a map descriptor,  and
      is thus corrupt.  The program will exit.

      [1mUser[0m [1maction:[0m  Investigate the history of the IFF file,  to  see  why  it  is
      corrupt.  If the reason cannot be determined, consult Laser-Scan.

  NOMH, map header (MH) entry not found in file 'file-spec'

      [1mExplanation:[0m  The specified IFF file does not contain a map header,  and  is
      thus corrupt.  The program will exit.

      [1mUser[0m [1maction:[0m  Investigate the history of the IFF file,  to  see  why  it  is
      corrupt.  If the reason cannot be determined, consult Laser-Scan.

  NONODE, node not found for JP entry in feature 'integer'

      [1mExplanation:[0m  There is no reference to the current JP in the sector  header.
      The IFJ file is considered corrupt and the program will exit.

      [1mUser[0m [1maction:[0m  Investigate the IFJ file, to see why the error  has  occurred.
      If possible amend the file.

  NONTFATT, NTF attribute mnemonic not given in attribute file

      [1mExplanation:[0m  In the attribute file the ATTRIBUTE command was given  without
      the NTF mnemonic into which it should be put.

      [1mUser[0m [1maction:[0m  Check the attribute file to see why this error occurred.

  NOPOS, no coordinate entry found in feature

      [1mExplanation:[0m  This message follows the BADFEAT error message, when a feature
      is  found that does not contain any coordinate data.  The IFF file concerned
      is corrupt, and the program will exit.

      [1mUser[0m [1maction:[0m  Investigate the history of the IFF file,  to  see  why  it  is
      corrupt.  If the reason cannot be determined, consult Laser-Scan.

  NORECIP, /RECIPIENT must be given in the command line or file

      [1mExplanation:[0m  The /RECIPIENT qualifier is required  for  every  run  of  the
      program.   If  it  is  not  specified,  this  message will be output and the
      program will exit.

      [1mUser[0m [1maction:[0m  Specify the recipient of the data, either on the command  line
      or in a parameter file.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-48
  MESSAGES (ERROR)                                                    4 March 1997


  NOSCALE, no scale specified in map descriptor or map header

      [1mExplanation:[0m  Neither the map descriptor entry, nor the map header entry (if
      /OS  mode  has  been  selected)  contains a map scale.  This is required for
      output to the section header record.  Note that a map  descriptor  with  the
      scale unset is not actually fully set.

      [1mUser[0m [1maction:[0m  Use ITRANS/DESCRIPTOR to set the map descriptor correctly.  If
      output in OS(GB) mode is required, then the map header must be set correctly
      (using the CONVERT/OS utility OSMHED), which includes the scale of the map.

  NOST, no reference to current ST entry in node 'integer'

      [1mExplanation:[0m  An ST entry  has  been  found  in  a  feature  which  contains
      junction  points,  but  no  reference can be found to the ST in the junction
      point description obtained from the sector header.

      [1mUser[0m [1maction:[0m  Investigate the IFJ file, to see why the error  has  occurred.
      If possible amend the file.

  NOTINT, an integer value less then 10000 must be supplied with /SERIAL

      [1mExplanation:[0m  If the serial number of the current NTF  volume  is  specified
      using  the  /SERIAL  qualifier, the value specified must be within the range
      1-9999.  This message is given if the user requests a serial number  outside
      that range.  The program will exit.

      [1mUser[0m [1maction:[0m  Specify a value within the range, or accept the default  value
      of 0.

  NOTOSMAP, file 'file-spec' does not have an OS map header - unable to do OS
      output

      [1mExplanation:[0m  If the /OS qualifier is specified, all of the IFF files to  be
      output  must  contain  OS(GB)  style  map header entries.  The files are all
      checked before any output to NTF is performed.  If one is found  without  an
      OS(GB) map header, this message is output and the program will exit.

      [1mUser[0m [1maction:[0m  If OS(GB) style output really is required,  then  correct  the
      relevant  file.  The IMP utility IPATCH can be used to change the map header
      (MH) entry so that it is flagged as an OS(GB) map header, and the CONVERT/OS
      utility  OSMHED  can  then  be  used  to set the requisite values within the
      entry.

  NOTSET, map descriptor (MD) not set in file 'file-spec'

      [1mExplanation:[0m  The specified IFF file does not contain a valid map descriptor
      entry - it is unset.  The program will exit.

      [1mUser[0m  [1maction:[0m   Use  the  IMP  utility  ITRANS/DESCRIPTOR  to  set  the  map
      descriptor correctly.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-49
  MESSAGES (ERROR)                                                    4 March 1997


  NOTSUPPORTED, /WATER_DISTRIB qualifier not supported at Version 2.0

      [1mExplanation:[0m  The /WATER_DISTRIB and /VERSION=2.0 qualifiers were  given  on
      the  command  line  which  are  not  allowed  since this is not supported at
      Version 2.0

      [1mUser[0m [1maction:[0m  If you use  the  /WATER_DISTRIB  and  require  the  output  of
      Version 2.0 NTF, please contact Laser-Scan.

  NTFLINE, error reading parameter file

      [1mExplanation:[0m   An  error  has  occurred  reading  the  next  line  from  the
      /PARAMETER_LIST  file.   This  message will be followed by LSLLIB and system
      messages describing what went wrong.

      [1mUser[0m [1maction:[0m  Depends upon the associated messages.

  OPENERR, error opening file 'file-spec'

      [1mExplanation:[0m  An error occurred opening the specified  file.   This  message
      will be followed by LSLLIB and system messages describing what went wrong.

      [1mUser[0m [1maction:[0m  Depends upon the associated messages.

  OUTCONERR, output conversion error of 'real' into field width 'integer'

      [1mExplanation:[0m  This indicates that a value is too large for the field  width,
      and will not be converted.

      [1mUser[0m [1maction:[0m  Check the indicated coordinates and field widths.

  OUTFILE, error in output specification 'file-spec'

      [1mExplanation:[0m  An error has occurred in parsing the NTF output  specification
      as a filespec.

      [1mUser[0m [1maction:[0m  Correct the filespec used.

  PARAMER, parsing error in parameter file

      [1mExplanation:[0m  An error has occurred in interpreting one of the lines in  the
      /PARAMETER_FILE  file.   This  message  will have been preceded by a message
      explaining the problem, and will be followed by  the  INLINE  message.   The
      file will be abandoned and the program will exit.

      [1mUser[0m [1maction:[0m  Correct the relevant line of the parameter file.

  RANGEOVER, Range overflow when integerised using XY_MULT

      [1mExplanation:[0m  When the range of the IFF file is converted  to  integer  form
      using the XY_MULT value, it overflowed the maximum size that will fit into a
      4 byte integer.

      [1mUser[0m [1maction:[0m  Ensure that the XY_MULT value is correct  and  the  IFF  range
      entry  contains  sensible  value whic reflect the coordinates and which will
      not overflow the maximum size for a 4 byte integer.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-50
  MESSAGES (ERROR)                                                    4 March 1997


  TOOMNYARMS, node 'integer' has 'integer' arms - no more than 'integer' are
      allowed

      [1mExplanation:[0m  The specified  node  has  more  than  the  maximum  number  of
      radiating links.  Such an entry is not allowed, and the program will exit.

      [1mUser[0m [1maction:[0m  If a feature of this size is required, consult  Laser-Scan  to
      have the limit increased.

  TOOMNYCOLL, too many collect objects stored - maximum is 'integer'

      [1mExplanation:[0m  Collect records are formed from several features and are built
      up  as  features  are read from the IFF file.  There is therefore a limit to
      the number of collect records that can be stored as the features  are  read.
      This  message  indicates  that  the maximum number of such records have been
      stored.  The program will exit.

      [1mUser[0m [1maction:[0m  Consult Laser-Scan to have the limit increased.

  TOOMNYFC, too many different FC's - maximum allowed is 'integer'

      [1mExplanation:[0m  The IFF file contains  more  unique  feature  codes  than  are
      allowed.  Such a file cannot be processed, and the program will exit.

      [1mUser[0m [1maction:[0m  Consult Laser-Scan to have the limit increased.

  TOOMNYFEAT, too many annotated features stored - maximum is 'integer'

      [1mExplanation:[0m  Annotated features are stored until the text  to  be  used  to
      annotate  them  is  found  in the IFF file.  This message indicates that the
      maximum number of such features have been stored.  The feature will  not  be
      annotated.

      [1mUser[0m [1maction:[0m  Consult Laser-Scan to have the limit increased.

  TOOMNYLNKS, feature 'integer' has too many links - no more than 'integer'
      allowed

      [1mExplanation:[0m  The specified feature consists of more than the maximum number
      of links.  Such an entry is not allowed, and the program will exit.

      [1mUser[0m [1maction:[0m  If a feature of this size is required, consult  Laser-Scan  to
      have the limit increased.

  TOOMNYNODES, input file has too many nodes - no more than 'integer' allowed

      [1mExplanation:[0m  The input file consists of more than  the  maximum  number  of
      nodes.  A file of this size is not allowed, and the program will exit.

      [1mUser[0m [1maction:[0m  Consult  Laser-Scan  to  have  the  limit  on  the  file  size
      increased.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-51
  MESSAGES (ERROR)                                                    4 March 1997


  TOOMNYPTS, FSN 'fsn' ('isn') has 'integer' points in an ST/ZS - no more than
      'integer' allowed

      [1mExplanation:[0m  The specified feature contains an ST or  ZS  entry  containing
      more  than the maximum number of points.  Such an entry is not allowed.  The
      program will exit.

      [1mUser[0m [1maction:[0m  Investigate the history of the IFF file,  to  see  why  it  is
      corrupt.  If the reason cannot be determined, consult Laser-Scan.

  TOOMNYTXT, too many annotation texts stored - maximum is 'integer'

      [1mExplanation:[0m  Texts that are to be used to annotate a particular feature are
      stored  until that feature is found in the IFF file.  This message indicates
      that the maximum number of such texts have been stored.  The text  will  not
      be used to annotate a feature.

      [1mUser[0m [1maction:[0m  Consult Laser-Scan to have the limit increased.

  TYPE1MD, type 1 map descriptor in file 'file-spec'

      [1mExplanation:[0m  The program requires that all IFF files to be output must have
      a  type  2  map  descriptor (MD) entry.  If a file does not, this message is
      output and the program will exit.

      [1mUser[0m [1maction:[0m  Use the  IMP  utility  ITRANS/DESCRIPTOR  to  change  the  map
      descriptor from type 1 to type 2.

  UNEXPENT, unexpected entry "'char'" found in line/point feature

      [1mExplanation:[0m  This message is output after the BADFEAT error message, when a
      line  or  symbol feature contains an IFF entry that is not understood by the
      program as being valid in such a feature.  The program will exit.

      [1mUser[0m [1maction:[0m  Ascertain whether the entry is actually allowed within a  line
      or  symbol feature.  If it is, then report the problem to Laser-Scan, as the
      program should presumably be able to understand it.  Otherwise,  investigate
      why the entry is present in the text feature.

  UNEXPEOF, unexpected end of IFF file

      [1mExplanation:[0m  This message is output if the program finds the end of the IFF
      file,  when  it  is not expecting it.  It means that the file is incorrectly
      terminated, or corrupt in some other way.

      [1mUser[0m [1maction:[0m  All IFF files should end with the sequence EO (end  of  layer)
      EM  (end  of  map) EJ (end of job).  Investigate the offending file to check
      whether it actually has this structure.  If the file appears  correct,  then
      consult  Laser-Scan.   If  the  file  is  not  correct, then investigate its
      history and establish what has caused it to be wrong.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-52
  MESSAGES (ERROR)                                                    4 March 1997


  VMALLFAIL, virtual memory allocation for FC lookup table failed

      [1mExplanation:[0m  The virtual  memory  allocation  routine  failed  to  allocate
      sufficient space to contain the FC lookup table.

      [1mUser[0m [1maction:[0m  Report this error message to your system manager,  along  with
      the  associated  system error.  He may be able to increase your virtual page
      count to allow the lookup table to be used.


  IFFNTF REFERENCE (2.7): I2NTF utility                                  Page 3-53
  MESSAGES (OTHER)                                                    4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages  may  be  generated  by  the  IFF
  library  and  by  the  Laser-Scan I/O library, LSLLIB.  IFF library messages are
  introduced by '%IFF' and are documented in the IFF  library  users'  guide.   In
  most  cases  IFF  errors will be due to a corrupt input file, and this should be
  the first area of investigation.  If the cause of the error cannot be traced  by
  the user, and Laser-Scan are consulted, then the output file should be preserved
  to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'  and  are
  generally  self-explanatory.   They  are  used to explain the details of program
  generated errors.














                                     CHAPTER 4

                                   NTF2I UTILITY





  IFFNTF REFERENCE (2.7): NTF2I utility                                   Page 4-1
  UTILITY NTF2I                                                       4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mUTILITY[0m [1mNTF2I[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            NTF2I reads NTF/CITF data from a file or magnetic tape, and outputs an
            IFF file for each section.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ NTF2I input-file-spec

            [1mCommand[0m [1mqualifiers[0m                        [1mDefaults[0m

            /ATTRIBUTE_FILE='file-spec'              See description below
            /[NO]CITF='integer'                      /NOCITF
            /[NO]CONTINUE                            /NOCONTINUE
            /FC_LOOKUP='file-spec'                   No lookup file
            /FRT='file-spec'                         See description below
            /[NO]IFF_POINTSIZE                       /IFF_POINTSIZE
            /[NO]LOG                                 /NOLOG
            /[NO]LOWER_LEFT                          /NOLOWER_LEFT
            /[NO]OS                                  /NOOS
            /[NO]OSCAR                               /NOOSCAR
            /OSCAR_START_AC=integer                  Undefined
            /OSCAR_END_AC=integer                    Undefined
            /[NO]OUTPUT='file-spec'                  /NOOUTPUT
            /[NO]SERIAL_MAGTAPE                      /NOSERIAL_MAGTAPE

  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPT[0m

            _Input NTF file:          input-file-spec

  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  input-file-spec

          - specifies where the NTF data is to be read from.  This may  be  either
            the  name of a magnetic tape drive (e.g. MTA0:), or the name of a file
            on disk (e.g. TEST.NTF).  If the input is from tape then the colon  at
            the  end  of  the  device  name  must  be provided.  The default input
            file-spec is SYS$DISK:[].NTF

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

  /ATTRIBUTE_FILE='file-spec'

          - gives the file in which NTF attribute mnemonics  are  associated  with
            IFF  AC names.  The qualifier can only be used in conjunction will the
            /FRT qualifier  and  if  it  is  not  given  then  no  attributes  are
            transferred.


  IFFNTF REFERENCE (2.7): NTF2I utility                                   Page 4-2
  UTILITY NTF2I                                                       4 March 1997


  /CITF='integer'
  /NOCITF (default)

          - specifies to the program that the input file  is  an  Ordnance  Survey
            Common  Internal  Transfer  Format (CITF) file.  This qualifier should
            not be used  with  /OS  and  requires  the  /ATTRIBUTE_FILE  and  /FRT
            qualifiers.  See the section below on the conversion of CITF files.

            The optional integer specifies which version of CITF  date  is  to  be
            read.

            /CITF=93 specifies that the CITF file uses OS93 data structures.

            /CITF=96 specifies that the CITF file uses OS96 data structures.

            The use of /CITF with no parameter defaults to /CITF=96.

  /CONTINUE
  /NOCONTINUE (default)

          - specifies that if an input CITF file of DATA_MODEL  other  than  2  is
            being  read, then continue processing as far as possible.  Since NTF2I
            will only convert CITF files  where  the  {DATA_MODEL}  field  in  the
            [DBHREC]  record  is  set to 2, the default action is abort if this is
            not the case.  This qualifier is only value when /CITF is used.

  /FC_LOOKUP='file-spec'

          - specifies the feature code lookup table parameter file to be used.  If
            this  qualifier  is  not  given,  all  feature  codes  are  translated
            verbatim.

  /FRT='file-spec'

          - this qualifier gives the name  of  the  Feature  Representation  Table
            (FRT)  which  hold  information  about IFF attributes.  If this is not
            given no attributes are transferred and a rotation (RO) entry will  be
            written  to  all  point  features  in  the  output IFF file.  This may
            produce inconsistencies if, for example, a feature is intended  to  be
            an unoriented symbol but has an orientation.  In this instance, LITES2
            will give a  warning  messages  reporting  that  the  feature  has  an
            unexpected RO entry and the RO will be ignored.  The /FRT qualifier is
            compulsory with /CITF.

  /IFF_POINTSIZE (default)
  /NOIFF_POINTSIZE

          - specifies that text heights will be output to the IFF  file  as  point
            sizes  or  in  1/100ths  of  a  millimetre, the default being in point
            sizes.  If the /OS qualifier is used, the heights will  be  output  in
            points   sizes   anyway   unless  overridden  using  /NOIFF_POINTSIZE.
            Non-Ordnance Survey data will  always  be  output  in  1/100ths  of  a
            millimetre and this qualifier will have no effect.


  IFFNTF REFERENCE (2.7): NTF2I utility                                   Page 4-3
  UTILITY NTF2I                                                       4 March 1997


  /LOG
  /NOLOG (default)

          - specifies  that  additional  information  is  to  be  written  to  the
            terminal.   When  the  program  starts up, the name of the device from
            which the NTF data is being read, and the names of the IFF files being
            written,  are  logged.   Various  messages summarising the form of NTF
            being read will also be produced.

  /LOWER_LEFT
  /NOLOWER_LEFT (default)

          - specifies that all text features  should  be  output  by  transferring
            their lower left (i.e.  position 0) coordinates.  If these coordinates
            are not present they will be calculated as  per  the  Ordnance  Survey
            digitising specification and a warning message will be output.

  /OS
  /NOOS (default)

          - specifies that OS(GB) map header information is to  be  found  in  the
            free  text  area  of  the  section  header relating to each file.  The
            layout of the map header information in the free text area is  defined
            by  OS.  Note that this use of free text space is allowable within the
            standard.  The use of this qualifier will also force  the  Basic  Grid
            Interval  (BGI)  to be calculated for Ordnance Survey data and written
            to the IFF map header.  The BGI is specific to OSTF but is  acceptable
            in an OS map header.

  /OSCAR
  /NOOSCAR (default)

          - specifies that the file or tape being read contains Ordnance  Survey's
            OSCAR  data.  The data can be read as normal without the qualifier but
            any [NODEREC] records will be ignored.  If the qualifier is given, the
            level  information present in the [NODEREC] record is transferred onto
            the relevant links at that node.  This information is attached to  the
            link  as  attributes  (IFF AC entries) which are defined by qualifiers
            /OSCAR_START_AC  and  /OSCAR_END_AC.   The  presence  of  these  level
            attributes  is  particularly  useful to distinguish between valid road
            junctions and over/under situations.  In this situation a LITES2 macro
            could be written to reconnect those over/under cases at the same level
            while leaving road junctions unaltered.

  /OSCAR_START_AC = integer

          - specifies the Attribute  Code  (AC)  used  to  hold  the  OSCAR  level
            information  that is extracted from the [NODEREC] record for the start
            of a line.  If this qualifier is not specified or given an AC  out  of
            range,  then  all  [NODEREC] records will be ignored and the data will
            not be treated as OSCAR.


  IFFNTF REFERENCE (2.7): NTF2I utility                                   Page 4-4
  UTILITY NTF2I                                                       4 March 1997


  /OSCAR_END_AC = integer

          - specifies the Attribute  Code  (AC)  used  to  hold  the  OSCAR  level
            information that is extracted from the [NODEREC] record for the end of
            a line.  If this qualifier is not specified or  given  an  AC  out  of
            range,  then  all  [NODEREC] records will be ignored and the data will
            not be treated as OSCAR.

  /OUTPUT='file-spec'
  /NOOUTPUT (default)

          - specifies that information  about  the  files  being  read  from  NTF,
            together with the form of NTF being produced, should be written to the
            specified log file.  All  NTF  comment  records  encountered  will  be
            written to the file, prefixed with "//".  Also, the when the following
            records are found, information is written to the log file:

             o  [VOLHDREC]  - the volume header record is summarised.
             o  [DBHREC]    - the database header record is summarised.
             o  [FEATCLASS] - the contents is presented as a table.
             o  [DBQUAL]    - the contents is reflected.
             o  [SECQUAL]   - the contents is reflected.
             o  [VOLTERM]   - the contents is reflected.

            The default file-spec for the log file is SYS$DISK:[]NTF2I.LOG

  /SERIAL_MAGTAPE
  /NOSERIAL_MAGTAPE (default)

          - indicates that the standard input for the program is a  magnetic  tape
            drive  connected via a DIL serial controller interface.  The qualifier
            is ignored if input is from a device which  is  mounted  /FOREIGN  (in
            which case input is from a standard magnetic tape drive).  If input is
            requested from a terminal device then it will be assumed that this  is
            the DIL controller.


  IFFNTF REFERENCE (2.7): NTF2I utility                                   Page 4-5
  UTILITY NTF2I                                                       4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  Only NTF version 1.1 and 2.0 data at levels 1, 2 and  3  and  CITF
                version 1.0 may be read.

             o  The NTF version is also  identified  by  a  version  date  in  the
                database  header  record.  This program will cope with any version
                up to and including the one released in April 1989  for  NTF  v1.1
                and May 1992 for NTF v2.0, any later versions will cause a warning
                message to be generated  although  the  program  will  attempt  to
                continue.

             o  The IFF files created have the spheroid and projection (in the map
                descriptor)  set  to Airy and 101 (UK National Grid) respectively.
                If this is incorrect, then use ITRANS/DESCRIPTOR to change the IFF
                file's map descriptor.

             o  All data other  than  collect  and  complex  polygon  records  are
                written to IFF layer 1.

             o  Collect and Complex Polygon data is written to layer 2.

             o  At NTF level 3 the feature code of any point or line feature  must
                occur  in  an [ATTREC] associated with that feature.  It should be
                specified using one of the default NTF attribute mnemonics FC,  LC
                or ST.  Feature codes are assumed to be numerical.

             o  In the event of the NTF file containing alphanumeric or alphabetic
                feature  codes,  the  feature  code of the feature being generated
                will be set to 0 (for line and point records)  and  28  (for  text
                records).

             o  The feature code read from the NTF file will, in addition  to  the
                feature code in the FS entry, be stored as the optional text field
                of an AC entry of type 1.  The correct  feature  codes  associated
                with the text entry can be set by using the IMP utility IRECODE.

             o  No feature may have more than 10,000 points.

             o  Curved text - [CURVTEXT] records are not understood.   If  such  a
                record is found a warning message will be output.

             o  Invisible  line  sections  (indicated  by  the  {QPLAN}  field  in
                [GEOMETRY*] records) are not understood.  All lines will be output
                as visible lines, with a warning message if an  invisible  section
                is detected.

             o  Polygons - [POLY] records are output as line features

             o  Complex -Polygon - [CPOLY] records are  output  as  line  features
                with invisible line sections joining the constituent polygons.


  IFFNTF REFERENCE (2.7): NTF2I utility                                   Page 4-6
  UTILITY NTF2I                                                       4 March 1997


             o  All attributes which are to be transferred - including NTF default
                attributes  -  must  be  specified in [ATTDESC] records, otherwise
                they will be ignored.  The  exception  to  this  is  CITF  default
                attributes.

             o  Only the contour height (HT) and orientation (OR)  {VALUE}  fields
                are  recognised  at NTF level 1.  At level 2 any NTF mnemonic used
                in the {VALUE} field must be given  in  the  attribute  file.   At
                version  2.0,  the  contours  height  (HT)  must be defined in the
                attribute file and can be used to direct it to the  default  AC  2
                (Contour) or AC 3 (Height) attribute, depending on the name in the
                attribute file.

             o  If no FRT is given,  all  symbol  features  created  will  have  a
                rotation  (RO)  entry  if an OR {VALUE} attribute was present.  If
                the FRT is specified, the Graphical Type of the output feature  is
                examined to determine whether a rotation is required.  No RO entry
                is output for unoriented symbols (GT 7), oriented symbols  (GT  8)
                will  received  an RO entry (with a default value of 0.0 if it has
                no value in NTF) and scaled symbols (GT 9) will not receive an  RO
                entry.

             o  At level 2, [NAMEREC] records associated with linear data will  be
                output as type 12 ACs.

             o  The  original  NTF  feature  ID  numbers  ({LINE_ID},  {POINT_ID},
                {NAME_ID} etc.) are not used in the IFF files being produced.

             o  The program does not support raster data -  only  vector  sections
                may be present on the tape.

             o  When using NTF2I to  directly  read  from  unformatted  tape,  the
                program  will  prompt  the  user to mount any continuation volumes
                when the tape mark after each volume  is  detected.   If  separate
                volumes  are  supplied  on  formatted  media, the individual files
                should be appended together into one large disk file.  Here is  an
                example of the join between two volumes:

      [lines deleted]
      000000014412 00000001420000014336 00000001000000014270 00000000610000014224 1%
      0000000000410000014204 00000000260000014195 00000000000000014183 0%
      23000477HT00009002010%
      99End of Volume 01 Transfer Set Continues on Volume 02 1%
      01ORDNANCE SURVEY     SAMPLE_CONTOUR_DATA 1993030500000210200V \0%
      210000002000400000000800000014274 00000000420000014233 00000000150000014211 1%
      0000000000000000014204 0%
      23000478HT00009002010%
      210000002001300000003000000014504 00000003390000014523 00000003750000014537 1%
      [lines deleted]

             o  NTF 1.1 attributes do not contain a 'date' datatype so if  a  date
                is required from an NTF attribute it is assumed that it is written
                in an NTF text attribute  in  standard  VMS  format.   If  a  date
                conversion  fails  a warning will be given and it will not attempt
                any more.


  IFFNTF REFERENCE (2.7): NTF2I utility                                   Page 4-7
  UTILITY NTF2I                                                       4 March 1997


             o  The following restrictions apply to version 2.0 NTF,  in  addition
                to the restrictions that exist for 1.1 NTF:

                 -  No mechanism at present  exists  to  convert  level  1  and  2
                    [LINEREC],  [POINTREC]  and [NAMEREC] attributes, CHG_TYPE and
                    CHG_DATE into ACs.

                 -  Combined attributes  ([ATTCOM]  records)  are  not  supported.
                    Therefore   each   attribute   must   be   defined   and  used
                    individually.

                 -  IFF Coordinate Block structures (CBs) not supported,  although
                    [GEOMETRY2] records can be read and interpreted.

                 -  [CHAIN], [COLLECT] and [CPOLY] records  are  not  interpreted.
                    This  means  that  NTF2I  will  not  currently  read  Ordnance
                    Survey's Boundary-Line data.

                 -  Only attributes 'HT' and 'OR' can be  read  from  the  {VALUE}
                    field of a [POINTREC] and [LINEREC] record.

                 -  Unlike version 1.1 NTF, there are no default attributes and so
                    any  that  are  present  in  the  NTF  file must be defined in
                    [ATTDESC] records, the attribute file and the FRT in order  to
                    carry them into IFF.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m

            NTF2I reads NTF data at levels 1, 2 or 3 and  CITF  version  1.0  from
            file or magnetic tape into a series of IFF files, one for each section
            of the NTF.

            Any [FEATCLASS] records are read and the contents written to  the  log
            file.   At  level  3  the  fields in these records are used to convert
            feature codes stored as LC or ST attributes to the FC form required in
            IFF features.  If a [FEATCLASS] record does not contain a value in the
            {FEAT_CODE} field the [FEATCLASS] record number will be used.

            For each section, the [SECHREC] (section header) record is read.   The
            name of the IFF file to be created is taken from the {SECT_REF} field,
            with characters that are not allowed in a  VMS  filename  replaced  by
            underlines (_).  If the /OS qualifier has been specified, then the IFF
            file is created with an OSGB style map header entry with any available
            data  written  to  it.  The map descriptor created is type 2, with the
            details taken from the section header.  The X,Y offset is  taken  from
            the  {X_ORIG}  and  {Y_ORIG} fields, and the units is deduced from the
            {XY_UNIT} field.  The spheroid and projection are set to Airy and  101
            (UK National Grid) respectively.

            The data for the section is output to layer 1 of the IFF file.   Point
            features  are  output  as  symbols,  line  features as lines, and name
            features as texts.  Note that


  IFFNTF REFERENCE (2.7): NTF2I utility                                   Page 4-8
  UTILITY NTF2I                                                       4 March 1997


             o  all X and Y coordinates are multiplied  by  the  section  header's
                {XY_MULT} value before being output.

             o  all Z values are  multiplied  by  the  section  header's  {Z_MULT}
                value, and then have the {Z_DATUM} added, before being output.

             o  the {SECURITY} and {CHANGE} fields are never used.

             o  the {FEAT_CODE} fields are  read  as  integer  values,  and  these
                values  are  then  used as the feature code (FC) in the output IFF
                file's feature status (FS) entry.

             o  the feature serial numbers for each  file  start  at  1,  and  are
                incremented  for  each  feature  output.   Thus each FSN is unique
                within the whole file.

             o  the text/symbol bits in the FS entry  will  be  correctly  set  to
                indicate  whether  the  feature  is a point (symbol), line or name
                (text) feature.

             o  the {GTYPE} field in [GEOMETRY*] records is ignored -  all  linear
                features are assumed to be simple lines.

             o  when a [NAMPOSTN] record  is  encountered,  the  {FONT}  field  is
                extracted and stored as the category for the text feature.  If the
                font value is outside the range 0-63, a  category  of  1  will  be
                used.  The [TEXTREP] record is treated in the same way.

             o  the [NAMPOSTN] {TEXT_HT} field will be extracted and converted  to
                hundredths  of  a  mm  - unless /OS is specified, in which case it
                will be converted to an OS point size - and stored in a TH  entry.
                The [TEXTREP] record is treated in the same way.

             o  the [NAMPOSTN] {ORIENT}  field  will  be  used  to  calculate  the
                orientation  of  the  text, and this will be output to an RO entry
                (in radians, as is usual).  The [TEXTREP] record is treated in the
                same way.

             o  [NODEREC], records will be ignored.


  IFFNTF REFERENCE (2.7): NTF2I utility                                   Page 4-9
  UTILITY NTF2I                                                       4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mAttributes[0m

            NTF version 1.1 and  above  now  has  a  coherent  definition  of  how
            attributes  are  transferred so now IFF AC values can be easily ported
            to and from NTF.  Firstly an IFF attribute must be associated with  an
            NTF  mnemonic.   This  is done via the new attribute file ( given with
            the /ATTRIBUTE_FILE qualifier ), this file should contain IFF AC names
            together  with  the NTF mnemonic.  There are also 3 flags which should
            be added to the end of each line to specify whether :

            1.  the AC's optional text  field  should  be  read  rather  than  the
                attribute value
            2.  the AC is used to link a text to a linear feature so that the text
                can be used to annotate the feature - only valid at level 3
            3.  the AC is used to  group  several  features  together  so  that  a
                [COLLECT] record may be output - only valid at level 3

            Each flag should have the value T or  F  to  indicate  true  or  false
            respectively,  though  the  latter  two  flags  are  specific  to  the
            conversion I2NTF and may be omitted here.  An example of an  attribute
            file is shown below.

                 !
                 ! Command procedure to tell I2NTF/NTF2I which attributes to 
                 ! associate with which NTF mnemonic. The IFF name must be 
                 ! present in the FRT file.
                 !
                 !   Format is:
                 ! 
                 !ATTRIBUTE IFF_ATT_NAME  NTF_MNEMONIC  TEXT  ANNOTATE  COLLECT
                 !
                 ATTRIBUTE   LH_BOUNDARY          LH      T       F       F
                 ATTRIBUTE   RH_BOUNDARY          RH      T       F       F
                 ATTRIBUTE   CONTOUR              CO      F       F       T
                 ATTRIBUTE   TEXT                 TX      F       T       F
                 ATTRIBUTE   COUNTY_LEFT          CL      T       F       F
                 ATTRIBUTE   COUNTY_RIGHT         CR      T       F       F
                 ATTRIBUTE   COUNTY_LEFT          CA      F       F       F
                 ATTRIBUTE   COUNTY_RIGHT         CB      F       F       F


            In the above attribute file the NTF attributes CO and TX  are  written
            to the value fields of IFF AC's CONTOUR and TEXT whilst the others are
            written to  the  optional  text  field  of  the  IFF  AC.   Note  that
            COUNTY_LEFT  and  COUNTY_RIGHT  have both text and value written.  The
            interpretation of the attribute  is  taken  from  both  the  [ATTDESC]
            record  and the IFF FRT file.  If the two definitions of the attribute
            type differ then, if  possible,  the  data  will  be  converted.   Any
            non-standard AC types must be declared in ACD entries in the FRT file.
            Note also that NTF mnemonics must be 2 characters long.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-10
  UTILITY NTF2I                                                       4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mConversion[0m [1mof[0m [1mOrdnance[0m [1mSurvey[0m [1mCITF[0m [1mdata[0m

            NTF2I will convert version 1.0 CITF files which are based upon level 5
            of  NTF  Version  2  as  defined  by  BS7567.   Only  CITF files whose
            {DATA_MODEL} field in the [SECHREC] record  is  equal  to  2  will  be
            converted, although the /CONTINUE qualifier will override this.

            [1mThe[0m [1mIFF[0m [1mMH[0m [1mEntry[0m [1mAnd[0m [1mCITF[0m [1mHeader[0m [1mRecords[0m

            If  they  are  present,  the  [FEATCLASS],   [SECHREC],   [TRANSFORM],
            [MANINFREC]  and [EXTREC] CITF header records will be copied to a type
            4 IFF Map Header which will be created to accomodate them.

            The size allocated to this header will be taken from the lookup  table
            pointed  to  by the logical LSL$OS_MH_TABLE.  The field is CITF_LENGTH
            and must be at least 320 bytes long to accomodate the first 3 lines of
            a [SECHREC] record and not exceed 10000 bytes.  If the size defined in
            this field is not sufficient for all the records to fit into,  then  a
            warning  will  be given and it will be increased to the size required.
            If the number of CITF header lines means that  the  header  size  will
            exceed 10000 bytes, then the remaining lines will be lost.

            Each line of the CITF header records that is to be copied to  the  Map
            Header  will  be  padded  with spaces after the {EOR} character (%) in
            order to locate the record descriptor in the first characters of  each
            line.

            Certain values are required to be read from the [SECHREC] record to be
            used  when  interpreting  the  CITF  file  such as {XYLEN}, {XY_UNIT},
            {XY_MULT}, {ZLEN}, {Z_UNIT}, {Z_MULT} and {SCALE}.  These fields  must
            contain  correct  values  reflecting  the  true format of the data for
            successful conversion.

            The {DIFF_HT_LEN} size is also required and is in the variable part of
            the  [SECHREC]  as  so  must be precisely defined as the program works
            under the  assumption  that  there  will  be  sufficient  divider  (/)
            characters  after  which it is located.  Refer to the DATA PREPARATION
            section for details of how to set  up  a  correct  map  header  lookup
            table.

            [1mCombined[0m [1mAttributes[0m

            Combined attributes  are  handled  providing  the  components  of  the
            [ATTCOM]  record have previously been defined in [ATTDESC] or [ATTCOM]
            records, or are in the list of default CITF attributes which need  not
            be present in the file.

            Since  combined  attributes  can  consist  of  components  which   are
            themselves  combined attributes, there is limit of how many components
            a combined attribute may have, once fully expanded.  This limit is  20
            components  but  if this is insufficient, please contact Laser-Scan to
            arrange for it to be increased.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-11
  UTILITY NTF2I                                                       4 March 1997


            All CITF attributes which appear in [ATTREC] or [ACRDREC] records must
            be  separated  by  a DIVIDER which differs from NTF where DIVIDERs are
            only present after variable length text fields.

            However, when combined attributes  appear  in  [ATTREC]  or  [ACRDREC]
            records  they should not have DIVIDERs between their component values,
            except when the value is a variable length string.

            [1mFeature[0m [1mLevel[0m [1mAttributes[0m

            CITF  feature  records,  [LINEREC],  [POINTREC]  and  [NAMEREC]   have
            provision  for  attributes  which,  if  present, will be written as AC
            entries  to  the  IFF  feature.   These  attributes  are  UPDATE_DATE,
            UPDATE_STATUS,   SPEC,   PROCESS,   DATE_OF_PROCESS,   PHYS_STAT   and
            MARGINAL_TXT which must be defined in the ACD section of  the  FRT  if
            they  are  to be transferred.  These features should not be present in
            the attribute file as this intended for attributes which are  held  in
            [ATTREC] or [ACRDREC] records.

            The alphanumeric  feature  level  attributes  UPDATE_STATUS,  PROCESS,
            PHYS_STAT  and MARGINAL_TXT will be placed into the value field of the
            AC as characters and the datatype definition in the ACD  part  of  the
            FRT  is  ignored by the program.  This is so that the LITES2 OPERATION
            command can be used to update these ACs and this action  if  performed
            on the value field.

            These attributes will always be treated as character values and should
            be  defined as datatype 'C' in the ACD so that programs such as LITES2
            and IPATCH will show their true representation.   The  SPEC  attribute
            which  is a variable length alphanumeric string will be written to the
            optional text string of the AC and the datatype will not matter.   The
            UPDATE_DATE and DATE_OF_PROCESS attributes will be placed in the value
            field of the AC and should be defined as datatype 'D' in the ACD.

            [1mPer-point[0m [1mAttributes[0m [1mAnd[0m [1mCBs[0m

            IFF Coordinate Blocks (CB) entries are able  to  hold  20  columns  to
            represent  each  point  in  a  feature,  which includes the X, Y and Z
            coordinates.

            [GEOMETRY*] records have various data quality fields attached to every
            point  which are maintained by transferring them to the columns of the
            CB of the feature.  The AC codes of these attributes must be known and
            so  they must be defined in the ACD part of the FRT in the same way as
            for the feature level attributes and should  not  be  present  in  the
            attribute file.

            The X_COORD, Y_COORD and Z_COORD should not be defined in the  ACD  as
            they have standard AC codes of 91, 92 and 93 respectively.

            [GEOMETRY1] records have fields X_COORD, Y_COORD,  XY_ACQ_METH,  QPLAN
            which are written to the first 4 fields of a CB.

            [GEOMETRY2] record have fields X_COORD, Y_COORD,  XY_ACQ_METH,  QPLAN,
            Z_COORD,  DIFF_HT,  Z_ACQ_METH,  QHT  and  QDIFF_HT  all  of which are
            maintained in the conversion.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-12
  UTILITY NTF2I                                                       4 March 1997


            Attributes held in Attribute Coordinate  [ACRDREC]  records  are  also
            attached to points in the CB, after those derived from the [GEOMETRY*]
            records.

            Since [GEOMETRY1] records result in 4 fields of a CB being  used,  the
            other 16 may be used to hold [ACRDREC] attributes.  This is limit must
            take into account any combined attributes when expanded.

            Similarly, [GEOMETRY2] records result in 9 fields of a CB being  used,
            which  leaves  11  which  may  be  used  to hold [ACRDREC] attributes.
            Again, this is limit must take into account  any  combined  attributes
            when expanded.

            When attaching [ACRDREC] attributes to CB entries, the superset of all
            attributes  held  in  all the [ACRDREC] records in the feature must be
            determined to define all the columns in the  CB.   The  attributes  of
            each  [ACRDREC] record will be written to correct column for the point
            number to which they belong  and  the  other  columns  not  containing
            values  will be absent.  Absent values are represented in IFF with the
            value IFF_ABSENT and I2NTF will check for this  when  determining  the
            output of [ACRDREC] records to the CITF file.

            Any [ACRDREC] records which have alphanumeric attributes of more  than
            4  characters will be truncated as only columns of 4 bytes each may be
            attached to a row in a CB.

            [1mSymbol[0m [1mFeatures[0m

            The feature code of point features will be looked up  in  the  FRT  to
            find it's Graphical Type (GT) in order to determine if an IFF RO entry
            is required.  Any distance (DT) or orientation (OR)  attributes  found
            in  point features will not be written as IFF ACs under the assumption
            that their values will be used for scaled symbols or  in  the  IFF  RO
            entry.

            If a point feature has a GT of 9 and a distance (DT)  and  orientation
            (OR) attribute it is treated as a scalable symbol and the second point
            will calculate using these values.  This second point  will  not  have
            any  per-point  attributes  present  in the CB as it was not captured.
            The DT and OR attributes themselves have been used  and  will  not  be
            written to an AC in the feature.

            If a point feature has a GT of 9 but a missing distance (DT) attribute
            then  it  will  be  treated  as  an orientated symbol (GT 8) if the OR
            attribute was present, but as a non-orientated symbol GT 7 if not.

            All point feature with a GT of 8 will have  an  IFF  RO  entry  output
            containing  the value held in the orientation (OR) attribute if it was
            present, or 0.0 if it was not.

            Point features with a GT of 7 will have no IFF RO entry and any DT  or
            OR attributes attached to the feature will be lost.



  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-13
  UTILITY NTF2I                                                       4 March 1997


            [1mText[0m [1mFeatures[0m

            CITF text features which contain two points in the [GEOMETRY*]  record
            will  be  transferred  into  IFF using the first coordinate tuple (the
            digitised position) only.  The plotting position will be lost since it
            can be calculated from the {DIG_POSTN} by I2NTF if transferred back to
            CITF.

            All text features will be given a feature code  of  28  as  done  with
            NTF2I/OS.   Text  features  whose  feature code conform to the OS 1991
            feature code list (ie lie between 1000  and  1013)  will  be  given  a
            feature  code  of  28 and the number in excess of 1000 will be held in
            the Category field of the Feature Status entry.   (eg.   text  feature
            code  1006  will  be  given a feature of 28 in IFF and the FS Category
            will contain 6).  I2NTF can then use the  FS  entry  to  generate  the
            original feature code if needed.

            [1mDate[0m [1mAttributes[0m

            Any CITF date attributes of format A8 (eg SD and SY) should be defined
            in  the  ACD  as of type date ('D') and in the ATTRIBUTE_FILE with the
            'TEXT' option set to false.  This will ensure they are converted  into
            4 byte VAX dates and will therefore fit into a column of a CB.

            Any dates which have the day component set to zero (eg  19930200)  can
            not be converted to a VAX date and so the 1st of the month is assumed.
            (eg 19930201).

            [1mAttribute[0m [1mFile[0m

            It is intended that all of the CITF default attributes listed  in  the
            CITF  Specification  Mod 7/C are defined in the ATTRIBUTE_FILE and ACD
            section of the FRT.  This will ensure that a stable list of  attribute
            definitions  exists  so  that all CITF files read will have consistent
            attribute translation.   Any  CITF/IFF  attributes  undefined  in  the
            ATTRIBUTE_FILE and FRT will not be converted.

            Only [ATTREC] and [ACRDREC] attribute mnemonics should be  defined  in
            the  attribute  file.   The feature level (UPDATE_DATE, UPDATE_STATUS,
            etc) and per-point level (XY_ACQ_METH, QPLAN, etc)  attributes  should
            not  be  defined, since they are looked up directly in the ACD part of
            the FRT file.

            Here  is  an  example  of  an  attribute  file  defining  the  default
            attributes  intended for use with CITF.  Note that any text attributes
            have the 'TEXT' option defined as true,  denoting  that  value  is  to
            placed  into  the  optional  text string of the AC.  In this case, the
            type of the AC as defined in the ACD part of the FRT is irrelevant.

            Any integer, real, or date attributes should have  the  'TEXT'  option
            set to false.  Note also that the 'ANNOTATE' and 'COLLECT' options are
            not used for CITF and are set to false.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-14
  UTILITY NTF2I                                                       4 March 1997



            !
            ! Default CITF attributes
            !
            !ATTRIBUTE  IFF_ATT_NAME  NTF_MNEM  TEXT  ANNOTATE  COLLECT
            !
            ATTRIBUTE     ADDR_ONE        A1      T       F       F
            ATTRIBUTE     ADDR_TWO        A2      T       F       F
            ATTRIBUTE     POSTAL_ADDR     AD      T       F       F
            ATTRIBUTE     ACCENTS_MASK    AM      T       F       F
            ATTRIBUTE     ADDR_QUAL       AQ      F       F       F
            ATTRIBUTE     ADDR_STAT       AS      F       F       F
            ATTRIBUTE     BUILD_NAME      BD      T       F       F
            ATTRIBUTE     BUILD_NUM       BN      F       F       F
            ATTRIBUTE     CONCAT_FLAG     CF      T       F       F
            ATTRIBUTE     COUNTY_NAME     CN      T       F       F
            ATTRIBUTE     CHANGE_TYPE     CT      T       F       F
            ..
            ..
            [lines deleted]
            ..
            ..
            ATTRIBUTE     SETTLEMENT      SN      T       F       F
            ATTRIBUTE     DATE_OF_SURV    SY      F       F       F
            ATTRIBUTE     TYPE_OF_CONSTR  TC      T       F       F
            ATTRIBUTE     THOROUGHFARE    TN      T       F       F
            ATTRIBUTE     CITFTEXT        TX      T       F       F
            ATTRIBUTE     UORN            UN      T       F       F


            [1mFRT[0m [1mACD[0m [1mSection[0m

            Here is an example of the ACD part of an FRT  suitable  for  use  with
            CITF  data  whose  ACD  TABLE 4 reflects the IFF_ATT_NAME field of the
            above attribute file.

            The feature level attributes in ACD TABLE 2 must be defined exactly as
            shown  and  should  not be defined in the attribute file.  While NTF2I
            ignores the datatype of ACs in the ACD (except for dates, which should
            be  'D'),  it  is  advised  that  attributes  are defined to be of the
            correct type so that programs such as LITES2 and IPATCH  will  display
            their true representation.

            The per-point attributes in ACD TABLE 3 must also be  defined  exactly
            as  shown  and  should  not  be defined in the attribute file.  The AC
            codes of the X, Y and Z coordinates that will appear in the  CB  entry
            will  be the default ones of 91, 92 and 93 respectively and should not
            be present in the ACD section.

            !
            ! Feature level attributes
            !
            ACD TABLE 2
            !
            ACD D 1 UPDATE_DATE
            ACD C 2 UPDATE_STATUS


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-15
  UTILITY NTF2I                                                       4 March 1997


            ACD C 3 SPEC
            ACD C 4 PROCESS
            ACD D 5 DATE_OF_PROCESS
            ACD C 6 PHYS_STAT
            ACD C 7 MARGINAL_TXT
            !
            ! Per-point attributes
            !
            ACD TABLE 3
            !
            ACD C 1 XY_ACQ_METH
            ACD C 2 QPLAN
            ACD R 3 DIFF_HT
            ACD C 4 Z_ACQ_METH
            ACD C 5 QHT
            ACD C 6 QDIFF_HT
            !
            ! Default attribute codes
            !
            ACD TABLE 4
            !
            ACD C  1 ADDR_ONE
            ACD C  2 ADDR_TWO
            ACD C  3 POSTAL_ADDR
            ACD C  4 ACCENTS_MASK
            ACD I  5 ADDR_QUAL
            ACD I  6 ADDR_STAT
            ACD C  7 BUILD_NAME
            ACD I  8 BUILD_NUM
            ACD C  9 CONCAT_FLAG
            ACD C 10 COUNTY_NAME
            ..
            ..
            [lines deleted]
            ..
            ..
            ACD C 60 SETTLEMENT
            ACD C 61 DATE_OF_SURV
            ACD C 62 TYPE_OF_CONSTR
            ACD C 63 THOROUGHFARE
            ACD C 64 CITFTEXT
            ACD C 65 UORN


            [1mChanging[0m [1mFeature[0m [1mCodes[0m [1mDuring[0m [1mTranslation[0m

            NTF2I allows feature codes to be changed  during  translation  through
            the  use of a feature code lookup table parameter file.  This facility
            is invoked by  using  the  /FCLOOKUP  qualifier.   It  is  useful  for
            converting  CITF feature codes which are invalid in IFF (i.e.  greater
            than  32767)  into  valid  IFF  feature  codes.   Refer  to  the  DATA
            PREPARATION section for details of how to set up a feature code lookup
            table.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-16
  UTILITY NTF2I                                                       4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m


  $ [1mMOUNT/FOREIGN[0m [1mMSA0:<CR>[0m
  $ [1mNTF2I/LOG/OUTPUT=TRANSYL[0m [1mMSA0:<CR>[0m
  %NTF2I-I-NTFOPEN, NTF file MSA0 opened
  %LSLLIB-I-LOGOPNOUT, log file TRANSYL.LOG opened for write

  %NTF2I-I-MISC, creating temporary files
  %NTF2I-I-MISC, closing temporary files
  %NTF2I-I-MISC,     18 records read
  %NTF2I-I-MISC, reading from temporary files
  %NTF2I-I-NTFDATA, NTF data at level 1, version  1.1
  %NTF2I-I-MISC, closing and deleting temporary files

  %NTF2I-I-MISC, creating temporary files
  %NTF2I-I-MISC, closing temporary files
  %NTF2I-I-MISC,   1304 records read
  %NTF2I-I-MISC, reading from temporary files
  %LSLLIB-I-IFFOPENED, LSL$DATAROOT:[CONVERT.IFF]SHEET1.IFF;1 opened for write
  %NTF2I-I-MISC, closing and deleting temporary files

  %NTF2I-I-MISC, creating temporary files
  %NTF2I-I-MISC, closing temporary files
  %NTF2I-I-MISC,   2243 records read
  %NTF2I-I-MISC, reading from temporary files
  %LSLLIB-I-IFFOPENED, LSL$DATAROOT:[CONVERT.IFF]SHEET2.IFF;1 opened for write
  %NTF2I-I-MISC, closing and deleting temporary files

  %NTF2I-I-MISC, creating temporary files
  %NTF2I-I-MISC, closing temporary files
  %NTF2I-I-MISC,    445 records read
  %NTF2I-I-MISC, reading from temporary files
  %LSLLIB-I-IFFOPENED, LSL$DATAROOT:[CONVERT.IFF]SHEET3.IFF;1 opened for write
  %NTF2I-I-MISC, closing and deleting temporary files

   ELAPSED:    0 00:04:03.68  CPU: 0:01:23.11  BUFIO: 20  DIRIO: 981  FAULTS: 191
  $ [1mTYPE[0m [1mTRANSYL.LOG<CR>[0m
  ================================== N T F 2 I ===================================

  NTF2I invoked by TONY using terminal RTA2: at  3-JUL-1989 11:59:12.52

  Command line:

  NTF2I/LOG/OUTPUT=TRANSYL MSA0: 

  ================================================================================

  Volume header record:
          Data sent by     "Laser-Scan Labs     "
          Data sent to     "Transylvanian Water "
          Date of transfer "19890703" (ie 03/7/1989)
          NTF level          1
          NTF version        1.1
  // NTF data output by Laser-Scan's CONVERT utility I2NTF                       


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-17
  UTILITY NTF2I                                                       4 March 1997


  Database header data:
          Database name         "Transylvanian Water "
          Data dictionary       "DEFAULT01.10       "
          Database date         "19890401" (ie 01/04/1989)
          Classification scheme "                    "
          Classification date   "00000000" (ie 00/00/0000)
          Data quality report   "                    "
          Data quality date     "00000000" (ie 00/00/0000)
  //                                                                             
  // IFF file        LSL$IF:SHEET1.IFF;0                                        
  // Spheroid        Airy                                                        
  // Projection        UK national grid                                          
  // Scale           2500                                                        
  // Units           metres                                                      
  // Height data     feet                                                        
  //                                                                             
  // IFF file        LSL$IF:SHEET2.IFF;0                                    
  // Spheroid        Airy                                                        
  // Projection        UK national grid                                          
  // Scale           2500                                                        
  // Units           metres                                                      
  // Height data     feet                                                        
  //                                                                             
  // IFF file        LSL$IF:SHEET3.IFF;0                                     
  // Spheroid        Airy                                                        
  // Projection        UK national grid                                          
  // Scale           1250                                                        
  // Units           metres                                                      
  // Height data     feet                                                        
  Volume termination record:
          End of volume                                                       

            In this example the user mounts the magnetic tape on drive MSA0:,  and
            runs  NTF2I.   The program reads the sections from tape into temporary
            files which are then processed to produce IFF files with  names  taken
            from  the section header's section reference.  The temporary files are
            deleted after they  have  been  processed.   An  output  log  file  is
            produced in TRANSYL.LOG, and this is typed to show its contents.

  $ [1mNTF2I/OS/LOG/OUTPUT=SYS$OUTPUT:[0m [1mMSA0:<CR>[0m
  %LSLLIB-I-LOGOPNOUT, log file SYS$OUTPUT:NTF2I.LOG opened for write
  ================================== N T F 2 I ===================================

  NTF2I invoked by TONY using terminal RTA2: at  3-JUL-1989 11:54:01.80

  Command line:

  NTF2I/OS/LOG/OUTPUT=SYS$OUTPUT: MSA0: 

  ================================================================================

  %NTF2I-I-NTFOPEN, NTF file MSA0 opened
  %NTF2I-I-MISC, creating temporary files
  %NTF2I-I-MISC, closing temporary files
  %NTF2I-I-MISC,   25 records read
  %NTF2I-I-MISC, reading from temporary files


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-18
  UTILITY NTF2I                                                       4 March 1997


  %NTF2I-I-NTFDATA, NTF data at level 1, version  1.1

  Volume header record:
          Data sent by     "Laser-Scan Labs     "
          Data sent to     "Ordnance Survey (GB)"
          Date of transfer "1989703" (ie 03/07/1989)
          NTF level          1
          NTF version        1.1
  // NTF data output by Laser-Scan's CONVERT utility I2NTF                       
  Database header data:
          Database name         "Ordnance Survey (GB)"
          Data dictionary       "DEFAULT01.10       "
          Database date         "19890401" (ie 01/04/1989)
          Classification scheme "                    "
          Classification date   "00000000" (ie 00/00/0000)
          Data quality report   "                    "
          Data quality date     "00000000" (ie 00/00/0000)
  %NTF2I-I-MISC, closing and deleting temporary files

  %NTF2I-I-MISC, creating temporary files
  %NTF2I-I-MISC, closing temporary files
  %NTF2I-I-MISC,   2243 records read
  %NTF2I-I-MISC, reading from temporary files
  //                                                                             
  // IFF file        LSL$IF:COSCODES.IFF;0                                     
  // Spheroid        Airy                                                       
  // Projection        UK national grid                                          
  // Scale           1250                                                        
  // Units           metres                                                      
  // Height data     metres                                                      
  // Section header record contains OS(GB) map header data                       

  %LSLLIB-I-IFFOPENED, LSL$DATAROOT:[CONVERT.IFF]OSCODES.IFF;1 opened for write
  Volume termination record:
          End of volume                                                         
  %NTF2I-I-MISC, closing and deleting temporary files
   ELAPSED:    0 00:00:45.81  CPU: 0:00:35.65  BUFIO: 44  DIRIO: 360  FAULTS: 100

            In this example, the /OS qualifier has been used to indicate  that  OS
            (GB)  map header data is expected in the section header record, and is
            to be used to create an OS style map header entry  in  the  IFF  file.
            Note the use of /OUTPUT to produce the descriptive data about the tape
            interleaved with the /LOG informational messages.

  $ [1mNTF2I/LOG[0m [1mLSL$DATA_ROOT:[CONVERT.NTF]TEXT<CR>[0m
  %NTF2I-I-NTFOPEN, NTF file LSL$DATA_ROOT:[CONVERT.NTF]TEXT.NTF opened

  %NTF2I-I-MISC, creating temporary files
  %NTF2I-I-MISC, closing temporary files
  %NTF2I-I-MISC,   15 records read
  %NTF2I-I-MISC, reading from temporary files
  %NTF2I-I-NTFDATA, NTF data at level 1, version  1.1
  %NTF2I-I-MISC, closing and deleting temporary files

  %NTF2I-I-MISC, creating temporary files
  %NTF2I-I-MISC, closing temporary files


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-19
  UTILITY NTF2I                                                       4 March 1997


  %NTF2I-I-MISC,   2243 records read
  %NTF2I-I-MISC, reading from temporary files
  %LSLLIB-I-IFFOPENED, LSL$DATAROOT:[CONVERT.IFF]CCB2MD.IFF;1 opened for write
  %NTF2I-I-MISC, closing and deleting temporary files
   ELAPSED:    0 00:00:32.94  CPU: 0:00:08.59  BUFIO: 7  DIRIO: 133  FAULTS: 138 

            In this example, the NTF data is in a text file on disk.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-20
  MESSAGES (SUCCESS)                                                  4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(SUCCESS)[0m

  These messages are used to indicate that the program has succeeded in performing
  some action, and do not require any user action.

  NORMAL, NTF2I function return was TRUE (ie success)

      [1mExplanation:[0m  This message is used internally by NTF2I to indicate whether a
      subroutine has completed successfully or not.

      [1mUser[0m [1maction:[0m  None.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-21
  MESSAGES (INFORMATIONAL)                                            4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  ABASECHREC, abandoning this part of the section header record

      [1mExplanation:[0m  This message is output after an error in reading one of the OS
      specific  fields  in the section header record.  The current physical record
      will be abandoned, and the program will attempt  to  continue.   This  means
      that  some  of the fields in the section header will not have been read, and
      will thus not be inserted into the map header entry in the IFF file.

      [1mUser[0m [1maction:[0m  Investigate the cause of the original message, and check  that
      the IFF file produced is sensible (using OSMHED) before using it further.

  ATTFILCLO, attribute file "%S" closed

      [1mExplanation:[0m  This message  is  output  when  the  /ATTRIBUTE_FILE  file  is
      closed, if /LOG was specified.

      [1mUser[0m [1maction:[0m  None.

  ATTFILOPN, attribute file "%S" opened for read

      [1mExplanation:[0m  This message is  output  when  the  /ATTRIBUTES_FILE  file  is
      opened, if /LOG was specified.

      [1mUser[0m [1maction:[0m  None.

  ATTIGN, attribute will not be translated

      [1mExplanation:[0m  This message is output to confirm that the attribute mentioned
      in the earlier warning message will not be translated.

      [1mUser[0m [1maction:[0m  Depends on associated messages.

  CITFDATA, CITF data at NTF level %N, based on NTF version %F5.2

      [1mExplanation:[0m  This message is output to confirm the form of CITF being read,
      if the user has specified the /LOG qualifier.

      [1mUser[0m [1maction:[0m  None.

  DATAMODEL, Data Model field in DBHREC is "%S", not 2

      [1mExplanation:[0m  This message is output to when a Data Model other than  2  was
      found  in the Database Header Record.  If the /CONTINUE qualifier was given,
      the program will continue and attempt to process the file, otherwise it will
      halt.

      [1mUser[0m [1maction:[0m  Use the /CONTINUE qualifier to try and  continue  reading  the
      file if required.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-22
  MESSAGES (INFORMATIONAL)                                            4 March 1997


  EORCONFL, EOR field does not match actual record terminator

      [1mExplanation:[0m  The EOR field in the VOLHREC record does not  match  with  the
      character  at  the  end  of  the line [position 65].  The actual end of line
      character is being used as EOR

      [1mUser[0m [1maction:[0m  correct the EOR field or the actual EOR characters

  LUTFILCLO, FC lookup table file 'file-spec' closed

      [1mExplanation:[0m  This message is output when the FC lookup table file specified
      by /FCLOOKUP is closed.

      [1mUser[0m [1maction:[0m  None.

  LUTFILOPN, FC lookup table file 'file-spec' opened for read

      [1mExplanation:[0m  This message is output when the FC lookup table file specified
      by /FCLOOKUP is opened.

      [1mUser[0m [1maction:[0m  None.

  MHLEN, Type 4 MH longer than defined in lookup - actually %N bytes

      [1mExplanation:[0m  This message is output when more lines  were  written  to  the
      type  4  Map Header than space was defined for in the lookup table.  In this
      case, as many lines were written to header as there actually  were  and  the
      value taken from the lookup table is ignored.

      [1mUser[0m [1maction:[0m  Prevent this message by defining  the  header  length  in  the
      lookup  table  to  be large enough to accomodate all [FEATCLASS], [SECHREC],
      [MANINFREC], [EXTREC] and [TRANSFORM] records in the CITF file.

  MNEM, problem encountered with mnemonic "%S"

      [1mExplanation:[0m  This message is  use  to  accompany  others  and  denotes  the
      attribute mnemonic which caused the problem.

      [1mUser[0m [1maction:[0m  None.

  NOSTRUC, output will be an unstructured IFF file

      [1mExplanation:[0m  This message confirms that  it  is  only  possible  to  output
      unstructured  data,  even  if  the input data is NTF level 3.  Records which
      define the structure of the data,  such  as  nodes  and  polygons,  will  be
      ignored.

      [1mUser[0m [1maction:[0m  None.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-23
  MESSAGES (INFORMATIONAL)                                            4 March 1997


  NTFDATA, NTF data at level %N, version %F5.2

      [1mExplanation:[0m  This message is output to confirm the form of NTF being  read,
      if the user has specified the /LOG qualifier.

      [1mUser[0m [1maction:[0m  None.

  NTFOPEN, NTF file %S opened

      [1mExplanation:[0m  This message is output when NTF data is being read from a file
      on disk, if the user has specified the /LOG qualifier.

      [1mUser[0m [1maction:[0m  None.

  POSERR, errors may occur as a result

      [1mExplanation:[0m  This message is output after other messages to  indicate  that
      something unexpected has arisen and that the results may be unreliable.

      [1mUser[0m [1maction:[0m  None.

  RETRY, attempting to read another record

      [1mExplanation:[0m  the previous that was read had an unrecognised RECDESCR field.
      NTF2I  is  skipping  over  it  and attempting to read a record in its place.
      possible that the RECDESCR field is valid, but that it is not recognised  by
      the current version of NTF2I

      [1mUser[0m [1maction:[0m  check the NTF file at the record number specified.  if a badly
      formed  record is found attempt to fix it manually.  Otherwise contact Laser
      Scan for further advice

  TRUNCATED, feature has been truncated - first %N points retained

      [1mExplanation:[0m  This message is output after the TOOMNYPTS error message.

      [1mUser[0m [1maction:[0m  As for the TOOMNYPTS error message.

  USENAME, using IFF name "%S"

      [1mExplanation:[0m  This message is output after the NOTVMSNAME  warning  message,
      to indicate what IFF filename is being used for the current section.

      [1mUser[0m [1maction:[0m  None.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-24
  MESSAGES (WARNING)                                                  4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  ANCIGN, VALUE field of type "%S" ignored, record %N

      [1mExplanation:[0m  This message is output when the program ignores a VALUE  field
      from  a  LINEREC  (linear feature) or POINTREC (symbol feature) record.  The
      program recognises the "OR" (orientation) and "HT"  (height)  value  fields,
      and ignores all others.

      [1mUser[0m [1maction:[0m  None.

  ATTCOMDEF, ATTCOM record %S already defined

      [1mExplanation:[0m  The reported ATTCOM mnemonic was already be  defined  in  this
      volume  and  a  subsequent one of the same name was found.  The first one is
      used.

      [1mUser[0m [1maction:[0m  Ensure that the ATTCOM  records  in  the  volume  have  unique
      mnemonics.

  ATTCOMREC, ATTCOM %S recursively defined

      [1mExplanation:[0m  The reported ATTCOM  mnemonic  was  defined  as  containing  a
      component  which  was  itself.  Recursive definitions for ATTCOM records are
      not permitted.  The ATTCOM record has been ignored.

      [1mUser[0m [1maction:[0m  Ensure that no ATTCOM records contain recursive definitions.

  ATTCOMTWO, ATTCOM %S must be made of at least 2 other attributes

      [1mExplanation:[0m  The reported ATTCOM mnemonic was defined  in  this  volume  as
      have less than two constituent attributes which define it.

      [1mUser[0m [1maction:[0m  Ensure that  the  ATTCOM  records  consist  of  at  least  two
      attributes.

  ATTCOORDNUM, ACRDREC point number %N too large for feature, FSN %N

      [1mExplanation:[0m  The point number of an ACRDREC record denoting the  coordinate
      to  which  the  attributes  should be attached is greater than the number of
      points held in the [GEOMETRY*] record.  This will result in the whole ARDREC
      being ignored.

      [1mUser[0m [1maction:[0m  Check the data and ensure that all ACRDREC point  numbers  are
      less  than or equal to the number of coordinates in the previous [GEOMETRY*]
      record.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-25
  MESSAGES (WARNING)                                                  4 March 1997


  ATTDESCIGN, ATTDESC record ignored

      [1mExplanation:[0m  For an attribute descriptor to be read from an  NTF  file  and
      decoded,  both  an  FRT  and an attribute file are required.  One or both of
      these were absent so the record was ignored

      [1mUser[0m [1maction:[0m  If attribute transfer is required then an  FRT  and  attribute
      file should be given

  ATTNOTTRA, Attribute %S will not be translated

      [1mExplanation:[0m  The IFF attribute name given was not found in the FRT  and  so
      will not be translated into NTF

      [1mUser[0m [1maction:[0m  Check the spelling of the name in the attribute file  and  add
      the ACD entry to the FRT if required

  BADCITFVER, DDNAME "%S" is not defined as CITF version 1.0

      [1mExplanation:[0m  The DDNAME field of the database header record does define the
      file  as  being  CITF  but  not  of  version  1.0.  This is the only version
      supported by NTF2I at present.  If the /CONTINUE qualifier  was  given,  the
      program  will  continue  and  attempt to process the file, otherwise it will
      halt.

      [1mUser[0m [1maction:[0m  Check that the file is really a CITF file of  version  1.0  or
      use  the  /CONTINUE  qualifier  to  try  and  continue  reading  the file if
      required.

  BADDIVIDER, illegal field divider "%S" found - default used

      [1mExplanation:[0m  The volume header record contains a  field  for  the  user  to
      specify the character to be used as a field divider.  The character found in
      this field was not a sensible choice as it would clash either with data held
      in  the  fields or the end of record marker.  The default divider of "" will
      be assumed and the program will attempt to continue.

      [1mUser[0m [1maction:[0m  Consult the donor to find out why  an  illegal  character  was
      used.

  BADFRTMAX, bad value in LSL$FRT_FRTMAX, default of 'integer' used

      [1mExplanation:[0m  LSL$FRTFRTMAX did not contain an integer value.  This  logical
      is used to set the maximum size of the FC lookup table.  Default value used.

      [1mUser[0m [1maction:[0m  Define LSL$FRTFRTMAX to hold an integer value.

  BADLUTLIN, line 'integer' in 'file-spec' invalid

      [1mExplanation:[0m  The FC lookup table file contains an invalid line.

      [1mUser[0m [1maction:[0m  Check the FC lookup table file.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-26
  MESSAGES (WARNING)                                                  4 March 1997


  BADTIME, unable to translate time attribute

      [1mExplanation:[0m  An NTF attribute type was associated with an IFF  AC  of  type
      time  in the attribute file.  As time is not a recognised NTF field type the
      program assumed VMS format i.e.  hh:mm:ss.ss, the time was not, however,  in
      this  form  and  an  error  occurred.   No  further  attempt will be made to
      translate this attribute

      [1mUser[0m [1maction:[0m  None.

  BADVALUE, illegal value 'number' for qualifier 'name'

      [1mExplanation:[0m  The value given was out  of  the  range  appropriate  for  the
      qualfier shown.

      [1mUser[0m [1maction:[0m  Respecify the qualifer with a correct value.

  BADXMAX, Range conflict - NTF XMAX is %L%I0, coords XMAX is %L%I0

      [1mExplanation:[0m  The XMAX value in the NTF header section does not reflect  the
      maximum X coordinate in the NTF file.  The XMAX value is intended as a guide
      to the user and should not include the X_ORIG offset as defined by  the  NTF
      1.1 specification.

      [1mUser[0m [1maction:[0m  This warning can usually be ignored as the range (RA) entry in
      the  IFF  file is written correctly and will reflect exactly the coordinates
      of every feature in the IFF  file.   If  it  appears  that  the  XMAX  value
      includes  the origin offset, X_ORIG, then Laser-Scan suggest that you notify
      the donor of the NTF data as to the nature of the problem.

  BADXMIN, Range conflict - NTF XMIN is %L%I0, coords XMIN is %L%I0

      [1mExplanation:[0m  The XMIN value in the NTF header section does not reflect  the
      minimum X coordinate in the NTF file.  The XMIN value is intended as a guide
      to the user and should not include the X_ORIG offset as defined by  the  NTF
      1.1 specification.

      [1mUser[0m [1maction:[0m  This warning can usually be ignored as the range (RA) entry in
      the  IFF  file is written correctly and will reflect exactly the coordinates
      of every feature in the IFF  file.   If  it  appears  that  the  XMIN  value
      includes  the origin offset, X_ORIG, then Laser-Scan suggest that you notify
      the donor of the NTF data as to the nature of the problem.

  BADYMAX, Range conflict - NTF YMAX is %L%I0, coords YMAX is %L%I0

      [1mExplanation:[0m  The YMAX value in the NTF header section does not reflect  the
      maximum Y coordinate in the NTF file.  The YMAX value is intended as a guide
      to the user and should not include the Y_ORIG offset as defined by  the  NTF
      1.1 specification.

      [1mUser[0m [1maction:[0m  This warning can usually be ignored as the range (RA) entry in
      the  IFF  file is written correctly and will reflect exactly the coordinates
      of every feature in the IFF  file.   If  it  appears  that  the  YMAX  value
      includes  the origin offset, Y_ORIG, then Laser-Scan suggest that you notify
      the donor of the NTF data as to the nature of the problem.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-27
  MESSAGES (WARNING)                                                  4 March 1997


  BADYMIN, Range conflict - NTF YMIN is %L%I0, coords YMIN is %L%I0

      [1mExplanation:[0m  The YMIN value in the NTF header section does not reflect  the
      minimum Y coordinate in the NTF file.  The YMIN value is intended as a guide
      to the user and should not include the Y_ORIG offset as defined by  the  NTF
      1.1 specification.

      [1mUser[0m [1maction:[0m  This warning can usually be ignored as the range (RA) entry in
      the  IFF  file is written correctly and will reflect exactly the coordinates
      of every feature in the IFF  file.   If  it  appears  that  the  YMIN  value
      includes  the origin offset, Y_ORIG, then Laser-Scan suggest that you notify
      the donor of the NTF data as to the nature of the problem.

  BOTHATTFRT, both /FRT and /ATTRIBUTE are required for attribute transfer

      [1mExplanation:[0m  If attributes are to  be  transferred  to  NTF  then  both  an
      attribute  file and an FRT are required.  Only one of these was given on the
      command line so attributes will not be translated

      [1mUser[0m [1maction:[0m  The command line should  be  re-entered  giving  both  of  the
      required files

  COLLECT, collect records ignored - not supported

      [1mExplanation:[0m  This message is output when a COLLECT record  is  encountered.
      The current version of the program does not output structured data, and will
      ignore the relevant NTF level 3 records.

      [1mUser[0m [1maction:[0m  None.

  CPOLYGON, complex polygon records ignored - not supported

      [1mExplanation:[0m  This message is output when a  CPOLY  record  is  encountered.
      The current version of the program does not output structured data, and will
      ignore the relevant NTF level 3 records.

      [1mUser[0m [1maction:[0m  None.

  CURVTEXT, curved text record ignored - not supported - record %N

      [1mExplanation:[0m  This message is output when a CURVTEXT record is  encountered.
      The  current  version  of  the  program  does  not  support  the curved text
      datatype, and will ignore the relevant record, and  its  associated  NAMEREC
      record(s).

      [1mUser[0m [1maction:[0m  None.

  FCTOOLARGE, FC %N is too large, maximum limit is 32767

      [1mExplanation:[0m  The FC in a CITF96 record for this feature is too large,  i.e.
      it exceeds the IFF limit of 32767.  It will be set to 0.  Note that this may
      have the wrong graphical type for output.

      [1mUser[0m [1maction:[0m  Ensure that the CITF96 file does  not  include  feature  codes
      which  exceed  the  limit, or use /FCLOOKUP to translate to values below the
      limit.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-28
  MESSAGES (WARNING)                                                  4 March 1997


  FEATATT, Feature level attribute %S undefined in ACD

      [1mExplanation:[0m  The reported feature level attribute was not defined  the  the
      ACD  part  of  the  given FRT.  This attribute is one of the default feature
      level ones for CITF and any occurrences in the CITF file will not be written
      to the IFF file as an AC.

      [1mUser[0m [1maction:[0m  If the reported attribute is required to be in the IFF file as
      an  AC,  then ensure that a correct definition of the attribute is given the
      ACD part of the FRT file.

  FIELDTOOLONG, text field truncated in record %N

      [1mExplanation:[0m  The attribute text read from an ATTREC in the given record was
      longer  than  expected  and  was  truncated.   The expected length was taken
      either from the attribute description or, if free format was  specified,  as
      the maximum IFF text length of 255 characters

      [1mUser[0m [1maction:[0m  None.

  FONT, text font not in range %N-%N - value %N replaced by 1, record %N

      [1mExplanation:[0m  The NTF text font is stored in the IFF  text  category.   This
      means  that  only  values  in  the range 0 to 63 can be accepted.  Any value
      outside this range will produce this message, and result in category 1 being
      used.

      [1mUser[0m [1maction:[0m  None.

  ILLEGAL, Record 'descriptor' should not be present in NTF v2.0 (BS7567)

      [1mExplanation:[0m  The British Standard BS7567 for NTF v2.0  specifies  that  the
      record reported should not be present in the the file, based on the level.

      [1mUser[0m [1maction:[0m  The record is ignored but you should notify the donor  of  the
      data of the problem.

  INCOMPUNITS, Incompatible units between DT attribute and XY_UNITs

      [1mExplanation:[0m  The DT (distance) attribute is defined as being in cm  on  the
      ground whereas the XY_UNITS field of the SECHREC is set to degrees (1).  The
      distance is converted to feet if XY_UNIT is set to 3  but  for  degrees,  no
      such conversion is done and the point is output with one point.

      [1mUser[0m [1maction:[0m  Since it is usual that CITF data will be held in metres,  this
      message should not occur.

  INCONT, skipping bad record encountered while seeking continuation record

      [1mExplanation:[0m  A record was flagged  as  being  followed  by  a  continuation
      record, which, when read was invalid.

      [1mUser[0m [1maction:[0m  Check that the input file is not  corrupt  and  contains  only
      valid records.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-29
  MESSAGES (WARNING)                                                  4 March 1997


  INVISIBLE, Invisible line section found in GEOMETRY record, id "%S", record %N

      [1mExplanation:[0m  An invisible line section (indicated by QPLAN=0) was found  in
      the  specified  GEOMETRY  record.  However the output of invisible lines has
      not been implemented in this version of the conversion program.   The  value
      of QPLAN will be ignored and the line will be output as a visible line.

      [1mUser[0m [1maction:[0m  Contact Laserscan to request the implementation  of  invisible
      lines.

  LINEINATT, Error decoding line in attribute file

      [1mExplanation:[0m  The line given in the  following  message  was  found  in  the
      attribute file but could not be decoded.

      [1mUser[0m [1maction:[0m  The line should be changed to contain valid commands

  NESTATTS, Too many nested attributes in ATTCOM %S.  Limit is %N

      [1mExplanation:[0m   The  reported  ATTCOM  mnemonic  contained   other   combined
      attributes  which when expanded caused the limit to be exceed.  The combined
      attribute being defined will be ignored since the total number of  contained
      attributes  must  be  known.  When the program attempts to read any combined
      attributes of this name, because its total length is not known and cannot be
      skipped over, attributes may be lost.

      [1mUser[0m [1maction:[0m  It is advisable not to permit the  program  to  continue  when
      this  message  occurs  as  attributes  may  be lost.  Ensure that all of the
      combined attributes will not have more  components  than  permitted  by  the
      limit.   If  this  limit is too restricting, please contact Laser-Scan about
      the  possibility  of  having  it  increased.   Alternatively  any   combined
      attributes can be divided into ones containing fewer components.

  NOACCODE, Attribute "%S" lost.  Not defined in ACD and attribute file

      [1mExplanation:[0m  This message occurs when an attribute in an ATTREC or  ACRDREC
      record  was not defined in both the ACD part of the FRT and in the attribute
      file which implies that no AC code is known for attribute in IFF  form.   It
      is  usual  that the default CITF attributes should be present in the ACD and
      attribute file.  If the reported attribute is DT or OR, this may  result  in
      scaled symbols having their distance and orientation attributes lost.

      [1mUser[0m [1maction:[0m  If the reported attribute is not required in  the  output  IFF
      file  then  this warning can be ignored, otherwise ensure that the attribute
      has an entry in the ACD part of the FRT and in the attribute file.

  NOATTR, Attribute records are not allowed at level 1

      [1mExplanation:[0m  An attribute file was given in the command file but at level 1
      NTF has no attribute descriptor record to store this information so the file
      was not read

      [1mUser[0m [1maction:[0m  If attribute transfer is required use level NTF 2


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-30
  MESSAGES (WARNING)                                                  4 March 1997


  NOCOMPARE, Comparison FC not found for long code 'long code' - FC set to 0

      [1mExplanation:[0m  An  LC  or  ST  feature  code  has  been  read  for  which  no
      corresponding  FC  can  be  found.  This indicates an error in the FEATCLASS
      records.  Feature code will be set to 0 and the program will continue.

      [1mUser[0m [1maction:[0m  The data should be amended appropriately.

  NODE, [NODEREC] records are being ignored

      [1mExplanation:[0m  This message is output when a NODEREC  record  is  encountered
      and  the  data  being read is not OSCAR.  The current version of the program
      does not output structured data, and will ignore the relevant  NTF  level  3
      records.   However, when the /OSCAR qualifier is given, NODEREC records will
      be read in order to transfer level information to the lines as attributes.

      [1mUser[0m [1maction:[0m  None.

  NODIVIDER, no field divider found in record descriptor %S

      [1mExplanation:[0m  In the record specified a divider was expected but not  found.
      The program will attempt to continue but some data may be lost.

      [1mUser[0m [1maction:[0m  Consult the donor to find out why no delimiter was included.

  NOLEFTPOS, no lower left coordinates for text feature %N

      [1mExplanation:[0m  If /LOWER_LEFT is specified, the  lower  left  coordinates  of
      text  features  should  be transferred.  If such coordinates are not present
      the  above  message  will  appear  and  the  required  coordinates  will  be
      calculated as per the Ordnance Survey digitising specification.

      [1mUser[0m [1maction:[0m  None.

  NOSUPPORT, POLYGON records not supported at version 2.0

      [1mExplanation:[0m  This message is output when a POLYGON record is encountered in
      an  NTF version 2.0 (BS 7567) file.  The current version of the program does
      not read polygon data and will ignore the relevant NTF level 3 records.

      [1mUser[0m [1maction:[0m  None.

  NOTCITF, DDNAME "%S" is not defined as CITF

      [1mExplanation:[0m  The DDNAME field of the database header record did not contain
      the string 'CITF' denoting the file as CITF.  If the /CONTINUE qualifier was
      given, the program will continue and attempt to process the file,  otherwise
      it will halt.

      [1mUser[0m [1maction:[0m  Check that the file is really a CITF file and  if  the  DDNAME
      does  not  contain  the string, then use the /CONTINUE qualifier to continue
      reading the file if required.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-31
  MESSAGES (WARNING)                                                  4 March 1997


  NOTRANS, unknown attribute type "%S" encountered

      [1mExplanation:[0m  The specified NTF attribute mnemonic was  found  but  had  not
      previously  been  defined in the attribute file.  This attribute will not be
      translated

      [1mUser[0m [1maction:[0m  If this attribute is required  then  it  should  be  included,
      together with an IFF destination, in the attribute file.

  NOTVMSNAME, section reference "%S" not valid as an IFF name

      [1mExplanation:[0m  If the IFF name found in the  section  header  record  is  not
      acceptable as a VMS filename, then this message is output.  The program will
      attempt to produce a replacement  filename,  and  will  output  the  USENAME
      information message to confirm the name it has chosen.

      [1mUser[0m [1maction:[0m  None.

  NOTX, No TX mnemonic in ATTREC with ID %N - text feature deleted

      [1mExplanation:[0m  At NTF v2.0, level 3, text records point to  an  ATTREC  which
      contains  the  actual  text  string.   It  is  expected to be present in the
      attribute with mnemonic 'TX' and one was not found.

      [1mUser[0m [1maction:[0m  Ensure that the attribute holding the actual text string is  a
      variable  length  field  (terminated  by a divider) and is called 'TX'.  The
      definition of this must exist in the ACD part of the FRT and  the  attribute
      file.

  NTF28NOTTRN, OS or CITF data text FC 28 not translated

      [1mExplanation:[0m  When using an FC lookup  table  with  OS  or  CITF  data,  any
      attempt  to  translate  the  NTF/CITF FC of a text feature having FC = 28 is
      blocked by the program.  This is to avoid problems when using the  IFF  file
      and translating back to NTF/CITF.

      [1mUser[0m [1maction:[0m  The user may wish to delete the NTF FC 28 entry  from  the  FC
      lookup file.

  NTFDATE, unknown NTF version date "%S"

      [1mExplanation:[0m  In addition to NTF version numbers ( e.g.  v1.1 ) there exists
      a  version date.  If minor changes are made to an NTF format then a new date
      will be given and version numbers will be reserved for major  updates.   The
      version  date of the NTF file being read was unknown at time of coding.  The
      program will attempt to continue, although it is possible some data  may  be
      lost.

      [1mUser[0m [1maction:[0m  Consult Laser-Scan to determine the effect of the new version.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-32
  MESSAGES (WARNING)                                                  4 March 1997


  NTFFCDUPL, FC 'integer' from input file translated as IFF FC 'integer'

      [1mExplanation:[0m  There is a duplicate NTF  feature  code  in  the  lookup  file
      specified  with  /FCLOOKUP, making the translation ambiguous.  The NTF FC is
      translated into the smallest IFF FC with  which  it  is  associated  in  the
      lookup file.

      [1mUser[0m [1maction:[0m  You may wish to eliminate duplicate NTF FCs from the FC lookup
      file, but the translation to and from IFF will still work.

  POINTATT, Per-Point attribute %S undefined in ACD

      [1mExplanation:[0m  The reported per-point attribute was not defined the  the  ACD
      part  of the given FRT.  This attribute is one of the default per-point ones
      for CITF and any occurrences in the CITF file will not be written to the IFF
      file as an AC.

      [1mUser[0m [1maction:[0m  If the reported attribute is required to be in the IFF file as
      an  AC,  then ensure that a correct definition of the attribute is given the
      ACD part of the FRT file.

  POLYGON, polygon records not supported - replaced by cline records

      [1mExplanation:[0m  This message is output when a POLYGON record  is  encountered.
      The current version of the program does not output structured data, and thus
      will output any polygons as complex line features.

      [1mUser[0m [1maction:[0m  None.

  SHORTSECH, not enough continuation lines for SECHREC record

      [1mExplanation:[0m  The NTF standard specifies that the section header  record  is
      at  least  two  records  long  and  two optional continuation records.  This
      message is output if  the  section  header  is  shorter  than  the  standard
      requires.  The program will attempt to continue.

      [1mUser[0m [1maction:[0m  Report the problem to the donor of the data.

  STRTOOLONG, NTF mnemonic too long, truncated to %S

      [1mExplanation:[0m  The NTF attribute mnemonic given in the attribute file was too
      long and was truncated to 2 characters

      [1mUser[0m [1maction:[0m  If the truncated version is unacceptable  then  the  attribute
      file should be edited and a two character mnemonic inserted

  TOOMNYATTCOMS, too many ATTCOM records, maximum is %N

      [1mExplanation:[0m  The current limit on the number of  ATTCOM  records  has  been
      exceeded.

      [1mUser[0m [1maction:[0m  If the preset limit seem restricting,  consult  Laser-Scan  to
      have them increased.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-33
  MESSAGES (WARNING)                                                  4 March 1997


  TOOMNYREC, too many %S records,maximum is %N

      [1mExplanation:[0m  Since NTF level 3 can contain  records  in  any  order  it  is
      necessary  to store the contents of certain records in various arrays.  Thus
      there is a preset limit on the number of such records.   If  this  limit  is
      exceeded  the  program  will  attempt  to  continue by overwriting the first
      records that were stored.

      [1mUser[0m [1maction:[0m  If the preset limits seem restricting, consult  Laser-Scan  to
      have them increased.

  TYPECONFL, attribute type conflict for "%S"

      [1mExplanation:[0m  The NTF  attribute  as  defined  in  the  ATTDESC  record  was
      assigned  to  an IFF AC ( via the attribute file ) of a different type.  The
      program will attempt to convert the data.

      [1mUser[0m [1maction:[0m  If the conversion  leads  to  unacceptable  results  then  the
      attribute file should be edited to send the data to a different IFF AC.

  UNEXPREC, unexpected/unrecognised record type "%S", record %N

      [1mExplanation:[0m  Either the specified record  type  is  not  expected  in  that
      position  on  the  tape (for instance, finding a GEOMETRY1 record before the
      first SECHREC), or it is not a record type that the program recognises.   If
      this  message  follows an ERROR message, the program will exit, otherwise it
      will attempt to continue.

      [1mUser[0m [1maction:[0m  Report the problem to the donor of the data.

  UNKNCOM, Unknown command %S encountered in attribute file

      [1mExplanation:[0m  The specified command was found in  the  first  field  of  the
      attribute file.  The command is not valid and was ignored.

      [1mUser[0m [1maction:[0m  The manual should be checked and the correct command used.

  UNKNFC, unknown feature code string "%S" at record %N

      [1mExplanation:[0m  NTF2I was unable to translate the feature code into a  number.
      It will assume that the value was zero

      [1mUser[0m [1maction:[0m  None

  VOLHDCONT, unexpected continuation of VOLHDREC being ignored

      [1mExplanation:[0m  According to the NTF standard, the volume header record is not
      continuable.   OS have proposed a modified form of the standard where a form
      of sheet index is output after the volume header.  The program does not  use
      this  data,  and  will  produce  the  VOLHDCONT  warning  message  if such a
      continuation is found, and the user has not specified the /INDEX qualifier.

      [1mUser[0m [1maction:[0m  None - the continuation is ignored.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-34
  MESSAGES (ERROR)                                                    4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  ABORT, NTF2I function return was FALSE (ie error)

      [1mExplanation:[0m  This message is used internally by NTF2I to indicate whether a
      subroutine has completed successfully or not.

      [1mUser[0m [1maction:[0m  None.

  ACRDREC, error reading ACRDREC record, record %N

      [1mExplanation:[0m  An error occurred in interpreting the contents of  an  ACRDREC
      record, used to translate the per-point attributes.  The nature of the error
      will be given in the associated error messages.

      [1mUser[0m [1maction:[0m  Depends on the associated messages.

  ATTDESC, error reading ATTDESC record, id "%S", record %N

      [1mExplanation:[0m  An error occurred in interpreting the contents of  an  ATTDESC
      record,  used  to  define the contents of the ATTREC records.  The nature of
      the error will be given in the associated error messages.

      [1mUser[0m [1maction:[0m  Depends on the associated messages.

  ATTREC, error reading ATTREC record, id "%S", record %N

      [1mExplanation:[0m  An error occurred in interpreting the contents  of  an  ATTREC
      record,  used  to translate the feature attributes.  The nature of the error
      will be given in the associated error messages.

      [1mUser[0m [1maction:[0m  Depends on the associated messages.

  BADIFFFC, IFF FC 'integer' is invalid in FC lookup file

      [1mExplanation:[0m  An invalid IFF FC appeared in the  feature  code  lookup  file
      specified with /FCLOOKUP.

      [1mUser[0m [1maction:[0m  Change the IFF  FC  in  the  lookup  file  to  a  valid  value
      (0-32767).

  BADIFFNAME, error parsing IFF filespec from name "%S"

      [1mExplanation:[0m  An error occurred trying to calculate the filespec for the IFF
      file being produced.  The program will exit.

      [1mUser[0m [1maction:[0m  Depends upon the associated LSLLIB message, which should  help
      determine what the parsing error was.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-35
  MESSAGES (ERROR)                                                    4 March 1997


  BADNAMEREC, no GEOMETRY record after a NAMPOSTN

      [1mExplanation:[0m  The CITF specification states  that  for  Data  Model  2,  the
      NAMPOSTN or CURVTEXT record should be followed by a GEOMETRY record and this
      was not the case.  Since CURVTEXT records are not supporterd by NTF2I,  this
      message  will not occur if the GEOMETRY is also missing because the presence
      of the CURVTEXT will be detected first.

      [1mUser[0m [1maction:[0m  This message may suggest a corrupted or  erroneously  produced
      CITF file which should be corrected.

  BADUNIT, unknown value for XY units

      [1mExplanation:[0m  The user has specified an unrecognised value with the  /XYUNIT
      qualifier,  or  the  value  found  in  the map descriptor (MD) entry was not
      known.  The program will exit.

      [1mUser[0m [1maction:[0m  If the error was in  a  user  specification,  then  specify  a
      correct  value.   If  the  error  was in the map descriptor, then report the
      problem to Laser-Scan.

  CHAIN, error reading CHAIN record, id "%S", record %N

      [1mExplanation:[0m  An error occurred in interpreting  the  contents  of  a  CHAIN
      record,  used  to specify the links of a complex feature.  This message will
      be followed by the ERRORRD error message, and the program will exit.

      [1mUser[0m [1maction:[0m  See the ERRORRD error message.

  CLINE, error reading CLINE record, id "%S", record %N

      [1mExplanation:[0m  An error occurred in interpreting  the  contents  of  a  CLINE
      record.  This message will be followed by the ERRORRD error message, and the
      program will exit.

      [1mUser[0m [1maction:[0m  See the ERRORRD error message.

  CLOSERR, error closing file "%S"

      [1mExplanation:[0m  Some form of error occurred in closing one  of  the  input  or
      output files.  The program will exit.

      [1mUser[0m [1maction:[0m  Depends upon the associated LSLLIB messages.

  EMPTYFILE, NTF file contains no records - no output file created

      [1mExplanation:[0m  The NTF file was opened and immediately the End-of-File marker
      was  detected  indicating  that the file is empty.  Therefore no output file
      could be created.

      [1mUser[0m [1maction:[0m  Only attempt to process NTF files containing feature records.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-36
  MESSAGES (ERROR)                                                    4 March 1997


  ERRCLOATT, Error closing attribute file %S

      [1mExplanation:[0m  An error occurred while trying to close  file  specified  with
      the /ATTRIBUTE qualifier

      [1mUser[0m [1maction:[0m  Depends upon the associated error messages.

  ERROPNATT, Error opening attribute file %S

      [1mExplanation:[0m  An error occurred in  opening  the  file  specified  with  the
      /ATTRIBUTE qualifier

      [1mUser[0m [1maction:[0m  Depends upon the associated error messages.

  ERROPNFRT, Error opening FRT file %S

      [1mExplanation:[0m  An error occurred in opening the file specified with the  /FRT
      qualifier

      [1mUser[0m [1maction:[0m  Depends upon the associated error messages.

  ERRORRD, error reading the "%S" field

      [1mExplanation:[0m   This  message  is  output  to  specify  the  field  that  was
      incorrect,  and  follows a message identifying the record in which the error
      occurred.  The contents of the offending field will be output  on  the  next
      line.  The program will exit.

      [1mUser[0m [1maction:[0m  Depends upon the error, and upon the source of the  data.   It
      may  be  necessary  to  consult the donor of the data, giving details of the
      offending record and field.

  ERRRDATT, Error reading line from attribute file

      [1mExplanation:[0m  An error occurred in reading from the file specified with  the
      /ATTRIBUTE qualifier

      [1mUser[0m [1maction:[0m  Depends upon the associated error messages.

  FEATCLASS, error reading FEATCLASS record

      [1mExplanation:[0m  An error occurred in interpreting the contents of a  FEATCLASS
      record.  The program will exit.

      [1mUser[0m [1maction:[0m  Check the contents of the  FEATCLASS  record  and  correct  if
      necessary.

  FILOPEN, error opening file "%S"

      [1mExplanation:[0m  Some form of error occurred in opening one  of  the  input  or
      output files.  The program will exit.

      [1mUser[0m [1maction:[0m  Depends upon the associated LSLLIB messages.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-37
  MESSAGES (ERROR)                                                    4 March 1997


  GEOMETRY, error reading GEOMETRY record, id "%S", record %N

      [1mExplanation:[0m   An  error  occurred  in  interpreting  the  contents   of   a
      [GEOMETRY*]  record,  used  to specify the points of a linear feature.  This
      message will be followed by the ERRORRD error message, and the program  will
      exit.

      [1mUser[0m [1maction:[0m  See the ERRORRD error message.

  IFFNAME, error working out IFF name from section reference "%S"

      [1mExplanation:[0m  This message indicates that one of the system routines used in
      working  out  the  IFF  name  from the section reference failed.  It will be
      followed by an error message from the system routine, and the  program  will
      exit.

      [1mUser[0m [1maction:[0m  Depends upon the system routine error  message.   The  problem
      may need reporting to Laser-Scan.

  LINEREC, error reading LINEREC record, id "%S", record %N

      [1mExplanation:[0m  An error occurred in interpreting the contents  of  a  LINEREC
      record,  used to specify a linear feature.  This message will be followed by
      the ERRORRD error message, and the program will exit.

      [1mUser[0m [1maction:[0m  See the ERRORRD error message.

  LUTLINE, error reading line 'integer' of FC lookup file

      [1mExplanation:[0m  An error has occurred reading a line from the FC lookup  file.
      This  message will be followed by LSLLIB and system messages describing what
      went wrong.

      [1mUser[0m [1maction:[0m  Depends upon the associated messages.

  LUTTOOSMA, FC lookup file too large for the lookup table

      [1mExplanation:[0m  The specified FC lookup file contains too many entries for the
      lookup table currently being used.

      [1mUser[0m [1maction:[0m  Define LSL$FRTFRTMAX to be larger than the number  of  entries
      in the FC lookup file.

  MAGTAPE, error initialising magtape device "%S"

      [1mExplanation:[0m  An error occurred in initialising the magnetic tape drive  for
      reading.  The associated LSLLIB and system error messages should clarify the
      problem.

      [1mUser[0m [1maction:[0m  Dependent upon the associated messages.  One possible cause of
      problems is that the tape has not been mounted.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-38
  MESSAGES (ERROR)                                                    4 March 1997


  MINSECH, SECHREC must have a minimum of one continuation record

      [1mExplanation:[0m  The NTF standard specifies that the section header  record  is
      at two records long (ie one record with one continuations).  This message is
      output if the section header is shorter than  the  standard  requires.   The
      program will exit.

      [1mUser[0m [1maction:[0m  Report the problem to the donor of the data.

  NAMEREC, error reading NAMEREC record, id %N, record %N

      [1mExplanation:[0m  An error occurred in interpreting the contents  of  a  NAMEREC
      record,  used  to  specify the text of a text feature.  This message will be
      followed by the ERRORRD error message, and the program will exit.

      [1mUser[0m [1maction:[0m  See the ERRORRD error message.

  NAMPOSTN, error reading NAMPOSTN record, FC %N, record %N

      [1mExplanation:[0m  An error occurred in interpreting the contents  of  a  NAMEREC
      record,  used  to  specify  the  form  and position of a text feature.  This
      message will be followed by the ERRORRD error message, and the program  will
      exit.

      [1mUser[0m [1maction:[0m  See the ERRORRD error message.

  NILXYMULT, XY_MULT is zero - using a value of 1.0 instead

      [1mExplanation:[0m  The planimetric  coordinate  multiplication  factor  (XY_MULT)
      read from the section header record is zero.  All coordinates are multiplied
      by this value before being output.  A value of 1.0 is substituted  to  allow
      at least some form of output.  The program will attempt to continue.

      [1mUser[0m [1maction:[0m  Contact the donor of the data  to  determine  why  the  XYMULT
      value was zero.

  NILZMULT, Z_MULT is zero - using a value of 1.0 instead

      [1mExplanation:[0m  The  height  multiplication  factor  (Z_MULT)  read  from  the
      section header record is zero.  Any height values in the data are multiplied
      by this value before being output.  A value of 1.0 is substituted  to  allow
      at least some form of output.  The program will attempt to continue.

      [1mUser[0m [1maction:[0m  Contact the donor of the data to determine why the ZMULT value
      was zero.

  NOATT, ATTREC not found for current feature

      [1mExplanation:[0m  At level  3  feature  codes  are  stored  in  ATTREC  records.
      However, for the current feature, the required ATTREC cannot be found.  This
      may be because it does not exist  or  because  the  program  only  looks  at
      previous  records  and  the  next  record  when  searching  for a particular
      record.The program will exit.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-39
  MESSAGES (ERROR)                                                    4 March 1997


      [1mUser[0m [1maction:[0m  The data should be amended appropriately.

  NOATTDESC, No ATTDESC for non-default attribute, 'descriptor'

      [1mExplanation:[0m  An attribute was found which is not defined  in  an  attribute
      description  ([ATTDESC])  record  and is not a default attribute.  Since its
      interpretation and width is unknown, the next attribute  cannot  be  located
      and so the program aborted.

      [1mUser[0m [1maction:[0m  Contact the donor of the data to determine why  the  data  was
      not  in  the  expected  form.  Ensure that each attribute other than default
      ones are defined in an [ATTDESC] record, in the attribute file  and  in  the
      ACD part of the FRT.

  NOCHAIN, no CHAIN record after a CLINE

      [1mExplanation:[0m  The NTF standard requires that a chain record must  exist  for
      every cline record, the id of this chain record being specified in the cline
      record.  This message is output if the program does not  find  the  expected
      chain record.  The program will exit.

      [1mUser[0m [1maction:[0m  Contact the donor of the data to determine why  the  data  was
      not in the expected form.

  NOCITF, CITF version 'integer' not available - only 93 or 96 allowed

      [1mExplanation:[0m   This  program  only  knows   about   Ordnance   Survey   CITF
      specifications OS93 and OS96.

      [1mUser[0m [1maction:[0m  Choose one of the supported versions, or  accept  the  default
      (OS96).

  NOFC, no FC given for current feature

      [1mExplanation:[0m  At level  3  feature  codes  are  stored  in  ATTREC  records.
      However,  the  current feature does not contain such an entry in its ATTREC.
      The program will exit.

      [1mUser[0m [1maction:[0m  Contact the donor to determine why the data is incorrect.

  NOGEOM, no GEOM_ID given for current feature

      [1mExplanation:[0m  At level 3 geomid's are stored  in  point  and  line  records.
      However,  for  the  current  feature  ,  such an entry cannot be found.  The
      program will exit.

      [1mUser[0m [1maction:[0m  Contact the donor to determine why the data is incorrect.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-40
  MESSAGES (ERROR)                                                    4 March 1997


  NOGEOMETRY, no GEOMETRY record after a POINTREC/LINEREC

      [1mExplanation:[0m  The NTF standard requires that, at levels 1 and 2, a point  or
      line  record must be followed by a record or records containing the geometry
      for that point or line.  This also applies  to  CITF  Data  Model  2.   This
      message  is  output  if  the  program does not find the expected sequence of
      entries.  The program will exit.

      [1mUser[0m [1maction:[0m  Contact the donor of the data to determine why  the  data  was
      not in the expected form.

  NOIFFATT, IFF attribute name not given in attribute file

      [1mExplanation:[0m  In the attribute file the ATTRIBUTE command was given  without
      the name of an IFF attribute

      [1mUser[0m [1maction:[0m  Check the attribute file to see why this error occurred

  NONAMPOS, no NAMPOSTN record after NAMEREC record number %N

      [1mExplanation:[0m  The NTF standard requires that,  at  levels  1,  2  and  3,  a
      NAMEREC  record must have a corresponding NAMPOSTN record.  Additionally, at
      levels 1 and 2, this record must  immediately  follow  the  NAMEREC  record.
      This  message  is  output  if  the program does not find such an entry.  The
      program will exit.

      [1mUser[0m [1maction:[0m  Contact the donor of the data to determine why  the  data  was
      not in the expected form.

  NONTFATT, NTF attribute mnemonic not given in attribute file

      [1mExplanation:[0m  In the attribute file the ATTRIBUTE command was given  without
      the NTF mnemonic into which it should be put

      [1mUser[0m [1maction:[0m  Check the attribute file to see why this error occurred

  NOPOS, no position given for this NAME

      [1mExplanation:[0m  This message is output after the NAMPOSTN error if there is no
      positional  information for a text.  That is, neither the digitised position
      nor the position of the south-west corner of the text  has  been  specified.
      The program will exit.

      [1mUser[0m [1maction:[0m  Contact the donor to determine why the  text  was  incorrectly
      transferred.

  NOSCALE, Scale not known - /LOWER_LEFT ignored for text record %N

      [1mExplanation:[0m  The user has specified /LOWERLEFT on the command line and  the
      map  scale  is  required in order to calculate the lower left coordinates of
      text features.  However, the  scale  cannot  be  obtained  because  the  IFF
      filename  is  not standard OS form (e.g.  SP28NE).  The program will attempt
      to continue by outputting the text in its existing form.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-41
  MESSAGES (ERROR)                                                    4 March 1997


      [1mUser[0m [1maction:[0m  Amend the NTF file to include a standard OS filename.

  NOSECHREC, no SECHREC record found in CITF file

      [1mExplanation:[0m  The CITF file did  not  contain  a  SECHREC  record  which  is
      compulsory and so the program aborted.

      [1mUser[0m [1maction:[0m  Ensure that the CITF file contains a valid SECHREC record  and
      run the program again.

  NOTALL, no continuation - not all expected points found

      [1mExplanation:[0m  This message is output after the GEOMETRY error if  there  are
      insufficient  continuation records to contain all of the points required for
      the current feature, as indicated in  the  NUM_COORD  field  of  the  parent
      GEOMETRY1 record.  The program will exit.

      [1mUser[0m [1maction:[0m  Contact the donor to determine why the feature is  incorrectly
      transferred.

  NOTATLEVEL, entry type "%S" is not supported at level %N

      [1mExplanation:[0m  The specified NTF record descriptor belongs to a  record  that
      is not allowed at the level of NTF in this dataset.  The program will exit.

      [1mUser[0m [1maction:[0m  Contact the donor of the data to determine why the  record  is
      present,  or  why the level of the data is incorrectly flagged in the volume
      header record.

  NOTCONTINUE, continuation record not found, for %S, record %N

      [1mExplanation:[0m  The previous record contained a continuation  flag,  but  this
      record  is not a continuation record.  The NTF data is thus corrupt, and the
      program will exit.

      [1mUser[0m [1maction:[0m  Contact the donor of the data and report the problem.

  NOTERMCR, no terminating carriage return at end of record

      [1mExplanation:[0m  The NTF standard requires that, when variable  length  records
      are  used  they  must  be  terminated  with  a  carriage return.  The record
      specified in the previous record was not.

      [1mUser[0m [1maction:[0m  Contact the donor of the data to determine why  the  data  was
      not in the expected form.

  NOTVECTOR, the data in section "%S" is not vector data

      [1mExplanation:[0m  The section header for the relevant section indicates that the
      section  contains non-vector (presumably grid or raster) data.  This program
      does not translate non-vector data, and will exit.

      [1mUser[0m [1maction:[0m  Request the donor of the data to  separate  vector  and  other
      forms of data onto separate magnetic tapes.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-42
  MESSAGES (ERROR)                                                    4 March 1997


  NOVOLHDREC, first record of NTF must be volume header record

      [1mExplanation:[0m  The NTF standard specifies that the first record on  the  tape
      must  be  the  VOLHDREC  or  volume  header  record.   This error message is
      generated if this is not the case, and the program will exit.

      [1mUser[0m [1maction:[0m  Contact the donor of the data and report the problem.

  OPENERR, error opening file "%S"

      [1mExplanation:[0m  An error occurred opening the specified  file.   This  message
      will be followed by LSLLIB and system messages describing what went wrong.

      [1mUser[0m [1maction:[0m  Depends upon the associated messages.

  OUTOPEN, error opening /OUTPUT file "%S"

      [1mExplanation:[0m  An error has occurred in trying to open the log file specified
      with  the  /OUTPUT  qualifier.   The  associated  LSLLIB and system messages
      should clarify the problem.

      [1mUser[0m [1maction:[0m  Dependent upon the associated messages.

  POINTREC, error reading POINTREC record, id "%S", record %N

      [1mExplanation:[0m  An error occurred in interpreting the contents of  a  POINTREC
      record,  used to specify a symbol feature.  This message will be followed by
      the ERRORRD error message, and the program will exit.

      [1mUser[0m [1maction:[0m  See the ERRORRD error message.

  READBLK, error reading block %N from magtape

      [1mExplanation:[0m  An error has occurred in obtaining the next block of data from
      the magnetic tape.  The associated LSLLIB and system messages should clarify
      the problem.

      [1mUser[0m [1maction:[0m  Dependent upon the associated messages.

  READREC, error reading record %N from NTF input file

      [1mExplanation:[0m  An error has occurred in obtaining the next  record  from  the
      input  file.   The  associated LSLLIB and system messages should clarify the
      problem.

      [1mUser[0m [1maction:[0m  Dependent upon the associated messages.

  SECHREC, error reading SECHREC record, in field "%S", record %N

      [1mExplanation:[0m   An  error  occurred  in  interpreting  the  contents  of  the
      specified  field  in the current section header record.  The contents of the
      offending field will be output on the next line.  If this  error  occurs  in
      the  OS  specific  part  of the section header record, then the program will
      attempt to continue, otherwise it will exit.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-43
  MESSAGES (ERROR)                                                    4 March 1997


      [1mUser[0m [1maction:[0m  Depends upon the error.  It may be necessary  to  contact  the
      donor of the data, and report the problem.

  SHORTBLK, block %N is only %N characters long

      [1mExplanation:[0m  The program has successfully read  the  next  block  from  the
      magnetic  tape, but its size is wrong.  Since the NTF standard specifies the
      size that blocks must be, this is a serious error.  The program will exit.

      [1mUser[0m [1maction:[0m  Report the problem to the donor of the data.

  SHORTREC, record %N is only %N characters long

      [1mExplanation:[0m  The program has successfully read the  next  record  from  the
      input  file, but its length is wrong.  Since the NTF standard specifies that
      all records must be 80 characters  long,  this  is  a  serious  error.   The
      program will exit.

      [1mUser[0m [1maction:[0m  Report the problem to the donor of the data.

  SHORTXT, no continuation - read %N characters, instead of %N

      [1mExplanation:[0m  This message is output after the NAMEREC error  if  there  are
      insufficient  continuation  records  to contain all of the text required for
      the current feature, as indicated in  the  TEXT_LEN  field  of  the  NAMEREC
      record.  The program will exit.

      [1mUser[0m [1maction:[0m  Contact the donor to determine why the feature is  incorrectly
      transferred.

  TESTFOR, error testing whether device "%S" is mounted /FOREIGN

      [1mExplanation:[0m  In order to determine whether input is from a magnetic tape or
      from  a disk file, the program tests for whether the input medium is mounted
      /FOREIGN.  This message indicates that something has gone  wrong  with  that
      test.

      [1mUser[0m [1maction:[0m  Depends upon the associated error messages.

  TEXTPOS, error reading TEXTPOS record, FC %N, record %N

      [1mExplanation:[0m  An error occurred in interpreting the contents  of  a  TEXTPOS
      record,  used  to  specify  the  form  and position of a text feature.  This
      message will be followed by the ERRORRD error message, and the program  will
      exit.

      [1mUser[0m [1maction:[0m  See the ERRORRD error message.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-44
  MESSAGES (ERROR)                                                    4 March 1997


  TEXTREC, error reading TEXTREC record, id %N, record %N

      [1mExplanation:[0m  An error occurred in interpreting the contents  of  a  TEXTREC
      record,  used  to  define  a text feature at level 3 NTF v2.0.  This message
      will be followed by the ERRORRD error message, and the program will exit.

      [1mUser[0m [1maction:[0m  See the ERRORRD error message.

  TEXTREP, error reading TEXTREP record, id %N, record %N

      [1mExplanation:[0m  An error occurred in interpreting the contents  of  a  TEXTREP
      record,  used  to  define  a text feature at level 3 NTF v2.0.  This message
      will be followed by the ERRORRD error message, and the program will exit.

      [1mUser[0m [1maction:[0m  See the ERRORRD error message.

  TOOMNYLNKS, chain record "%S", record %N, contains %N links

      [1mExplanation:[0m  Since NTF level 3 can contain  records  in  any  order  it  is
      necessary  to store the contents of certain records in various arrays.  Thus
      there is a preset limit on the number of links that  can  be  stored  for  a
      chain record.  The program will attempt to truncate the chain to the maximum
      number of links, but is likely to fail when it does not read the rest of the
      feature correctly.

      [1mUser[0m [1maction:[0m  If the preset limit seems restricting, consult  Laser-Scan  to
      have it increased.

  TOOMNYPTS, geometry record "%S", record %N, contains %N points

      [1mExplanation:[0m  Since NTF  may  require  that  the  points  in  a  feature  be
      reversed,  the  program  buffers  all  of the points for each feature before
      writing them to the IFF file.  The internal buffer  can  hold  up  to  10000
      points, and this message is output if the current feature contains more than
      that number of points (as indicated by the NUM_COORD field in the  GEOMETRY1
      record).   The program will attempt to truncate the feature to 10000 points,
      but is likely to fail when  it  does  not  read  the  rest  of  the  feature
      correctly.

      [1mUser[0m [1maction:[0m  At some future stage the  program  will  be  amended  to  cope
      better  with  very large features.  For the moment, request the donor of the
      data to split all features such that they contain fewer than 10000 points.

  VMALLFAIL, virtual memory allocation for FC lookup table failed

      [1mExplanation:[0m  The virtual  memory  allocation  routine  failed  to  allocate
      sufficient space to contain the FC lookup table.

      [1mUser[0m [1maction:[0m  Report this error message to your system manager,  along  with
      the  associated  system error.  He may be able to increase your virtual page
      count to allow the lookup table to be used.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-45
  MESSAGES (ERROR)                                                    4 March 1997


  VOLHDREC, error reading VOLHDREC record, in field "%S"

      [1mExplanation:[0m   An  error  occurred  in  interpreting  the  contents  of  the
      specified  field in the volume header record.  The contents of the offending
      field will be output on the next line.  The program will exit.

      [1mUser[0m [1maction:[0m  Depends upon the error.  It may be necessary  to  contact  the
      donor of the data, and report the problem.

  WRONGLEVEL, this program cannot read data at NTF level %N

      [1mExplanation:[0m  The program currently only recognises NTF levels 1, 2  and  3.
      Data  at  any  other  level  (as indicated in the volume header record) will
      produce this message, and cause the program to exit.

      [1mUser[0m [1maction:[0m  Do not attempt to read data at levels other than 1, 2 or 3.

  WRONGVERSION, this program cannot read data of NTF version %F5.2

      [1mExplanation:[0m  The program currently only recognises  data  as  specified  in
      version  1.1  of  the  NTF  standard.   Data  from  any other version of the
      standard (as indicated in  the  volume  header  record)  will  produce  this
      message, and cause the program to exit.

      [1mUser[0m [1maction:[0m  Do not attempt to read data that is specified by a version  of
      the NTF standard not supported by the program.

  XYLEN, XYLEN incorrectly set this level

      [1mExplanation:[0m  At level 1, if the XYLEN field in the SECHREC is undefined (or
      zero)  it  defaults  to  10.  However, at levels 2 and above the XYLEN field
      must be explicitly defined.

      [1mUser[0m [1maction:[0m  Contact the donor of the data stating  that  the  XYLEN  field
      should  be  defined for this level or manually edit the field in the SECHREC
      record to reflect the true size of the X and Y coordinates.

  ZLEN, ZLEN incorrectly set this level

      [1mExplanation:[0m  At level 1, if the ZLEN field in the SECHREC is undefined  (or
      zero)  i  defaults to 10.  However, at level 2 and above the ZLEN field must
      be explicitly defined.

      [1mUser[0m [1maction:[0m  Contact the donor of the data  stating  that  the  ZLEN  field
      should  be  defined for this level or manually edit the field in the SECHREC
      record to reflect the true size of the Z coordinates.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-46
  MESSAGES (FATAL)                                                    4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(FATAL)[0m

  These messages indicate a severe error in processing, or  some  form  of  system
  failure, which has caused the program to terminate.

  UPDCP, unable to reposition to CP entry to update the corner points

      [1mExplanation:[0m  Similar explanation as UPDRA

      [1mUser[0m [1maction:[0m  Report this problem  to  Laser-Scan.   The  IFF  file  may  be
      mendable with the IMP utility IMEND.

  UPDRA, unable to reposition to RA entry to update the range

      [1mExplanation:[0m  When all of the data has been output to an IFF file, and it is
      about  to  be closed, the program attempts to output a corrected range entry
      at the start of the IFF file.  This requires that it reposition to the start
      of  the file, and this message indicates that something went wrong with this
      process.  The IFF file will be incorrectly terminated, and the program  will
      exit.

      [1mUser[0m [1maction:[0m  Report this problem  to  Laser-Scan.   The  IFF  file  may  be
      mendable with the IMP utility IMEND.


  IFFNTF REFERENCE (2.7): NTF2I utility                                  Page 4-47
  MESSAGES (OTHER)                                                    4 March 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages  may  be  generated  by  the  IFF
  library  and  by  the  Laser-Scan I/O library, LSLLIB.  IFF library messages are
  introduced by '%IFF' and are documented in the IFF  library  users'  guide.   In
  most  cases  IFF  errors will be due to a corrupt input file, and this should be
  the first area of investigation.  If the cause of the error cannot be traced  by
  the user, and Laser-Scan are consulted, then the output file should be preserved
  to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'  and  are
  generally  self-explanatory.   They  are  used to explain the details of program
  generated errors.
