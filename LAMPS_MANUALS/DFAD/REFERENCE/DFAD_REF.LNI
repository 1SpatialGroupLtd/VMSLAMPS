
















                                  [3mLaser-Scan Ltd.[0m


                                        [3mDFAD[0m

                                  [3mReference Manual[0m


                           [3mIssue 2.3 - 29-September-1995[0m































  Copyright (C) 1995 Laser-Scan Ltd
  Science Park, Milton Road, Cambridge, England CB4 4FY  tel: (01223) 420414

  Document "DFAD", Category "Reference"
  Document Issue 2.3      Various (modified 29-Sep-1995)


  DFAD (2.3)
  Contents                                             29 September 1995


                                     CONTENTS

                  DFAD Reference Documentation Change Record . . . . . i

                  PREFACE  . . . . . . . . . . . . . . . . . . . . . . 1
                    Intended audience  . . . . . . . . . . . . . . . . 1
                    Structure of this document . . . . . . . . . . . . 1
                    Associated documents . . . . . . . . . . . . . . . 2
                    Conventions used in this document  . . . . . . . . 2
                    Command line data types  . . . . . . . . . . . . . 3


  CHAPTER 1       INTRODUCTION

                  DFAD and DLMS  . . . . . . . . . . . . . . . . . . 1-1
                  DFAD Package Utilities . . . . . . . . . . . . . . 1-1
                  DFAD Package Initialisation  . . . . . . . . . . . 1-2
                  DFAD and IFF . . . . . . . . . . . . . . . . . . . 1-2
                    DFAD Header Information  . . . . . . . . . . . . 1-2
                    DFAD Accuracy Data . . . . . . . . . . . . . . . 1-3
                    DFAD Point, Line and Area Features . . . . . . . 1-3
                  FADT Files . . . . . . . . . . . . . . . . . . . . 1-4
                  DLMS Rule Files  . . . . . . . . . . . . . . . . . 1-4
                  MODULE    DFAD2I . . . . . . . . . . . . . . . . . 1-6
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 1-6
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 1-6
                    PROMPTS  . . . . . . . . . . . . . . . . . . . . 1-6
                    PARAMETERS . . . . . . . . . . . . . . . . . . . 1-6
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 1-7
                    RESTRICTIONS . . . . . . . . . . . . . . . . . . 1-9
                  MODULE    DFADVAL  . . . . . . . . . . . . . . .  1-10
                    FUNCTION . . . . . . . . . . . . . . . . . . .  1-10
                    FORMAT . . . . . . . . . . . . . . . . . . . .  1-10
                    PROMPTS  . . . . . . . . . . . . . . . . . . .  1-10
                    PARAMETERS . . . . . . . . . . . . . . . . . .  1-11
                    COMMAND QUALIFIERS . . . . . . . . . . . . . .  1-11
                    RESTRICTIONS . . . . . . . . . . . . . . . . .  1-13
                  MODULE    FADTINPUT  . . . . . . . . . . . . . .  1-14
                    FUNCTION . . . . . . . . . . . . . . . . . . .  1-14
                    FORMAT . . . . . . . . . . . . . . . . . . . .  1-14
                  MODULE    FADTMERGE  . . . . . . . . . . . . . .  1-15
                    FUNCTION . . . . . . . . . . . . . . . . . . .  1-15
                    FORMAT . . . . . . . . . . . . . . . . . . . .  1-15
                    PROMPTS  . . . . . . . . . . . . . . . . . . .  1-15
                    PARAMETERS . . . . . . . . . . . . . . . . . .  1-15
                    COMMAND QUALIFIERS . . . . . . . . . . . . . .  1-16
                  MODULE    I2DFAD . . . . . . . . . . . . . . . .  1-18
                    FUNCTION . . . . . . . . . . . . . . . . . . .  1-18
                    FORMAT . . . . . . . . . . . . . . . . . . . .  1-18
                    PROMPTS  . . . . . . . . . . . . . . . . . . .  1-18
                    PARAMETERS . . . . . . . . . . . . . . . . . .  1-18
                    COMMAND QUALIFIERS . . . . . . . . . . . . . .  1-18
                  MODULE     MCEHED  . . . . . . . . . . . . . . .  1-20
                    FUNCTION . . . . . . . . . . . . . . . . . . .  1-20
                    FORMAT . . . . . . . . . . . . . . . . . . . .  1-20
                    PROMPTS  . . . . . . . . . . . . . . . . . . .  1-20


  DFAD (2.3)
  Contents                                             29 September 1995


                    PARAMETERS . . . . . . . . . . . . . . . . . .  1-20
                    COMMAND QUALIFIERS . . . . . . . . . . . . . .  1-20


  CHAPTER 2       MODULE DFAD2I

                  FUNCTION . . . . . . . . . . . . . . . . . . . . . 2-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . . . 2-1
                  PROMPTS  . . . . . . . . . . . . . . . . . . . . . 2-1
                  PARAMETERS . . . . . . . . . . . . . . . . . . . . 2-1
                  COMMAND QUALIFIERS . . . . . . . . . . . . . . . . 2-1
                  RESTRICTIONS . . . . . . . . . . . . . . . . . . . 2-4
                  DESCRIPTION  . . . . . . . . . . . . . . . . . . . 2-5
                  EXAMPLES . . . . . . . . . . . . . . . . . . . . . 2-8
                  MESSAGES (SUCCESS) . . . . . . . . . . . . . . .  2-14
                  MESSAGES (WARNING) . . . . . . . . . . . . . . .  2-15
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . .  2-19
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  2-28


  CHAPTER 3       MODULE DFADVAL

                  FUNCTION . . . . . . . . . . . . . . . . . . . . . 3-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . . . 3-1
                  PROMPTS  . . . . . . . . . . . . . . . . . . . . . 3-1
                  PARAMETERS . . . . . . . . . . . . . . . . . . . . 3-2
                  COMMAND QUALIFIERS . . . . . . . . . . . . . . . . 3-2
                  RESTRICTIONS . . . . . . . . . . . . . . . . . . . 3-4
                  DESCRIPTION  . . . . . . . . . . . . . . . . . . . 3-4
                  VALIDATION REPORT  . . . . . . . . . . . . . . . . 3-6
                    INFORMATIONAL MESSAGES . . . . . . . . . . . . . 3-6
                    WARNING MESSAGES . . . . . . . . . . . . . . . . 3-7
                    ERROR MESSAGES . . . . . . . . . . . . . . . . . 3-8
                  EXAMPLES . . . . . . . . . . . . . . . . . . . .  3-11
                  MESSAGES (INFORMATIONAL) . . . . . . . . . . . .  3-21
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . .  3-22
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  3-23


  CHAPTER 4       MODULE FADTINPUT

                  FUNCTION . . . . . . . . . . . . . . . . . . . . . 4-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . . . 4-1
                  DEFAULT VALUES FOR DATA ENTRY FORMS  . . . . . . . 4-3
                  LOGICAL NAMES  . . . . . . . . . . . . . . . . . . 4-6
                  DESCRIPTION  . . . . . . . . . . . . . . . . . . . 4-8
                  COMMAND AND DATA ENTRY FORMS . . . . . . . . . .  4-10
                    COMMAND OPTIONS FORM . . . . . . . . . . . . .  4-11
                    FILE SPECIFICATION FORM  . . . . . . . . . . .  4-12
                    OUTPUT LIST FILE SPECIFICATION FORM  . . . . .  4-13
                    RECORD TYPE OPTION FORM  . . . . . . . . . . .  4-14
                    ACCURACY RECORD FORM . . . . . . . . . . . . .  4-16
                    ACCURACY REGION RECORD FORM  . . . . . . . . .  4-17
                    DATA SET IDENTIFICATION (DSI) RECORD FORM  . .  4-19
                    DLMS HEADER RECORD FORM  . . . . . . . . . . .  4-20
                    FADT RECORD FORM . . . . . . . . . . . . . . .  4-22


  DFAD (2.3)
  Contents                                             29 September 1995


                  EXAMPLES . . . . . . . . . . . . . . . . . . . .  4-25
                  MESSAGES (ON FORMS)  . . . . . . . . . . . . . .  4-32
                  MESSAGES (INFORMATIONAL) . . . . . . . . . . . .  4-33
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . .  4-34
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  4-35


  CHAPTER 5       MODULE FADTMERGE

                  FUNCTION . . . . . . . . . . . . . . . . . . . . . 5-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . . . 5-1
                  PROMPTS  . . . . . . . . . . . . . . . . . . . . . 5-1
                  PARAMETERS . . . . . . . . . . . . . . . . . . . . 5-1
                  COMMAND QUALIFIERS . . . . . . . . . . . . . . . . 5-2
                  DESCRIPTION  . . . . . . . . . . . . . . . . . . . 5-3
                  EXAMPLES . . . . . . . . . . . . . . . . . . . . . 5-4
                  MESSAGES (INFORMATIONAL) . . . . . . . . . . . . . 5-8
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . . . 5-9
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  5-10


  CHAPTER 6       MODULE I2DFAD

                  FUNCTION . . . . . . . . . . . . . . . . . . . . . 6-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . . . 6-1
                  PROMPTS  . . . . . . . . . . . . . . . . . . . . . 6-1
                  PARAMETERS . . . . . . . . . . . . . . . . . . . . 6-1
                  COMMAND QUALIFIERS . . . . . . . . . . . . . . . . 6-1
                  RESTRICTIONS . . . . . . . . . . . . . . . . . . . 6-3
                  DESCRIPTION  . . . . . . . . . . . . . . . . . . . 6-3
                  EXAMPLES . . . . . . . . . . . . . . . . . . . . . 6-5
                  MESSAGES (INFORMATIONAL) . . . . . . . . . . . .  6-10
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . .  6-11
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  6-15


  CHAPTER 7       MODULE MCEHED

                  FUNCTION . . . . . . . . . . . . . . . . . . . . . 7-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . . . 7-1
                  PROMPTS  . . . . . . . . . . . . . . . . . . . . . 7-1
                  PARAMETERS . . . . . . . . . . . . . . . . . . . . 7-1
                  COMMAND QUALIFIERS . . . . . . . . . . . . . . . . 7-1
                  DESCRIPTION  . . . . . . . . . . . . . . . . . . . 7-2
                  EXAMPLES:  . . . . . . . . . . . . . . . . . . .  7-14
                  MESSAGES (Other MCEHED Messages) . . . . . . . .  7-15
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  7-16


  DFAD (2.3)                                                                Page i
  Change record                                                  29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mDFAD Reference Documentation Change Record[0m


  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.0[0m [1m8[0m [1mApril[0m [1m1988[0m [1mJ.M.Billing,[0m [1mD.R.Catlow,[0m [1mJ.D.Barber[0m

            First issue of DFAD reference documentation.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.1[0m [1m14[0m [1mJune[0m [1m1988[0m [1mD.R.Catlow[0m

            Chapter 2 - new example runs for Module DFAD2I inserted

            Chapter 3 - the use of the /NOAC qualifier in DFADVAL  has  been  made
            clearer

            Chapter 4 - modified  to  reflect  small  changes  to  the  layout  of
            FADTINPUT forms.

            Chapter 5 - additional error message added for FADTMERGE

            Chapter 6 - incorrect reference to DFAD2I (rather than I2DFAD) removed
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.2[0m [1m15[0m [1mJune[0m [1m1988[0m [1mD.R.Catlow[0m

            Chapter 3 - the qualifier /[NO]DUPLICATES added to DFADVAL

            Chapter  5  -  description  of   command   line   qualifiers   ordered
            alphabetically

            Introduction - updated to reflect changes to Chapters 3 and 5
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.3[0m [1m24[0m [1mJune[0m [1m1988[0m [1mD.R.Catlow[0m

            Chapter 2 - examples runs modified to reflect diagnostic changes

            Chapter 4 - option to delete a FADT feature record added

            Chapter 6 - examples runs modified to reflect diagnostic changes
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.4[0m [1m29[0m [1mSeptember[0m [1m1989[0m [1mA.P.Brown[0m

            Chapter  3  -  /LITES2  option  -  file-spec   parsed   with   default
            LSL$LITES2CMD:DFADVAL.LCM
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.5[0m [1m2[0m [1mApril[0m [1m1991[0m [1mJ.M.Cadogan[0m

            Chapter 3 - /LAYER qualifier added to DFADVAL
  [1m--------------------------------------------------------------------------------[0m


  DFAD (2.3)                                                               Page ii
  DFAD Reference Documentation Change Record                     29 September 1995


  [1mVersion[0m [1m1.6[0m [1m5[0m [1mSeptember[0m [1m1991[0m [1mJ.M.Cadogan[0m

            Chapter 4 - Description of new logical names for  setting  up  certain
            default  values  for  the  ACCURACY,  DSI, and DLMS HEADER forms which
            override the supplied defaults.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.7[0m [1m15[0m [1mApril[0m [1m1992[0m [1mJ.M.Cadogan[0m

            Chapter 4 - The numeric keys on the keypad can now be  used  to  enter
            value into fields.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.8[0m [1m13[0m [1mMay[0m [1m1992[0m [1mJ.M.Cadogan[0m

            Chapter 4 - The PF4 and F17 keys now do the same as TAB and Backspace.

            Chapter 4 - The logical  name  LSL$DFAD_VERTICAL_HEIGHT  corrected  to
            LSL$DFAD_VERTICAL_ACCURACY.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.9[0m [1m29[0m [1mJune[0m [1m1992[0m [1mJ.M.Cadogan[0m

            Chapter 4 - Removed the logical names used for specifying FADT default
            values.

            Chapter 4 - Description of the function of the new FADT default values
            lookup file.

            Chapter 4 - Description of the new FAC range entry on the FADT form.

            Chapter 4 - Added the FADT defaults  template  file  in  the  examples
            section.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.0[0m [1m21[0m [1mApril[0m [1m1993[0m [1mJ.M.Cadogan[0m

            Chapter 4 - Description of the facility  for  deleting  multiple  FACs
            specified by a FAC range.

            Chapter 4 - Added the FADT defaults  template  file  in  the  examples
            section.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.1[0m [1m29[0m [1mJuly[0m [1m1993[0m [1mJ.M.Cadogan[0m

            Chapter 7 - The description section of the reference  manual  explains
            that  the LEV field in the sheet identity can now hold a value of 3 to
            represent level 3-C and a value of 4 to level 1-C.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.2[0m [1m12[0m [1mDecember[0m [1m1993[0m [1mJ.M.Cadogan[0m

            Chapter 6 - New qualifier /CHANGE2 for I2DFAD.
  [1m--------------------------------------------------------------------------------[0m


  DFAD (2.3)                                                              Page iii
  DFAD Reference Documentation Change Record                     29 September 1995


  [1mVersion[0m [1m2.3[0m [1m29[0m [1mSeptember[0m [1m1995[0m [1mJ.M.Cadogan[0m

            Chapter 7 - New error message '*** ERROR *** Number or NA expected'


  DFAD (2.3)                                                                Page 1
  Preface                                                        29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mPREFACE[0m



  [1m--------------------------------------------------------------------------------[0m
  [1mIntended[0m [1maudience[0m

            This manual is intended for all users of the Laser-Scan  DFAD  package
            running under the VAX/VMS operating system.

  [1m--------------------------------------------------------------------------------[0m
  [1mStructure[0m [1mof[0m [1mthis[0m [1mdocument[0m

            This document  consists  of  2  major  sections.   The  first  section
            comprises an introduction to the package.  The second section provides
            comprehensive details of each package module.

            The Introduction is an overview of the DFAD package and is intended as
            a  quick  reference  guide  to  the  purposes of the different package
            modules.  Package initialisation is outlined.

            The Introduction also contains details on how a DFAD feature record is
            held  within  a  Laser  Scan  Internal  Feature Format (IFF) file, and
            sections on the structure of the FADT file, and DLMS Rules file.

            The second sections consists of a Reference  Guide  for  each  of  the
            individual  modules  that comprise DFAD.  A chapter is devoted to each
            module.   Each  chapter  contains  the  same   basic   categories   of
            information.  These are:

            MODULE              - the name of the DFAD module.

            REPLACES            - which existing Laser-Scan program it replaces.

            FUNCTION            - a synopsis of what the module does

            FORMAT              - a summary of the module command format
                                  and command qualifiers. Default qualifier
                                  settings are indicated.

            PROMPT              - how it prompts the user.

            PARAMETERS          - description of expected command parameters.

            COMMAND QUALIFIERS  - description of all command qualifiers.
                                  Qualifiers are ordered alphabetically and 
                                  default argument values are indicated.

            DESCRIPTION         - the definitive description of the module action.

            EXAMPLES            - annotated examples of module usage.

            MESSAGES            - all classes of message are listed and described
                                  and suggested user action given. The messages
                                  are divided into sections according to message


  DFAD (2.3)                                                                Page 2
  PREFACE                                                        29 September 1995


                                  severity within which the messages are ordered
                                  alphabetically by message mnemonic.

            Where  applicable,  additional  categories  are  available  for   some
            modules.  Some modules, for example, have a "RESTRICTIONS" category.

  [1m--------------------------------------------------------------------------------[0m
  [1mAssociated[0m [1mdocuments[0m

            For full details of the components of the Digital Landmass System, and
            in  particular  Digital  Feature  Analysis  Data  (DFAD),  the user is
            referred  to  the  'Defense  Mapping  Agency  Product  Specification.'
            Details of the DFAD offline magnetic tape format, are included in this
            document.

  [1m--------------------------------------------------------------------------------[0m
  [1mConventions[0m [1mused[0m [1min[0m [1mthis[0m [1mdocument[0m


            ----------------------------------------------------------------------
            Convention            Meaning
            ----------------------------------------------------------------------
            <CR>                  The user should press the carriage return key
                                  on the terminal

            <CTRL/x>              The phrase <CTRL/x> indicates that the user must
                                  press the key labelled CTRL while simultaneously
                                  pressing another key, for example, <CTRL/Z>.

            $ [1mDFAD2I[0m [1mJIM<CR>[0m      Command examples show all user entered commands
                                  in [1mbold[0m type.

            $ [1mDFAD2I[0m [1mJIM<CR>[0m      Vertical series of periods, or ellipsis, mean
                    .             either that not all the data that a module would
                    .             display in response to the particular command is
                    .             shown or that not all the data that the user
                                  would enter is shown.

            file-spec...          Horizontal ellipsis indicates that additional
                                  parameters, values or information can be
                                  entered.

            [logical-name]        Square brackets indicate that the enclosed item
                                  is optional. (Square brackets are not, however,
                                  optional in the syntax of a directory name in
                                  a file-specification, or in the syntax of a
                                  substring specification in a VMS assignment
                                  statement).

            'integer'             An integer number is expected in the specified
                                  input or output field. (See "Command line data
                                  types" below).

            'real'                A real number is expected in the specified input
                                  or output field. (See "Command line data types"
                                  below).


  DFAD (2.3)                                                                Page 3
  PREFACE                                                        29 September 1995




  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mline[0m [1mdata[0m [1mtypes[0m

            All DFAD utilities, with the  exception  of  FADTINPUT,  use  the  VMS
            Command  Line  Interpreter  (CLI) to get and parse the program command
            line.  DFAD utilities thus  offer  a  VMS  emulating  user  interface.
            Unfortunately  the VMS Digital Command Language (DCL) does not support
            the real (or "floating point") data type.  Many DFAD utilities require
            real value arguments for the specification of tolerances and distances
            etc.  To meet this requirement, Laser-Scan have developed an  enhanced
            CLI   based   command  line  decoding  mechanism.   This  enables  the
            interpretation of numbers as either "real" or  "integer".   Throughout
            this  document  the  number  types  are  differentiated  by  the words
            'integer' for integer  numbers  and  'real'  for  real  (or  "floating
            point") numbers.

  [1m--------------------------------------------------------------------------------[0m














                                     CHAPTER 1

                                    INTRODUCTION





  Introduction to the DFAD Package                                        Page 1-1
                                                                 29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mDFAD[0m [1mand[0m [1mDLMS[0m

            The Digital  Landmass  System  (DLMS)  is  a  multi-national  database
            project.   Each  participating nation is involved in the production of
            data covering a given area  of  responsibility  and  conforming  to  a
            common  specification.  The specification for the project is published
            by the U.S.  Defense Mapping Agency (DMA).

            The primary aim of the DLMS project  is  to  provide  data  for  radar
            simulation  in  aircrew  mission  training  equipment, such as Tornado
            strike aircraft simulators.  In  order  to  provide  radar  simulation
            capability,  DLMS  comprises  two  complementary  data products.  DTED
            (Digital Terrain Elevation Data) defines the altitude (above mean  sea
            level)  of  the  basic  terrain  surface,  taking  no  account  of the
            character of the surface, while DFAD (Digital Feature  Analysis  Data)
            gives  specific  information about the characteristics of the surface,
            and in particular those characteristics affecting radar.  Included  in
            DFAD  is  information  on  such  aspects  as  the  relative  height of
            significant features (eg.  buildings  and  woods)  above  the  terrain
            surface, and surface material composition.

            DTED is commonly referred to as 'terrain', while DFAD is  referred  to
            as  'culture'.   The  terrain  data  is  held  as  a regular matrix of
            elevation values, and is classified as a DTM,  while  the  culture  is
            held  as  a  vector dataset consisting of a set of individual features
            recorded as points, lines or areas.

            Both DTED and DFAD are defined in the DMA specification  as  'off-line
            formats',  since  their  primary  use  is  for the exchange of data on
            magnetic tape between production agencies.  The  data  is  transformed
            from  these 'off-line formats' to a suitable 'on-line format' prior to
            use in radar simulation  applications.   Transformation  involves  the
            simplification  and compression of the DLMS data by the removal of all
            information not relevant to radar display, so that  the  online  radar
            database  can  meet the data volume and speed constraints of the DRLMS
            (Digital Radar Landmass Simulation) system of the simulators.
  [1m--------------------------------------------------------------------------------[0m
  [1mDFAD[0m [1mPackage[0m [1mUtilities[0m

            DFAD is a Laser-Scan package containing a number of modules that  have
            been  designed  specifically  to  handle DLMS Digital Feature Analysis
            Data.  Utilities are provided to create,  examine  and  validate  DFAD
            data  held  within  a  Laser  Scan Internal Feature Format (IFF) file,
            along with utilities to read and write a  DLMS  DFAD  format  magnetic
            tape.  In addition modules are provided to create and modify a Feature
            Analysis Data Table (FADT); to  merge  a  FADT  with  DFAD  coordinate
            information, and to access an on-line DLMS Rules file.

            A summary  of  the  function  of  each  module,  along  with  a  brief
            description  of all module qualifiers and prompts, is provided in this
            introductory chapter.  For a fuller description of each module and its
            associated  qualifiers;  example  runs,  and  details  of all messages
            associated with a module, the user should consult the relevant chapter
            in the DFAD Reference Manual.


  Introduction to the DFAD Package                                        Page 1-2
  Package Intialisation                                          29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mDFAD[0m [1mPackage[0m [1mInitialisation[0m

            Before  use,  the  DFAD  package   must   be   initialised.    Package
            intialisation  involves  assigning DCL symbols and logical names which
            allow the user to successfully run the modules.  This is done using  a
            command  procedure  DFADINI.COM  which is supplied as part of the DFAD
            package.  DFADINI itself will be defined as a DCL symbol at your  site
            and may be invoked by typing:

                  $ [1mDFADINI<CR>[0m


            The DFADINI command procedure will define a  DCL  symbol  (the  module
            name)  for  each of the DFAD modules, so that after its execution, the
            user need only type the symbol name to  activate  the  module  of  his
            choice.

            After intialisation the following symbols will be defined:

                   [1mDFAD2I[0m         [1mDFADVAL[0m         [1mFADTINPUT[0m       [1mFADTMERGE[0m
                   [1mI2DFAD[0m         [1mMCEHED[0m


            In addition the following logical names are defined:

                  [1mLSL$FADT[0m        [1mLSL$DFAD_RULE[0m



            The logical name [1mLSL$FADT[0m will point to  a  directory  where  existing
            FADT  files  are to be found, and where new FADT files will be created
            by default.

            The logical name [1mLSL$DFAD_RULE[0m will point to a directory containing  a
            DLMS Rule file.

            As an alternative  to  explicitly  typing  the  DFADINI  command,  the
            DFADINI  command may be placed in the users login file, or in the site
            dependent default login file.
  [1m--------------------------------------------------------------------------------[0m
  [1mDFAD[0m [1mand[0m [1mIFF[0m

            All the package utilities (with the exception of FADTINPUT)  read  and
            write  DFAD  data  in an IFF file.  The DFAD manuscript and associated
            header information is held in IFF within a MCE (customer type  1)  Map
            Header  Record.   DFAD  area,  line and point features are held as IFF
            features in layers 1 2 and 3 respectively.  Accuracy  region  data  is
            held in Layer 0 of the IFF file.
            [1mDFAD[0m [1mHeader[0m [1mInformation[0m

            DFAD Manuscript and Data Set Indentification (DSI) information is held
            in  a  MCE Map Header (MH) record.  Data relating to the generation of
            the manuscript by the producing agency,  eg.   the  compilation  data,
            mode  of  data  capture  and  level  of processing; information on the
            projection and datum, and  details  of  the  geographical  origin  and


  Introduction to the DFAD Package                                        Page 1-3
  DFAD and IFF                                                   29 September 1995


            extent of the manuscript are recorded.

            The header fields are created as part of  the  tape  output  operation
            (DFAD2I),  or transferred from FADT file records during the merging of
            IFF and FADT files (FADTMERGE).  The header data may be  examined  and
            modified using the DFAD utility MCEHED, and may be validated using the
            module DFADVAL.  Data is read from the IFF map header, and transferred
            to  manuscript  header  and  DSI records on a DFAD tape, by the module
            I2DFAD.

            [1mDFAD[0m [1mAccuracy[0m [1mData[0m

            The DFAD Accuracy Description (ACC) Record holds  information  on  the
            vertical  and  horizontal accuracy of the manuscript.  Accuracy values
            for the whole of the manuscript, and possibly for up to 9  sub-regions
            may be defined.

            Within IFF, the accuracy data is to be found in Layer  0  of  the  IFF
            file.   Data for each region is stored as a separate IFF feature.  The
            coordinates of the feature define  the  boundary  of  a  closed  area.
            Conventionally  accuracy  regions  are assigned a feature code of 301.
            Associated with each accuracy feature is an AC type 8 - the text field
            of  the  AC  holds  the  relative  and  absolute accuracy values.  The
            following is an example of the format of the AC entry:

            [1mAC[0m [1m8[0m [1m0[0m [1m"absh[0m  [1m50[0m [1mabsv[0m   [1m0[0m [1mrelh[0m  [1m25[0m [1mrelv[0m  [1m0"[0m


            The accuracy region features are created when  a  DFAD  manuscript  is
            read  from  tape  using  DFAD2I,  while  new  accuracy features may be
            created or modified using the IFF interactive editor LITES2, or  using
            the  FADTINPUT  module.   The  IFF  accuracy features may be validated
            using DFADVAL, and if present will be transferred to an ACC DFAD  tape
            record by the utility I2DFAD.

            [1mDFAD[0m [1mPoint,[0m [1mLine[0m [1mand[0m [1mArea[0m [1mFeatures[0m

            A DFAD point, line or area feature is held in the IFF file as  an  IFF
            feature.   The following important points about the IFF representation
            of a feature should be noted:

            1.  The  Feature  Serial  Number  (FSN)  assigned  to  a  feature   is
                equivalent to the DFAD Feature Analysis Code.

            2.  The FS entry stores the feature code of the feature.   The  nature
                of  the feature code may vary depending on the processing that has
                been applied to the DFAD data.  It may simply be used to  classify
                the  features  into  points,  lines  or  areas,  or may be used to
                identify uniquely the class of feature.  In the  former  case  the
                feature  codes  100,  101  and 102 should be used to distinguish a
                point, line or area.  In the latter  case,  the  feature  code  is
                constructed  from  the  DFAD Feature Indentifier (FID) and Feature
                Type entry, using the formula:

                [1mFC[0m [1m=[0m [1mFID[0m [1m+[0m [1m(TYPE[0m [1m+[0m [1m1)[0m [1m*[0m [1m1000))[0m  


  Introduction to the DFAD Package                                        Page 1-4
  DFAD and IFF                                                   29 September 1995


                The module will apply this formula by default.

            3.  The attributes associated with a DFAD feature (eg.  the height  of
                the  feature)  are  held  in the text field of an AC type 7 entry.
                The format of the text field will vary depending  on  whether  the
                feature  is  a point, line or area.  The following are examples of
                AC 7 entries:

                Area feature:
                [1mAC[0m [1m7[0m [1m0[0m [1m"typ2[0m [1mhgt[0m  [1m0[0m [1mfid[0m [1m902[0m [1msec[0m [1m0[0m [1mrel[0m [1m0[0m [1msmc10[0m [1mden[0m [1m0[0m [1mrof[0m  [1m0[0m [1mtre[0m  [1m0"[0m

                Line feature:
                [1mAC[0m [1m7[0m [1m0[0m [1m"typ1[0m [1mhgt[0m [1m44[0m [1mfid[0m [1m902[0m [1msec[0m [1m0[0m [1mrel[0m [1m0[0m [1msmc[0m [1m3[0m [1mwid[0m [1m52[0m [1mdir[0m [1m2[0m       [1m"[0m

                Point feature:
                [1mAC[0m [1m7[0m [1m0[0m [1m"typ0[0m [1mhgt[0m [1m14[0m [1mfid[0m [1m902[0m [1msec[0m [1m0[0m [1mrel[0m [1m0[0m [1msmc[0m [1m3[0m [1mwid[0m [1m40[0m [1mlth[0m [1m70[0m [1mori[0m [1m5"[0m

                Note that security (sec) and releasability (rel)  codes  are  held
                for  each  feature.   This  is  not  a  requirement  of  the  DLMS
                Specification, and the values are unlikely to be set in  a  normal
                production environment.

            4.  The coordinates of a feature are held in one or more  ST  entries.
                The  coordinates  are  stored  relative  to  the  SW corner of the
                manuscript.

  [1m--------------------------------------------------------------------------------[0m
  [1mFADT[0m [1mFiles[0m

            A FADT file is created using the DFAD module FADTINPUT.  The FADT file
            holds  attribute  data  for each DFAD feature.  On input the attribute
            data is validated against the DLMS specification, and against  a  DLMS
            Rules  file  on  input.   FADT  data is transferred to an IFF file and
            associated with feature coordinate data  using  FADTMERGE.   The  FADT
            file  cannot  be  edited  or  listed  except from within the FADTINPUT
            module.

            To enable the user to distinguish a FADT file from a file  of  another
            type,  FADT  files  have  by  default the file extension '.FADT'.  The
            files are to be found in a directory referenced by  the  logical  name
            LSL$FADT.
  [1m--------------------------------------------------------------------------------[0m
  [1mDLMS[0m [1mRule[0m [1mFiles[0m

            A DLMS Rule file is used by the module FADTINPUT to validate attribute
            data  input  into  a  FADT,  and  optionally  by the module DFADVAL to
            validate feature attribute data held in an IFF file.

            The rule file contains similar data to that held  in  a  standard  MCE
            VALTAB  rule  table, in which allowable ranges for certain FADT record
            fields are specified.  The rules  to  be  applied  to  a  feature  are
            determined  from a combination of DFAD level, Feature Identifier (FID)
            and feature type.  For further details on the content and  application
            of  validation  rules,  the  user  is referred to the validation table
            documentation.


  Introduction to the DFAD Package                                        Page 1-5
  DLMS Rule Files                                                29 September 1995


            To enable the user to distinguish a rule file from a file  of  another
            type,  rule  files  have  by  default the file extension '.RULE'.  The
            files are to be found in a directory referenced by  the  logical  name
            LSL$DFAD_RULE.



  Introduction to the DFAD Package                                        Page 1-6
  MODULE DFAD2I                                                  29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE    DFAD2I[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  existing DFAD2I utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DFAD2I transfers a manuscript from a DLMS DFAD format magnetic tape to
            an IFF disk file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DFAD2I file-spec

            [1mCommand[0m [1mqualifiers[0m                     [1mDefaults[0m
            /DEVICE = device-name                 /DEVICE = MTA0:
            /[NO]DIAGNOSTICS='BRIEF' or 'FULL'    /NODIAGNOSTICS
            /[NO]DUMP = file-spec                 /NODUMP
            /[NO]FC                               /NOFC
            /LATITUDE = DDMMSS.SH                 /see text
            /LONGITUDE = DDDMMSS.SH               /see text
            /MANUSCRIPT = integer                 /next manuscript; see text
            /RELEASABILITY = integer              /RELEASABILITY = 0
            /[NO]REWIND                           /NOREWIND
            /SECURITY = integer                   /SECURITY = 0



  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            Output IFF-file:         Output-IFF-file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  Output-IFF-file-spec

          - Specifies the output IFF file.  Any part  of  the  file  specification
            which  is  not  supplied will be taken from the default specification:
            'LSL$IF:IFF.IFF'.



  Introduction to the DFAD Package                                        Page 1-7
  MODULE    DFAD2I                                               29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m



  /DEVICE = device-name (default MTA0:)

          - Specifies the tape device on which the DFAD tape is loaded.



  /DIAGNOSTICS='BRIEF'
  /DIAGNOSTICS='FULL'
  /NODIAGNOSTICS (default)

          - Selects the output of diagnostic messages, describing the progress  of
            the DFAD tape to IFF file conversion.

            If the keyword BRIEF is specified, or no keyword is supplied with  the
            /DIAGNOSTICS qualifier, only diagnostic messages describing the blocks
            read, and the total number of features created in  the  IFF  file  are
            produced.

            If the keyword FULL  is  specified,  information  is  output  on  each
            feature created in the IFF file.



  /DUMP = file-spec
  /NODUMP (default)

          - If specified a dump of each tape block  is  output  to  the  specified
            file, or to SYS$OUTPUT if no file specification is supplied.  The data
            records are output as a series of hexadecimal  longword  values.   The
            qualifier is used to verify the tape structure.



  /FC
  /NOFC (default)

          - If /FC is specified, then DFAD2I will assign a feature  code  to  each
            IFF  feature  that  is  dependent  on the feature's Feature Identifier
            (FID) and feature type.  The formula used  to  generated  the  feature
            code is:

                  FC = FID + ((type + 1) * 1000)


            If /NOFC is specified, or the qualifier is not present on the  command
            line, DFAD2I will assign a feature code which is dependent on the type
            of DFAD feature.  Points, lines and areas  will  be  assigned  feature
            code values of 100, 101 and 102 respectively.




  Introduction to the DFAD Package                                        Page 1-8
  MODULE    DFAD2I                                               29 September 1995


  /LATITUDE = string

          - Specifies that DFAD2I is to search for a manuscript on the  tape  with
            the  required  latitude  origin,  or  a  manuscript  with the required
            latitude and longitude origin if the  /LONGITUDE  qualifier  has  also
            been specified.  The latitude value is specified in the form DDMMSS.SH
            where DD is the number of degrees, MM is the number of  minutes,  SS.S
            is the number of seconds, and H is the hemisphere (either N or S).

            The /LATITUDE qualifier must not be  specified  with  the  /MANUSCRIPT
            qualifier.



  /LONGITUDE = string

          - Specifies that DFAD2I is to search for a manuscript on the  tape  with
            the  required  longitude  origin,  or  a  manuscript with the required
            latitude and longitude origin if the /LATITUDE qualifier has also been
            specified.   The  longitude  value is specified in the form DDDMMSS.SH
            where DDD is the number of degrees, MM is the number of minutes,  SS.S
            is the number of seconds, and H is the hemisphere (either E or W).

            The /LONGITUDE qualifier must not be specified  with  the  /MANUSCRIPT
            qualifier.



  /MANUSCRIPT = integer

          - If specified the tape is searched for  the  required  manuscript.   By
            default  the  next  manuscript  on  the  tape will be transferred.  If
            /REWIND is not specified the program will search forward for the (n)th
            manuscript  from  the current tape position, rather than for the (n)th
            manuscript from the beginning of tape.

           If a negative integer value is supplied with the /MANUSCRIPT qualifier,
            DFAD2I  will  search  backwards from the current tape position for the
            (n)th previous manuscript.  For example, to  transfer  the  manuscript
            immediately preceding the current tape position, a manuscript value of
            -1 should be supplied.  If the BOT is encountered before the  required
            manuscript is found, then an error will result.

            This qualifier must not be specified  with  either  the  /LATITUDE  or
            /LONGITUDE qualifiers.



  /RELEASABILITY = integer (0-99) (default 0)

          - If the qualifier is present, all features in the IFF file are  created
            with  the  specified  releasability  value.   If  the qualifier is not
            supplied, features are created with a releasability value of 0.




  Introduction to the DFAD Package                                        Page 1-9
  MODULE    DFAD2I                                               29 September 1995


  /REWIND
  /NOREWIND (default)

          - If present, the tape is rewound  prior  to  reading.   Any  manuscript
            search  will  therefore start from the BOT.  By default no tape rewind
            is performed, and manuscript  search  begins  from  the  current  tape
            position.



  /SECURITY = integer (0-99) (default 0)

          - If the qualifier is present, all features in the IFF file are  created
            with  the specified security value.  If the qualifier is not supplied,
            features are created with a security value of 0.










  [1mRESTRICTIONS[0m




             o  /MANUSCRIPT and /LATITUDE is not allowed

             o  /MANUSCRIPT and /LONGTIUDE is not allowed



  Introduction to the DFAD Package                                       Page 1-10
  MODULE DFADVAL                                                 29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE    DFADVAL[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  Existing DFADVAL.  The new module validates DFAD attribute  data  held
            in  an  AC  7  entry  against  a  DLMS Rule file, and has an option to
            produce a LITES2 guidance file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DFADVAL validates an IFF  file  containing  DFAD  data.   It  performs
            validation  on  feature geometry, DFAD accuracy region attributes (AC8
            entries in layer  zero  features),  and  DFAD  point,  line  and  area
            attribute records (AC7 entries in features in layers other than zero).
            The module also validates entries in the MCE map header.

            Optionally, a LITES2 command file may be produced, which may  be  used
            with  the Laser-Scan cartographic editor LITES2, to aid the correction
            of any features that fail validation.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DFADVAL file-spec

            [1mCommand[0m [1mqualifiers[0m                      [1mDefaults[0m

            /[NO]AC                                 /AC
            /[NO]BOUNDS                             /BOUNDS
            /[NO]DUPLICATES                         /DUPLICATES
            /[NO]INFORMATION                        /INFORMATION
            /LIST=file-spec                         Default output to SYS$OUTPUT
            /LITES2=file-spec                       No LITES2 file produced
            /[NO]LOOPCHECK                          /LOOPCHECK
            /[NO]PRINTER                            /NOPRINTER
            /RULES=file-spec                        No rules file used
            /TOLERANCE=real                         /TOLERANCE=1.0
            /TYPE='AC' or 'FS'                      /TYPE='FS'
            /[NO]WARNINGS                           /WARNINGS


  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            Input IFF-file:         input IFF file to be validated


  [1m--------------------------------------------------------------------------------[0m


  Introduction to the DFAD Package                                       Page 1-11
  MODULE    DFADVAL                                              29 September 1995


  [1mPARAMETERS[0m

  Input IFF-file

          - specifies the IFF  file  to  be  validated.   Any  part  of  the  file
            specification  which  is  not  supplied will be taken from the default
            'LSL$IF:IFF.IFF;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

  /AC (default)
  /NOAC

          - If this qualifier is present, the utility will validate the  attribute
            data  held  in the AC text field of an accuracy region, or DFAD point,
            line or area feature.  The text field is checked to  ensure  that  all
            attributes are present and valid for the type of feature, and that the
            values conform to  the  DLMS  format  Specification.   If  the  /RULES
            qualifier  is present, the attribute values are also validated against
            a DLMS Rules File.

            If /NOAC is specified, the attributes held in the  AC  entry  are  not
            validated.


  /BOUNDS (default)
  /NOBOUNDS

          - if this qualifier is present, the utility checks that all  coordinates
            in  the  IFF  file  are  within  the manuscript area as defined by the
            latitude and longitude corner values in the map header.  Any  features
            found with coordinates outside the manuscript limits are reported.  If
            /NOBOUNDS is specified, no checks are carried out on the range of  the
            coordinates in the file.


  /DUPLICATES(default)
  /NODUPLICATES

          - If this qualifier  is  present,  the  utility  checks  the  coordinate
            strings  for  duplicate  points.  Any duplicate points are reported in
            the validation report.  Note that the coordinate values are  converted
            to the nearest integer value before comparison.

            If /NODUPLICATES is specified, no checks are carried out for duplicate
            coordinate points.


  Introduction to the DFAD Package                                       Page 1-12
  MODULE    DFADVAL                                              29 September 1995


  /INFORMATION (default)
  /NOINFORMATION

          - specifies that informational messages be produced.  Such  messages  do
            not signal invalid entries in the IFF file, but give information about
            what it contains.


  /LIST=file-spec (default /LIST=SYS$OUTPUT:)

          - allows the user to specify a list file to which the validation  report
            will  be  directed.   If  this  qualifier  is  not supplied, output is
            directed to SYS$OUTPUT.


  /LITES2=file-spec

          - If /LITES2 is specified, a LITES2 guidance file will be created,  with
            the  supplied  file  specification.   This file may be used to aid the
            subsequent editing of features that have failed validation, using  the
            LITES2 cartographic editor.


  /LOOPCHECK (default)
  /NOLOOPCHECK

          - If /LOOPCHECK is specified, then DFADVAL  will  perform  a  check  for
            crossing  or  touching line segments in linear or areal features.  Any
            crossing or touching segments will be reported to the user by means of
            validation failure warning messages.


  /PRINTER
  /NOPRINTER (default)

          - If this qualifier is specified, then the  validation  report  will  be
            written  to  a  temporary  file.   The  contents  of this file will be
            spooled to SYS$PRINT and the disk file  will  be  deleted  on  program
            completion.    This   qualifier  cannot  be  present  with  the  /LIST
            qualifier.


  /RULES=file-spec (optional)

          - This qualifier allows the user to specify a DLMS rules  file,  against
            which  any DFAD attribute data, held in the text field of an AC7 entry
            will be checked.  If a feature fails validation, warning messages  are
            generated  indicating  the fields which may have caused the failure of
            the feature record.  The attribute  data  is  in  addition,  validated
            against the DLMS format specification.
            If this qualifier is not used, then the DFAD attribute data  are  only
            checked against the DLMS format specification.



  Introduction to the DFAD Package                                       Page 1-13
  MODULE    DFADVAL                                              29 September 1995


  /TOLERANCE=real (default /TOLERANCE=1.0)

          - this qualifier allows the user to specify the tolerance  within  which
            two line segments, in linear or areal features, must lie of each other
            to be detected as touching or crossing.


  /TYPE='AC'
  /TYPE='FS' (default)

          - /The TYPE qualifier is  used  to  specify  whether  the  feature  type
            (point,  line  or  area)  should  be derived from a feature's AC or FS
            entry.  If /TYPE=FS is specified (or  the  qualifier  is  absent)  the
            feature  type  is  derived from the feature code (first word of the FS
            entry), with feature codes of 102, 101 and 100 indicating a DFAD area,
            line and point feature respectively.
            If /TYPE=AC is specified, then the feature type is  derived  from  the
            the 'typ' field of the text part of the AC7 entry.


  /WARNINGS (default)
  /NOWARNINGS

          - if present, this qualifier will cause  DFADVAL  to  output  validation
            failure  warnings.   These  are similar to the validation errors which
            are always output, except that they relate to less  serious  failures.
            For  example,  DFAD  attribute  records  which  do  not  obey the DLMS
            specification are reported by  means  of  error  messages,  whereas  a
            failure  to  obey  an  entry in the DLMS rules file is reported with a
            warning message.










  [1mRESTRICTIONS[0m




             o  /PRINTER and /LIST is not allowed

             o  /RULES and /NOAC is not allowed

             o  /TYPE=AC and /TYPE=FS is not allowed



  Introduction to the DFAD Package                                       Page 1-14
  MODULE FADTINPUT                                               29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE    FADTINPUT[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  FADTINPUT is a new utility

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            FADTINPUT allows a user to  create,  edit  and  list  a  DLMS  Feature
            Analysis  Data  Table (FADT) file.  It also performs validation on the
            FADT records  entered  against  the  Digital  Landmass  System  (DLMS)
            Specification  and  optionally  against a set of validation rules in a
            user specified DLMS rule file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ FADTINPUT

            [1mCommand[0m [1mqualifiers[0m

            None - the utility is completely form driven.


            [1mCommand[0m [1mand[0m [1mdata[0m [1mentry[0m [1mforms[0m

            The user may control the operation of the FADTINPUT utility by 
            means of the following screen forms:

                 COMMAND OPTIONS FORM
                 FILE SPECIFICATION FORM
                 OUTPUT LIST FILE SPECIFICATION FORM
                 RECORD TYPE OPTION FORM


            The user may enter or modify data in an FADT file by means of the 
            following screen entry forms:

                 ACCURACY RECORD FORM
                 ACCURACY REGION RECORD FORM
                 DATA SET IDENTIFICATION (DSI) RECORD FORM
                 DLMS HEADER RECORD FORM
                 FADT RECORD FORM

            Full details on the forms are to be found in the FADTINPUT chapter of
            the DFAD Reference Manual. 


  Introduction to the DFAD Package                                       Page 1-15
  MODULE FADTMERGE                                               29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE    FADTMERGE[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  FADTMERGE is a new utility

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            FADTMERGE merges a FADT file created by  the  utility  FADTINPUT  with
            coordinate data contained in an IFF file.  Merging is performed on the
            basis of feature analysis code (FAC) for the  FADT  file  and  feature
            serial  number  (FSN)  for the IFF file.  Header data contained in the
            FADT file may in addition be transferred to  the  map  header  of  the
            output file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ FADTMERGE file-spec file-spec

            [1mCommand[0m [1mqualifiers[0m                    [1mDefaults[0m

            /[NO]ACCURACY                           /NOACCURACY
            /FADT=file-spec                         /FADT=LSL$FADT:FADT.FADT
            /[NO]FC                                 /FC
            /[NO]HEADER                             /HEADER
            /[NO]LIST=file-spec                     /NOLIST
            /[NO]MERGE                              /MERGE


  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            Input IFF-file:         unmerged-file-spec
            Output IFF-file:        merged-file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  Input IFF-file

          - specifies the IFF file to be merged with the FADT file.  Any  part  of
            the  file  specification  which is not supplied will be taken from the
            default specification 'LSL$IF:IFF.IFF;0'.

  Output IFF-file

          - specifies the IFF file which is to be created.  Any part of  the  file
            name   which   is   not   explicitly   given   will   be   taken  from
            'LSL$IF:IFF.IFF'.  Note that a version number must  [1mnot[0m  be  specified
            for the output file.  If a file with the specified name already exists
            a new file will be created with the version number incremented by one.


  Introduction to the DFAD Package                                       Page 1-16
  MODULE    FADTMERGE                                            29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

  /ACCURACY
  /NOACCURACY (default)

          - If present, specifies that accuracy regions should be created in layer
            0 of the output IFF file, from the accuracy region records held in the
            input FADT file.  Any accuracy features already present in layer 0  of
            the  input  file will be discarded.  If no accuracy region records are
            found in the FADT file, no accuracy regions will be constructed in the
            output file.
            If the /NOACCURACY qualifier is specified, then the whole of  layer  0
            in the input file, will be copied unchanged to the output file.  If no
            layer 0 is present in the input IFF file, none will be constructed  in
            the output file.



  /FADT=file-spec

          - specifies the name of the input FADT  file.   Any  part  of  the  file
            specification  which  is  not  present  will  be  taken  from the file
            specification 'LSL$FADT:FADT.FADT'.  [1mThis[0m [1mqualifier[0m [1mmust[0m [1mbe[0m [1msupplied.[0m


  /FC (default)
  /NOFC

          - If this qualifier is present, then FADTMERGE will set up  the  Feature
            Code  (FC)  word  of the Feature Status (FS) entry of all IFF features
            written to the output file.  The FC is  calculated  from  the  Feature
            Identifier  (FID)  and  feature type recorded in the FADT record.  The
            formula used to generate the output FC is:

                 FC = FID + ((type + 1) * 1000)

            If /NOFC is specified, then the existing FS entry  in  the  input  IFF
            file is copied to the output file without change.

            The feature code of features in layer 0 is transferred unchanged.


  /HEADER (default)
  /NOHEADER

          - specifies that FADTMERGE should update the MCE map header of the input
            IFF  file  with  the  contents  of  the  DLMS header, Accuracy and DSI
            records in the FADT file.  If any of these records  are  missing  from
            the FADT file, this fact will be reported in the diagnostic printout.
            If /NOHEADER is specified, the map header in the input IFF  file  will
            be copied directly to the output file without change.




  Introduction to the DFAD Package                                       Page 1-17
  MODULE    FADTMERGE                                            29 September 1995


  /NOLIST (default)
  /LIST=file-spec

          - If /LIST=file-spec is present, it specifies a file to which diagnostic
            messages describing the progress of the merge are directed.  Any parts
            of the file specification which are missing will  be  taken  from  the
            specification  'FADTMERGE.LIS'.   If no /LIST is specified, or /NOLIST
            is present, then all diagnostics messages are directed to SYS$OUTPUT.


  /MERGE (default)
  /NOMERGE

          - If /MERGE is specified, the FADT feature records in the FADT file  are
            merged  with  features in the input IFF file.  Merging is performed on
            the basis of feature analysis code (FAC)  and  feature  serial  number
            (FSN).   If  /NOMERGE is specified, then the FADT feature records will
            not be merged with the IFF features, and any input IFF  features  will
            be written unaltered to the output file.


  Introduction to the DFAD Package                                       Page 1-18
  MODULE I2DFAD                                                  29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE    I2DFAD[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  existing I2DFAD utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            I2DFAD transfers data held in an IFF file to magnetic tape in  Digital
            LandMass System (DLMS) Digital Feature Analysis Data (DFAD) format.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ I2DFAD file-spec

            [1mCommand[0m [1mqualifiers[0m                    [1mDefaults[0m

            /[NO]APPEND                           /NOAPPEND
            /DEVICE=device-name                   /DEVICE=MTA0:
            /[NO]DIAGNOSTICS                      /NODIAGNOSTICS
            /[NO]RELEASABILITY=integer            /NORELEASABILITY
            /[NO]REWIND                           /NOREWIND
            /[NO]SECURITY=integer                 /NOSECURITY



  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            Input IFF-file:         IFF-file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  Input IFF-file

          - specifies the IFF file to be converted to a  DFAD  format  tape.   Any
            part  of  the  file  specification which is not supplied will be taken
            from the default specification 'LSL$IF:DFAD.IFF;0'

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

  /APPEND
  /NOAPPEND (default)

          - /APPEND specifies that  the  output  data  be  appended  to  any  DFAD
            manuscripts  already  on  the magnetic tape.  This qualifier cannot be
            present on the same command line as /REWIND (q.v.).
            If /NOAPPEND is used, then the data are written to  the  tape,  either
            starting  at the current tape position (if /NOREWIND is specified), or
            at the start of the tape (if /REWIND is specified).


  Introduction to the DFAD Package                                       Page 1-19
  MODULE    I2DFAD                                               29 September 1995


  /DEVICE=device-name (default MTA0:)

          - Specifies the tape device on which the DFAD tape is loaded.



  /DIAGNOSTICS
  /NODIAGNOSTICS (default)

          - if  specified,  this  causes  diagnostic  messages  to  be   produced,
            describing the progress of the IFF to DFAD conversion.



  /RELEASABILITY=integer (0-99)
  /NORELEASABILITY (default)

          - if this qualifier is used, then the  releasibility  value  of  a  DFAD
            feature (held in an AC 7 entry) will will be compared with the integer
            specified.  Any differences found will result in the production  of  a
            suitable  message.   If  this qualifier is not present, then no checks
            will be carried out on the releasability.



  /REWIND
  /NOREWIND (default)

          - if /REWIND is specified, the IFF file will be  written  as  the  first
            manuscript  on  the  tape.   Any  existing  data  on  the tape will be
            overwritten.
            If  /NOREWIND  is  used,  then  data  are  appended  to  any  existing
            manuscripts  on the tape, either starting at the current tape position
            (if /NOAPPEND is specified) or after the last manuscript  (if  /APPEND
            is specified).



  /SECURITY=integer (0-99)
  /NOSECURITY (default)

          - if this qualifier is used, then the security value of a  DFAD  feature
            (held  in  an  AC  7  entry)  will  will  be compared with the integer
            specified.  Any differences found will result in the production  of  a
            suitable  message.   If  this qualifier is not present, then no checks
            will be carried out on the security.


  Introduction to the DFAD Package                                       Page 1-20
  MODULE MCEHED                                                  29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE     MCEHED[0m

  [1m--------------------------------------------------------------------------------[0m

  [1mREPLACES[0m  Existing MCEHED utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            MCEHED is a utility to allow a Map Header entry in the IFF file to  be
            edited  or  examined.   [1mThe[0m [1mmap[0m [1mheader[0m [1mmust[0m [1mbe[0m [1ma[0m [1mMCE[0m [1m(customer[0m [1mtype[0m [1m1)[0m
            [1mheader.[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ MCEHED file-spec


            [1mCommand[0m [1mqualifiers[0m                    [1mDefaults[0m

            /[NO]READONLY                         /NOREADONLY


            Editing and examining the map header with MCEHED  is  command  driven.
            Full  details  on the commands that may be gien are to be found in the
            MCEHED chapter of the DFAD Reference Manual.


  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m


            Input IFF-file:       file-spec of IFF file to be examined/altered


  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  Input IFF-file

          - specifies the IFF file to be merged with the FADT file.  Any  part  of
            the  file  specification  which is not supplied will be taken from the
            default specification 'LSL$IF:IFF.IFF;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

  /READONLY
  /NOREADONLY (default)

          - if /READONLY is specified, then MCEHED will only allow the map  header
            to  be examined, and not edited.  Any attempt to edit an entry will be
            prevented and an error message generated.














                                     CHAPTER 2

                                   MODULE DFAD2I





  DFAD2I - DFAD to IFF conversion utility                                 Page 2-1
                                                                 29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE    DFAD2I[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  existing DFAD2I utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DFAD2I transfers a manuscript from a DLMS DFAD format magnetic tape to
            an IFF disk file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DFAD2I file-spec

            [1mCommand[0m [1mqualifiers[0m                     [1mDefaults[0m
            /DEVICE = device-name                 /DEVICE = MTA0:
            /[NO]DIAGNOSTICS='BRIEF' or 'FULL'    /NODIAGNOSTICS
            /[NO]DUMP = file-spec                 /NODUMP
            /[NO]FC                               /NOFC
            /LATITUDE = DDMMSS.SH                 /see text
            /LONGITUDE = DDDMMSS.SH               /see text
            /MANUSCRIPT = integer                 /next manuscript; see text
            /RELEASABILITY = integer              /RELEASABILITY = 0
            /[NO]REWIND                           /NOREWIND
            /SECURITY = integer                   /SECURITY = 0



  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            Output IFF-file:         Output-IFF-file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  Output-IFF-file-spec

          - specifies the output IFF file.  Any part  of  the  file  specification
            which  is  not  supplied will be taken from the default specification:
            'LSL$IF:IFF.IFF'.

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m



  /DEVICE = device-name (default MTA0:)

          - Specifies the tape device on which the DFAD tape is loaded.


  DFAD2I - DFAD to IFF conversion utility                                 Page 2-2
  COMMAND QUALIFIERS                                             29 September 1995


  /DIAGNOSTICS='BRIEF'
  /DIAGNOSTICS='FULL'
  /NODIAGNOSTICS (default)

          - Selects the output of diagnostic messages, describing the progress  of
            the DFAD tape to IFF file conversion.

            If the keyword BRIEF is specified, or no keyword is supplied with  the
            /DIAGNOSTICS qualifier, only diagnostic messages describing the blocks
            read, and the total number of features created in  the  IFF  file  are
            produced.

            If the keyword FULL  is  specified,  information  is  output  on  each
            feature created in the IFF file.



  /DUMP = file-spec
  /NODUMP (default)

          - If specified a dump of each tape block  is  output  to  the  specified
            file, or to SYS$OUTPUT if no file specification is supplied.  The data
            records are output as a series of hexadecimal  longword  values.   The
            qualifier is used to verify the tape structure.



  /FC
  /NOFC (default)

          - If /FC is specified, then DFAD2I will assign a feature  code  to  each
            IFF  feature  that  is  dependent  on the feature's Feature Identifier
            (FID) and feature type.  The formula used  to  generated  the  feature
            code is:

                  FC = FID + ((type + 1) * 1000)


            If /NOFC is specified, or the qualifier is not present on the  command
            line, DFAD2I will assign a feature code which is dependent on the type
            of DFAD feature.  Points, lines and areas  will  be  assigned  feature
            code values of 100, 101 and 102 respectively.



  /LATITUDE = string

          - Specifies that DFAD2I is to search for a manuscript on the  tape  with
            the  required  latitude  origin,  or  a  manuscript  with the required
            latitude and longitude origin if the  /LONGITUDE  qualifier  has  also
            been specified.  The latitude value is specified in the form DDMMSS.SH
            where DD is the number of degrees, MM is the number of  minutes,  SS.S
            is the number of seconds, and H is the hemisphere (either N or S).


  DFAD2I - DFAD to IFF conversion utility                                 Page 2-3
  COMMAND QUALIFIERS                                             29 September 1995


            The /LATITUDE qualifier must not be  specified  with  the  /MANUSCRIPT
            qualifier.



  /LONGITUDE = string

          - Specifies that DFAD2I is to search for a manuscript on the  tape  with
            the  required  longitude  origin,  or  a  manuscript with the required
            latitude and longitude origin if the /LATITUDE qualifier has also been
            specified.   The  longitude  value is specified in the form DDDMMSS.SH
            where DDD is the number of degrees, MM is the number of minutes,  SS.S
            is the number of seconds, and H is the hemisphere (either E or W).

            The /LONGITUDE qualifier must not be specified  with  the  /MANUSCRIPT
            qualifier.



  /MANUSCRIPT = integer

          - If specified the tape is searched for  the  required  manuscript.   By
            default  the  next  manuscript  on  the  tape will be transferred.  If
            /REWIND is not specified the program will search forward for the (n)th
            manuscript  from  the current tape position, rather than for the (n)th
            manuscript from the beginning of tape.

            If  a  negative  integer  value  is  supplied  with  the   /MANUSCRIPT
            qualifier, DFAD2I will search backwards from the current tape position
            for the (n)th previous  manuscript.   For  example,  to  transfer  the
            manuscript  starting  immediately  before the current tape position, a
            manuscript value of -1 should be supplied.  If the BOT is  encountered
            before the required manuscript is found, then an error will result, or
            the first manuscript on the tape transferred.

            It makes no sense to request /MANUSCRIPT = 0.

            This qualifier must not be specified  with  either  the  /LATITUDE  or
            /LONGITUDE qualifiers.



  /RELEASABILITY = integer (0-99) (default 0)

          - If the qualifier is present, all features in the IFF file are  created
            with  the  specified  releasability  value.   If  the qualifier is not
            supplied, features are created with a releasability value of 0.



  /REWIND
  /NOREWIND (default)

          - If present, the tape is rewound  prior  to  reading.   Any  manuscript
            search  will  therefore start from the BOT.  By default no tape rewind
            is performed, and manuscript  search  begins  from  the  current  tape


  DFAD2I - DFAD to IFF conversion utility                                 Page 2-4
  COMMAND QUALIFIERS                                             29 September 1995


            position.



  /SECURITY = integer (0-99) (default 0)

          - If the qualifier is present, all features in the IFF file are  created
            with  the specified security value.  If the qualifier is not supplied,
            features are created with a security value of 0.

  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m




             o  /MANUSCRIPT and /LATITUDE is not allowed

             o  /MANUSCRIPT and /LONGITUDE is not allowed



  DFAD2I - DFAD to IFF conversion utility                                 Page 2-5
  DESCRIPTION                                                    29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m

            DFAD2I is a utility to transfer a manuscript from a  Digital  LandMass
            System  (DLMS)  Digital  Feature  Analysis Data (DFAD) format magnetic
            tape to an Internal Feature Format (IFF) disk file.

            The user may specify which manuscript to  transfer  by  means  of  the
            /MANUSCRIPT  qualifier  or  by  using  the /LATITUDE and/or /LONGITUDE
            qualifiers.  In the case of the /LATITUDE and  /LONGITUDE  qualifiers,
            the  program  will search the tape for a manuscript with the specified
            latitude or longitude origin.  The search for a manuscript will  begin
            from  the  current  tape  position,  unless  the  /REWIND qualifier is
            supplied on  the  command  line.   If  the  /MANUSCRIPT  /LATITUDE  or
            /LONGITUDE  qualifiers  are  not  supplied, the next manuscript on the
            tape will be transferred to disk.

            If the tape read fails because the tape is at some unexpected position
            (because  of  a  previous  failure,  or  a user specified escape), the
            /MANUSCRIPT qualifier must be specified to start again, with  a  value
            of  -1 to restart the current (failed) map, 1 for the next, or another
            value (with REWIND if necessary) as required.

            Note that only a single manuscript may be transferred during a  single
            run of the program.

            The program produces messages giving information about the manuscripts
            and  blocks  being  read from the tape, and any errors or difficulties
            that may be encountered.  If the /DIAGNOSTICS qualifier  is  supplied,
            more  detailed  information on the tape records will be produced.  The
            /DUMP qualifier may be used to  produce  a  hexadecimal  dump  of  the
            manuscript records.  This option allows the structure of the DFAD tape
            to be verified.

            The program  checks  that  the  DFAD  tape  corresponds  to  the  DLMS
            specification.   Any  discrepancies on the tape are reported, and will
            in most cases cause the program to abandon the  transfer  of  data  to
            disc.

            A valid DFAD tape  containing  just  two  manuscripts  will  have  the
            following format:

                  
                  BOT

                  Manuscript Header Record
                  Data Set Identification (DSI) Record
                  Accuracy (ACC) Record

                  Area Feature Records
                  Linear Feature Records
                  Point Feature records

                  Manuscript Header Record
                  Data Set Identification (DSI) Record
                  Accuracy (ACC) Record


  DFAD2I - DFAD to IFF conversion utility                                 Page 2-6
  DESCRIPTION                                                    29 September 1995



                  Area Feature Records
                  Linear Feature Records
                  Point Feature records

                  Trailer Record

                  * Tape Mark
                  * Tape Mark

                  EOT
                  
            A Manuscript Header record indicates the start of  a  new  manuscript.
            The  Manuscript record contains information on the DFAD level, the WAC
            and  WAG  values,  and  the  latitude  and  longitude  origin  of  the
            manuscript.  This record is followed by a DSI and ACC record.  The DSI
            record  contains  information  relating  to  the  generation  of   the
            manuscript  by  the  producing agency; projection and datum codes, and
            geographical origin, corner and grid interval values.  The ACC  record
            contains  information  on  the vertical and horizontal accuracy of the
            data.

            DFAD2I transfers information from the Manuscript and  DSI  records  to
            the  Map  Header  (MH)  entry of the output IFF file.  Accuracy region
            data read from the ACC record is output to layer 0 of the IFF file.

            The header records on the tape are followed by  a  series  of  feature
            records  containing  information  on the coordinates and attributes of
            DFAD features.  The feature records are ordered so that area  features
            are encountered first, followed by linear and point features.

            DFAD2I translates DFAD feature data  into  a  series  of  IFF  feature
            records  in  the  output  file.  Area features are created in layer 1;
            linear features in layer 2 and point features in  layer  3.   These  3
            different types of feature are assigned a feature code of 102, 101 and
            100 respectively.  Attribute data is transferred  to  an  AC  7  entry
            associated with each feature.

            A Trailer Record and 2 tape marks indicate the end of the DFAD tape.

            Note that DFAD2I recalculates the checksums stored at the end of  each
            block  as  it  processes the data, and checks that it derives the same
            value as on the tape.  If the two values differ, a warning message  is
            output.  Transfer of data to the IFF file, however, continues.

            Full  details  of  the  structure  of  each  tape  record,   and   the
            characteristics  of a magnetic tape holding DFAD data, are to be found
            in the Digital Landmass Specification published by the  U.S.   Defense
            Mapping Agency.  Further details on how DFAD is held within IFF are to
            be found in the introduction of the DFAD Reference Manual.





  DFAD2I - DFAD to IFF conversion utility                                 Page 2-7
  DESCRIPTION                                                    29 September 1995


            It is essential that the tape is mounted as a foreign volume prior  to
            running DFAD2I.  This is achieved using the DCL command MOUNT with the
            /FOREIGN qualifier eg. MOUNT MT0:/FOREIGN


  DFAD2I - DFAD to IFF conversion utility                                 Page 2-8
  EXAMPLES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m



  $ [1mDFAD2I/DEVICE=MSA0:/MANUSCRIPT=2/RELEASABILITY=4/SECURITY=5[0m [1m<CR>[0m
  _Output-IFF-File: [1mtest<CR>[0m

  Reading from mag tape unit MSA0: 
  Searching tape to find manuscript 2
  Outputting manuscript 2 to IFF file LSL$DATAROOT:[LSL.IFF]TEST.IFF;1

  Manuscript 2, type 0, level 1
  WAG(WAC) number  150, WAG(WAC) cell 14, WAG cell  5
  origin at lat    57 59  0.0 (02087400N), long   -4  1  0.0  (00144600W)
  extent is lat     1  2  0.0 (00037200N), long    1  2  0.0  (00037200E)

  Will use SECURITY 5 and RELEASABILITY 4

  Total of    3193 points in      292 features
  There were no points going external
   
  %DFAD2I-S-NORMAL,  DFAD2I successful completion
  %DFAD2I-W-ENDOFDSS, end of datasets on tape encountered
   ELAPSED:    0 00:01:17.34  CPU: 0:00:34.96  BUFIO: 28  DIRIO: 761  FAULTS: 169 



            This example illustrates the  use  of  the  /MANUSCRIPT  qualifier  to
            select  the  second  manuscript  on  the  tape.   /REWIND has not been
            specified because this is the first read command  after  mounting  the
            tape,  and  the  search for the manuscript will begin from the current
            tape position (in this case the BOT).   Because  there  are  only  two
            manuscripts on the tape, the End Of Tape was encountered and a message
            given.  The security  and  releasability  values  specified  with  the
            /SECURITY  and  /RELEASABILITY  qualifiers  are used.  Since no output
            file was given on the command line, it was prompted for.




  $ [1mDFAD2I/DEVICE=MSA0:/REWIND/LATITUDE=575900.0N/LONGITUDE=0050100W-[0m
  [1m/DIAGNOSTICS=FULL[0m [1mTEST1[0m [1m<CR>[0m

  Reading from mag tape unit MSA0: 
  Tape now rewound to BOT
  Outputting manuscript 1 to IFF file LSL$DATAROOT:[LSL.IFF]TEST1.IFF;1

  Manuscript 1, type 0, level 1
  WAG(WAC) number  150, WAG(WAC) cell 13, WAG cell  7
  origin at lat    57 59  0.0 (02087400N), long   -5  1  0.0  (00180600W)
  extent is lat     1  2  0.0 (00037200N), long    1  2  0.0  (00037200E)

  Will use SECURITY 0 and RELEASABILITY 0

  Security code descriptor                           'U'


  DFAD2I - DFAD to IFF conversion utility                                 Page 2-9
  EXAMPLES                                                       29 September 1995


  Security/release control                           'DS'
  Security handling descriptor                       'ACCEPTANCE DATA'
  Series designator - task                           'DFAD'
  Series designator - level                          1
  Unique reference code                              'UK SQUARE 79   '
  Data edition number                                0
  Match/merge version                                'A'
  Maintenance date                                   unset
  Match/merge date                                   unset
  Maintenance description code                       '0000'
  Producer code                                      'UKMODMCE'
  Product spec stock number                          'SPECXDLMS'
  Product spec change number                         0
  roduct spec date                                   1-Jul-1977
  Vertical datum                                     '   '
  Horizontal datum                                   'WGS84'
  Digitising collection system                       'FREESCAN  '
  Compilation date                                    1-Oct-1978
  Manuscript origin (lat)                               57 59  0.0
  Manuscript origin (long)                              -5  1  0.0
  South west corner (lat)                               58  0  0.0
  South west corner (long)                              -5  0  0.0
  North east corner (lat)                               59  0  0.0
  North east corner (long)                              -4  0  0.0

  Absolute horizontal accuracy                       50
  Relative horizontal accuracy                       25
  Vertical heighting accuracy                        10
  Number of accuracy subregions                       2
  Reading polygon 1
  Angle 1(2) of region 1   58  0  0.0
   offset      600
  Angle 1(1) of region 1   -5  0  0.0
   offset      600
  Angle 2(2) of region 1   58  0  0.0
   offset      600
  Angle 2(1) of region 1   -4 30  0.0
   offset    18600
  Angle 3(2) of region 1   59  0  0.0
   offset    36600
  Angle 3(1) of region 1   -4 30  0.0
   offset    18600
  Angle 4(2) of region 1   59  0  0.0
   offset    36600
  Angle 4(1) of region 1   -5  0  0.0
   offset      600
  absh  50 absv   0 relh  25 relv   0
  Reading polygon 2
  Angle 1(2) of region 2   58  0  0.0
   offset      600
  Angle 1(1) of region 2   -4 30  0.0
   offset    18600
  Angle 2(2) of region 2   58  0  0.0
   offset      600
  Angle 2(1) of region 2   -4  0  0.0
   offset    36600


  DFAD2I - DFAD to IFF conversion utility                                Page 2-10
  EXAMPLES                                                       29 September 1995


  Angle 3(2) of region 2   59  0  0.0
   offset    36600
  Angle 3(1) of region 2   -4  0  0.0
   offset    36600
  Angle 4(2) of region 2   59  0  0.0
   offset    36600
  Angle 4(1) of region 2   -4 30  0.0
   offset    18600
  absh  40 absv   0 relh  20 relv   0

  Feature :    1
  Type    :    2 (AREA )
  Number of coordinates : 5
  typ2 hgt    0 fid 902 sec 0 rel 0 smc10 den 0 rof  0 tre  0
   
  Feature :    2
  Type    :    2 (AREA )
  Number of coordinates : 5
  typ2 hgt    0 fid 902 sec 0 rel 0 smc10 den 0 rof  0 tre  0
   
  Feature :    3
  Type    :    2 (AREA )
  Number of coordinates : 5
  typ2 hgt    0 fid 931 sec 0 rel 0 smc 6 den 0 rof  0 tre  0
   
  Feature :    4
  Type    :    2 (AREA )
  Number of coordinates : 5
  typ2 hgt    0 fid 931 sec 0 rel 0 smc 6 den 0 rof  0 tre  0
   
  Feature :    5
  Type    :    2 (AREA )
  Number of coordinates : 5
  typ2 hgt    0 fid 902 sec 0 rel 0 smc10 den 0 rof  0 tre  0
   
  Feature :    4001
  Type    :    1 (LINEAR)
  Number of coordinates : 8
  typ1 hgt   44 fid 902 sec 0 rel 0 smc 3 wid 52 dir 2

  Feature :    4002
  Type    :    1 (LINEAR)
  Number of coordinates : 10
  typ1 hgt    0 fid 902 sec 0 rel 0 smc 3 wid  1 dir 1

  Feature :    4003
  Type    :    1 (LINEAR)
  Number of coordinates : 23
  typ1 hgt    0 fid 924 sec 0 rel 0 smc 3 wid  1 dir 1

  Feature :    6001
  Type    :    1 (POINT )
  Number of coordinates : 1
  typ0 hgt   12 fid 902 sec 0 rel 0 smc 3 wid  2 lth 38 ori 7

  Feature :    6002


  DFAD2I - DFAD to IFF conversion utility                                Page 2-11
  EXAMPLES                                                       29 September 1995


  Type    :    1 (POINT )
  Number of coordinates : 1
  typ0 hgt   14 fid 902 sec 0 rel 0 smc 3 wid 40 lth 70 ori 5

  Feature :    6003
  Type    :    1 (POINT )
  Number of coordinates : 1
  typ0 hgt   30 fid 902 sec 0 rel 0 smc 3 wid 40 lth 70 ori 7

  Feature :    6004
  Type    :    1 (POINT )
  Number of coordinates : 1
  typ0 hgt    6 fid 902 sec 0 rel 0 smc 3 wid 20 lth 50 ori 5

  Total of       70 points in       12 features
  There were no points going external

  ELPASED:     0 00:00:23.02  CPU: 0:00:05.69  BUFIO: 202  DIRIO: 288 FAULTS: 97


            In this example, the /REWIND qualifier caused the tape to  be  rewound
            to  the BOT before searching.  The /LATITUDE and /LONGITUDE qualifiers
            were used to search for a manuscript with the  required  latitude  and
            longitude  origin.   In  the  example,  this  proved  to  be the first
            manuscript on the tape.  /DIAGNOSTICS = FULL has  been  specified,  so
            that  details are output about each DFAD feature as it read from tape.
            The default values for releasability and security are used.


  DFAD2I - DFAD to IFF conversion utility                                Page 2-12
  EXAMPLES                                                       29 September 1995




  $ [1mDFAD2I/DEVICE=MSA0:/MANUSCRIPT=1/DUMP/REWIND[0m [1mTEST3[0m [1m<CR>[0m

  Reading from mag tape unit MSA0: 
  Tape now rewound to BOT
  Searching tape to find manuscript 1

  Outputting manuscript 1 to IFF file LSL$DATAROOT:[LSL.IFF]TEST3.IFF;2
  Dumping manuscript 1 to file SYS$OUTPUT

  Manuscript 1, type 0, level 1
  WAG(WAC) number  150, WAG(WAC) cell 13, WAG cell  7
  Hexadecimal dump of DFAD tape

  origin at lat    57 59  0.0 (02087400N), long   -5  1  0.0  (00180600W)
  extent is lat     1  2  0.0 (00037200N), long    1  2  0.0  (00037200E)

  Will use SECURITY 0 and RELEASABILITY 0

  .Block 2, 162  longwords of data

  52495344  414C2020  53524553  204E4143  
  53455945  4C4E4F20  20202059  20202020  
  20202020  20202020  20202020  20202020  
  20202020  20202020  44202020  31444146  
  53204B55  52415551  39372045  20202020  
  20202020  30202020  30204130  30203020  
  30303020  4B553030  4D444F4D  20204543  
  20202020  20202020  20202020  50532020  
  44584345  30534D4C  20373730  20202037  
  37534757  45524632  41435345  3720204E  
  20303138  20202020  20202020  20202020  
  20202020  20202020  35373520  2E302039  
  20204E30  20312035  57302E30  30203835  
  302E3020  3520204E  30203020  3557302E  
  20302039  4E302E30  20342020  2E302030  
  20205730  20202020  20202020  20202020  
  20202020  20202020  20202020  20202020  
  20202020  20202020  20202020  20202020  
  20202020  20202020  20202020  20202020  
  20202020  20202020  20202020  20202020  



            In this example the tape is rewound to BOT  and  the  first  map  read
            again,  this  time with the /DUMP qualifier to give information on the
            blocks of data being transferred.  No filename was given for the  dump
            and  hence the default SYS$OUTPUT used.  Only a small part of the DUMP
            output  is  shown  in  this  example.   The   default   security   and
            releasability values were used.


  DFAD2I - DFAD to IFF conversion utility                                Page 2-13
  EXAMPLES                                                       29 September 1995



  $ [1mDFAD2I/DEVICE=MSA0:/REWIND/DIAGNOSTICS=BRIEF[0m [1mTEST4[0m [1m<CR>[0m 

  Reading from mag tape unit MSA0: 
  Tape now rewound to BOT
  Reading Header Block  1
  Outputting manuscript 1 to IFF file LSL$DATAROOT:[LSL.IFF]TEST4.IFF;3

  Manuscript 1, type 0, level 1
  WAG(WAC) number  150, WAG(WAC) cell 13, WAG cell  7
  origin at lat    57 59  0.0 (02087400N), long   -5  1  0.0  (00180600W)
  extent is lat     1  2  0.0 (00037200N), long    1  2  0.0  (00037200E)

  Will use SECURITY 0 and RELEASABILITY 0

  Reading DSI Block     2
  Reading ACC Block     3
  Reading Feature Block 4
  Reading Header Block  5
   
  Total of       70 points in       12 features
  There were no points going external
   
   ELAPSED:    0 00:01:28.54  CPU: 0:01:08.57  BUFIO: 50  DIRIO: 853  FAULTS: 192 



            In this example no search has been requested and so the default (next)
            manuscript  is  transferred.   With REWIND specified this is the first
            map on the  tape.   /DIAGNOSTICS=BRIEF  has  been  specified  so  that
            message  is output as each tape record (block) is read.  This gives an
            indication of the progress of the tape to IFF file conversion






  DFAD2I - DFAD to IFF conversion utility                                Page 2-14
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m


  [1mMESSAGES[0m [1m(SUCCESS)[0m

  These messages are used to indicate that the program has succeeded in performing
  some action, and do not require any user action.

  NORMAL, DFAD2I successful completion.

      [1mExplanation:[0m  DFAD2I terminated successfully, with no errors.

      [1mUser[0m [1maction:[0m  None


  DFAD2I - DFAD to IFF conversion utility                                Page 2-15
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  ACCPUT0, ACC - outputting zero

      [1mExplanation:[0m  An error in the reading of the ACC block has forced the output
      of zero to the IFF file.

      [1mUser[0m [1maction:[0m  As for ACCBLKERR.

  ACCRDERR, reading of ACC block abandoned

      [1mExplanation:[0m  The ACC block in the  manuscript  was  abandoned,  the  reason
      being one of the previously given error messages.

      [1mUser[0m [1maction:[0m  Check the data on the tape  for  corruption  or  an  incorrect
      writing, or other faults.

  BLKIGNORE, block ignored

      [1mExplanation:[0m  An unprocessable block has been found and ignored.  If an  IFF
      file is open it will be closed and processing stopped.

      [1mUser[0m [1maction:[0m  As for MANBLKERR; check the tape for data errors arising  from
      previous  writing  sessions or subsequent corruption, and proceed if certain
      that no further errors in  the  files  written  to  disc  will  result  from
      ignoring the block(s).

  CHKWORDS, 1/2 words are:  recorded [1minteger/integer[0m calc [1minteger/integer[0m

      [1mExplanation:[0m  There was a checksum error; the recorded and calculated values
      are given for comparison.

      [1mUser[0m [1maction:[0m  As for CHKSUMERR.

  CONTINUE, attempting to continue

      [1mExplanation:[0m  There are less than 4 coordinate points to  the  feature,  ie.
      it  is  not  closed,  and  continuation  is  attempted with maybe unexpected
      results.  See STPTRERR.

      [1mUser[0m [1maction:[0m  As for STPTRERR.

  CONTMANUS, continuing with this manuscript

      [1mExplanation:[0m  The processing is continuing after a wrong first  feature  was
      encountered - see FACNUMERR.

      [1mUser[0m [1maction:[0m  As for FACNUMERR.


  DFAD2I - DFAD to IFF conversion utility                                Page 2-16
  MESSAGES (WARNING)                                             29 September 1995


  CONTSERCH, block ignored - attempting to continue search

      [1mExplanation:[0m  An unprocessable block has been found  and  ignored,  and  any
      search for a required manuscript continued

      [1mUser[0m [1maction:[0m  As for MANBLKERR; check the tape for data errors arising  from
      previous  writing  sessions or subsequent corruption, and proceed if certain
      that no further errors in  the  files  written  to  disc  will  result  from
      ignoring the block(s).

  CRPTWORDS, 1/2 words are [1minteger/integer[0m

      [1mExplanation:[0m  The corrupt half-words in  the  trailer  that  has  just  been
      signalled are given.

      [1mUser[0m [1maction:[0m  As for CRPTRAILER.

  DSIBLKERR, DSI - unable to read field in DSI block:  [1mstring[0m

      [1mExplanation:[0m  Unable to read the field in the DSI block.

      [1mUser[0m [1maction:[0m  Check the data on the tape for corruption or a writing  error;
      the data will be replaced either with spaces or zero where signalled.

  DSIPUT0, DSI - outputting zero

      [1mExplanation:[0m  An error in the reading of the DSI block has forced the output
      of zero to the IFF file.

      [1mUser[0m [1maction:[0m  As for DSIBLKERR.

  DSIPUTSP, DSI - filling with spaces

      [1mExplanation:[0m  An error in the reading of the DSI block has forced the output
      of spaces to the IFF file.

      [1mUser[0m [1maction:[0m  As for DSIBLKERR.

  DSIRDERR, reading of DSI block abandoned

      [1mExplanation:[0m  The DSI block in the  manuscript  was  abandoned,  the  reason
      given being one of the previous given error messages.

      [1mUser[0m [1maction:[0m  Check the data on the tape  for  corruption  or  an  incorrect
      writing, or other faults.

  ENDIFF, attempting to end IFF file neatly

      [1mExplanation:[0m  An unprocessable block has forced the closure of  the  current
      IFF file.

      [1mUser[0m [1maction:[0m  As for  MANBLKERR;  check  that  the  file  has  been  written
      correctly,  and  if  not  go  back  to  the tape to find out what caused the
      subsequent errors.


  DFAD2I - DFAD to IFF conversion utility                                Page 2-17
  MESSAGES (WARNING)                                             29 September 1995


  ENDOFDSS, end of datasets on tape encountered

      [1mExplanation:[0m  Either the two tapemarks at the end of  all  datasets  on  the
      tape  have  been encountered, or the BOT has been encountered, and there are
      no more sensible datablocks to read.

      [1mUser[0m [1maction:[0m  Rewind the tape and finish, or start again.

  NOTEXTERN, feature not counted as going external

      [1mExplanation:[0m  See LONGNEGTIV.

      [1mUser[0m [1maction:[0m  See LONGNEGTIV.

  NXTMANUS, attempting to go to next manuscript header

      [1mExplanation:[0m  An unprocessable block has caused the forcible closure of  the
      current  IFF file, and an attempt made to find the next manuscript header in
      preparation for the next run.

      [1mUser[0m [1maction:[0m  Submit command line for next set of instructions

  OUTFTR, forcing output of feature [1minteger[0m

      [1mExplanation:[0m  An unprocessable block has forced the output to  disc  of  the
      current feature and subsequent closure of the IFF file.

      [1mUser[0m [1maction:[0m  As for MANBLKERR; check that  the  data  written  to  disc  is
      sensible,  and  if  not  go  back  to  the  tape to find out what caused the
      subsequent errors.

  RDICLHDR, ICL header encountered and ignored

      [1mExplanation:[0m  An ICL header was found at the beginning of the tape, and will
      be ignored.

      [1mUser[0m [1maction:[0m  None, apart from checking if it should have been there in  the
      first place.

  RECOVER, attempting to recover and continue

      [1mExplanation:[0m  Attempting to recover and continue  after  the  error  in  the
      attempt to reposition to the NO entry - see NOLPOSERR.

      [1mUser[0m [1maction:[0m  See NOLPOSERR.

  UNEXPTMK, block [1minteger[0m is an unexpected tapemark

      [1mExplanation:[0m  The block just read from tape is an  unexpected  tapemark  and
      should  not be there (the only tapemarks should be the two at the end of the
      tape.)

      [1mUser[0m [1maction:[0m  Check the tape for mistakes arising from an incorrect  writing
      session,  and if necessary rewrite.  Proceed when satisfied that the block's
      existence will not cause problems in any subsequent processing.   The  block
      will  either be ignored (if searching for a particular manuscript), or cause


  DFAD2I - DFAD to IFF conversion utility                                Page 2-18
  MESSAGES (WARNING)                                             29 September 1995


      the end of reading and closure of the IFF file (if not).


  DFAD2I - DFAD to IFF conversion utility                                Page 2-19
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  ACCABANDON, abandoning ACC region reading

      [1mExplanation:[0m  There was an error reading the ACCuracy region and it has been
      abandoned, the reason being one of the previously given error messages.

      [1mUser[0m [1maction:[0m  Check the data on the tape as appropriate.

  ACCANGERR, ACC region [1minteger[0m - error in angle [1minteger[0m([1minteger[0m)

      [1mExplanation:[0m  There is an error  in  an  angle  in  the  ACCuracy  subregion
      polygon given in the error message, and the ACC region is abandoned.

      [1mUser[0m [1maction:[0m  Check the data on the tape as appropriate.

  ACCBLKERR, ACC - unable to read field in ACC block:  [1mstring[0m

      [1mExplanation:[0m  Unable to read the field in the ACC block.

      [1mUser[0m [1maction:[0m  Check the data on the tape for corruption or a writing  error;
      the data will be replaced with zero where signalled.

  ACCHARERR, ACC region reading - error around char [1minteger[0m

      [1mExplanation:[0m  There was an error in the reading of the ACCuracy region,  the
      reason  being  one of the previous error messages already given, and the ACC
      region is abandoned.

      [1mUser[0m [1maction:[0m  Check the data on the tape as appropriate.

  ACCHNOERR, ACC region [1minteger[0m - incorrect no.  of characters read

      [1mExplanation:[0m  There were an incorrect number of  characters  read  from  the
      ACCuracy subregion polygon given in the error message, and the ACC region is
      abandoned.

      [1mUser[0m [1maction:[0m  Check the data on the tape as appropriate.

  ACCLARGE, ACC - value [1minteger[0m too large for [1mstring[0m

      [1mExplanation:[0m  The value of the number of subregions is too large,  ie.   >9,
      and the ACC region abandoned.

      [1mUser[0m [1maction:[0m  Check the data on the tape where appropriate.


  DFAD2I - DFAD to IFF conversion utility                                Page 2-20
  MESSAGES (ERROR)                                               29 September 1995


  ACCNUMERR, ACC - incorrect number of characters read

      [1mExplanation:[0m  An incorrect number of characters has been read from  the  ACC
      block on the tape, and the ACC region abandoned.

      [1mUser[0m [1maction:[0m  Check the data on the tape for corruption or a writing error.

  ACCPTSERR, ACC region [1minteger[0m, [1minteger[0m points cannot define a region

      [1mExplanation:[0m  The number of points to define this ACCuracy subregion polygon
      is  <3,  and  therefore  the region cannot be defined, and the ACC region is
      abandoned.

      [1mUser[0m [1maction:[0m  Check the data on the tape as appropriate.

  ACCSENTERR, ACC - unable to read 'ACC' sentinel

      [1mExplanation:[0m  There was  an  error  while  trying  to  read  the  ACC  block
      sentinel, and the ACC region abandoned.

      [1mUser[0m [1maction:[0m  Check the data on the tape for corruption or a writing error.

  ACCTOOMNY, ACC region [1minteger[0m - too many points:  ([1minteger[0m)

      [1mExplanation:[0m  The number of points used to define  this  ACCuracy  subregion
      polygon is >14, ie.  too many, and the ACC region is abandoned.

      [1mUser[0m [1maction:[0m  Check the data on the tape as appropriate.

  ACCUNEXPC, ACC - unexpected [1mstring[0m at start of ACC block

      [1mExplanation:[0m  There was an unexpected character at  the  start  of  the  ACC
      block ie.  not ACC, and the ACC region abandoned.

      [1mUser[0m [1maction:[0m  Check the data on the tape for corruption or a writing error.

  BCKSPERR, failed to backspace one block [1minteger[0m

      [1mExplanation:[0m  There was an error while  attempting  to  backspace  over  the
      latest  read  datablock  on  tape, the block number being given in the error
      message.  Further information is given in the accompanying error messages.

      [1mUser[0m [1maction:[0m  Either try again, or check tape for data errors or corruption.

  BLKLENERR, unrecognised block length [1minteger[0m

      [1mExplanation:[0m  The block just read from tape has an unrecognised length (byte
      number given) and therefore cannot be processed any further.

      [1mUser[0m [1maction:[0m  Check the data on the tape for mistakes from the tape  writing
      session,  or subsequent corruption, and/or rerun the reading session(s) when
      satisfied that the block is unimportant and will not cause problems  in  any
      further  processing.   The  block will either be ignored (if searching for a
      particular manuscript), or cause the end of reading and closure of  the  IFF
      file (if not).


  DFAD2I - DFAD to IFF conversion utility                                Page 2-21
  MESSAGES (ERROR)                                               29 September 1995


  CHKSUMERR, checksum incorrect in block [1minteger[0m

      [1mExplanation:[0m  The checksum in the block number given is incorrect.

      [1mUser[0m [1maction:[0m  Check the data on the tape for corruption or a writing error.

  CRPTRAILER, word [1minteger[0m of trailer label corrupt (manuscript [1minteger[0m);

      [1mExplanation:[0m  The trailer label (in the manuscript  given)  at  the  end  of
      datasets on the tape has been corrupted.

      [1mUser[0m [1maction:[0m  Check the data on the  tape  for  an  error  in  the  original
      writing to tape.  The block is known to be a trailer and can be processed as
      such.

  DSINUMERR, DSI - incorrect number of characters read

      [1mExplanation:[0m  An incorrect number of characters have been read from the  DSI
      block on tape, and the DSI block abandoned.

      [1mUser[0m [1maction:[0m  Check the data on the tape for corruption or a writing error.

  DSISENTERR, DSI - unable to read 'DSI' sentinel

      [1mExplanation:[0m  Unable to read the DSI sentinel from tape, and the  DSI  block
      is abandoned.

      [1mUser[0m [1maction:[0m  Check data on the tape for corruption or a writing error.

  DSIUNEXPC, DSI - unexpected [1mstring[0m at start of DSI block

      [1mExplanation:[0m  Unexpected character at the start of the  DSI  block,  ie  not
      DSI, and the DSI block is abandoned.

      [1mUser[0m [1maction:[0m  Check the data on the tape for corruption or a writing error.

  DUMPFILERR, error opening hexadecimal dump file [1mstring[0m

      [1mExplanation:[0m  An error has occurred in the opening of the dump file on disc.

      [1mUseraction:[0m  Resubmit the command line with a valid file  specification,  or
      check user status.

  FACNUMERR, first feature is not FAC 1, but FAC [1minteger[0m

      [1mExplanation:[0m   The  first  feature  encountered  is  not  a  first   feature
      specifying the range of the map, but the feature given in the error message.

      [1mUser[0m [1maction:[0m  Check data on the tape as appropriate.


  DFAD2I - DFAD to IFF conversion utility                                Page 2-22
  MESSAGES (ERROR)                                               29 September 1995


  IFFILERR, IFF error opening file [1mstring[0m

      [1mExplanation:[0m  An error has occurred in the opening of the IFF file on  disc.
      The  most  likely  reasons for the failure are an incorrectly specified file
      specification in the DCL command line parameter, or  invalid  file  creation
      status.   The accompanying error messages give further information about the
      failure.

      [1mUser[0m [1maction:[0m  Resubmit the command line with a valid file specification,  or
      check user status.

  INVALIDEW, unrecognised longitude hemisphere character

      [1mExplanation:[0m  The  character  after  the  seconds  field  of  the  longitude
      qualifier is not E,W or e,w.

      [1mUser[0m [1maction:[0m  Respecify the value in the command line and start again.  Note
      that  none  of  the  commands  specified  on the command line will have been
      obeyed, and the tape not moved.

  INVALIDMIN, minutes field [1minteger[0m invalid in latitude/longitude

      [1mExplanation:[0m  The value  for  the  minutes  in  the  latitude  or  longitude
      specified in the command line is invalid, ie.  >60 or <0.

      [1mUser[0m [1maction:[0m  Respecify the values in the  command  line  and  start  again.
      Note  that none of the commands specified on the command line will have been
      obeyed, and the tape not moved.

  INVALIDNS, unrecognised latitude hemisphere character

      [1mExplanation:[0m   The  character  after  the  seconds  field  of  the  latitude
      qualifier is not N,S or n,s.

      [1mUser[0m [1maction:[0m  Respecify the value in the command line and start again.  Note
      that  none  of  the  commands  specified  on the command line will have been
      obeyed, and the tape not moved.

  INVALIDSEC, seconds field [1mreal[0m invalid in latitude/longitude

      [1mExplanation:[0m  The value  for  the  seconds  in  the  latitude  or  longitude
      specified in the command line is invalid, ie.  >60 or <0.

      [1mUser[0m [1maction:[0m  Respecify the values in the  command  line  and  start  again.
      Note  that none of the commands specified on the command line will have been
      obeyed, and the tape not moved.

  LATDEGERR, latitude degrees field invalid

      [1mExplanation:[0m  The value for the degrees in the  latitude  specified  in  the
      command line is invalid, ie.  >90 or <0.

      [1mUser[0m [1maction:[0m  Respecify the values in the  command  line  and  start  again.
      Note  that none of the commands specified on the command line will have been
      obeyed, and the tape not moved.


  DFAD2I - DFAD to IFF conversion utility                                Page 2-23
  MESSAGES (ERROR)                                               29 September 1995


  LATLARGE, latitude [1minteger[0m (Y) in feature [1minteger[0m is too large

      [1mExplanation:[0m  The latitude in the feature is too large, ie.  out of range.

      [1mUser[0m [1maction:[0m  Check the data on the tape as appropriate.

  LATNOTFND, manuscript with required latitude not found

      [1mExplanation:[0m  The manuscript with the required latitude was not found in the
      datasets  left  on  the  tape  after  the  position  at which the search was
      initiated.

      [1mUser[0m [1maction:[0m  Either check that the manuscript actually exists on  the  tape
      or rewind and start searching again

  LATSMALL, latitude [1minteger[0m (Y) in feature [1minteger[0m is too small

      [1mExplanation:[0m  The latitude in the feature is too small, ie.  out of range.

      [1mUser[0m [1maction:[0m  Check the data on the tape as appropriate.

  LLNOTFND, manuscript with required lat & longitude not found

      [1mExplanation:[0m  The manuscript with the required latitude  and  longitude  was
      not  found  in the datasets left on the tape after the position at which the
      search was initiated.

      [1mUser[0m [1maction:[0m  Either rewind the tape and start searching again or check that
      the dataset actually exists on the tape.

  LONGDEGERR, longitude degrees field invalid

      [1mExplanation:[0m  The value for the degrees in the longitude  specified  in  the
      command line is invalid, ie.  >180 or <0.

      [1mUser[0m [1maction:[0m  Respecify the values in the  command  line  and  start  again.
      Note  that none of the commands specified on the command line will have been
      obeyed, and the tape not moved.

  LONGLARGE, longitude [1minteger[0m (X) in feature [1minteger[0m is too large

      [1mExplanation:[0m  The longitude in the feature is too large, ie.  out of range

      [1mUser[0m [1maction:[0m  Check the data on the tape as appropriate.

  LONGNEGTIV, longitude [1minteger[0m (X) in feature [1minteger[0m is negative;

      [1mExplanation:[0m  The longitude in the feature given is  negative,  ie.   it  is
      going external to the map boundary.  Conventionally only the latitude values
      are set negative, and if so are noted as external,  counted  and  processing
      continues.   If  the  longitude  is  set  negative, it is ignored as an edge
      marker and an error warning given.

      [1mUser[0m [1maction:[0m  Check data on the tape as appropriate.


  DFAD2I - DFAD to IFF conversion utility                                Page 2-24
  MESSAGES (ERROR)                                               29 September 1995


  LONGNTFND, manuscript with required longitude not found

      [1mExplanation:[0m  The manuscript with the required longitude was  not  found  in
      the  datasets  left  on  the tape after the position at which the search was
      initiated.

      [1mUser[0m [1maction:[0m  Either check that the manuscript actually exists on  the  tape
      or rewind and start searching again

  LONGSMALL, longitude [1minteger[0m (X) in feature [1minteger[0m is too small

      [1mExplanation:[0m  The longitude in the feature is too small, ie.  out of range

      [1mUser[0m [1maction:[0m  Check the data on the tape as appropriate.

  MANBLKERR, error in block [1minteger[0m , manuscript [1minteger[0m

      [1mExplanation:[0m  The block just read from tape is either of an unknown type, or
      an  unexpected  tapemark,  and cannot be processed further (the block number
      and manuscript number are given)

      [1mUser[0m [1maction:[0m  As for BLKLENERR or UNEXPTMK;  check  the  tape  for  mistakes
      arising  from  an  incorrect  writing  session,  and  if  necessary rewrite.
      Proceed when satisfied that the block's existence is  unimportant  and  will
      not  cause  problems in any subsequent processing.  The block will either be
      ignored (if searching for a particular manuscript),  or  cause  the  end  of
      reading and closure of the IFF file (if not).

  NOENTERR, found [1mchar[0m entry

      [1mExplanation:[0m  An unexpected entry (given in the  error  message)  was  found
      instead  of an NO entry while attempting to reposition to the NO entry - see
      NOLPOSERR.

      [1mUser[0m [1maction:[0m  Please submit an SPR to Laserscan.

  NOLPOSERR, error repositioning to NO (pos'n [1minteger[0m)

      [1mExplanation:[0m  There was an error repositioning to the NO (New Overlay) after
      outputting  the EO (End of Overlay) entry in order to there add a pointer to
      the EO address.

      [1mUser[0m [1maction:[0m  Please submit an SPR to Laserscan.

  RDDEGERR, unable to read degrees field

      [1mExplanation:[0m  The value  for  the  degrees  in  the  latitude  or  longitude
      specified in the command line is missing or not recognised by the program.

      [1mUser[0m [1maction:[0m  Respecify the values in the  command  line  and  start  again.
      Note  that none of the commands specified on the command line will have been
      obeyed, and the tape not moved.


  DFAD2I - DFAD to IFF conversion utility                                Page 2-25
  MESSAGES (ERROR)                                               29 September 1995


  RDMINERR, unable to read minutes field

      [1mExplanation:[0m  The value  for  the  minutes  in  the  latitude  or  longitude
      specified in the command line is missing or not recognised by the program.

      [1mUser[0m [1maction:[0m  Respecify the values in the  command  line  and  start  again.
      Note  that none of the commands specified on the command line will have been
      obeyed, and the tape not moved.

  RDNSEWERR, hemisphere character not present

      [1mExplanation:[0m  A hemisphere character  (N,S,E,W  or  n,s,e,w)  has  not  been
      specified  after the seconds field in the latitude or longitude qualifier in
      the command line.

      [1mUser[0m [1maction:[0m  Respecify the value in the command line and start again.  Note
      that  none  of  the  commands  specified  on the command line will have been
      obeyed, and the tape not moved.

  RDSECERR, seconds field missing

      [1mExplanation:[0m  The value  for  the  seconds  in  the  latitude  or  longitude
      specified on the command line is missing or not recognised by the program.

      [1mUser[0m [1maction:[0m  Respecify the values in the  command  line  and  start  again.
      Note  that none of the commands specified on the command line will have been
      obeyed, and the tape not moved.

  RELEASERR, releasability [1minteger[0m is out of range - must be 0 to 99

      [1mExplanation:[0m  The releasability specified in the command  line  is  invalid;
      only values between 0 and 99 are acceptable.

      [1mUser[0m [1maction:[0m   Resubmit  the  command  with  an  acceptable  value  for  the
      releasability.  Note that none of the commands specified on the command line
      will have been obeyed, and the tape not moved.

  SECURERR, security [1minteger[0m is out of range - must be 0 to 99

      [1mExplanation:[0m  The security specified in the command line  is  invalid;  only
      values between 0 and 99 are acceptable.

      [1mUser[0m [1maction:[0m   Resubmit  the  command  with  an  acceptable  value  for  the
      security.  Note that none of the commands specified on the command line will
      have been obeyed, and the tape not moved.

  SKIPTOERR, manuscript [1minteger[0m not found; only [1minteger[0m mss left on the tape

      [1mExplanation:[0m   The  required  manuscript  specified  using  the  /MANUSCRIPT
      qualifier  does  not  exist on the tape (the actual number of manuscripts on
      the tape is given in the error message), or the search has started  past  it
      without a rewind.

      [1mUser[0m [1maction:[0m  Either rewind the tape and search again,  or  check  that  the
      dataset  required  actually  exists  and check the number of datasets on the
      tape.


  DFAD2I - DFAD to IFF conversion utility                                Page 2-26
  MESSAGES (ERROR)                                               29 September 1995


  STPTRERR, first feature has [1minteger[0m points

      [1mExplanation:[0m  The first feature does not have 5 points  to  ensure  closure.
      If  4  points  are given, the fifth is assumed to be equal to the first, but
      with any less continuation is attempted but may not succeed.

      [1mUser[0m [1maction:[0m  Check data on tape as appropriate.

  STRTIFERR, unable to open output IFF file

      [1mExplanation:[0m  An error has occurred in the opening of the IFF file.  Further
      information  is  given  in the accompanying error messages.  The most likely
      cause of failure is an invalid file specification, or invalid system  status
      for the creation of disc files.

      [1mUser[0m [1maction:[0m  Check that the file specification used in the parameter of the
      DCL  command  line  is  valid  for  your local system, and that there are no
      access or protection violation problems.  Resubmit the command line  with  a
      valid file specification.

  TAPINTERR, error initialising mag tape unit [1mstring[0m

      [1mExplanation:[0m  An error has occurred in the attempt to  initialise  the  tape
      device  before  the  first  read.  The accompanying error messages will give
      further information relating to the failure.  The most  likely  reasons  for
      failure are that the tape device specified with the qualifier /DEVICE or the
      default device MTA0:  does not exist on the system, the tape device has been
      allocated  to  another user, or the tape has not been MOUNTed correctly with
      the /FOREIGN qualifier.

      [1mUser[0m [1maction:[0m  Check whether the tape device MTA0:  or the  specified  device
      exists, has been MOUNTED correctly or has not been allocated to another user
      and use the command SHOW DEVICE/FULL <TAPE DEVICE>

  TAPRDBERR, error reading new block (no.  [1minteger[0m) from tape

      [1mExplanation:[0m  An error has occurred in the reading of a block of data (block
      number given) from the tape.  Further information relating to the failure is
      given in the accompanying error messages.  The most likely  reasons  are  an
      error  in  the  writing  of  data  to the tape, or subsequent corruption, or
      confusion as to the current position on  the  tape  and  trying  to  read  a
      non-existent block.

      [1mUser[0m [1maction:[0m  Check the tape for data errors having arisen from the  initial
      writing session or subsequent corruption, or rerun the tape reading commands
      to check the current position on the tape.


  DFAD2I - DFAD to IFF conversion utility                                Page 2-27
  MESSAGES (ERROR)                                               29 September 1995


  TAPRWDERR, error rewinding tape

      [1mExplanation:[0m  An error has occurred while attempting to rewind the  tape  to
      the  Beginning  Of  Tape  (BOT) while searching for the required manuscript.
      Further information relating to the failure is  given  in  the  accompanying
      error messages.

      [1mUser[0m [1maction:[0m  Check the  tape  drive  or  tape  and  resubmit  tape  reading
      commands.

  UNEXPEOF, unexpected end of IFF file found

      [1mExplanation:[0m  An unexpected end of data was encountered while attempting  to
      reposition to the NO entry - see NOLPOSERR.

      [1mUser[0m [1maction:[0m  As for NOLPOSERR.


  DFAD2I - DFAD to IFF conversion utility                                Page 2-28
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages  may  be  generated  by  the  IFF
  library  and  by  the  Laser-Scan I/O library, LSLLIB.  IFF library messages are
  introduced by '%IFF' and are documented in the IFF  library  users'  guide.   In
  most  cases  IFF errors will be due to a corrupt output file, and this should be
  the first area of investigation.  If the cause of the error cannot be traced  by
  the user, and Laser-Scan are consulted, then the output file should be preserved
  to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'  and  are
  generally  self-explanatory.   They  are  used to explain the details of program
  generated errors.














                                     CHAPTER 3

                                   MODULE DFADVAL





  DFADVAL - IFF/DFAD file validation utility                              Page 3-1
                                                                 29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE    DFADVAL[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  Existing DFADVAL.  The new module validates DFAD attribute  data  held
            in  an  AC  7  entry  against  a  DLMS Rule file, and has an option to
            produce a LITES2 guidance file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DFADVAL validates an IFF  file  containing  DFAD  data.   It  performs
            validation  on  feature geometry, DFAD accuracy region attributes (AC8
            entries in layer  zero  features),  and  DFAD  point,  line  and  area
            attribute records (AC7 entries in features in layers other than zero).
            The module also validates entries in the MCE map header.

            Optionally, a LITES2 command file may be produced, which may  be  used
            with  the Laser-Scan cartographic editor LITES2, to aid the correction
            of any features that fail validation.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DFADVAL file-spec

            [1mCommand[0m [1mqualifiers[0m                      [1mDefaults[0m

            /[NO]AC                                 /AC
            /[NO]BOUNDS                             /BOUNDS
            /[NO]DUPLICATES                         /DUPLICATES
            /[NO]INFORMATION                        /INFORMATION
            /LAYER=(integer[,...])              No default
            /LIST=file-spec                         Default output to SYS$OUTPUT
            /LITES2=[file-spec]                     No LITES2 file produced
            /[NO]LOOPCHECK                          /LOOPCHECK
            /[NO]PRINTER                            /NOPRINTER
            /RULES=file-spec                        No rules file used
            /TOLERANCE=real                         /TOLERANCE=1.0
            /TYPE='AC' or 'FS'                      /TYPE='FS'
            /[NO]WARNINGS                           /WARNINGS


  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            Input IFF-file:         input IFF file to be validated


  [1m--------------------------------------------------------------------------------[0m


  DFADVAL - IFF/DFAD file validation utility                              Page 3-2
  PARAMETERS                                                     29 September 1995


  [1mPARAMETERS[0m

  Input IFF-file

          - specifies the IFF  file  to  be  validated.   Any  part  of  the  file
            specification  which  is  not  supplied will be taken from the default
            'LSL$IF:IFF.IFF;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

  /AC (default)
  /NOAC

          - If this qualifier is present, the utility will validate the  attribute
            data  held  in the AC text field of an accuracy region, or DFAD point,
            line or area feature.  The text field is checked to  ensure  that  all
            attributes are present and valid for the type of feature, and that the
            values conform to  the  DLMS  format  Specification.   If  the  /RULES
            qualifier  is present, the attribute values are also validated against
            a DLMS Rules File.

            If /NOAC is specified, the attributes held in the  AC  entry  are  not
            validated.


  /BOUNDS (default)
  /NOBOUNDS

          - if this qualifier is present, the utility checks that all  coordinates
            in  the  IFF  file  are  within  the manuscript area as defined by the
            latitude and longitude corner values in the map header.  Any  features
            found with coordinates outside the manuscript limits are reported.  If
            /NOBOUNDS is specified, no checks are carried out on the range of  the
            coordinates in the file.


  /DUPLICATES(default)
  /NODUPLICATES

          - If this qualifier  is  present,  the  utility  checks  the  coordinate
            strings  for  duplicate  points.  Any duplicate points are reported in
            the validation report.  Note that the coordinate values are  converted
            to the nearest integer value before comparison.

            If /NODUPLICATES is specified, no checks are carried out for duplicate
            coordinate points.


  /INFORMATION (default)
  /NOINFORMATION

          - specifies that informational messages be produced.  Such  messages  do
            not signal invalid entries in the IFF file, but give information about
            what it contains.


  DFADVAL - IFF/DFAD file validation utility                              Page 3-3
  COMMAND QUALIFIERS                                             29 September 1995


  /LAYER=(integer[,...]) No default

          - allows the user to specify a list of specific layers to  be  reported,
            eg  /LAYER=(1,2).   If this qualifier is not specified then all layers
            are reported.


  /LIST=file-spec (default /LIST=SYS$OUTPUT:)

          - allows the user to specify a list file to which the validation  report
            will  be  directed.   If  this  qualifier  is  not supplied, output is
            directed to SYS$OUTPUT.


  /LITES2=[file-spec]

          - If /LITES2 is specified, a LITES2 guidance file will be created,  with
            the  supplied file specification.  The file-spec is parsed against the
            default template LSL$LITES2CMD:DFADVAL.LCM.  This file may be used  to
            aid  the  subsequent  editing of features that have failed validation,
            using the LITES2 cartographic editor.


  /LOOPCHECK (default)
  /NOLOOPCHECK

          - if /LOOPCHECK is specified, then DFADVAL  will  perform  a  check  for
            crossing  or  touching line segments in linear or areal features.  Any
            crossing or touching segments will be reported to the user by means of
            validation failure warning messages.


  /PRINTER
  /NOPRINTER (default)

          - if this qualifier is specified, then the  validation  report  will  be
            written  to  a  temporary  file.   The  contents  of this file will be
            spooled to SYS$PRINT and the disk file  will  be  deleted  on  program
            completion.    This   qualifier  cannot  be  present  with  the  /LIST
            qualifier.


  /RULES=file-spec (optional)

          - this qualifier allows the user to specify a DLMS  Rule  file,  against
            which  any DFAD attribute data, held in the text field of an AC7 entry
            will be checked.  If a feature fails validation, warning messages  are
            generated  indicating  the fields which may have caused the failure of
            the feature record.  The attribute  data  is  in  addition,  validated
            against the DLMS format specification.
            If this qualifier is not used, then the DFAD attribute data  are  only
            checked against the DLMS format specification.



  DFADVAL - IFF/DFAD file validation utility                              Page 3-4
  COMMAND QUALIFIERS                                             29 September 1995


  /TOLERANCE=real (default /TOLERANCE=1.0)

          - this qualifier allows the user to specify the tolerance  within  which
            two line segments, in linear or areal features, must lie of each other
            to be detected as touching or crossing.


  /TYPE='AC'
  /TYPE='FS' (default)

          - /The TYPE qualifier is  used  to  specify  whether  the  feature  type
            (point,  line  or  area)  should  be derived from a feature's AC or FS
            entry.  If /TYPE=FS is specified (or  the  qualifier  is  absent)  the
            feature  type  is  derived from the feature code (first word of the FS
            entry), with feature codes of 102, 101 and 100 indicating a DFAD area,
            line and point feature respectively.
            If /TYPE=AC is specified, then the feature type is  derived  from  the
            the 'typ' field of the text part of the AC7 entry.


  /WARNINGS (default)
  /NOWARNINGS

          - if present, this qualifier will cause  DFADVAL  to  output  validation
            failure  warnings.   These  are similar to the validation errors which
            are always output, except that they relate to less  serious  failures.
            For  example,  DFAD  attribute  records  which  do  not  obey the DLMS
            specification are reported by  means  of  error  messages,  whereas  a
            failure  to  obey  an  entry in the DLMS rules file is reported with a
            warning message.

  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  /PRINTER and /LIST is not allowed

             o  /RULES and /NOAC is not allowed

             o  /TYPE=AC and /TYPE=FS is not allowed


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m

            DFADVAL is a utility to validate the attribute content and geometry of
            an  IFF  file  containing  DLMS  DFAD  data.  It will generally be run
            before the data is written to a DFAD format tape.  A validation report
            is  produced at the terminal or sent to a user specified list file.  A
            LITES2 command file may also be generated.

            By default, the coordinates of DFAD features  are  checked  to  ensure
            that  they  are  within  the  manuscript  bounds.   This  check may be
            suppressed using the /NOBOUNDS qualifier.


  DFADVAL - IFF/DFAD file validation utility                              Page 3-5
  DESCRIPTION                                                    29 September 1995


            By default, line  and  area  features  are  checked  for  crossing  or
            touching  line  segments.   This  check  may  be  suppressed using the
            /NOLOOPCHECK qualifier.  Point, line and  area  features  are  checked
            that are not defined with too few or too many data points.

            By default, the attributes attached to DFAD  features  are  validated.
            Checks  are  performed  to  ensure that all attributes are present and
            valid for the type of feature, and the  values  conform  to  the  DLMS
            format  specification.   If  the  /RULES  qualifier  is  present,  the
            attribute values are also validated against a DLMS Rules File.  Checks
            on the attributes may be suppressed using the /NOAC qualifier.

            Validation against entries in the Rule file  takes  into  account  not
            only  the  individual  attribute  values, but the combination of those
            values within a feature record.  Hence, if more than one  field  in  a
            record  is reported as possibly being invalid, it may not be necessary
            to change all the  fields  mentioned  to  make  the  record  obey  the
            validation  rules.  Since the validation rules provide only a guide to
            the  expected  normal  range  of  field  values,  certain  exceptional
            features  may  lie  outside these rules and yet still be correct.  For
            this reason, rule validation failures are reported only  as  warnings,
            whereas  failures  to adhere to the DLMS specification are reported as
            errors.

            The accuracy region  records  (held  in  AC8  entries  in  layer  zero
            features)  relating  to absolute and relative accuracies are similarly
            validated against the DLMS specification.  The  utility  assumes  that
            accuracy region features have a feature code of 301.

            If the /LITES2 qualifier is present on  the  command  line,  a  LITES2
            guidance  will  be  produced.   This  file may be used with the LITES2
            cartographic editor to aid the correction of any  features  that  have
            failed  validation.   When  obeyed  by LITES2, messages describing the
            problem are produced, and the cursor is positioned on the feature.   A
            'RESPOND'  in the command file allows the user to perform any required
            editing of the feature.  Issuing the  'CONTINUE'  command  will  cause
            LITES2  to  read  the  next series of commands from the guidance file.
            For most validation failures, the cursor will be positioned  over  the
            first point in a feature.  For failures relating to a particular point
            or line segment within a feature (e.g.  crossing line  segments),  the
            cursor will be positioned on or near the offending point or segment.



            [1mThe[0m [1mfollowing[0m [1mshould[0m [1mbe[0m [1mnoted[0m [1mwhen[0m [1musing[0m [1mDFADVAL:[0m

             o  The map corners in the Map Header (MH) entry are  used  to  define
                the manuscript bounds for all range checks.

             o  All coordinates are rounded to the nearest integer before checking
                for errors.

             o  "Point n" refers to the nth point in the point string  (ST)  entry
                or entries in a feature.


  DFADVAL - IFF/DFAD file validation utility                              Page 3-6
  DESCRIPTION                                                    29 September 1995


             o  "Segment n" refers to the line segment from point n to point n+1.

             o  In the line segment crossover check, every segment is checked  for
                touching or crossing EVERY other, except its immediate neighbours.
                If the tolerance for this  check  is  zero,  only  segments  which
                actually  cross  each other will be detected, but if it is greater
                than zero, then all segments which come to within  that  tolerance
                of each other will be detected as 'touching'.

             o  The check for crossing or touching segments will  always  take  at
                least twice as long as a check for crossing segments alone.


  [1m--------------------------------------------------------------------------------[0m
  [1mVALIDATION[0m [1mREPORT[0m

            The validation report  will  contain  informational  messages  if  the
            /INFORMATION  qualifier  is  specified,  and  warning  messages if the
            /WARNINGS qualifier is  specified.   Error  messages  will  always  be
            written to the validation report.

            Warning messages are prefixed with the letter 'W', and error  messages
            with  the letter 'E'.  Any messages relating to specific features will
            contain:

                      FSN fsn:

            where 'fsn' is the Feature Serial Number of the feature.

  [1m--------------------------------------------------------------------------------[0m
  [1mINFORMATIONAL[0m [1mMESSAGES[0m

            Informational messages give details on the following topics:

                [1mHEADER[0m [1mINFORMATION[0m

                The manuscript's unique reference

                The SW corner latitude and longitude coordinates

                The SE corner latitude and longitude coordinates

                The NE corner latitude and longitude coordinates

                The NW corner latitude and longitude coordinates

                The latitude and longitude extents of the manuscript

                The manuscript latitude and longitude origin


  DFADVAL - IFF/DFAD file validation utility                              Page 3-7
  VALIDATION REPORT                                              29 September 1995


                [1mLAYER[0m [1mINFORMATION[0m

                The layer number

                The FSN of the first feature in the layer

                The feature type of the first feature

                FSN Sequence breaks (missing features)

                The FSN of the last feature in the layer

                The total number of features in the layer


                [1mSUMMARY[0m [1mINFORMATION[0m

                The total number of features in the IFF file

                The total number of errors reported

                The total number of warnings reported


  [1m--------------------------------------------------------------------------------[0m
  [1mWARNING[0m [1mMESSAGES[0m

            Warning messages are produced if the following are found:

                [1mFEATURE[0m [1mRECORDS[0m

                Segments in an areal feature that touch

                Segments in a linear feature that touch or cross

                A feature type change within a layer

                A feature type greater than the last feature type

                A point feature with more than 1 point

                Repeated points are found in a feature

                An attribute field that does not obey general rules  in  the  Rule
                file.

                An attribute field that does not obey specific validation rules in
                the Rule file.




  DFADVAL - IFF/DFAD file validation utility                              Page 3-8
  VALIDATION REPORT                                              29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mERROR[0m [1mMESSAGES[0m

            Error messages are produced if:

                [1mMAP[0m [1mHEADER[0m [1mERRORS[0m

                No MCE map header is found

                The manuscript corners are not square

                The manuscript corners are not correctly ordered

                The Latitude extent is incompatible with the latitude corner
                values

                The Longitude extent is incompatible with the longitude corner
                values

                The Latitude of the map origin is not 1 minute south of the SW map
                corner

                The Longitude of the map origin is not 1 minute west of the SW map
                corner

                The SW corner latitude is not between +/-90 degrees

                The SE corner latitude is not between +/-90 degrees

                The NW corner latitude is not between +/-90 degrees

                The NE corner latitude is not between +/-90 degrees

                The SW corner longitude is not between +/-180 degrees

                The SE corner longitude is not between +/-180 degrees

                The NW corner longitude is not between +/-180 degrees

                The NE corner longitude is not between +/-180 degrees

                The Map origin latitude is not between +/-90 degrees

                The Map origin longitude is not between +/-180 degrees

                The Map extent latitude is not between +/-90 degrees

                The Map extent longitude is not between +/-180 degrees

                The Absolute height accuracy is not in the range 0-9999m

                The Relative height accuracy is not in the range 0-9999m

                The Predominant height accuracy is not in the range 0-9999m



  DFADVAL - IFF/DFAD file validation utility                              Page 3-9
  VALIDATION REPORT                                              29 September 1995


                [1mACCURACY[0m [1mREGION[0m [1mERRORS[0m

                An accuracy region does not contain an AC 8 entry

                A coordinate of the accuracy region is outside the manuscript
                range

                An accuracy region attribute field is found more than once

                An accuracy region attribute field is not in the range 0-9999m

                More than one value is found for an accuracy region attribute
                field

                An accuracy region has less than 3 points

                An accuracy region has more than 14 points

                The points of an accuracy region are defined in the wrong order

                There are too many accuracy regions.  There should be at most 9.

                There are too few accuracy regions.  There should be at least 2 or
                none at all.


                [1mFEATURE[0m [1m1[0m [1mERRORS[0m

                There is no feature 1 in the IFF file

                The feature does not have an AC 7 entry

                Feature 1 is not of type 2 (ie.  not an area feature)

                Feature 1 does not have a smc value of 6 or 10

                Feature 1 is not defined with 5 points

                Point 1 is not equal to the manuscript SW corner

                Point 2 is not equal to the manuscript SE corner

                Point 3 is not equal to the manuscript NE corner

                Point 4 is not equal to the manuscript NW corner

                Point 5 is not equal to the manuscript SW corner


  DFADVAL - IFF/DFAD file validation utility                             Page 3-10
  VALIDATION REPORT                                              29 September 1995


                [1mOTHER[0m [1mFEATURE[0m [1mERRORS[0m

                A feature has no AC 7 entry

                A feature has no ST entry

                Coordinate point is outside the range of the manuscript

                The feature has an illegal feature serial number (greater than
                16383)

                The feature's FSN is out of sequence ( FSN <= last FSN)

                An attribute field does not obey the DLMS specification

                An attribute field is not present

                An attribute field is present more than once

                An attribute field is present, but should not be for this type of
                feature


                [1mAREAL[0m [1mFEATURE[0m [1mERRORS[0m [1m(TYPE[0m [1m=[0m [1m2)[0m

                The feature is not closed

                The feature is defined clockwise

                The feature is defined with more than 8191 points

                The feature is defined with less than 4 non-repeated points

                Segments in the feature cross


                [1mLINEAR[0m [1mFEATURE[0m [1mERRORS[0m [1m(TYPE[0m [1m=[0m [1m1)[0m

                The feature is defined with more than 8191 points

                The feature is defined with less than 2 non-repeated points


                [1mPOINT[0m [1mFEATURE[0m [1mERRORS[0m [1m(TYPE[0m [1m=[0m [1m0)[0m

                The feature is define with more than 2047 points




  DFADVAL - IFF/DFAD file validation utility                             Page 3-11
  EXAMPLES                                                       29 September 1995


  [1mEXAMPLES[0m



  $ [1mDFADVAL[0m [1mDFADTEST<CR>[0m

  DFADVAL Validation Report
  ------------------------------------------------------------
   
  IFF file - LSL$DATAROOT:[LSL.IFF]DFAD1.IFF;54
  Created on  22-FEB-1988 13:54:56.99
  Updated on  23-FEB-1988 10:47:35.64 (2)
   
  Include general information?   : YES
  Include warnings?              : YES
  Perform coord bounds check?    : YES
  Perform areal crossover check? : YES, with tolerance   1.000
  Perform duplicate point check? : YES
  Perform AC validation?         : YES
  Feature types taken from FS entries
   
  ------------------------------------------------------------
   
  Unique reference - 1              
   
  SW corner   Lat -33 33 33.3   Long -044 44 44.4
  SE corner   Lat -33 33 33.3   Long  180 00 00.0
  NE corner   Lat  90 00 00.0   Long  180 00 00.0
  NW corner   Lat  90 00 00.0   Long -044 44 44.4
  Map extents Lat  23 33 33.3   Long  224 44 44.4
  Map origin  Lat -12 34 56.7   Long -123 45 59.8
  E    Lat of map origin not 1 min south of SW map corner
  E    Long of map origin not 1 min west of SW map corner
  E    Map extent latitude not between +/-90 deg
  E    Map extent longitude not between +/-180 deg
   
  LAYER 0
  E    FSN      1: Accuracy region field RELV not in range 0-9999m.
  E    FSN      1: Accuracy region field RELH not in range 0-9999m.
  E    FSN      1: X coord of point 1 out of range
  E    FSN      1: X coord of point 2 out of range
  E    FSN      1: X coord of point 3 out of range
  E    FSN      2: X coord of point 1 out of range
  E    FSN      2: X coord of point 2 out of range
  E    FSN      2: X coord of point 3 out of range
       2 features in layer
   
  LAYER 1
  E    Feature 1 must have smc 6 or 10
  E    Feature 1 not type 2
       First feature 1 is type 0
  E    FSN      1: X coord of point 1 out of range
  E    FSN      2: X coord of point 1 out of range
       FSN 3 missing
  E    FSN      4: X coord of point 1 out of range
       FSN 5 - 9 missing


  DFADVAL - IFF/DFAD file validation utility                             Page 3-12
  EXAMPLES                                                       29 September 1995


  E    FSN     10: X coord of point 1 out of range
  E    FSN     11: X coord of point 1 out of range
  E    FSN     12: X coord of point 1 out of range
       FSN 13 - 19 missing
  E    FSN     20: X coord of point 1 out of range
       Last feature 20
       7 features in layer
   
  Total number of features        9
  Total number of errors         21
  Total number of warnings        0
   
   ELAPSED:    0 00:00:03.06  CPU: 0:00:01.34  BUFIO: 64  DIRIO: 13  FAULTS: 159 
  $

            This example shows the operation of  DFADVAL  without  any  qualifiers
            specified  on the command line, so that the default settings are used.
            Output is to  SYS$OUTPUT,  with  errors,  warnings  and  informational
            messages  being  produced.   No  rules file is used.  The loopcheck is
            performed with tolerance 1.0.  Bounds checking is performed.





  $ [1mDFADVAL[0m [1mDFADTEST/NOBOUNDS/NODUPLICATES/NOLOOPCHECK<CR>[0m

  DFADVAL Validation Report
  ------------------------------------------------------------
   
  IFF file - LSL$DATAROOT:[LSL.IFF]DFAD1.IFF;54
  Created on  22-FEB-1988 13:54:56.99
  Updated on  23-FEB-1988 10:47:35.64 (2)
   
  Include general information?   : YES
  Include warnings?              : YES
  Perform coord bounds check?    : NO
  Perform areal crossover check? : NO
  Perform duplicate point check? : NO
  Perform AC validation?         : YES
  Feature types taken from FS entries
   
  ------------------------------------------------------------
   
  Unique reference - 1              
   
  SW corner   Lat -33 33 33.3   Long -044 44 44.4
  SE corner   Lat -33 33 33.3   Long  180 00 00.0
  NE corner   Lat  90 00 00.0   Long  180 00 00.0
  NW corner   Lat  90 00 00.0   Long -044 44 44.4
  Map extents Lat  23 33 33.3   Long  224 44 44.4
  Map origin  Lat -12 34 56.7   Long -123 45 59.8
  E    Lat of map origin not 1 min south of SW map corner
  E    Long of map origin not 1 min west of SW map corner
  E    Map extent latitude not between +/-90 deg
  E    Map extent longitude not between +/-180 deg


  DFADVAL - IFF/DFAD file validation utility                             Page 3-13
  EXAMPLES                                                       29 September 1995


   
  LAYER 0
  E    FSN      1: Accuracy region field RELV not in range 0-9999m.
  E    FSN      1: Accuracy region field RELH not in range 0-9999m.
       2 features in layer
   
  LAYER 1
  E    Feature 1 must have smc 6 or 10
  E    Feature 1 not type 2
       First feature 1 is type 0
       FSN 3 missing
       FSN 5 - 9 missing
       FSN 13 - 19 missing
       Last feature 20
       7 features in layer
   
  Total number of features        9
  Total number of errors          8
  Total number of warnings        0
   
   ELAPSED:    0 00:00:03.06  CPU: 0:00:01.34  BUFIO: 64  DIRIO: 13  FAULTS: 159 
  $

            In this example all coordinate checks are disabled  by  means  of  the
            /NOBOUNDS  /NODUPLICATES  and  /NOLOOPCHECK  qualifiers.   Checks  are
            performed only on the AC fields of the DFAD features.




  $ [1mDFADVAL/RULES=[DFAD.VALTAB]VALTAB[0m [1mDFAD1<CR>[0m

  DFADVAL Validation Report
  ------------------------------------------------------------
   
  IFF file - DUA0:[MCE.IFF]DFAD1.IFF;1
  Created on   9-NOV-1983 15:23:13.00
  Updated on  20-JAN-1988 14:11:25.34 (7)
   
  Include general information?   : YES
  Include warnings?              : YES
  Perform coord bounds check?    : YES
  Perform areal crossover check? : YES, with tolerance   1.000
  Perform duplicate point check? : YES
  Perform AC validation          : YES
  Feature types taken from FS entries
   
  ------------------------------------------------------------
   
  Unique reference - UK SQUARE 79   
   
  SW corner   Lat  58 00 00.0   Long -005 00 00.0
  SE corner   Lat  58 00 00.0   Long -004 00 00.0
  NE corner   Lat  59 00 00.0   Long -004 00 00.0
  NW corner   Lat  59 00 00.0   Long -005 00 00.0
  Map extents Lat  01 00 00.0   Long  001 00 00.0


  DFADVAL - IFF/DFAD file validation utility                             Page 3-14
  EXAMPLES                                                       29 September 1995


  Map origin  Lat  57 59 00.0   Long -005 01 00.0
   
  LAYER 0
       2 features in layer
   
  LAYER 1
       First feature 1 is type 2
  W    FSN    115: Segments     43 and     45 touch nr  29824 ,  10289
  W    FSN    158: Segments   1751 and   1753 touch nr  21325 ,  18000
  W    FSN    226: Segments      4 and      6 touch nr  19003 ,  15224
  W    FSN    233: Segments      1 and     22 touch nr  19651 ,  13883
  W    FSN    245: Segments     49 and     51 touch nr  16142 ,  12403
  W    FSN    381: Segments    546 and    548 touch nr  22123 ,   1504
  W    FSN    406: Segments    195 and    197 touch nr  16287 ,   8751
  W    FSN    467: Segments      1 and     39 touch nr  20235 ,    600
       Last feature 512
       512 features in layer
   
  LAYER 2
       FSN 513 - 612 missing
       First feature 613 is type 1
  W    FSN    624: Segments     16 and     18 touch nr  29649 ,  20269
  W    FSN    626: Segments     20 and     23 touch nr  32891 ,  20802
  W    FSN    626: Segments     21 and     23 touch nr  32892 ,  20802
  W    FSN    626: Segments     52 and     54 cross at  32413 ,  21063
  W    FSN    631: Segments     37 and     39 touch nr  35942 ,  22220
  W    FSN    731: Field hgt may not obey validation table specific rules.
  W    FSN    733: Field hgt may not obey validation table specific rules.
       Last feature 736
       124 features in layer
   
  LAYER 3
       FSN 737 - 2736 missing
       First feature 2737 is type 0
  W    FSN   2844: Point feature with > 1 (33) points
  W    FSN   3050: Point feature with > 1 (104) points
       Last feature 3050
       314 features in layer
   
  Total number of features      952
  Total number of errors          0
  Total number of warnings       17
   
   ELAPSED:  0 00:13:28.81  CPU: 0:05:18.62  BUFIO: 71  DIRIO: 11047  FAULTS: 767 
  $

            In this example, the DFAD attribute data is is validated  against  the
            rules file in the specified DLMS Rule file.  Two warnings are produced
            indicating that features 731 and 733 have failed validation.






  DFADVAL - IFF/DFAD file validation utility                             Page 3-15
  EXAMPLES                                                       29 September 1995


  $ [1mDFADVAL/TOLERANCE=0[0m [1mDFAD1<CR>[0m

  DFADVAL Validation Report
  ------------------------------------------------------------
   
  IFF file - DUA0:[MCE.IFF]DFAD1.IFF;1
  Created on   9-NOV-1983 15:23:13.00
  Updated on  20-JAN-1988 14:11:25.34 (7)
   
  Include general information?   : YES
  Include warnings?              : YES
  Perform coord bounds check?    : YES
  Perform areal crossover check? : YES, with tolerance   0.000
  Perform duplicate point check? : YES
  Perform AC validation?         : YES
  Feature types taken from FS entries
   
  ------------------------------------------------------------
   
  Unique reference - UK SQUARE 79   
   
  SW corner   Lat  58 00 00.0   Long -005 00 00.0
  SE corner   Lat  58 00 00.0   Long -004 00 00.0
  NE corner   Lat  59 00 00.0   Long -004 00 00.0
  NW corner   Lat  59 00 00.0   Long -005 00 00.0
  Map extents Lat  01 00 00.0   Long  001 00 00.0
  Map origin  Lat  57 59 00.0   Long -005 01 00.0
   
  LAYER 0
       2 features in layer
   
  LAYER 1
       First feature 1 is type 2
       Last feature 512
       512 features in layer
   
  LAYER 2
       FSN 513 - 612 missing
       First feature 613 is type 1
  W    FSN    626: Segments     52 and     54 cross at  32413 ,  21063
       Last feature 736
       124 features in layer
   
  LAYER 3
       FSN 737 - 2736 missing
       First feature 2737 is type 0
  W    FSN   2844: Point feature with > 1 (33) points
  W    FSN   3050: Point feature with > 1 (104) points
       Last feature 3050
       314 features in layer
   
  Total number of features      952
  Total number of errors          0
  Total number of warnings       15
   
   ELAPSED:    0 00:07:03.79  CPU: 0:02:21.71  BUFIO: 64  DIRIO: 512  FAULTS: 348 


  DFADVAL - IFF/DFAD file validation utility                             Page 3-16
  EXAMPLES                                                       29 September 1995


  $

            This example shows the use of the /TOLERANCE qualifier to  change  the
            default  tolerance  within  which tests for touching and crossing line
            segments are performed.  Here, a zero tolerance is specified, so  only
            line  segments  in  areal  or linear features which actually cross, as
            opposed to touch, are reported.




  $ [1mDFADVAL/TYPE=AC/NOLOOPCHECK/NODUPLICATES[0m [1mDFAD1<CR>[0m

  DFADVAL Validation Report
  ------------------------------------------------------------
   
  IFF file - DUA0:[MCE.IFF]DFAD1.IFF;1
  Created on   9-NOV-1983 15:23:13.00
  Updated on  20-JAN-1988 14:11:25.34 (7)
   
  Include general information?   : YES
  Include warnings?              : YES
  Perform coord bounds check?    : YES
  Perform areal crossover check? : NO
  Perform duplicate point check? : NO
  Perform AC validation?         : YES
  Feature types taken from AC entries
   
  ------------------------------------------------------------
   
  Unique reference - UK SQUARE 79   
   
  SW corner   Lat  58 00 00.0   Long -005 00 00.0
  SE corner   Lat  58 00 00.0   Long -004 00 00.0
  NE corner   Lat  59 00 00.0   Long -004 00 00.0
  NW corner   Lat  59 00 00.0   Long -005 00 00.0
  Map extents Lat  01 00 00.0   Long  001 00 00.0
  Map origin  Lat  57 59 00.0   Long -005 01 00.0
   
  LAYER 0
       2 features in layer
   
  LAYER 1
       First feature 1 is type 2
       Last feature 512
       512 features in layer
   
  LAYER 2
       FSN 513 - 612 missing
       First feature 613 is type 1
       Last feature 736
       124 features in layer
   
  LAYER 3
       FSN 737 - 2736 missing
       First feature 2737 is type 0


  DFADVAL - IFF/DFAD file validation utility                             Page 3-17
  EXAMPLES                                                       29 September 1995


  W    FSN   2844: Point feature with > 1 (33) points
  W    FSN   3050: Point feature with > 1 (104) points
       Last feature 3050
       314 features in layer
   
  Total number of features      952
  Total number of errors          0
  Total number of warnings        2
   
   ELAPSED:    0 00:02:52.20  CPU: 0:00:54.96  BUFIO: 51  DIRIO: 512  FAULTS: 255 
  $

            In the above  case,  the  /NOLOOPCHECK  qualifier  specifies  that  no
            checking  for  touching  or crossing line segments is performed, while
            the /NODUPLICATES qualifier disables checking for duplicate points.




  $ [1mDFADVAL/NOLOOPCHECK/NODUPLICATES/NOAC/NOWARNINGS/NOINFORMATION[0m [1mDFAD1<CR>[0m

  DFADVAL Validation Report
  ------------------------------------------------------------
   
  IFF file - DUA0:[MCE.IFF]DFAD1.IFF;1
  Created on   9-NOV-1983 15:23:13.00
  Updated on  20-JAN-1988 14:11:25.34 (7)
   
  Include general information?   : NO
  Include warnings?              : NO
  Perform coord bounds check?    : YES
  Perform areal crossover check? : NO
  Perform duplicate point check? : NO
  Perform AC validation?         : NO
  Feature types taken from FS entries
   
  ------------------------------------------------------------
   
   
   
   ELAPSED:    0 00:02:03.56  CPU: 0:00:54.23  BUFIO: 20  DIRIO: 516  FAULTS: 168 
  $

            In this example, in addition to  the  /NOLOOPCHECK  and  /NODUPLICATES
            qualifier,  the /NOWARNINGS and /NOINFORMATION qualifiers specify that
            no warning or informational messages should be generated.   The  /NOAC
            qualifier specifies the attributes held in a feature's AC entry should
            not be validated.  Since no validation errors are found in  the  input
            file, only the validation report header is produced.






  DFADVAL - IFF/DFAD file validation utility                             Page 3-18
  EXAMPLES                                                       29 September 1995


  $ [1mDFADVAL/RULES=[DFAD.VALTAB]VALTAB/LITES2=DFAD1.LCM[0m [1mDFAD1<CR>[0m

  DFADVAL Validation Report
  ------------------------------------------------------------
   
  IFF file - DUA0:[MCE.IFF]DFAD1.IFF;1
  Created on   9-NOV-1983 15:23:13.00
  Updated on  20-JAN-1988 14:11:25.34 (7)
   
  Include general information?   : YES
  Include warnings?              : YES
  Perform coord bounds check?    : YES
  Perform areal crossover check? : YES, with tolerance   1.000
  Perform duplicate point check? : YES
  Perform AC validation?         : YES
  Feature types taken from FS entries
   
  ------------------------------------------------------------
   
  Unique reference - UK SQUARE 79   
   
  SW corner   Lat  58 00 00.0   Long -005 00 00.0
  SE corner   Lat  58 00 00.0   Long -004 00 00.0
  NE corner   Lat  59 00 00.0   Long -004 00 00.0
  NW corner   Lat  59 00 00.0   Long -005 00 00.0
  Map extents Lat  01 00 00.0   Long  001 00 00.0
  Map origin  Lat  57 59 00.0   Long -005 01 00.0
   
  LAYER 0
       2 features in layer
   
  LAYER 1
       First feature 1 is type 2
  W    FSN    115: Segments     43 and     45 touch nr  29824 ,  10289
  W    FSN    158: Segments   1751 and   1753 touch nr  21325 ,  18000
  W    FSN    226: Segments      4 and      6 touch nr  19003 ,  15224
       Last feature 512
       512 features in layer
   
  LAYER 2
       FSN 513 - 612 missing
       First feature 613 is type 1
  W    FSN    624: Segments     16 and     18 touch nr  29649 ,  20269
  W    FSN    626: Segments     20 and     23 touch nr  32891 ,  20802
  W    FSN    731: Field hgt may not obey validation table specific rules.
  W    FSN    733: Field hgt may not obey validation table specific rules.
       Last feature 736
       124 features in layer
   
  LAYER 3
       FSN 737 - 2736 missing
       First feature 2737 is type 0
  W    FSN   2844: Point feature with > 1 (33) points
  W    FSN   3050: Point feature with > 1 (104) points
       Last feature 3050
       314 features in layer


  DFADVAL - IFF/DFAD file validation utility                             Page 3-19
  EXAMPLES                                                       29 September 1995


   
  Total number of features      952
  Total number of errors          0
  Total number of warnings        9
   
   ELAPSED:  0 00:17:13.43  CPU: 0:05:24.59  BUFIO: 72  DIRIO: 11051  FAULTS: 717 


            This example illustrates the production of a LITES2 command file which
            can  be  used  to  guide the user to invalid features using the LITES2
            cartographic editor.  The validation is performed using a  rules  file
            specified  with  /RULES.   The validation report output is directed to
            SYS$OUTPUT, and the LITES2 commands are written to  a  file  specified
            with  the /LITES2 qualifier.  The contents of the LITES2 guidance file
            'DFAD1.LCM' are as follows:


  %POSITION   600.000   600.000
  %POSITION 36600.000 36600.000
  %ABANDON
  %MESSAGE 
  %MESSAGE                L I T E S 2   C O M M A N D   F I L E
  %MESSAGE 
  %MESSAGE                              created by
  %MESSAGE 
  %MESSAGE =========================== D F A D V A L ============================ 
  %MESSAGE 
  %MESSAGE DFADVAL invoked by JON using terminal RTA2: at 26-FEB-1988 11:07:45.36 
  %MESSAGE  
  %MESSAGE Command line:
  %MESSAGE  
  %MESSAGE DFADVAL/RULES=[DFAD.VALTAB]VALTAB/LITES2=DFAD1.LCM DFAD1 
  %MESSAGE 
  %MESSAGE ======================================================================
  %MESSAGE 
  %ABANDON
  %ABANDON
  %MESSAGE "Feature 115: segments 43 and 45 touch nr 29824 , 10289"
  %POSITION      29824.000      10289.000
  %TEST $CURSINWIN
  %ELSE %ZOOM 1
  %RESPOND
  %ABANDON
  %MESSAGE "Feature 158: segments 1751 and 1753 touch nr 21325 , 18000"
  %POSITION      21325.000      18000.000
  %TEST $CURSINWIN
  %ELSE %ZOOM 1
  %RESPOND
  %ABANDON
  %MESSAGE "Feature 226: segments 4 and 6 touch nr 19003 , 15224"
  %POSITION      19003.000      15224.000
  %TEST $CURSINWIN
  %ELSE %ZOOM 1
  %RESPOND
  %ABANDON
  %MESSAGE "Feature 624: segments 16 and 18 touch nr 29649 , 20269"


  DFADVAL - IFF/DFAD file validation utility                             Page 3-20
  EXAMPLES                                                       29 September 1995


  %POSITION      29649.000      20269.000
  %TEST $CURSINWIN
  %ELSE %ZOOM 1
  %RESPOND
  %ABANDON
  %MESSAGE "Feature 626: segments 20 and 23 touch nr 32891 , 20802"
  %POSITION      32891.000      20802.000
  %TEST $CURSINWIN
  %ELSE %ZOOM 1
  %RESPOND
  %ABANDON
  %MESSAGE "Feature 731: field hgt may not obey  validation table specific rules."
  %POSITION      23180.000       1113.000
  %TEST $CURSINWIN
  %ELSE %ZOOM 1
  %RESPOND
  %ABANDON
  %MESSAGE "Feature 733: field hgt may not obey  validation table specific rules."
  %POSITION      22786.000       1080.000
  %TEST $CURSINWIN
  %ELSE %ZOOM 1
  %RESPOND
  %ABANDON
  %MESSAGE "Feature 2844: point feature with > 1 (33) points"
  %POSITION      36487.000       2833.000
  %TEST $CURSINWIN
  %ELSE %ZOOM 1
  %RESPOND
  %ABANDON
  %MESSAGE "Feature 3050: point feature with > 1 (104) points"
  %POSITION      10452.000       7286.000
  %TEST $CURSINWIN
  %ELSE %ZOOM 1
  %RESPOND
  %ABANDON
  $




  $ [1mDFADVAL/RULES=[DFAD.VALTAB]VALTAB/LIST=DFAD1.LIS[0m [1mDFAD1<CR>[0m

  %DFADVAL-I-LISTOUT, List output is being directed to DFAD1.LIS
   ELAPSED:   0 00:19:19.69  CPU: 0:05:24.09  BUFIO: 8  DIRIO: 11049  FAULTS: 802 

  $ [1mDFADVAL/RULES=[DFAD.VALTAB]VALTAB/PRINTER[0m [1mDFAD1<CR>[0m

  %DFADVAL-I-PRINTOUT, List output is being directed to the printer
   ELAPSED:   0 00:14:16.52  CPU: 0:05:21.48  BUFIO: 9  DIRIO: 11053  FAULTS: 750 
  $

            The two examples above illustrate the use of the  /LIST  and  /PRINTER
            qualifiers  to  direct the validation report to a file and the printer
            respectively.


  DFADVAL - IFF/DFAD file validation utility                             Page 3-21
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m


  These messages give information only, and require no  immediate  action  by  the
  user.   They  are  often  used to supply explanatory information in support of a
  warning or error message.


  LISTOUT List output is being directed to list file [1mfile-spec[0m

      [1mExplanation:[0m List output is being directed to the file  specified  with  the
                   /LIST qualifier.

      [1mUser[0m [1maction:[0m None.

  PRINTOUT List output is being directed to the printer

      [1mExplanation:[0m List output is being directed to the printer  as  specified  by
                   the /PRINTER qualifier.

      [1mUser[0m [1maction:[0m None.


  DFADVAL - IFF/DFAD file validation utility                             Page 3-22
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m


  These messages indicate an error in processing which has caused the  program  to
  terminate.   If  an  error  occurs, it is unlikely that any output file produced
  will be correctly processed.

  TOOMNYINTS, Too many intersections found

      [1mExplanation:[0m While  performing  the  LOOPCHECK  operation   more   than   50
                   intersection  points  were  found.   The remaining intersection
                   points are ignored.

      [1mUser[0m [1maction:[0m The fact that so many intersection points have been  found  for
                   this  feature,  indicates  a  serious  problem  in  the feature
                   geometry.  Correct the feature using the mechanisms  you  would
                   normally use to correct other errors in feature geometry.

  UNOPNRULE, Cannot open specified rule file

      [1mExplanation:[0m The rule file specified in the command line cannot be found  or
                   opened

      [1mUser[0m [1maction:[0m Check that the rule file specification was correct and that the
                   file  exists.  Then respecify the command line with a corrected
                   file specification.

  UNCLORULE, Cannot close the rule file used

      [1mExplanation:[0m The rule file during the validation cannot be closed correctly.

      [1mUser[0m [1maction:[0m Check that the rule  file  is  not  damaged.   If  the  problem
                   persists, contact Laser-Scan.


  DFADVAL - IFF/DFAD file validation utility                             Page 3-23
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m


  In addition to the above messages which are generated by DFADVAL  itself,  other
  messages may be produced by the command line interpreter (CLI) and by Laser-Scan
  libraries.  In particular, messages may be generated by the IFF library.   These
  are introduced by '%IFF' and are documented in the IFF library users' guide.  In
  most cases IFF errors will be due to a corrupt input file, and  this  should  be
  the  first area of investigation.  If the cause of the error cannot be traced by
  the user and Laser-Scan are consulted, then the input file should  be  preserved
  to facilitate diagnosis.














                                     CHAPTER 4

                                  MODULE FADTINPUT





  FADTINPUT - FADT file creation and edit utility                         Page 4-1
                                                                 29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE    FADTINPUT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  FADTINPUT is a new utility

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            FADTINPUT allows a user to  create,  edit  and  list  a  DLMS  Feature
            Analysis  Data  Table (FADT) file.  It performs validation on the FADT
            records  entered  against   the   Digital   Landmass   System   (DLMS)
            Specification,  and  optionally against a set of validation rules in a
            user specified rule file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ FADTINPUT

            [1mCommand[0m [1mqualifiers[0m

            None - this utility is controlled by forms and optionally by logical
            names.


            [1mCommand[0m [1mand[0m [1mdata[0m [1mentry[0m [1mforms[0m

            The user may control the operation of the FADTINPUT utility by 
            means of the following screen forms:

                 COMMAND OPTIONS FORM
                 FILE SPECIFICATION FORM
                 OUTPUT LIST FILE SPECIFICATION FORM
                 RECORD TYPE OPTION FORM


            The user may enter or modify data in an FADT file by means of the 
            following screen entry forms:

                 ACCURACY RECORD FORM
                 ACCURACY REGION RECORD FORM
                 DATA SET IDENTIFICATION (DSI) RECORD FORM
                 DLMS HEADER RECORD FORM
                 FADT RECORD FORM




  FADTINPUT - FADT file creation and edit utility                         Page 4-2
  FORMAT                                                         29 September 1995


            [1mCommand[0m [1mand[0m [1mFile[0m [1mSpecification[0m [1mLogical[0m [1mNames[0m

            Optionally, the user may control the operation of FADTINPUT by means
            of the 
            following logical names:

                 LSL$FADTINPUT_ACTION
                 LSL$FADTINPUT_FADT
                 LSL$FADTINPUT_RULE
                 LSL$FADTINPUT_LIST


  FADTINPUT - FADT file creation and edit utility                         Page 4-3
  Default values for data entry forms                            29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mDEFAULT[0m [1mVALUES[0m [1mFOR[0m [1mDATA[0m [1mENTRY[0m [1mFORMS[0m

            Default values for the ACC, DSI, FADT and HEADER (DLMS) forms  can  be
            set  by  the system manager in a lookup file pointed to by the logical
            name LSL$FADTINPUT_DEFAULTS, which  must  be  defined  in  the  system
            table.   If  this logical name is not defined then FADTINPUT reads the
            file LSL$LOOKUP:FADT_DEFAULTS.DAT which  is  supplied  by  Laser-Scan.
            This  file  can  be  copied  and used as a template for an alternative
            lookup file.

            The lookup file is an ASCII file of records  consisting  of  commands,
            sub-commands and parameters.  Any text starting with the "!" character
            is regarded as a comment, and is ignored.  Comments can appear on  the
            same  lines as commands, or on separate lines.  Note that commands may
            be in upper or lower case, but cannot be abbreviated.

            Each record must begin with one of the commands  ACC,  DSI,  DLMS,  or
            FADT.   The  ACC,  DSI,  and  DLMS  commands  must  be  followed  by a
            sub-command which has a single parameter which must be a quoted string
            with  double quotes.  The FADT command does not have a sub-command but
            is followed by a set of  parameters.   The  parameters  for  the  FADT
            command [1mmust[0m [1mnot[0m be a quoted string.  The requirements for each of the
            four commands are as follows:


            [1mACC[0m [1mcommand[0m
            The sub-commands for ACC and their required values  are  a  listed  as
            follows:

            [1mABSOLUTE[0m        - The absolute horizontal accuracy (0-9999).

            [1mRELATIVE[0m        - The relative horizontal accuracy (0-9999).

            [1mVERTICAL[0m        - The predominant height measuring accuracy (0-9999).

            [1mMULT_ACC[0m        - The relative horizontal accuracy (0-9 metres).


            [1mDSI[0m [1mcommand[0m
            The sub-commands for DSI and their required values  are  a  listed  as
            follows:

            [1mSEC_HAND_DESC[0m   - Security handling description.

            [1mPRODUCT_LEVEL[0m   - The product level (1 or 2).

            [1mMANU_REF_NUM[0m    - Manuscript reference number.

            [1mDATA_ED_NUM[0m     - Data edition number (01-99).

            [1mMAT_MER_VERS[0m    - Match merge version (A-Z).

            [1mMAINT_DATE[0m      - Maintenance date (YYMM).


  FADTINPUT - FADT file creation and edit utility                         Page 4-4
  DEFAULT VALUES FOR DATA ENTRY FORMS                            29 September 1995


            [1mMAT_MER_DATE[0m    - Match merge date (YYMM).

            [1mMAINT_DESC[0m      - Maintenance description code (0000-9999).

            [1mPRODUCER_CODE[0m   - Country producer code.

            [1mPROD_SPEC_ID[0m    - Product spec.  identification.

            [1mPROD_SPEC_ED[0m    - Product spec.  edition (01-99).

            [1mPROD_SPEC_DATE[0m  - Product spec.  date (YYMM).

            [1mHORIZ_DATUM[0m     - Horizontal datum.

            [1mDIG_COLL_SYS[0m    - Digitising collection system.

            [1mORIG_COMP_DATE[0m  - Original comp date (YYMM).


            [1mDLMS[0m [1mcommand[0m
            The sub-commands for DLMS and their required values are  a  listed  as
            follows:

            [1mSQUARE_ID[0m       - Square identifier (xxxxxxxn - (n = 1 or 2)).

            [1mANALYSIS_DATE[0m   - Analysis date (DDMMMYY or TODAY).

            [1mMANU_ORIG_LAT[0m   - Manuscript origin latitude (DDMMSS,SH H=N,S,E,W).

            [1mMANU_ORIG_LON[0m   - Manuscript origin longitude (DDDMMSS,SH H=N,S,E,W).

            [1mSW_CORNER_LAT[0m   - Southwest corner latitude (DDMMSS,SH H=N,S,E,W).

            [1mSW_CORNER_LON[0m   - Southwest corner longitude (DDDMMSS,SH H=N,S,E,W).

            [1mNE_CORNER_LAT[0m   - Northeast corner latitude (DDMMSS,SH H=N,S,E,W).

            [1mNE_CORNER_LON[0m   - Northeast corner longitude (DDDMMSS,SH H=N,S,E,W).

            [1mDIG_SCALE[0m       - Digitising scale (0-999999).

            [1mWAC_NUM[0m         - WAC number (1-9999).

            [1mWAC_CELL[0m        - WAC cell (1-25).

            [1mWAG_CELL[0m        - WAG cell (1-16).

            [1mSECURITY[0m        - Security (0-99).

            [1mSECURITY_DESC[0m   - Security descriptor (T,S,C,R or U).

            [1mRELEASABILITY[0m   - Releasability (0-99).

            [1mVAL_RULES[0m       - Validation rules.



  FADTINPUT - FADT file creation and edit utility                         Page 4-5
  DEFAULT VALUES FOR DATA ENTRY FORMS                            29 September 1995


            [1mFADT[0m [1mcommand[0m
            An FADT line has the form :-

            [1mFADT   Type   FID   Height   Sec   Rel   SMC [0m
            [1m  OrDiDe   WidRof   LenTre[0m

            where the fields are :-

            [1mType   [0m- feature analysis type (0,1,2).

            [1mFID    [0m- feature identification (100-999).

            [1mHei    [0m- height in metres (-1022 - +1022).

            [1mSec    [0m- Security (0-99).

            [1mRel    [0m- Releasability (0-99).

            [1mOrDiDe [0m- Point, Orientation (0-31 or 63).   Line,  Directivity  (1-3).
                     Area, Density (0-15).

            [1mWidRof [0m- Point and Line, Width (0-127).  Area, % roof coverage (0-10).

            [1mLenTre [0m- Point, Length (0-127).  Line, not applicable.  Area,  %  tree
                     coverage (0-10).


  FADTINPUT - FADT file creation and edit utility                         Page 4-6
  LOGICAL NAMES                                                  29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mLOGICAL[0m [1mNAMES[0m

            Optionally, the  user  may  control  the  operation  of  FADTINPUT  by
            defining  certain  logical  names  before FADTINPUT is invoked.  These
            logical names  will  control  the  overall  function  carried  out  by
            FADTINPUT, and the specifications of the files which the program uses.
            The logical names are described below:


            [1mLSL$FADTINPUT_ACTION[0m
            The logical name LSL$FADTINPUT_ACTION controls the  operation  carried
            out  by  FADTINPUT.  LSL$FADTINPUT_ACTION may be defined to have the a
            value of '1', '2' or '3'.  These values are  equivalent  to  selecting
            options   '1',  '2'  or  '3'  on  the  'Command  Options'  form.   The
            specifications for files used by FADTINPUT  will  be  taken  from  the
            definitions of the other logical names, as described below.
            The values of LSL$FADTINPUT_ACTION  specify  the  following  FADTINPUT
            operations:

            1.  [1mCreate[0m [1ma[0m [1mnew[0m [1mFADT[0m [1mfile[0m

            2.  [1mEdit[0m [1man[0m [1mexisting[0m [1mFADT[0m [1mfile[0m

            3.  [1mList[0m [1man[0m [1mexisting[0m [1mFADT[0m [1mfile[0m


            If LSL$FADTINPUT_ACTION is not defined, then no  other  logical  names
            will  be  examined  by FADTINPUT.  If LSL$FADTINPUT_ACTION is defined,
            but does not have a legal value  ('1',  '2'  or  '3')  then  an  error
            message  will  be  produced  and  the  execution  of FADTINPUT will be
            terminated.
            The contents of any list file produced will not be sent to the printer
            by FADTINPUT when it is operating under the control of logical names.


            [1mLSL$FADTINPUT_FADT[0m
            The logical name LSL$FADTINPUT_FADT is used to specify the  FADT  file
            to  be processed or created by FADTINPUT.  The file specification will
            be   parsed   against   the    default    'LSL$FADT:FADT.FADT'.     If
            LSL$FADTINPUT_FADT   is   not   defined,   the  default  specification
            'LSL$FADT:FADT.FADT' will be used.


            [1mLSL$FADTINPUT_RULE[0m
            The logical name LSL$FADTINPUT_RULE is used to  specify  the  optional
            rule  file  against  which FADT records will be validated by FADTINPUT
            during the creation or  editing  of  an  FADT  file.   The  rule  file
            specification  will be parsed against 'LSL$DFAD_RULE:VALTAB.RULE'.  If
            LSL$FADTINPUT_RULE is not defined, then  validation  of  FADT  records
            will only be performed against the DLMS specification, and not against
            a rule file.
            The logical name LSL$FADTINPUT_RULE will only be examined by FADTINPUT
            if LSL$FADTINPUT_ACTION has the value '1' or '2'.



  FADTINPUT - FADT file creation and edit utility                         Page 4-7
  LOGICAL NAMES                                                  29 September 1995


            [1mLSL$FADTINPUT_LIST[0m
            The logical name LSL$FADTINPUT_LIST is used to specify the output list
            file to which the listing of the input FADT file will be directed when
            the logical name LSL$FADTINPUT_ACTION is defined  to  have  the  value
            '3'.   The  file  specification will be parsed against 'FADT.LIS'.  If
            LSL$FADTINPUT_LIST is not defined, a default list  file  specification
            will  be  constructed from the input FADT file specification, with the
            input FADT file specification's extension being replaced by '.LIS' for
            the list file.
            The logical name LSL$FADTINPUT_LIST will only be examined by FADTINPUT
            if LSL$FADTINPUT_ACTION has the value '3'.


  FADTINPUT - FADT file creation and edit utility                         Page 4-8
  DESCRIPTION                                                    29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m

            FADTINPUT is a utility to create, modify and list a  DLMS  FADT  file.
            This file may subsequently be merged with DFAD geometry data using the
            utility FADTMERGE.

            FADTINPUT performs validation on the FADT  records  against  the  DLMS
            Specification,  and  optionally against a set of validation rules in a
            user specified rule file.  Validation is performed as data are entered
            using  the  FADT  feature  record  form.   Validation  is carried out,
            firstly on a field by field basis as each value  is  entered,  with  a
            message  displayed  to  indicate if a given field is possibly invalid.
            Secondly, since this is only a partial check on  compliance  with  the
            validation  rules,  after  the  entry  of  each complete record, it is
            rechecked in  its  entirety.   If  the  record  fails  validation,  an
            indication is given of each field which may be in error.

            Note that since the validation rules are only intended as a guide, the
            program  does  not  enforce  compliance  with the rules.  The user may
            choose to ignore the validation warning messages  in  order  to  enter
            features with exceptional attribute values.



            FADTINPUT is form driven, using the DEC Form Management System  (FMS).
            A  detailed  description of each form is given below in the section on
            'Command and Data Entry Forms'.

            The following keys may be used to control movement between, and  entry
            of data into, forms and fields:

               [1mTAB[0m [1mand[0m [1mPF4[0m Advances the cursor to the  next  field  in  the  form.
                           Attempting  to advance forward from the last field on a
                           form will result in the message [1m'No[0m [1mnext[0m [1mfield[0m [1mon[0m [1mform'[0m
                           being displayed.

               [1mBS[0m [1mand[0m [1mF17[0m  Moves the cursor back to  the  previous  field  on  the
                           form.   If  an  attempt  is  made to move back from the
                           first field on a form, the message [1m'No[0m  [1mprevious[0m  [1mfield[0m
                           [1mon[0m [1mform'[0m is displayed.

               [1mLine[0m [1mFeed[0m   Deletes the contents of the current field.

               [1mReturn[0m      Exits from a form.  Any data entered will be  saved  by
                           the  program.   It  is not possible to exit from a form
                           unless data for all mandatory fields have been entered.

               [1mGOLD(PF1)/7[0m This may be used on the command  options,  record  type
                           option  and  in all record entry forms.  In the case of
                           the two options forms, this command  is  equivalent  to
                           exit.   On  the  data entry forms, the command discards
                           any data entered already, and returns the user  to  the
                           record  type  option form.  No check is made on whether
                           data for mandatory fields have been entered.


  FADTINPUT - FADT file creation and edit utility                         Page 4-9
  DESCRIPTION                                                    29 September 1995


               [1mPF2[0m         This is the help key.  For  most  fields  on  the  data
                           entry  forms, pressing the key will give details of the
                           format and type of data required, on the bottom line of
                           the screen.

               [1mCTRL W[0m      Refreshes (i.e.  redisplays) the current form.

            Movement within a field, for editing purposes, is  controlled  by  the
            back  arrow  (to  move to the right) and forward arrow (to move to the
            left) keys.

            On most of the forms, default values will initially appear in some  of
            the  fields.   These  may  be  edited  as required by the user and the
            numeric keys on the keypad may be used.

            When a data entry form is displayed, if the record to which it relates
            already  exists  in the FADT file, then the contents of the record are
            displayed on the screen.  This occurs immediately the form appears  in
            the  case  of  the  DLMS  header,  accuracy,  accuracy  region and DSI
            records; and after the entry of a Feature Analysis Code (FAC) value in
            the case of the FADT record form.

            Optionally, the user may control the operation of FADTINPUT  by  means
            of   the   logical   names  LSL$FADTINPUT_ACTION,  LSL$FADTINPUT_FADT,
            LSL$FADTINPUT_RULE and LSL$FADTINPUT_LIST.  These logical names should
            be defined to have the required values before FADTINPUT is invoked.

            If the logical name LSL$FADTINPUT_ACTION is assigned a value of '1' or
            '2', specifying the creation of a new FADT file or the modification of
            an existing FADT file respectively, the first form displayed  will  be
            the 'Record Type Option' form.

            If the logical name LSL$FADTINPUT_ACTION is assigned  the  value  '3',
            specifying the listing of an existing FADT file, then the operation of
            FADTINPUT will proceed without any forms being displayed  and  without
            any  user interaction being required.  The list file produced will not
            be sent to the printer.

            If the logical name LSL$FADTINPUT_ACTION  is  not  defined,  then  the
            operation  of  FADTINPUT  will  proceed without reference to any other
            logical names.  The first form displayed will be the 'Command Options'
            form.


  FADTINPUT - FADT file creation and edit utility                        Page 4-10
  COMMAND AND DATA ENTRY FORMS                                   29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mAND[0m [1mDATA[0m [1mENTRY[0m [1mFORMS[0m


            In each  example  of  the  forms  below,  the  presence  of  underline
            characters,  '_', indicates an area into which the user is expected to
            type a field value.  This is also true of the forms displayed  on  the
            screen.   On the screen, the field into which any character typed will
            be placed is indicated by the position of the cursor and  will  appear
            in reverse video.

            Note that the dashed lines delimiting the form examples below  do  not
            appear in the actual screen forms.


  FADTINPUT - FADT file creation and edit utility                        Page 4-11
  COMMAND OPTIONS FORM                                           29 September 1995


  [1mCOMMAND[0m [1mOPTIONS[0m [1mFORM[0m

  --------------------------------------------------------------------------------
                                  Command Options                               
                                                                                
                              Option (1,2,3 or 4) : _                           
                                                                                
                             1 Create a new FADT file                           
                                                                                
                             2 Edit an existing FADT file                       
                                                                                
                             3 List an existing FADT file                       
                                                                                
                             4 Exit                                             
  --------------------------------------------------------------------------------
  [1mDESCRIPTION:[0m

            The 'Command Options' form is the first form which the user  will  see
            when    FADTINPUT    is    invoked    without    the    logical   name
            LSL$FADTINPUT_ACTION being defined.  It controls the overall operation
            of the FADTINPUT utility.

            By entering the appropriate option number, the user may create  a  new
            FADT  file, edit an existing FADT file, list an existing FADT file, or
            exit from FADTINPUT.

            The user is always returned to this form after completing any  of  the
            first three options.

  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES:[0m

            The following message is associated with this form

                 [1mOption[0m [1mmust[0m [1mbe[0m [1m1,2,3[0m [1mor[0m [1m4[0m
                 [1mUser[0m [1mAction:[0m  The user should re-enter the option, which must  be
                 1,2,3 or 4


  FADTINPUT - FADT file creation and edit utility                        Page 4-12
  FILE SPECIFICATION FORM                                        29 September 1995


  [1mFILE[0m [1mSPECIFICATION[0m [1mFORM[0m

  --------------------------------------------------------------------------------
                           FADTINPUT File Specifications                        
                                                                                
                  FADT file : _______________________________
                                                                                
                  RULE file : _______________________________
  --------------------------------------------------------------------------------
  [1mDESCRIPTION:[0m

            This form appears if option 1 (create a FADT file) or option 2 (edit a
            FADT file) is selected on the 'Command Options' form.

            The form allows the user to specify the name of the FADT  file  to  be
            created  or  edited,  and  the  name  of  the  Rule file to be used to
            validate the FADT records.  If validation against a Rule file  is  not
            required, the Rule file specification field should be left blank.

            Any missing parts of the FADT file specification will  be  taken  from
            the  default 'LSL$FADT:FADT.FADT'.  Any missing parts of the Rule file
            specification are taken from 'LSL$DFAD_RULE:VALTAB.RULE'.

  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES:[0m

            The following messages are associated with this form:

                 [1mCopying[0m [1mexisting[0m [1mFADT[0m [1mfile[0m [1mto[0m [1mnew[0m [1mversion[0m [1mof[0m  [1mfile[0m  [1mfor[0m  [1mediting.[0m
                 [1mPlease[0m [1mwait.[0m
                 [1mExplanation:[0m  This message only appears  when  an  existing  FADT
                 file is being edited.  It indicates that the contents of the FADT
                 file are being copied to a new version of the file.  The old file
                 is preserved unaltered.
                 [1mUser[0m [1mAction:[0m  None, the user should wait.

                 [1mFADT[0m [1mfile[0m [1mwith[0m [1mthat[0m  [1mspecification[0m  [1mexists.[0m   [1mCreating[0m  [1mnew[0m  [1mfile[0m
                 [1manyway.[0m
                 [1mExplanation:[0m  This message appears when a new FADT file is  being
                 created,  and  the  program  finds an existing file with the same
                 name.  The old file will be preserved, and the  new  one  created
                 with  a  more  recent  version  number.   It is possible that the
                 intention was to edit the existing file, and  that  the  'Create'
                 option in the 'Command option' form was selected in error.
                 [1mUser[0m [1mAction:[0m  The user should check  whether  the  existing  file
                 should be preserved.

                 [1mIllegal[0m [1mFADT[0m [1mfile[0m [1mspecification,[0m [1mplease[0m [1mre-enter.[0m
                 [1mIllegal[0m [1mRule[0m [1mfile[0m [1mspecification,[0m [1mplease[0m [1mre-enter.[0m
                 [1mUser[0m [1mAction:[0m  The user should check that the  file  specification
                 in question is correct.

                 [1mUnable[0m [1mto[0m [1mopen[0m [1mRule[0m [1mfile[0m
                 [1mUnable[0m [1mto[0m [1mopen[0m [1mFADT[0m [1mfile[0m
                 [1mUser[0m [1mAction:[0m  The user should  check  that  the  specified  files
                 exist.


  FADTINPUT - FADT file creation and edit utility                        Page 4-13
  OUTPUT LIST FILE SPECIFICATION FORM                            29 September 1995


  [1mOUTPUT[0m [1mLIST[0m [1mFILE[0m [1mSPECIFICATION[0m [1mFORM[0m

  --------------------------------------------------------------------------------
                      FADTINPUT Output List File Specification                  
                                                                                
                  FADT file : _______________________________
                                                                                
                  List file : _______________________________


                         Send output to printer? (Y/N) : _
  --------------------------------------------------------------------------------
  [1mDESCRIPTION:[0m

            This form appears after option 3 (list a FADT file) is selected on the
            'Command Options' form.  The form allows the user to specify the input
            FADT file and the name of the output list file.

            Any missing parts of the FADT file specification are  taken  from  the
            default  'LSL$FADT:FADT.FADT'.  The default list file specification is
            taken from the input FADT filename, and is given the extension '.LIS'.

            The option to send output to the printer (defaults  to  'Y'  for  Yes)
            allows the user to specify whether the list file is sent to SYS$PRINT.
            The list file will be completed and preserved  regardless  of  whether
            this option is selected.

            When the listing is complete, control returns to the 'Command Options'
            form.

  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES:[0m

            The following messages are associated with this form:

                 [1mIllegal[0m [1mFADT[0m [1mfile[0m [1mspecification,[0m [1mplease[0m [1mre-enter.[0m
                 [1mIllegal[0m [1mlist[0m [1mfile[0m [1mspecification,[0m [1mplease[0m [1mre-enter.[0m
                 [1mUser[0m [1mAction:[0m  The user should check that the name of the file has
                 been correctly specified.

                 [1mUnable[0m [1mto[0m [1mopen[0m [1mFADT[0m [1mfile[0m
                 [1mUser[0m [1mAction:[0m  The user  should  check  that  the  specified  file
                 exists.

                 [1mFADT[0m [1mfile[0m [1mis[0m [1mbeing[0m [1mformatted[0m [1mand[0m [1moutput[0m
                 [1mUser[0m [1mAction:[0m  None.  The  listing  of  the  file  is  progressing
                 normally.


  FADTINPUT - FADT file creation and edit utility                        Page 4-14
  RECORD TYPE OPTION FORM                                        29 September 1995


  [1mRECORD[0m [1mTYPE[0m [1mOPTION[0m [1mFORM[0m

  --------------------------------------------------------------------------------
                            FADTINPUT Record Type Option                        
                                                                                
                 Record type to be entered next (1,2,3,4 or 5) : _              
                                                                                
                                   1 ACC record                                 
                                                                                
                                   2 DSI record                                 
                                                                                
                                   3 FADT record                                
                                                                                
                                   4 Header record                              

                                   5 Exit                                       
  --------------------------------------------------------------------------------
  [1mDESCRIPTION:[0m

            If the logical name LSL$FADTINPUT_ACTION is not defined, this form  is
            displayed,  after  the  FADT file and rule file specification form, if
            either option 1 or 2 on the  command  option  form  is  selected.   If
            LSL$FADTINPUT_ACTION  is  defined  to  be either '1' or '2', then this
            form is the first to be displayed when FADTINPUT starts to execute.

            It allows the user to select which type of record to enter  or  modify
            next.   Selection  of  the exit option returns control to the 'Command
            Options' form,  if  the  logical  name  LSL$FADTINPUT_ACTION  was  not
            defined before FADTINPUT was executed.  Selecting the exit option when
            FADTINPUT is operating under control of logical names,  that  is  when
            LSL$FADTINPUT_ACTION  was defined to have the values '1' or '2', exits
            from FADTINPUT.

            The same option may be selected any number of times  in  a  particular
            session.   This  allows  the user considerable flexibility in creating
            and altering new and existing records.

            On selecting an option, if the corresponding record already exists  in
            the  FADT  file,  then the existing values are displayed in the form's
            fields.  If the record does not exist, default values set up for  that
            form's fields will be displayed.

  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES:[0m

            The following messages are associated with this form:

                 [1mNo[0m [1mDSI[0m [1mfound,[0m [1mso[0m [1mlevel[0m [1mof[0m [1mfile[0m [1munknown.[0m  [1mUse[0m [1mDSI[0m [1mentry[0m [1moption[0m  [1mto[0m
                 [1mspecify[0m [1mlevel.[0m
                 [1mExplanation:[0m  The FADT record entry option  was  selected  before
                 the  DSI  record  has  been entered in the current file.  The DSI
                 record is required because it contains the level (DFAD 1 or 2) of
                 the file, which is needed for FADT record validation.
                 [1mUser[0m [1mAction:[0m  The user should enter the DSI record  by  selecting
                 option 2 on this form.


  FADTINPUT - FADT file creation and edit utility                        Page 4-15
  RECORD TYPE OPTION FORM                                        29 September 1995


                 [1mOption[0m [1mmust[0m [1mbe[0m [1m1,2,3,4[0m [1mor[0m [1m5[0m
                 [1mUser[0m [1mAction:[0m  The user should re-enter the option, ensuring  that
                 it is 1,2,3,4 or 5.


  FADTINPUT - FADT file creation and edit utility                        Page 4-16
  ACCURACY RECORD FORM                                           29 September 1995


  [1mACCURACY[0m [1mRECORD[0m [1mFORM[0m

  --------------------------------------------------------------------------------
                                     ACC Record                                 
                                                                                
          Horizontal accuracy in metres :                                       
                            
                  absolute  ____
                                                                                
                  relative  ____
                                                                                
          Predominant height measuring accuracy :                               
                                                                                
                  vertical  ____
                                                                                
          Multiple accuracy regions :                                           
                                                                                
                  number    __
  --------------------------------------------------------------------------------
  [1mDESCRIPTION:[0m

            This form allows the entry of the product accuracy record.

            The data entered on this form may be subsequently transferred  to  the
            map  header  of  an  IFF  file using FADTMERGE, and to an ACC accuracy
            record on a DFAD tape using I2DFAD.

            The horizontal absolute and relative accuracies  and  the  predominant
            height  accuracy  should be in the range 0-9999 metres.  If any values
            are not available, then [1mNA[0m should be entered.  The  multiple  accuracy
            region  number  specifies  how  many  different  accuracy  regions are
            defined for the manuscript.  This number must be either 0  or  in  the
            range 2-9.

            Before exiting from the form, all the fields must contain an entry.

            On exit from the form (with RETURN or GOLD/7) if a value of 0 has been
            entered  for  the  number  of  multiple  accuracy  regions, control is
            returned to the 'Record type option' form.

            Otherwise, a series of region record forms will be displayed, allowing
            the  user  to  define  each  region.  The number of forms displayed is
            equal to the  value  entered  for  the  number  of  multiple  accuracy
            regions.  were specified.  This ensures the entry into the FADT of the
            correct number of accuracy region records.

  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES:[0m

            The following message is associated with this form:

                 [1mThis[0m [1mentry[0m [1mis[0m [1mnot[0m [1mvalid,[0m [1mplease[0m [1mtry[0m [1magain[0m
                 [1mUser[0m [1mAction:[0m  The user should re-enter the field,  ensuring  that
                 it obeys the DLMS specification.


  FADTINPUT - FADT file creation and edit utility                        Page 4-17
  ACCURACY REGION RECORD FORM                                    29 September 1995


  [1mACCURACY[0m [1mREGION[0m [1mRECORD[0m [1mFORM[0m

  --------------------------------------------------------------------------------
                              ACC Information (Region)                          
                                                                                
                    Absolute horizontal accuracy of region  ____
                                                                                
                    Relative horizontal accuracy of region  ____
                                                                                
                    Number of points in region outline      _
                    (implied closing from first to last)                        
                                                                                
                                                                                
                   Latitude   Longitude     Latitude   Longitude                
                           H           H            H           H               
                   ______.__  _______.__    ______.__  _______.__
                   ______.__  _______.__    ______.__  _______.__
                   ______.__  _______.__    ______.__  _______.__
                   ______.__  _______.__    ______.__  _______.__
                   ______.__  _______.__    ______.__  _______.__
                   ______.__  _______.__    ______.__  _______.__
                   ______.__  _______.__    ______.__  _______.__                 
                                                                                
                   Latitude = DDMMSS.SH    Longitude = DDDMMSS.SH               
                                                                                
                     H = N(north), S(south), E(east) or W(west)                 
  --------------------------------------------------------------------------------
  [1mDESCRIPTION:[0m

            This form allows the entry of an accuracy region record.   The  number
            of  accuracy  region  records  is  specified  in the multiple accuracy
            outline number field in the product accuracy record.  This  form  will
            be  displayed  repeatedly  until  all manuscript accuracy regions have
            been defined.

            The horizontal accuracy values should be specified as [1mNA[0m  if  data  is
            not available, or should be in the range 0-9999 metres.

            Between three and fourteen points may be entered to define a  region's
            outline.  These are specified as latitude/longitude coordinates, which
            will be validated to  ensure  that  the  degree,  minute,  second  and
            hemisphere  values  are  allowable.   Invalid latitudes and longitudes
            will not be accepted.

            Exiting from one accuracy region form (using RETURN or  GOLD/7)  moves
            the  user  on  to the next accuracy region form, or back to the record
            type option form if there are no more.

  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES:[0m

            The following messages are associated with this form:

                 [1mThis[0m [1mentry[0m [1mis[0m [1mnot[0m [1mvalid,[0m [1mplease[0m [1mtry[0m [1magain[0m
                 [1mUser[0m [1mAction:[0m  The user should re-enter the field,  ensuring  that
                 it obeys the DLMS specification.


  FADTINPUT - FADT file creation and edit utility                        Page 4-18
  ACCURACY REGION RECORD FORM                                    29 September 1995


                 [1mMaximum[0m [1mnumber[0m [1mof[0m [1mregion[0m [1mpoints[0m [1mis[0m [1m14[0m
                 [1mMinimum[0m [1mnumber[0m [1mof[0m [1mregion[0m [1mpoints[0m [1mis[0m [1m3[0m
                 [1mUser[0m [1mAction:[0m  The user should re-enter the number  of  points  in
                 the  region  outline,  ensuring  that  it  lies between three and
                 fourteen.

                 [1mAttempt[0m [1mto[0m [1menter[0m [1mtoo[0m [1mmany[0m [1mpoints[0m
                 [1mUser[0m [1mAction:[0m  The user may only enter as many points as specified
                 in the number of points in region outline field.

                 [1mA[0m [1mnumber[0m [1mof[0m [1mmessages[0m [1mreporting[0m [1mwhy[0m [1mlatitudes[0m  [1mor[0m  [1mlongitudes[0m  [1mare[0m
                 [1minvalid.[0m
                 [1mUser[0m [1mAction:[0m  The user should re-enter the latitude or longitude,
                 ensuring that it is valid.


  FADTINPUT - FADT file creation and edit utility                        Page 4-19
  DATA SET IDENTIFICATION (DSI) RECORD FORM                      29 September 1995


  [1mDATA[0m [1mSET[0m [1mIDENTIFICATION[0m [1m(DSI)[0m [1mRECORD[0m [1mFORM[0m

  --------------------------------------------------------------------------------
                                     DSI Record                                 
                                                                                
            Security Handling Description  ___________________________
            Product Level (DFAD 1 or 2)    _
            Manuscript Reference Number    ________________
            Data Edition Number (01-99)    __
            Match/Merge Version            _
            Maintenance Date (YYMM)        ____
            Match/Merge Date (YYMM)        ____
            Maintenance  Description Code   ____
            Country Producer Code          ________
            Product Spec. Identification   _________
            Product Spec. Edition (01-99)  __
            Product Spec. Date (YYMM)      ____
            Horizontal Datum               _____
            Digitising Collection System   __________
            Original comp. date (YYMM)     ____
  --------------------------------------------------------------------------------
  [1mDESCRIPTION:[0m

            This form allows entry of the Data Set Identification (DSI) record.

            The data entered on this form may be subsequently transferred  to  the
            map  header  of  an IFF file using FADTMERGE, and to a DSI record on a
            DFAD tape using I2DFAD.

            Only the date entries, in format 'YYMM', are validated, to ensure that
            the month lies between 1 and 12 inclusive.  An unspecified date should
            be entered as '0000'.

            On exit from the form,  either  with  RETURN  or  GOLD/7,  control  is
            returned to the record type option form.

  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES:[0m

            The following message is associated with this form:

                 [1mMonth[0m [1mless[0m [1mthan[0m [1m1.[0m
                 [1mMonth[0m [1mexceeds[0m [1m12.[0m
                 [1mUser[0m [1mAction:[0m  The user should reenter the date, ensuring that the
                 month lies between 1 and 12 inclusive.


  FADTINPUT - FADT file creation and edit utility                        Page 4-20
  DLMS HEADER RECORD FORM                                        29 September 1995


  [1mDLMS[0m [1mHEADER[0m [1mRECORD[0m [1mFORM[0m

  --------------------------------------------------------------------------------
                               DLMS FADT Header Page                            
                                                                                
        Square Identifier  ________     (8th character denotes level 1 or 2)    
                                                                                
        Analysis Date      __-___-__    (DD-MMM-YY e.g. 09-FEB-80)              
                                                                                
                           Latitude   Longitude                                 
                                   H           H                                
        Manuscript Origin  ______.__  _______.__     (Latitude  = DDMMSS.SH)    
        SW Corner          ______.__  _______.__     (Longitude = DDDMMSS.SH)   
        NE Corner          ______.__  _______.__     (H         = N,S,E,W)      
                                                                                
        Digitising Scale   ______                                                
                                                                                
        WAC Number         ____                                                 
        WAC Cell           __                                                   
        WAG Cell           __                                                   
                                                                                
        Security           __                                                   
        Security Desc      _                                                  
        Releasability      __                                                   
                                                                                
        Validation Rules   __-__                                                
  --------------------------------------------------------------------------------
  [1mDESCRIPTION:[0m

            This form allows entry of data into the DLMS header record.

            The data entered on this form may be subsequently transferred  to  the
            map header of an IFF file using FADTMERGE, and to a Manuscript and DSI
            record on a DFAD tape using I2DFAD.

            The longitude and latitude values entered on this form are  validated,
            and will not be accepted if invalid.

            On exit from this form, either with RETURN or GOLD/7, control  returns
            to the record type option form.

  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES:[0m

            The following messages are associated with this form:

                 [1mIllegal[0m [1minteger[0m [1mfor[0m [1m'field-name',[0m [1mplease[0m [1mre-enter[0m
                 [1mWAC[0m [1mcell[0m [1mmust[0m [1mbe[0m [1min[0m [1mrange[0m [1m1-25,[0m [1mplease[0m [1mre-enter[0m
                 [1mWAG[0m [1mcell[0m [1mmust[0m [1mbe[0m [1min[0m [1mrange[0m [1m1-6,[0m [1mplease[0m [1mre-enter[0m
                 [1mLast[0m [1mdigit[0m [1mof[0m [1msquare[0m [1midentifier[0m [1mmust[0m [1mbe[0m [1mlevel,[0m [1mi.e.[0m  [1m1[0m [1mor[0m [1m2[0m
                 [1mUser[0m [1mAction:[0m  The relevant field should be  re-entered,  ensuring
                 that it obeys the constraints placed on it.

                 [1mDay[0m [1mless[0m [1mthan[0m [1m1.[0m
                 [1mDay[0m [1mtoo[0m [1mlarge,[0m [1mmaximum[0m [1m'number'[0m [1mfor[0m [1mthis[0m [1mmonth.[0m
                 [1mMonth[0m [1munrecognised.[0m


  FADTINPUT - FADT file creation and edit utility                        Page 4-21
  DLMS HEADER RECORD FORM                                        29 September 1995


                 [1mUser[0m [1mAction:[0m  The user should reenter the analysis date, ensuring
                 that it is valid.

                 [1mA[0m [1mnumber[0m [1mof[0m [1mmessages[0m [1mreporting[0m [1mwhy[0m [1mlatitudes[0m  [1mor[0m  [1mlongitudes[0m  [1mare[0m
                 [1minvalid.[0m
                 [1mUser[0m [1mAction:[0m  The user should re-enter the latitude or longitude,
                 ensuring that it is valid.


  FADTINPUT - FADT file creation and edit utility                        Page 4-22
  FADT RECORD FORM                                               29 September 1995


  [1mFADT[0m [1mRECORD[0m [1mFORM[0m

  --------------------------------------------------------------------------------
                                    FADT Record                                 
                                                                                
                               FAC     From:   _____    To:   _____
                                                                                
                               Type                _
                                                                                
                               FID              ____
                                                                                
                               Height           ____
                                                                                
                               Security           __
                                                                                
                               Releasability      __                              
                                                                                
                               SMC                __
                                                                                
                               Ori/Dir/Den        __
                                                                                
                               Width/%-roof      ___
                                                                                
                               Length/%-tree     ___
  --------------------------------------------------------------------------------
  [1mDESCRIPTION:[0m

            This form is used to enter the FADT records.  Each  field  and  record
            will be validated as it is entered, against the DLMS specification and
            optionally against entries in a DLMS Rule file.

            When the form is first displayed, the user is required to enter a  FAC
            range  by entering a starting value in the 'From:' field and an ending
            value in the 'To:' field.  The ending value  must  always  be  greater
            than  or equal to the starting value.  A starting value must always be
            specified but and ending value need not be specified, so that a single
            FAC  can  be  entered.   The  ending  value  can  be be left blank, by
            skipping over the 'To' field with TAB.  Pressing RETURN at this  stage
            will cause control to return to the record type option form.

            If a single FAC value is entered, the program  will  search  the  FADT
            file  for a corresponding record, and will display its contents on the
            form if a match is found.  If a FAC range is entered, the program will
            check  the FADT file for any records in the range which already exist.
            If any are found then an error message is displayed and  the  user  is
            prompted to re-enter the range.

            After entry of a FAC the user  is  required  to  enter  an  FID.   The
            program then checks to see if the FID entered had an entry in the FADT
            defaults file.  If so then the default values  are  displayed  in  the
            rest  of  the fields on the form.  The user must enter values into any
            fields that do not have defaults.

            If a FAC range had been specified then the data values entered  either
            by default or by the user will apply to all records in the range.


  FADTINPUT - FADT file creation and edit utility                        Page 4-23
  FADT RECORD FORM                                               29 September 1995


            When the user completes entry of a field, it will be  checked  against
            the  DLMS specification and optionally against entries in a Rule file.
            If validation fails, the following messages may be displayed:

                 [1m'field-name'[0m [1mdoes[0m [1mnot[0m [1mobey[0m [1mDLMS[0m [1mspecification.[0m  [1mPlease[0m [1mcheck.[0m

                 [1m'field-name'[0m [1mmay[0m [1mnot[0m [1mobey[0m [1mvalidation[0m [1mtable[0m [1mgeneral[0m [1mrules.[0m  [1mPlease[0m
                 [1mcheck.[0m

                 [1m'field-name'[0m  [1mmay[0m  [1mnot[0m  [1mobey[0m  [1mvalidation[0m  [1mtable[0m  [1mspecific[0m  [1mrules.[0m
                 [1mPlease[0m [1mcheck.[0m

            Where 'field-name' indicates a field on the FADT form.

            When validating with a Rule file, general rules  are  applied  to  all
            FADT  records  regardless  of  Feature  Identifier  (FID), whereas the
            specific rules are only applied to records with a particular FID.

            It is not  possible  to  say  whether  a  particular  field  taken  in
            isolation is definitely valid or invalid, because the validation rules
            are designed to be applied to complete records and take  into  account
            valid  and  invalid  combinations  of  values  of  fields,  as well as
            individual permissible values.  The rules  provide  only  a  guide  to
            normal,  expected  values,  and some exceptional real features may lie
            outside them.

            In the case of the FAC, type and FID fields, invalid entries will  not
            be accepted, and the user will not be allowed to move to another field
            until a valid value is supplied.  In the case of  other  fields  (e.g.
            height) found to be possibly invalid an advisory message is given, and
            the cursor remains on the field until a key  to  move  on  to  another
            field is pressed.  This allows the user to alter the field contents if
            they were genuinely erroneous or to force acceptance  of  the  entered
            value.

            When the user has completed the entry for an entire record, (ie.   all
            fields have been given a value), and exits from the form using RETURN,
            the complete record is validated.  If it, as a whole, fails, the  user
            is  told  about each field which may have caused this failure, working
            from the top of the form to the bottom.   For  each  such  field,  the
            cursor  is  positioned  on  it, and the user may accept it by pressing
            RETURN, edit it and accept the change by pressing RETURN, or  move  to
            other  fields  using  the  normal keys for this purpose.  In the final
            case, a subsequent RETURN to exit  from  the  form  will  restart  the
            validation of the entire record.

            Once a record has been accepted, a new empty FADT  record  entry  form
            will be displayed, and the user may enter another FAC, or press RETURN
            to go back to the record type option form.

            Once a single record has been accepted and entered into the FADT file,
            following  validation,  it can be deleted by entering its FAC into the
            'From:' field of a new, blank FADT screen form and  tabbing  past  the
            'To:'  field,  then typing 'GOLD D' ('PF1' followed by 'D' or 'd').  A
            multiple record can be deleted by entering the start of the FAC  range
            in  the 'From:' field and the end of the FAC range in the 'To:' field,


  FADTINPUT - FADT file creation and edit utility                        Page 4-24
  FADT RECORD FORM                                               29 September 1995


            then without tabbing any further type 'GOLD D' as for a single FAC.

  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES:[0m

            The following messages are associated with this form:

                 [1mThe[0m [1mFADT[0m [1mrecord[0m [1mfor[0m [1mFAC[0m [1m'number'[0m [1malready[0m [1mexists.[0m
                 [1mUser[0m [1mAction:[0m   The  user  should  start  editing  the  record  as
                 required.

                 [1mNot[0m [1mrecognisable[0m [1mas[0m [1ma[0m [1mnumber,[0m [1mplease[0m [1mcheck[0m [1mit.[0m
                 [1mUser[0m [1mAction:[0m  The user should check and re-enter the field value.

                 [1m'field-name'[0m [1mdoes[0m [1mnot[0m [1mobey[0m [1mDLMS[0m [1mspecification.[0m  [1mPlease[0m [1mcheck.[0m
                 [1m'field-name'[0m [1mmay[0m [1mnot[0m [1mobey[0m [1mvalidation[0m [1mtable[0m [1mgeneral[0m [1mrules.[0m  [1mPlease[0m
                 [1mcheck.[0m
                 [1m'field-name'[0m  [1mmay[0m  [1mnot[0m  [1mobey[0m  [1mvalidation[0m  [1mtable[0m  [1mspecific[0m  [1mrules.[0m
                 [1mPlease[0m [1mcheck.[0m
                 [1mUser[0m [1mAction:[0m  The user  should  consider  whether  the  field  is
                 valid, and re-enter it if it is not.

                 [1mValidating[0m [1mentire[0m [1mrecord,[0m [1mplease[0m [1mwait[0m
                 [1mUser[0m [1mAction:[0m  The user should wait.

                 [1m'field-name'[0m  [1mmay[0m  [1mbe[0m  [1minvalid.[0m   [1mPress[0m  [1mRETURN[0m  [1mto[0m  [1maccept[0m   [1mit.[0m
                 [1mOtherwise[0m [1malter[0m [1mit.[0m
                 [1mUser[0m [1mAction:[0m  The user should check the field value, and alter it
                 if it is wrong.  Otherwise, RETURN should be pressed to force its
                 acceptance by the program.

                 [1mFADT[0m [1mrecord[0m [1mwith[0m [1mFAC[0m [1m'number'[0m [1mdeleted[0m ,I0;[1mUser[0m [1mAction:[0m  The  FADT
                 record  with  the  specified  FAC  has  been deleted, so the user
                 should continue with the entry of the next record as required.

                 [1mUnable[0m [1mto[0m [1mdelete[0m [1mFADT[0m [1mrecord[0m [1mwith[0m [1mspecified[0m [1mFAC[0m
                 [1mUser[0m [1mAction:[0m  The attempt to delete  the  FADT  record  with  the
                 specified  FAC  has  failed, probably because no record with that
                 FAC existed in the FADT file.  The user should check that the FAC
                 was  correctly  specified  before  again attempting to delete the
                 record.



  FADTINPUT - FADT file creation and edit utility                        Page 4-25
  EXAMPLES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m


       1.  DLMS FADT Header Page for File LSL$FADT:DAVECTEST.FADT;0

  Square identifier 00000001

  Analysis Date     27-JAN-88

                    Latitude  Longitude
                            H          H
  Manuscript Origin 123456.7S 1234559.8W
  SW corner         333333.3S 0444444.4W
  NE corner         900000.0N 1800000.0E

  Digitising Scale  250000

  WAC Number        1
  WAC cell          18
  WAG cell          16

  Security          00
  Security Desc     U
  Releasability     00

  Validation Rules  77-11






  Data Set Identification Record.

  Security Handling Description       NONE                       

  Product Level                       DFAD 1

  Product manuscript reference number 1              

  Data Edition Number                 11

  Match/Merge Version                 A

  Maintenance date of current edition 0000

  Match/Merge date                    0000

  Maintenance description code        0000

  Country producer code               UKMODMCE

  Product identification              SPECXDLMS

  Product Edition                     01


  FADTINPUT - FADT file creation and edit utility                        Page 4-26
  EXAMPLES                                                       29 September 1995



  Product Date                        7707

  Horizontal datum                    WGS84

  Digitising collection system        NONE      

  Date of original compilation        8801






  Accuracy Description Record.

  Absolute horizontal accuracy of product           NA

  Relative horizontal accuracy of product           NA

  Vertical measuring accuracy of predominant        NA

  Multiple accuracy outline flag                    02






  Accuracy Region 1 Description Record.

  Absolute horizontal accuracy  NA

  Relative horizontal accuracy  123

  Number of points in outline   3


          Points in region outline
            Latitude  Longitude
                    H          H
            000000.0S 0000002.0E
            000000.0N 0000020.0W
            000000.0S 1432916.0W






  Accuracy Region 2 Description Record.

  Absolute horizontal accuracy  NA

  Relative horizontal accuracy  NA



  FADTINPUT - FADT file creation and edit utility                        Page 4-27
  EXAMPLES                                                       29 September 1995


  Number of points in outline   3


          Points in region outline
            Latitude  Longitude
                    H          H
            123456.3S 0000002.1W
            000004.0S 0000005.0W
            000009.0N 0000009.0E







  FADT record contents
       FAC    Type     FID  Height     Sec     Rel     SMC  OrDiDe  WidRof  LenTre
                0                                              Ori   Width  Length
                1                                              Dir   Width     -  
                2                                              Den  %-roof  %-tree

        1       1       1       1       1       1       1       1       1       1 
        2       0     123      10       0       0      31       0       0       0 
        3       0      68       6       0       0       2       0       0       0 
       30       2     102     511       1      22      11       0       0       0 
       43       1       1       1       1       1       1       1       1       1 
       45       0     123      10       0       0      31       0       0       0 
       99       2       1       0      10      10       9      10       9       1 
      100       1       0       0       0       0       0       0       0       0 
      200       1       1       1       1       1       1       1       1       1 
      201       0     123      10       0       0      31       0       0       0 


            The above is an example of the output produced by the option  to  list
            an  existing  FADT file.  This is obtained by entering '3' followed by
            RETURN  on  the  'Command  Options'  form.   The  'Output  List   File
            Specification'   form   is   then   displayed,   with   default   file
            specifications, which the user should alter as required to specify the
            input  FADT  file and output list file wanted.  Pressing RETURN causes
            exit from this form, and the output list is prepared.


  FADTINPUT - FADT file creation and edit utility                        Page 4-28
  EXAMPLES                                                       29 September 1995


        2.  FADT default values lookup file LSL$LOOKUP:FADT_DEFAULTS.DAT

  ! Defaults file for FADTINPUT                           JMC     17-JUN-1992
  !
  ! This file is distributed as an example of the lookup file
  ! needed to specify the default values displayed on the ACC,
  ! DSI, FADT, AND Header forms.
  !
  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
  !
  ! ACC defaults.
  !
  ACC     ABSOLUTE        "130"           ! Absolute (0-9999)
  ACC     RELATIVE        "25"            ! Relative (0-9999)
  ACC     VERTICAL        "10"            ! Vertical (0-9999)
  ACC     MULT_ACC        "0"             ! Number (0-9)
  !
  ! DSI defaults
  !
  DSI     SEC_HAND_DESC   "NONE"          ! Security handling description
  DSI     PRODUCT_LEVEL   "1"             ! Product level (1 or 2)
  DSI     MANU_REF_NUM                    ! Manuscript reference number           
  DSI     DATA_ED_NUM     "01"            ! Data edition number (01-99)
  DSI     MAT_MER_VERS    "A"             | Match merge version (A-Z)
  DSI     MAINT_DATE      "0000"          ! Maintenance date (YYMM)
  DSI     MAT_MER_DATE    "0000"          ! Match merge date (YYMM)
  DSI     MAINT_DESC      "0000"          ! Maintenance description code 
                                          ! (0000 - 9999)
  DSI     PRODUCER_CODE   "KSA"           ! Country producer code
  DSI     PROD_SPEC_ID    "SPECXDLMS"     ! Product spec. identification
  DSI     PROD_SPEC_ED    "06"            ! Product spec. edition (01-99)
  DSI     PROD_SPEC_DATE  "7707"          ! Product spec. date (YYMM)
  DSI     HORIZ_DATUM     "WGS84"         ! Horizontal datum 
  DSI     DIG_COLL_SYS    "LAMPS"         ! Digitising collection system
  DSI     ORIG_COMP_DATE                  ! Original comp date (YYMM)
  !
  ! Header defaults.
  !
  DLMS    SQUARE_ID       "       1"      ! Square identifier (8th character
                                          ! denotes level 1 or 2)
  DLMS    ANALYSIS_DATE                   ! Analysis date (DDMMMYY or TODAY)
  DLMS    MANU_ORIG_LAT   "       N"      ! Manuscript origin latitude
                                          ! (DDMMSS,SH H=N,S,E,W)
  DLMS    MANU_ORIG_LON   "        E"     ! Manuscript origin longitude
                                          ! (DDDMMSS,SH H=N,S,E,W)
  DLMS    SW_CORNER_LAT   "       N"      ! Southwest corner latitude
                                          ! (DDMMSS,SH H=N,S,E,W)
  DLMS    SW_CORNER_LON   "        E"     ! Southwest corner longitude
                                          ! (DDDMMSS,SH H=N,S,E,W)
  DLMS    NE_CORNER_LAT   "       N"      ! Northeast corner latitude
                                          ! (DDMMSS,SH H=N,S,E,W)
  DLMS    NE_CORNER_LON   "        E"     ! Northeast corner longitude
                                          ! (DDDMMSS,SH H=N,S,E,W)
  DLMS    DIG_SCALE                       ! Digitising scale (0-999999)
  DLMS    WAC_NUM         "1"             ! WAC number (1-9999)
  DLMS    WAC_CELL        "1"             ! WAC cell (1-25)


  FADTINPUT - FADT file creation and edit utility                        Page 4-29
  EXAMPLES                                                       29 September 1995


  DLMS    WAG_CELL        "1"             ! WAG cell (1-16)
  DLMS    SECURITY        "0"             ! Security (0-99)
  DLMS    SECURITY_DESC   "U"             ! Security descriptor (T,S,C,R or U)
  DLMS    RELEASABILITY   "0"             ! Releasability (0-99)
  DLMS    VAL_RULES       "7760"          ! Validation rules
  !
  ! FADT defaults
  !
  !       Type    FID  Height     Sec     Rel     SMC  OrDiDe  WidRof  LenTre
  !                                                       Ori   Width  Length
  !                                                       Dir   Width     -  
  !                                                       Den  %-roof  %-tree
  FADT    NULL    102     NULL    NULL    NULL    3       NULL    NULL    NULL
  FADT    2       103     NULL    NULL    NULL    NULL    NULL    NULL    NULL    
  FADT    2       114     NULL    NULL    NULL    6       NULL    NULL    NULL    
  FADT    0       122     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    NULL    137     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    NULL    135     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    2       171     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    2       172     NULL    NULL    NULL    2       NULL    NULL    NULL
  FADT    2       173     NULL    NULL    NULL    5       NULL    NULL    NULL
  FADT    2       174     NULL    NULL    NULL    5       NULL    NULL    NULL
  FADT    0       182     NULL    NULL    NULL    NULL    NULL    NULL    NULL
  FADT    0       186     NULL    NULL    NULL    NULL    NULL    NULL    NULL
  FADT    0       187     NULL    NULL    NULL    NULL    NULL    NULL    NULL
  FADT    1       203     NULL    NULL    NULL    2       2       NULL    0
  FADT    1       204     NULL    NULL    NULL    2       2       NULL    0
  FADT    1       205     NULL    NULL    NULL    2       2       NULL    0
  FADT    1       245     NULL    NULL    NULL    NULL    2       NULL    0
  FADT    1       260     NULL    NULL    NULL    NULL    2       NULL    0
  FADT    1       261     NULL    NULL    NULL    NULL    2       NULL    0
  FADT    1       262     NULL    NULL    NULL    NULL    2       NULL    0
  FADT    1       263     NULL    NULL    NULL    NULL    2       NULL    0
  FADT    1       264     NULL    NULL    NULL    NULL    2       NULL    0
  FADT    1       265     NULL    NULL    NULL    NULL    2       NULL    0
  FADT    0       266     NULL    NULL    NULL    NULL    2       NULL    0
  FADT    1       267     NULL    NULL    NULL    NULL    2       NULL    0
  FADT    1       280     NULL    NULL    NULL    NULL    2       NULL    0
  FADT    1       281     2       NULL    NULL    2       2       1       0
  FADT    1       283     NULL    NULL    NULL    NULL    2       NULL    0
  FADT    2       325     0       NULL    NULL    10      NULL    NULL    NULL
  FADT    NULL    421     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    2       433     NULL    NULL    NULL    NULL    NULL    NULL    NULL
  FADT    0       501     NULL    NULL    NULL    1       63      NULL    NULL
  FADT    0       511     NULL    NULL    NULL    1       63      NULL    NULL
  FADT    0       512     NULL    NULL    NULL    1       63      NULL    NULL
  FADT    0       520     NULL    NULL    NULL    1       63      NULL    NULL
  FADT    0       521     NULL    NULL    NULL    1       63      NULL    NULL
  FADT    0       530     NULL    NULL    NULL    1       63      NULL    NULL
  FADT    0       531     NULL    NULL    NULL    1       63      NULL    NULL
  FADT    0       532     NULL    NULL    NULL    1       63      NULL    NULL
  FADT    0       535     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    0       536     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    0       540     NULL    NULL    NULL    1       63      3       3
  FADT    0       541     NULL    NULL    NULL    1       63      3       3
  FADT    0       542     NULL    NULL    NULL    1       63      3       3


  FADTINPUT - FADT file creation and edit utility                        Page 4-30
  EXAMPLES                                                       29 September 1995


  FADT    0       543     NULL    NULL    NULL    1       63      3       3
  FADT    0       544     NULL    NULL    NULL    1       63      3       3
  FADT    1       706     0       NULL    NULL    9       3       NULL    0
  FADT    2       707     0       NULL    NULL    9       NULL    NULL    NULL
  FADT    0       710     NULL    NULL    NULL    NULL    NULL    NULL    NULL
  FADT    0       711     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    0       712     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    0       713     NULL    NULL    NULL    1       63      NULL    NULL
  FADT    0       714     NULL    NULL    NULL    NULL    NULL    NULL    NULL
  FADT    0       715     NULL    NULL    NULL    NULL    63      NULL    NULL
  FADT    0       716     NULL    NULL    NULL    NULL    63      NULL    NULL
  FADT    0       717     NULL    NULL    NULL    NULL    63      NULL    NULL
  FADT    0       718     NULL    NULL    NULL    NULL    63      NULL    NULL
  FADT    0       719     NULL    NULL    NULL    NULL    63      NULL    NULL
  FADT    0       720     NULL    NULL    NULL    NULL    NULL    NULL    NULL
  FADT    0       721     NULL    NULL    NULL    NULL    NULL    NULL    NULL
  FADT    0       725     NULL    NULL    NULL    NULL    NULL    NULL    NULL
  FADT    1       751     NULL    NULL    NULL    3       2       NULL    0
  FADT    1       752     NULL    NULL    NULL    NULL    2       NULL    0
  FADT    0       761     NULL    NULL    NULL    1       63      NULL    NULL
  FADT    NULL    806     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    NULL    807     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    NULL    810     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    NULL    811     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    NULL    812     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    2       825     NULL    NULL    NULL    5       NULL    NULL    NULL
  FADT    2       862     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    2       864     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    2       865     NULL    NULL    NULL    1       NULL    NULL    NULL
  FADT    2       902     0       NULL    NULL    10      0       0       0
  FADT    2       906     0       NULL    NULL    7       0       0       0
  FADT    2       907     0       NULL    NULL    7       0       0       0
  FADT    2       908     0       NULL    NULL    11      0       0       0
  FADT    2       909     0       NULL    NULL    11      0       0       0
  FADT    2       910     0       NULL    NULL    8       0       0       0
  FADT    2       911     0       NULL    NULL    8       0       0       0
  FADT    2       912     0       NULL    NULL    8       0       0       0
  FADT    2       913     0       NULL    NULL    6       0       0       0
  FADT    2       914     0       NULL    NULL    7       0       0       0
  FADT    1       915     NULL    NULL    NULL    3       NULL    NULL    NULL
  FADT    1       921     NULL    NULL    NULL    5       2       NULL    0
  FADT    1       922     NULL    NULL    NULL    NULL    2       NULL    0
  FADT    1       923     NULL    NULL    NULL    5       2       NULL    0
  FADT    1       924     0       NULL    NULL    NULL    1       NULL    0
  FADT    1       925     NULL    NULL    NULL    NULL    1       NULL    0
  FADT    1       927     NULL    NULL    NULL    1       2       NULL    0
  FADT    2       930     0       NULL    NULL    6       0       0       0
  FADT    2       931     0       NULL    NULL    6       0       0       0
  FADT    2       934     0       NULL    NULL    6       0       0       0
  FADT    2       940     0       NULL    NULL    6       0       0       0
  FADT    2       941     0       NULL    NULL    6       0       0       0




  FADTINPUT - FADT file creation and edit utility                        Page 4-31
  EXAMPLES                                                       29 September 1995


            The  above  is  the  FADT  default  values  lookup  file  supplied  by
            Laser-Scan.   This  file  can copied and edited to produce alternative
            default values.  The pathname of the new file should  be  assigned  to
            the logical name LSL$FADTINPUT_DEFAULTS.


  FADTINPUT - FADT file creation and edit utility                        Page 4-32
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ON[0m [1mFORMS)[0m


  These messages appear on the last line of the terminal screen  when  a  form  is
  currently  displayed.  They are all accompanied by an audible warning.  They are
  designed to:

     - Tell the user what to do next.

     - Inform the user of any invalid or potentially invalid field entries.

     - Inform the user of what the FADTINPUT utility is doing.

     - Describe any errors which the FADTINPUT utility has encountered.

  The messages associated with each form have been described earlier.

  Other messages are generated by FMS, the most significant being :

       [1mNumeric[0m [1mrequired[0m
       [1mAlphabetic[0m [1mrequired[0m
       In most of the forms, there are  fields,  or  sub-fields,  which  can  only
       contain  numeric  characters or can only contain alphabetic characters.  In
       such cases, an attempt to enter a character of the wrong type  will  result
       in an error message being displayed.

       [1mField[0m [1mfull[0m
       An attempt was made to enter more than the allowed number of characters  in
       the current field.

       [1mInput[0m [1mrequired[0m
       An attempt was made to exit from a form using  RETURN  before  data  for  a
       mandatory field was entered.

       [1mFull[0m [1mfield[0m [1mrequired[0m
       An attempt was made to move onto another field before the  required  number
       of characters had been entered in the current field.


  FADTINPUT - FADT file creation and edit utility                        Page 4-33
  MESSAGES (INFORMATIONAL)                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  LISTOUT, List output is being directed to 'file-spec'

      [1mExplanation:[0m  A listing of the specified FADT file is being directed to  the
      specified file or device.

      [1mUser[0m [1maction:[0m  None.


  FADTINPUT - FADT file creation and edit utility                        Page 4-34
  MESSAGES (ERROR)                                               29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  ILLEGLNM, Logical name 'name' has an illegal value or no translation

      [1mExplanation:[0m  The specified logical name, which is  one  of  those  used  to
      control  FADTINPUT, has an illegal translation.  If the logical name is used
      to specify a file, the specification is probably invalid.   If  the  logical
      name  is  used to specify a command, the command is probably not recognised.
      Other error messages indicating the specific nature of the  problem  may  be
      displayed following this message.

      [1mUser[0m [1maction:[0m  The user should check the translation of the logical name, and
      ensure that it is valid.

  UNOPNFADT, Unable to open FADT file

      [1mExplanation:[0m  It has not been possible to open the specified FADT  file  for
      input or output.

      [1mUser[0m [1maction:[0m  The user should check the input  FADT  file  specification  to
      ensure that it is a legal and accurate specification.  Also, the user should
      examine any other  messages  generated  to  determine  the  reason  for  the
      failure.

  UNOPNLIST, Unable to open list file

      [1mExplanation:[0m  It has not been possible to open the specified list  file  for
      output.

      [1mUser[0m [1maction:[0m  The user should check the input  LIST  file  specification  to
      ensure that it is a legal and accurate specification.  Also, the user should
      examine any other  messages  generated  to  determine  the  reason  for  the
      failure.

  UNOPNRULE, Unable to open rule file

      [1mExplanation:[0m  It has not been possible to open the specified rule  file  for
      reading.

      [1mUser[0m [1maction:[0m  The user should check the input  rule  file  specification  to
      ensure  that  it  is  a  legal  and  accurate specification for a file which
      exists.  Also, the user should  examine  any  other  messages  generated  to
      determine the reason for the failure.


  FADTINPUT - FADT file creation and edit utility                        Page 4-35
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m


  In addition to the above messages which  are  generated  by  FMS  and  FADTINPUT
  itself, other messages may be produced by Laser-Scan libraries.  If the cause of
  such errors cannot be traced by the user and Laser-Scan are consulted, then  the
  input files should be preserved to facilitate diagnosis.














                                     CHAPTER 5

                                  MODULE FADTMERGE





  FADTMERGE - FADT and IFF merge utility                                  Page 5-1
                                                                 29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE    FADTMERGE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  FADTMERGE is a new utility

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            FADTMERGE merges a FADT file created by  the  utility  FADTINPUT  with
            coordinate data contained in an IFF file.  Merging is performed on the
            basis of feature analysis code (FAC) for the  FADT  file  and  feature
            serial  number  (FSN)  for the IFF file.  Header data contained in the
            FADT file may in addition be transferred to  the  map  header  of  the
            output file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ FADTMERGE file-spec file-spec

            [1mCommand[0m [1mqualifiers[0m                    [1mDefaults[0m

            /[NO]ACCURACY                           /NOACCURACY
            /FADT=file-spec                         /FADT=LSL$FADT:FADT.FADT
            /[NO]FC                                 /FC
            /[NO]HEADER                             /HEADER
            /[NO]LIST=file-spec                     /NOLIST
            /[NO]MERGE                              /MERGE


  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            Input IFF-file:         unmerged-file-spec
            Output IFF-file:        merged-file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  Input IFF-file

          - specifies the IFF file to be merged with the FADT file.  Any  part  of
            the  file  specification  which is not supplied will be taken from the
            default specification 'LSL$IF:IFF.IFF;0'.

  Output IFF-file

          - specifies the IFF file which is to be created.  Any part of  the  file
            name   which   is   not   explicitly   given   will   be   taken  from
            'LSL$IF:IFF.IFF'.  Note that a version number must  [1mnot[0m  be  specified
            for the output file.  If a file with the specified name already exists
            a new file will be created with the version number incremented by one.



  FADTMERGE - FADT and IFF merge utility                                  Page 5-2
  COMMAND QUALIFIERS                                             29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

  /ACCURACY
  /NOACCURACY (default)

          - If present, specifies that accuracy regions should be created in layer
            0 of the output IFF file, from the accuracy region records held in the
            input FADT file.  Any accuracy features already present in layer 0  of
            the  input  file will be discarded.  If no accuracy region records are
            found in the FADT file, no accuracy regions will be constructed in the
            output file.
            If the /NOACCURACY qualifier is specified, then the whole of  layer  0
            in the input file, will be copied unchanged to the output file.  If no
            layer 0 is present in the input IFF file, none will be constructed  in
            the output file.



  /FADT=file-spec

          - specifies the name of the input FADT  file.   Any  part  of  the  file
            specification  which  is  not  present  will  be  taken  from the file
            specification 'LSL$FADT:FADT.FADT'.  [1mThis[0m [1mqualifier[0m [1mmust[0m [1mbe[0m [1msupplied.[0m


  /FC (default)
  /NOFC

          - If this qualifier is present, then FADTMERGE will set up  the  Feature
            Code  (FC)  word  of the Feature Status (FS) entry of all IFF features
            written to the output file.  The FC is  calculated  from  the  Feature
            Identifier  (FID)  and  feature type recorded in the FADT record.  The
            formula used to generate the output FC is:

                 FC = FID + ((type + 1) * 1000)

            If /NOFC is specified, then the existing FS entry  in  the  input  IFF
            file is copied to the output file without change.

            The feature code of features in layer 0 is transferred unchanged.


  /HEADER (default)
  /NOHEADER

          - specifies that FADTMERGE should update the MCE map header of the input
            IFF  file  with  the  contents  of  the  DLMS header, Accuracy and DSI
            records in the FADT file.  If any of these records  are  missing  from
            the FADT file, this fact will be reported in the diagnostic printout.
            If /NOHEADER is specified, the map header in the input IFF  file  will
            be copied directly to the output file without change.




  FADTMERGE - FADT and IFF merge utility                                  Page 5-3
  COMMAND QUALIFIERS                                             29 September 1995


  /NOLIST (default)
  /LIST=file-spec

          - If /LIST=file-spec is present, it specifies a file to which diagnostic
            messages describing the progress of the merge are directed.  Any parts
            of the file specification which are missing will  be  taken  from  the
            specification  'FADTMERGE.LIS'.   If no /LIST is specified, or /NOLIST
            is present, then all diagnostics messages are directed to SYS$OUTPUT.


  /MERGE (default)
  /NOMERGE

          - If /MERGE is specified, the FADT feature records in the FADT file  are
            merged  with  features in the input IFF file.  Merging is performed on
            the basis of feature analysis code (FAC)  and  feature  serial  number
            (FSN).   If  /NOMERGE is specified, then the FADT feature records will
            not be merged with the IFF features, and any input IFF  features  will
            be written unaltered to the output file.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m

            FADTMERGE is a utility to combine feature records in a FADT file, with
            geometry  data  in  an  IFF file.  Features are merged on the basis of
            feature attribute code (FAC) and feature  serial  number  (FSN).   The
            utility  will  also  construct  the  map  header  and  accuracy region
            descriptions (layer zero features) in the output file by combining and
            copying from the FADT and IFF input files if the /HEADER and /ACCURACY
            qualifiers are supplied on the command line.

            FADTMERGE checks and reports on any feature records  in  either  input
            file  which  cannot  be merged because there is no matching feature in
            the other.

            FADTMERGE also checks that the feature code (FC) in an IFF feature  is
            compatible  with  the feature attribute type (FAT) of the FADT feature
            with which it is to be merged.  That is, they must obey the formula :

                 FC = 100 + FAT

            Any features found which do not follow this rule are reported  to  the
            user with a suitable message.  The features will still be merged, and,
            if it  was  specified,  the  action  of  the  /FC  qualifier  will  be
            performed.

            FADTMERGE does not perform any other validation on  the  FADT  or  IFF
            data.   For  example,  it does not check that the map header is of MCE
            type, it will not check that features of the same type are in the same
            IFF  file  layer,  and  it will not check that the IFF feature already
            contains an AC7 entry.

            The diagnostic output is by default directed to SYS$OUTPUT, but may be
            sent to a specified file by use of the /LIST qualifier.


  FADTMERGE - FADT and IFF merge utility                                  Page 5-4
  DESCRIPTION                                                    29 September 1995


            With the default command line qualifiers in operation, FADTMERGE  will
            combine the input FADT and IFF files to produce the output IFF file as
            follows:

               - The MCE map header will be read  from  the  input  IFF  file  and
                 updated  with  appropriate  fields from the DLMS header, accuracy
                 and data set identification records, if these are present, in the
                 FADT  file.   If  any or all of these records are absent, this is
                 reported in the diagnostic printout, and the corresponding fields
                 in the map header are copied unchanged from the input IFF file.

               - Layer zero in the input file will be copied without change to the
                 output file.

               - The feature records in the FADT file are merged with features  in
                 the  input  IFF  file,  on the basis of FAC and FSN, and are then
                 written to the output file.  The FADT feature record  information
                 is held in the IFF file in the text field on a AC7 entry.

                 The feature codes in the output features  are  derived  from  the
                 input FID and type values as described above.

                 Any features in the input IFF file which do not have  a  matching
                 record  in  the  FADT  file,  and vice versa, are reported in the
                 diagnostic printout and discarded.

               - All other entries are copied directly from the input IFF file  to
                 the output file.

  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m


  $ [1mFADTMERGE[0m [1mDFAD[0m [1mDFAD1/FADT=FADT<CR>[0m
  Updating IFF map header from FADT file records.

   ELAPSED: 00:02:03.15  CPU: 0:00:56.12  BUFIO: 8362  DIRIO: 3230  FAULTS: 1379
  $ 

            This is a typical run  of  FADTMERGE  using  the  default  qualifiers.
            Input  IFF  file  'DFAD'  and  FADT file 'FADT' have been successfully
            merged to produce output IFF file DFAD1.   No  qualifiers  other  than
            /FADT  have  been  specified.   Only  minimal  diagnostic messages are
            produced, since no merge mismatches are encountered.  The  diagnostics
            message reports that the IFF map header has been updated.




  FADTMERGE - FADT and IFF merge utility                                  Page 5-5
  EXAMPLES                                                       29 September 1995


  $ [1mFADTMERGE[0m [1mAREA12[0m [1mMERGEAREA12/FADT=AREA12.FADT/ACCURACY<CR>[0m
  Updating IFF map header from FADT file records.

  Constructing layer zero accuracy region features from FADT file.

  Unmatched feature with FSN (FAC)      1
  Unmatched feature with FSN (FAC)      2

  Unmatched FADT record with FAC (FSN)      3
  Unmatched FADT record with FAC (FSN)      5
  Unmatched FADT record with FAC (FSN)      6
   ELAPSED:    0 00:00:07.38  CPU: 0:00:02.94  BUFIO: 81  DIRIO: 45  FAULTS: 227 
  $

            In this case, the map header has been dealt  with  successfully.   The
            /ACCURACY  qualifier  causes the construction of the output IFF file's
            layer zero features from the accuracy region records in the FADT file.
            FADTMERGE  has  encountered two features in the input IFF file with no
            matching records in the FADT file, as well as  three  records  in  the
            input FADT file with no matching features in the input IFF file.


  $ [1mFADTMERGE[0m [1mAREA12[0m [1mMERGEAREA12/FADT=AREA12.FADT/LIST=DFMERGE<CR>[0m
  %FADTMERGE-I-LISTOUT, Log output is being directed to list file DFMERGE.LIS
   ELAPSED:    0 00:00:09.10  CPU: 0:00:02.51  BUFIO: 11  DIRIO: 44  FAULTS: 272 
  $

            A list output file has been specified in the above command line.   All
            merge  diagnostic  messages  are  directed  to file 'DFMERGE.LIS'.  An
            informational message is output informing the user that this  file  is
            being used.


  $ [1mFADTMERGE[0m [1mAREA12[0m [1mMERGEAREA12/FADT=AREA12.FADT/LIST=TT:<CR>[0m
  %FADTMERGE-I-LISTOUT, Log output is being directed to list file TT:
  Command Line : FADTMERGE AREA12 MERGEAREA12/FADT=AREA12.FADT/LIST=TT:

  Input IFF-file : LSL$IF:AREA12.IFF;0

  Output IFF-file : LSL$IF:MERGEAREA12.IFF

  Input FADT-file : LSL$FADT:AREA12.FADT

  Updating IFF map header from FADT file records.

  Unmatched feature with FSN (FAC)      1
  Unmatched feature with FSN (FAC)      2

  Unmatched FADT record with FAC (FSN)      3
  Unmatched FADT record with FAC (FSN)      5
  Unmatched FADT record with FAC (FSN)      6
   ELAPSED:    0 00:00:09.81  CPU: 0:00:02.75  BUFIO: 87  DIRIO: 34  FAULTS: 314 
  $

            This command is similar to  the  previous  example,  except  that  the
            output  list file specified is TT:, which signifies that the output be


  FADTMERGE - FADT and IFF merge utility                                  Page 5-6
  EXAMPLES                                                       29 September 1995


            directed to the terminal.  Hence the user sees first the informational
            message  stating  that  a  list  file TT:  is being used, and then the
            diagnostic output directed to TT:, the terminal.


  $ [1mFADTMERGE[0m [1mAREA12[0m [1mMERGEAREA12/FADT=AREA12.FADT/NOHEADER<CR>[0m
  Unmatched feature with FSN (FAC)      1
  Unmatched feature with FSN (FAC)      2

  Unmatched FADT record with FAC (FSN)      3
  Unmatched FADT record with FAC (FSN)      5
  Unmatched FADT record with FAC (FSN)      6
   ELAPSED:    0 00:00:11.77  CPU: 0:00:02.59  BUFIO: 75  DIRIO: 30  FAULTS: 208 
  $

  $ [1mFADTMERGE[0m [1mAREA12[0m [1mMERGEAREA12/FADT=AREA12.FADT/NOHEADER/NOMERGE<CR>[0m
   ELAPSED:    0 00:00:05.93  CPU: 0:00:01.25  BUFIO: 6  DIRIO: 15  FAULTS: 156 
  $

  $ [1mFADTMERGE[0m [1mAREA12[0m [1mMERGEAREA12/FADT=AREA12.FADT/NOMERGE<CR>[0m
  Updating IFF map header from FADT file records.

   ELAPSED:    0 00:00:04.30  CPU: 0:00:01.56  BUFIO: 10  DIRIO: 28  FAULTS: 214 
  $

            The above examples illustrate the use of the  /NOHEADER,  /NOACCURACY,
            and /NOMERGE qualifiers to suppress the action of the header, accuracy
            region and feature stages of the merge.  If one of the merge stages is
            suppressed,  then the relevant section of the input IFF file is copied
            directly to the output file without being modified with data from  the
            FADT file.


  $ [1mFADTMERGE[0m [1mAREA12[0m [1mMERGEAREA12/FADT=DFG<CR>[0m
  Updating IFF map header from FADT file records.
     No DLMS FADT header record found.
     No FADT accuracy record found.
     No FADT DSI record found.

  Unmatched feature with FSN (FAC)      1
  Unmatched feature with FSN (FAC)      2
  Unmatched feature with FSN (FAC)      4
  Incompatible FC (1) and FAT (100) in feature with FSN (FAC) 8
  Unmatched feature with FSN (FAC)     10
  Unmatched feature with FSN (FAC)     11
  Unmatched feature with FSN (FAC)     12
  Unmatched feature with FSN (FAC)     20
   ELAPSED:    0 00:00:06.55  CPU: 0:00:02.60  BUFIO: 11  DIRIO: 23  FAULTS: 217 

            The above example shows the diagnostics produced when  an  attempt  is
            made  to  incorporate  the  map  header data from the FADT file in the
            output file when the relevant records are not  present  in  the  input
            FADT file.


  FADTMERGE - FADT and IFF merge utility                                  Page 5-7
  EXAMPLES                                                       29 September 1995


            The input files also contain a feature pairing (FSN  or  FAC  8)  with
            incompatible  feature  code (FC) in the IFF file and feature attribute
            code (FAT) in the FADT file.  A  diagnostic  message  is  produced  to
            indicate this.


  FADTMERGE - FADT and IFF merge utility                                  Page 5-8
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m


  These messages give information only, and require no  immediate  action  by  the
  user.   They  are  often  used to supply explanatory information in support of a
  warning or error message.


  LISTOUT Log output is being directed to list file [1mfile-spec[0m

      [1mExplanation:[0m Log output is being directed to the  file  specified  with  the
                   /LIST qualifier.

      [1mUser[0m [1maction:[0m None.


  FADTMERGE - FADT and IFF merge utility                                  Page 5-9
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m


  These messages indicate an error in processing which has caused the  program  to
  terminate.   The most likely causes are a corrupt or otherwise invalid input IFF
  file, or an error related to command line processing and file manipulation.   It
  is most unlikely that any output file produced will be correctly processed.

  NOFADT, No FADT file was specified in the command line

      [1mExplanation:[0m An FADT file must be specified.

      [1mUser[0m [1maction:[0m Respecify  the  command  line,  this  time  including  a  /FADT
                   qualifier and associated file specification.

  UNOPNFADT, Unable to open FADT file for input

      [1mExplanation:[0m FADTMERGE failed to open the input FADT file, possibly  because
                   it was corrupted or because the specified file did not exist.

      [1mUser[0m [1maction:[0m  The user should check that the file specification  is  correct
                   and that it refers to a file which exists and is uncorrupted.

  UNRECFAT, Unknown feature attribute type

      [1mExplanation:[0m The FAT found in the input FADT record is not known.

      [1mUser[0m [1maction:[0m Check the input FADT file to ensure that  all  records  contain
                   FATs of a permitted value (0,1 or 2).


  FADTMERGE - FADT and IFF merge utility                                 Page 5-10
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m


  In addition to the above messages which are generated by FADTMERGE itself, other
  messages may be produced by the command line interpreter (CLI) and by Laser-Scan
  libraries.  In particular, messages may be generated by the IFF library.   These
  are introduced by '%IFF' and are documented in the IFF library users' guide.  In
  most cases IFF errors will be due to a corrupt input file, or a problem with the
  output  file,  and this should be the first area of investigation.  If the cause
  of the error cannot be traced by the user and Laser-Scan are consulted, then the
  input and output files should be preserved to facilitate diagnosis.














                                     CHAPTER 6

                                   MODULE I2DFAD





  I2DFAD - IFF to DFAD conversion utility                                 Page 6-1
                                                                 29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE    I2DFAD[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  existing I2DFAD utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            I2DFAD transfers data held in an IFF file to magnetic tape in  Digital
            LandMass System (DLMS) Digital Feature Analysis Data (DFAD) format.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ I2DFAD file-spec

            [1mCommand[0m [1mqualifiers[0m                    [1mDefaults[0m

            /[NO]APPEND                           /NOAPPEND
            /[NO]CHANGE2                          /NOCHANGE2
            /DEVICE=device-name                   /DEVICE=MTA0:
            /[NO]DIAGNOSTICS                      /NODIAGNOSTICS
            /[NO]RELEASABILITY=integer            /NORELEASABILITY
            /[NO]REWIND                           /NOREWIND
            /[NO]SECURITY=integer                 /NOSECURITY



  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            Input IFF-file:         IFF-file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  Input IFF-file

          - specifies the IFF file to be converted to a  DFAD  format  tape.   Any
            part  of  the  file  specification which is not supplied will be taken
            from the default specification 'LSL$IF:DFAD.IFF;0'

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

  /APPEND
  /NOAPPEND (default)

          - /APPEND specifies that  the  output  data  be  appended  to  any  DFAD
            manuscripts  already  on  the magnetic tape.  This qualifier cannot be
            present on the same command line as /REWIND (q.v.).
            If /NOAPPEND is used, then the data are written to  the  tape,  either
            starting  at the current tape position (if /NOREWIND is specified), or
            at the start of the tape (if /REWIND is specified).


  I2DFAD - IFF to DFAD conversion utility                                 Page 6-2
  COMMAND QUALIFIERS                                             29 September 1995


  /CHANGE2
  /NOCHANGE2 (default)

          - /CHANGE2 specifies that the data  being  translated  is  'CHANGE2'  so
            headers will be ommited from the output.



  /DEVICE=device-name (default MTA0:)

          - Specifies the tape device on which the DFAD tape is loaded.



  /DIAGNOSTICS
  /NODIAGNOSTICS (default)

          - if  specified,  this  causes  diagnostic  messages  to  be   produced,
            describing the progress of the IFF to DFAD conversion.



  /RELEASABILITY=integer (0-99)
  /NORELEASABILITY (default)

          - if this qualifier is used, then the  releasibility  value  of  a  DFAD
            feature  (held  in  an  AC  7 entry) will be compared with the integer
            specified.  Any differences found will result in the production  of  a
            suitable  message.   If  this qualifier is not present, then no checks
            will be carried out on the releasability.



  /REWIND
  /NOREWIND (default)

          - if /REWIND is specified, the IFF file will be  written  as  the  first
            manuscript  on  the  tape.   Any  existing  data  on  the tape will be
            overwritten.
            If  /NOREWIND  is  used,  then  data  are  appended  to  any  existing
            manuscripts  on the tape, either starting at the current tape position
            (if /NOAPPEND is specified) or after the last manuscript  (if  /APPEND
            is specified).



  /SECURITY=integer (0-99)
  /NOSECURITY (default)

          - if this qualifier is used, then the security value of a  DFAD  feature
            (held  in  an  AC  7  entry)  will  will  be compared with the integer
            specified.  Any differences found will result in the production  of  a
            suitable  message.   If  this qualifier is not present, then no checks
            will be carried out on the security.



  I2DFAD - IFF to DFAD conversion utility                                 Page 6-3
  DESCRIPTION                                                    29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m




             o  /APPEND and /REWIND is not allowed

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m

            I2DFAD is a utility for transferring  data  from  an  IFF  file  to  a
            Digital  LandMass  System  (DLMS) Digital Feature Analysis Data (DFAD)
            magnetic tape.

            The user may select whether to append a  manuscript  to  any  existing
            manuscripts  on the tape, or to write the data as the first manuscript
            on the tape, using the /APPEND and /REWIND qualifiers.  If the  option
            to  append a manuscript to a tape is selected, the program checks that
            the origin of  the  new  manuscript  is  valid  relative  to  previous
            manuscripts.   The  DLMS  specification  requires manuscripts to be in
            ascending order of latitude and longitude (more southerly and westerly
            first),  and  in ascending order of data analysis level.  Any problems
            will be reported to the user, and file transfer will be abandoned.

            The program produces messages giving information about the manuscript,
            and  on  errors encountered during data transfer.  If the /DIAGNOSTICS
            qualifier is supplied, more detailed information is produced.

            I2DFAD takes coordinate values relative to the  origin  from  the  IFF
            file and outputs them as absolute coordinates.

            The extent of the map is output in the 4th 36-bit Univac word  of  the
            manuscript  header.   This extent is usually present in the map header
            of the IFF file, but if these entries are empty then the  extent  will
            be calculated from the Range entry.

            The first feature of the manuscript is expected to be FAC (FSN)  1  in
            layer  1,  and it is expected to circumscribe the manuscript area.  If
            this is not the case  then  the  program  will  inform  the  user  and
            continue.

            Any accuracy  region  data  in  layer  0  of  the  IFF  file  will  be
            transferred to an ACC record on the DFAD tape.


  I2DFAD - IFF to DFAD conversion utility                                 Page 6-4
  DESCRIPTION                                                    29 September 1995


            The position on the magnetic tape at  which  I2DFAD  writes  the  DFAD
            manuscript   is  dependent  on  the  combination  of  /[NO]APPEND  and
            /[NO]REWIND qualifiers used:

            [1m/NOAPPEND and /NOREWIND[0m - The manuscript is written  starting  at  the
                                      current  tape  position.  This method should
                                      only be used if an IFF file  has  just  been
                                      output  to magnetic tape using I2DFAD and no
                                      other operation involving the tape has  been
                                      carried out.

            [1m/APPEND and /NOREWIND[0m   - The manuscript is appended to the tape after
                                      the  last  existing manuscript.  The tape is
                                      rewound, and  the  program  searches  for  a
                                      trailer  block  and  two tapemarks.  It then
                                      appends by overwriting these  three  blocks.
                                      If  there  are no manuscripts on the tape, a
                                      message will be  generated  indicating  that
                                      the  tape  is  not  in  DFAD format and file
                                      transfer will be abandoned.
                                      During the search for the  last  manuscript,
                                      the  program will check that the origins and
                                      corners of successive manuscripts lie in the
                                      correct  relative  positions as described in
                                      the  DLMS   specification.    Messages   are
                                      produced describing any errors encountered.

            [1m/NOAPPEND and /REWIND[0m   - The data are written as the first manuscript
                                      on  the tape.  That is, the tape is rewound,
                                      and  writing  starts  immediately  following
                                      BOT.   This  method  is  normally  used when
                                      starting a new tape.

            [1m/APPEND and /REWIND[0m     - This combination is [1mNOT[0m [1mALLOWED[0m.




  It is essential that the tape is mounted as a foreign volume  prior  to  running
  I2DFAD.   This  is  achieved  using  the  DCL  command  MOUNT  with the /FOREIGN
  qualifier eg. MOUNT MT0:/FOREIGN


  I2DFAD - IFF to DFAD conversion utility                                 Page 6-5
  EXAMPLES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m



  $[1mI2DFAD/REWIND/DIAGNOSTICS/DEVICE=MS:[0m [1mDFAD[0m [1m<CR>[0m

  %I2D-I-WRTDEV, Writing to magnetic tape device MS:

  %LSLLIB-I-IFFOPENED, DUA0:[MCE.IFF]DFAD.IFF;5 opened for read

  File statistics are as follows:
  origin at lat    51 59  0.0 (01871400N), long   -0  1  0.0  (00000600W)
  extent is lat     1  2  0.0 (00037200N), long    1  2  0.0  (00037200E)

  Level Type = 1

  Outputting manuscript header
  Outputting DSI block
  Outputting ACC block
  Outputting feature block 1
  Outputting feature block 2
  Outputting feature block 3
  Outputting feature block 4
  Outputting feature block 5
  Outputting feature block 6
  Outputting feature block 7
  Outputting feature block 8
  Outputting feature block 9
  Outputting feature block 10
  Outputting feature block 11
  Outputting feature block 12
  Outputting feature block 13
  Outputting feature block 14
  Outputting feature block 15
  Outputting feature block 16
  Outputting feature block 17
  Outputting feature block 18
  Outputting feature block 19
  Outputting feature block 20
  Outputting feature block 21
  Outputting feature block 22
  Outputting feature block 23
  Outputting feature block 24
  Outputting feature block 25
  Outputting feature block 26
  Outputting feature block 27
  Outputting feature block 28
  Outputting feature block 29
  Outputting feature block 30
  Outputting trailer block
   ELAPSED:    0 00:04:36.37  CPU: 0:03:15.00  BUFIO: 120  DIRIO: 1572  FAULTS:
  233 
  $


  I2DFAD - IFF to DFAD conversion utility                                 Page 6-6
  EXAMPLES                                                       29 September 1995


            This example illustrates the use of I2DFAD with the /REWIND qualifier.
            The  magnetic tape is rewound and the specified IFF file is written as
            the first manuscript.

            The /DIAGNOSTICS qualifier was also used,  so  the  user  is  informed
            whenever a block is written to tape.

            The /DEVICE qualifier selects output to tape device 'MS:'.





  $[1mI2DFAD/SECURITY=0/RELEASABILITY=0/DEVICE=MS:[0m [1mDFAD1[0m [1m<CR>[0m

  %I2D-I-WRTDEV, Writing to magnetic tape device MS:

  %LSLLIB-I-IFFOPENED, DUA0:[MCE.IFF]DFAD1.IFF;1 opened for read

  Checking for SECURITY 0
  Checking for RELEASABILITY 0

  File statistics are as follows:
  origin at lat    57 59  0.0 (02087400N), long   -5  1  0.0  (00180600W)
  extent is lat     1  2  0.0 (00037200N), long    1  2  0.0  (00037200E)

  Level Type = 1

  Feature 1: Security code 1 does not match that specified
  Feature 1: Releasability code 1 does not match that specified
  Feature 10: Security code 4 does not match that specified
  Feature 27: Releasability code 2 does not match that specified

   ELAPSED:    0 00:01:54.89  CPU: 0:00:56.48  BUFIO: 28  DIRIO: 656  FAULTS: 251 
  $


            In the above example, the /SECURITY and /RELEASABILITY qualifiers were
            used.   The  program  will check that all features have a security and
            releasability  value  of  0.   Three  features  having   security   or
            releasability  values not matching those specified on the command line
            were found and reported by the program.

            Since no /DIAGNOSTICS qualifier is present on  the  command  line,  no
            reporting of individual blocks written is carried out.

            Neither /APPEND nor  /REWIND  was  used,  so  the  tape  writing  will
            commence  at the current tape position.  This should generally only be
            used following the writing of another manuscript to tape with  I2DFAD,
            when there have been no other intervening tape operations.





  $[1mI2DFAD/APPEND/DIAGNOSTICS/DEVICE=MS:[0m [1mDFAD2[0m [1m<CR>[0m


  I2DFAD - IFF to DFAD conversion utility                                 Page 6-7
  EXAMPLES                                                       29 September 1995



  %I2D-I-WRTDEV, Writing to magnetic tape device MS:
   
  .Block 1, 4 'words' of data
  .First few words are:
   00000 / 2AF0E,   00007 / 08E28
   3FFFF / 3FDA7,   09150 / 09150
   00000 / 00000,   00000 / 00000
   
   
  .Block 99, 4 'words' of data
  .First few words are:
   00000 / 259A7,   00007 / 3D9E8
   3FFFF / 13E87,   09150 / 09150
   00000 / 00000,   00000 / 00000
   

  %LSLLIB-I-IFFOPENED, DUA0:[MCE.IFF]DFAD2.IFF;1 opened for read

  File statistics are as follows:
  origin at lat    57 59  0.0 (02087400N), long   -4  1  0.0  (00144600W)
  extent is lat     1  2  0.0 (00037200N), long    1  2  0.0  (00037200E)

  Level Type = 1

  Outputting manuscript header
  Outputting DSI block
  Outputting ACC block
  Outputting feature block 1
  Outputting feature block 2
  Outputting feature block 3
  Outputting feature block 4
  Outputting feature block 5
  Outputting feature block 6
  Outputting feature block 7
  Outputting feature block 8
  Outputting feature block 9
  Outputting feature block 10
  Outputting feature block 11
  Outputting feature block 12
  Outputting feature block 13
  Outputting feature block 14
  Outputting feature block 15
  Outputting feature block 16
  Outputting feature block 17
  Outputting feature block 18
  Outputting feature block 19
  Outputting feature block 20
  Outputting trailer block
   ELAPSED:    0 00:02:05.95  CPU: 0:00:44.02  BUFIO: 63  DIRIO: 490  FAULTS: 158 
  $


            In this example, the /APPEND qualifier is specified so that  any  data
            will be appended to any existing manuscripts on the tape.  I2DFAD will
            rewind the magnetic tape, and read any  existing  manuscripts  on  the


  I2DFAD - IFF to DFAD conversion utility                                 Page 6-8
  EXAMPLES                                                       29 September 1995


            tape  until  two  tapemarks  indicating  the  end  of  tape are found.
            Because the /DIAGNOSTICS qualifier was present on  the  command  line,
            the  first  few  words  of the first block of each manuscript read are
            displayed.  A message indicated the successful writing of  each  block
            in the manuscript is output by I2DFAD.





  $[1mI2DFAD/APPEND/DIAGNOSTICS/DEVICE=MS:[0m [1mDFADSW[0m [1m<CR>[0m

  %I2D-I-WRTDEV, Writing to magnetic tape device MS:
   
  .Block 1, 4 'words' of data
  .First few words are:
   00000 / 259C5,   00007 / 3D9E8
   3FFFF / 1CB27,   09150 / 09150
   00000 / 00000,   00000 / 00000
   

  %LSLLIB-I-IFFOPENED, DUA0:[MCE.IFF]DFAD.IFF;5 opened for read

  File statistics are as follows:
  origin at lat    51 59  0.0 (01871400N), long   -0  1  0.0  (00000600W)
  extent is lat     1  2  0.0 (00037200N), long    1  2  0.0  (00037200E)

  Level Type = 1

  Last manuscript on map more Northerly than current map
  %I2D-E-INPOSMAN, The current and previous manuscripts are in incorrect relative
  positions
   ELAPSED:    0 00:00:13.00  CPU: 0:00:00.85  BUFIO: 28  DIRIO: 34  FAULTS: 133 
  $


            In this example, the attempt to append a manuscript to the  end  of  a
            DFAD  tape  fails because the previous manuscript has a more Northerly
            origin than the current manuscript.





  $[1mI2DFAD/REWIND/DIAGNOSTICS/DEVICE=MS:[0m [1mDFADEMPTYMH[0m [1m<CR>[0m

  %I2D-I-WRTDEV, Writing to magnetic tape device MS:

  %LSLLIB-I-IFFOPENED, LSL$DATAROOT:[LSL.IFF]DFAD.IFF;1 opened for read

  File statistics are as follows:
  origin at lat     0  0  0.0 (00000000N), long    0  0  0.0  (00000000E)
  extent is lat     0  0  0.0 (00000000N), long    0  0  0.0  (00000000E)

  Level Type = 0



  I2DFAD - IFF to DFAD conversion utility                                 Page 6-9
  EXAMPLES                                                       29 September 1995


  Outputting manuscript header from IFF file LSL$DATAROOT:[LSL.IFF]DFAD.IFF;1
  Unexpected level number 0
  Error reading WAGNUM from MHWAC
  %I2D-E-UNWRBLK, Unable to write header block
   ELAPSED:    0 00:00:07.21  CPU: 0:00:00.88  BUFIO: 20  DIRIO: 6  FAULTS: 203 
  $


            In this case, the attempt to append a new manuscript fails because the
            Map  Header  (MH)  entry  in the input IFF file has not been correctly
            set.  The program is therefore unable to write the  header  block  and
            abandons file transfer.


  I2DFAD - IFF to DFAD conversion utility                                Page 6-10
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m


  These messages give information only, and require no  immediate  action  by  the
  user.   They  are  often  used to supply explanatory information in support of a
  warning or error message.


  WRTDEV Writing to magnetic tape device [1m'tape-dev'[0m


      [1mExplanation:[0m The DFAD tape written will be on the specified device.


      [1mUser[0m [1maction:[0m None.



  I2DFAD - IFF to DFAD conversion utility                                Page 6-11
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m


  These messages indicate an error in processing which has caused the  program  to
  terminate.   The most likely causes are a corrupt or otherwise invalid input IFF
  file, an error related to command line processing and file  manipulation,  or  a
  problem  relating  to  the output magnetic tape.  Following such an error, it is
  most unlikely that any output file produced will be correctly processed.




  INVALSEC Security specified not between 0 and 99


      [1mExplanation:[0m A command line was specified with a /SECURITY qualifier 
                   with a value not between 0 and 99.


      [1mUser[0m [1maction:[0m Respecify the command line, ensuring that the security 
                   value is valid.



  INVALREL Releasability specified not between 0 and 99


      [1mExplanation:[0m A command line was specified with a /RELEASABILITY 
                   qualifier with a value not between 0 and 99.


      [1mUser[0m [1maction:[0m Respecify the command line, ensuring that the 
                   releasability value is valid.



  INPOSMAN The current and previous manuscripts are in incorrect 
           relative positions.


      [1mExplanation:[0m The origin or corners of the current manuscript are not 
                   in allowable positions given the positioning of the previous
                   manuscript.


      [1mUser[0m [1maction:[0m Check the corner and origin latitude and longitude 
                   values of the current and previous manuscripts.





  I2DFAD - IFF to DFAD conversion utility                                Page 6-12
  MESSAGES (ERROR)                                               29 September 1995


  NOTDFAD Tape is not DFAD format


      [1mExplanation:[0m An attempt has been made to write to a 
                   magnetic tape which is not DFAD format.


      [1mUser[0m [1maction:[0m Retry the command, ensuring that the tape used is in 
                   the DFAD format.



  UNRDBLK Unable to read [1m'block-type'[0m block


      [1mExplanation:[0m An error has occurred whilst reading the specified 
                   block from tape.


      [1mUser[0m [1maction:[0m Check the tape and device and then retry the command.



  UNWRBLK Unable to write [1m'block-type'[0m block


      [1mExplanation:[0m An error has occurred whilst writing the specified 
                   block to tape.


      [1mUser[0m [1maction:[0m Check the tape and device and then retry the command.




  UN2TAPEMK Unable to read second tapemark.


      [1mExplanation:[0m The second tapemark cannot be successfully found and 
                   read.


      [1mUser[0m [1maction:[0m Check the tape and device and then retry the command.






  I2DFAD - IFF to DFAD conversion utility                                Page 6-13
  MESSAGES (ERROR)                                               29 September 1995


  UNBCKSP Unable to space back three blocks


      [1mExplanation:[0m The attempt before appending to the tape, to space 
                   back three blocks failed.


      [1mUser[0m [1maction:[0m Check the tape and device and then retry the command.




  UNOPNIFF Unable to open IFF file [1m'file-spec'[0m


      [1mExplanation:[0m The attempt to open the input IFF file failed.


      [1mUser[0m [1maction:[0m Check the file and then retry the command.




  UNRDIFF Unable to read IFF entry at [1m'file-position'[0m


      [1mExplanation:[0m An unsuccessful attempt was made to read the entry in 
                   the input IFF file at the specified position.


      [1mUser[0m [1maction:[0m Check the file and then retry the command.




  UNRDAC Unable to read AC entry at [1m'file-position'[0m


      [1mExplanation:[0m An unsuccessful attempt was made to read an AC entry 
                   in the input IFF file at the specified position.


      [1mUser[0m [1maction:[0m Check the file and then retry the command.






  I2DFAD - IFF to DFAD conversion utility                                Page 6-14
  MESSAGES (ERROR)                                               29 September 1995


  UNWRFIN Unsuccessful finish to writing session


      [1mExplanation:[0m An error occurred in the completion of the tape 
                   writing session.


      [1mUser[0m [1maction:[0m Check the tape and device and retry the command.



  UNEXPEOF Unexpected end of IFF file encountered.


      [1mExplanation:[0m The end of the IFF file was encountered prematurely.


      [1mUser[0m [1maction:[0m Check the file and then retry the command.



  I2DFAD - IFF to DFAD conversion utility                                Page 6-15
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m


  In addition to the above messages which are generated by  I2DFAD  itself,  other
  messages may be produced by the command line interpreter (CLI) and by Laser-Scan
  libraries.  In particular, messages may be generated by the IFF library.   These
  are introduced by '%IFF' and are documented in the IFF library users' guide.  In
  most cases IFF errors will be due to a corrupt input file, and  this  should  be
  the  first area of investigation.  If the cause of the error cannot be traced by
  the user and Laser-Scan are consulted, then the input file should  be  preserved
  to facilitate diagnosis.














                                     CHAPTER 7

                                   MODULE MCEHED





  MCEHED  - IFF MCE Map Header Edit Utility                               Page 7-1
                                                                 29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE    MCEHED[0m

  [1m--------------------------------------------------------------------------------[0m

  [1mREPLACES[0m  Existing MCEHED utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            MCEHED is a utility to allow a Map Header entry in the IFF file to  be
            edited  or  examined.   [1mThe[0m [1mmap[0m [1mheader[0m [1mmust[0m [1mbe[0m [1ma[0m [1mMCE[0m [1m(customer[0m [1mtype[0m [1m1)[0m
            [1mheader.[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ MCEHED file-spec


            [1mCommand[0m [1mqualifiers[0m                    [1mDefaults[0m

            /[NO]READONLY                         /NOREADONLY


            Editing and examining the map header with MCEHED is command driven as 
            described below.


  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m


            Input IFF-file:       file-spec of IFF file to be examined or edited


  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  Input IFF-file

          - specifies the input IFF file.  Any  part  of  the  file  specification
            which  is  not  supplied  will be taken from the default specification
            'LSL$IF:IFF.IFF;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

  /READONLY
  /NOREADONLY (default)

          - if /READONLY is specified, then MCEHED will only allow the map  header
            to  be examined, and not edited.  Any attempt to edit an entry will be
            prevented and an error message generated.


  MCEHED  - IFF MCE Map Header Edit Utility                               Page 7-2
  DESCRIPTION                                                    29 September 1995


            By default the IFF file is opened for both reading and editing.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m

            MCEHED is a utility to allow fields in an IFF MCE  map  header  to  be
            examined  and  edited.   [1mThe[0m  [1mutility[0m [1mwill[0m [1monly[0m [1moperate[0m [1mon[0m [1man[0m [1mIFF[0m [1mfile[0m
            [1mthat[0m [1mcontains[0m [1ma[0m [1mMCE[0m [1m(customer[0m [1mtype[0m [1m1)[0m [1mmap[0m [1mheader.[0m

            MCEHED operates in situ ie.  it does not create a new output IFF file.
            All  edits are performed on a copy of the map header, which is written
            back to the input file when the EXIT command is given.   If  required,
            the  command  QUIT may be used to abandon any edits, and terminate the
            program without updating the map header.

            The IFF file may be opened for  editing  (the  default)  or  with  the
            /READONLY  qualifier.   If  /READONLY  is specified, only the SHOW and
            QUIT commands may be used.

            In  order  to  comply  with  November  1988  amendment  of  the   DLMS
            specification, the LEV field in the sheet identity can hold a value of
            3 to represent level 3-C or a value of 4 to level 1-C.

            Detailed descriptions of  all  available  MCEHED  commands  are  given
            below.
  [1m--------------------------------------------------------------------------------[0m


  MCEHED  - IFF MCE Map Header Edit Utility                               Page 7-3
  EXIT command                                                   29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mEXIT[0m

            This command is used to exit from MCEHED,  and  close  the  input  IFF
            file.   If  any edit operations have been performed, the header of the
            file is updated before closing.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:   EXIT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m

            None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

            The EXIT command is used to exit from MCEHED.  If any edit  operations
            have  been  performed,  the  header  of  the input IFF file is updated
            before closing.  [1mThis[0m [1mcommand[0m [1mis[0m [1monly[0m [1mvalid[0m [1mif[0m [1mthe[0m [1mfile[0m [1mwas[0m [1mopened[0m [1mfor[0m
            [1medit.[0m

            <CTRL/Z> (pressing the Ctrl and Z keys together) may also be  used  to
            exit from the program.

  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES:[0m

  The following error messages are specific to the EXIT command:

  *** ERROR *** File opened read only - EXIT not allowed

  *** ERROR *** Unexpected "character" after EXIT


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES:[0m


  $ [1mMCEHED[0m [1mDFAD1<CR>[0m
  File DUA0:[MCE.IFF]DFAD1.IFF;1 opened for edit
  mcehed> [1mSHOW[0m [1mSECURITY<CR>[0m
  S E C U R I T Y
   
  SEC  - Security classification     0
  SECD - Security descriptor         U
  REL  - Releasability code          0
  SHD  - Sheet handling descriptor   LASERSCAN EYES ONLY        
   
  mcehed> [1mSECD[0m [1m"R"<CR>[0m
  SECD - Security descriptor         R
  mcehed> [1mEXIT<CR>[0m
  Map header updated
   ELAPSED:    0 00:00:36.96  CPU: 0:00:01.08  BUFIO: 18  DIRIO: 9  FAULTS: 125 
  $


  MCEHED  - IFF MCE Map Header Edit Utility                               Page 7-4
  field-name command                                             29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mfield-name[0m

            Allows the editing of the specified Map Header field.

  [1m--------------------------------------------------------------------------------[0m

  [1mFORMAT:   field-name[0m [1m[edit_value][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m

  edit_value

            The value to which the field is to be edited.  Edit_value  may  be  an
            integer, string, date or angle depending on the contents of the field.
            If the edit_value is invalid (eg.  in the wrong format), the user will
            be prompted for an alternative value.

            Similarly if the edit_value parameter is not supplied, the  user  will
            be prompted for a value.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

            The field-name command is used to edit the specified field in the  Map
            Header.  The command is only valid if the file is opened for edit.

            The field-name may  be  abbreviated,  as  long  as  ambiguity  is  not
            produced.   It  is  recommended  however  that  the full 3 or 4 letter
            mnemonic for the field is used to prevent confusion.

            If no edit_value is specified, or if the supplied  value  is  invalid,
            the program will prompt the user for a value.

            The prompt first displays the contents of the field in the same format
            as SHOW:

                 field-name - Descriptive comment         value

            and then prompts with the type of data required.

            The four types of prompts produced are:

            [Integer min-max] :

                 indicating that an integer between 'min' and 'max' is required.

            [String len] :

                 indicating  that  a  quoted  string  of  maximum   length   'len'
                 characters  is  required.   Both  single  and  double  quotes are
                 acceptable, and <CR> may also be used to terminate a string.


  MCEHED  - IFF MCE Map Header Edit Utility                               Page 7-5
  field-name command                                             29 September 1995


                 A null string may only be set by using the  UNSET  response  (see
                 below).

            [Date  day month year] :

                 indicating that a date is required.  This may be given  with  the
                 month  as a number or as a name, and the year is assumed to be of
                 this century (20th) if the value given is less than 100.   Fields
                 within  the  date may be separated by spaces, or by a '/' or '-'.
                 Separators must be consistent within any one  date.   Leap  years
                 are checked, and all dates must be after 1 Jan 1900.

            [Angle +/- ddd mm ss.s] :

                 indicating that an angle is  required.   The  degree  and  minute
                 fields  must  always  be provided; the seconds field is optional.
                 The angle may never be greater than 360 degrees.  The sign may be
                 omitted  for  a  positive  angle.   Note that most of the angular
                 fields have a further restriction on the values allowed.



            If an incorrect or invalid response  is  given,  the  prompt  will  be
            repeated.   An  answer of <CR> will leave the prompt sequence, without
            altering the field.  Once the field has been altered, the new value is
            echoed on the terminal.

            Note that the keyword UNSET  (synonyms  are  NULL  and  ZERO)  may  be
            supplied  in  response  to  all  prompts.  This causes the field to be
            edited to its null value.

            The Digital UPdate fields (DUP1 to DUP6) are the only fields which may
            affect  each  other  directly,  so  that changing the value of one may
            change the values of others.

            Within the editor it is arranged  that  updating  DUP1  will  cause  a
            scrolling effect, whereby DUP6 will become a copy of DUP5, DUP5 a copy
            of DUP4, ..., DUP2 a copy of DUP1, and then  the  new  value  will  be
            entered into DUP1.

            If any of DUP2 to DUP6 is updated, this scrolling will not occur  (and
            a  message  will  be output noting either case).  Thus erroneous dates
            may be corrected even when they are not at the 'top' of the stack.

  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES:[0m

            The following errors are associated with field editing:

            For entry of fields of all types:

            *** ERROR *** File was opened read only - editing not allowed
            *** ERROR *** Reading response to prompt

            For entry of Accuracy fields only:



  MCEHED  - IFF MCE Map Header Edit Utility                               Page 7-6
  field-name command                                             29 September 1995


            *** ERROR *** Number or NA expected


            For entry of angles:

            *** ERROR *** Unexpected "character" found after unset command
            *** ERROR *** Unexpected "character" found after angle
            *** ERROR *** Angle is too large - maximum is 'number' degrees
            *** ERROR *** No angle found in origin spec
            *** ERROR *** No degree part in origin spec
            *** ERROR *** Degree part too large in origin spec
            *** ERROR *** No minute part in origin spec
            *** ERROR *** Minute field too large in origin spec
            *** ERROR *** Minute field may not be negative
            *** ERROR *** Seconds field too large in origin spec
            *** ERROR *** Seconds field may not be negative


            For entry of dates:

            *** ERROR *** Unexpected "character" found after date
            *** ERROR *** Unexpected "character" found where separator "character"
            was expected 
            *** ERROR *** Trying to read day number
            *** ERROR *** Day 'number' is too large
            *** ERROR *** Day 'number' is too small
            *** ERROR *** Unexpected end of line - no month
            *** ERROR *** Month 'number' is out of range
            *** ERROR *** There are only 'number' days in month 'number'
            *** ERROR *** The year 'number' is not a leap year - only 28 days in
            Feb
            *** ERROR *** Unexpected end of line - no year
            *** ERROR *** Cannot read year
            *** ERROR *** Negative year not allowed
            *** ERROR *** Year 'number' is too large
            *** ERROR *** Date may not be before 1-Jan-1900


            For entry of integers:

            *** ERROR *** Unexpected "character" found after unset command
            *** ERROR *** Unexpected "character" found after number
            *** ERROR *** Number expected
            *** ERROR *** Number out of range
            *** ERROR *** Value 'number' too small (range is 'number'-'number')
            *** ERROR *** Value 'number' too large (range is 'number'-'number')


            For entry of strings:

            *** ERROR *** Unexpected "character" found after unset command
            *** ERROR *** Unexpected "character" - string must be in quotes
            *** ERROR *** Unexpected "character" found after string
            *** ERROR *** String should be 'number' chars - 'number' is too many


  MCEHED  - IFF MCE Map Header Edit Utility                               Page 7-7
  field-name command                                             29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES:[0m

  $ [1mMCEHED[0m [1mDFAD1<CR>[0m
  File DUA0:[MCE.IFF]DFAD1.IFF;1 opened for edit
  mcehed> [1mSHOW[0m [1mSECURITY<CR>[0m
  S E C U R I T Y
   
  SEC  - Security classification     0
  SECD - Security descriptor         U
  REL  - Releasability code          0
  SHD  - Sheet handling descriptor   LASERSCAN EYES ONLY        

  mcehed> [1mSHD[0m [1m"NONE"<CR>[0m
  SHD  - Sheet handling descriptor   NONE                       
  mcehed> [1mSHOW[0m [1mSECURITY<CR>[0m
  S E C U R I T Y
   
  SEC  - Security classification     0
  SECD - Security descriptor         U
  REL  - Releasability code          0
  SHD  - Sheet handling descriptor   NONE                       

  mcehed> [1mSECD[0m [1mR<CR>[0m
  *** ERROR *** Unexpected "R" - string must be in quotes
  SECD - Security descriptor         U
  [String 1] : [1m"R"<CR>[0m
  SECD - Security descriptor         R
  mcehed> [1mEXIT<CR>[0m
  Map header updated
   ELAPSED:    0 00:00:36.96  CPU: 0:00:01.08  BUFIO: 18  DIRIO: 9  FAULTS: 125 
  $


  MCEHED  - IFF MCE Map Header Edit Utility                               Page 7-8
  HELP command                                                   29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mHELP[0m

            Displays a summary of the  commands  available  in  MCEHED  and  their
            function.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:   HELP[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

            If the HELP command is given, a summary of all valid  MCEHED  commands
            and their function, is displayed on the terminal.

  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES:[0m

  $ [1mMCEHED[0m [1mDFAD1<CR>[0m
  File DUA0:[MCE.IFF]DFAD1.IFF;1 opened for edit
  mcehed> [1mHELP<CR>[0m
  MCE map header editor program.
  Files may be opened for edit (the default) or /READONLY
   
  SHOW                            tells the user what arguments SHOW may take
  SHOW    <section name>          show a section of data in the map header - for
                                  each field, shows field name, description, value
   
  <field name>                    edit the given field - the program will prompt
                                  for the appropriate data type
  <field name>    <value>         edit the given field - no prompt given
   
  QUIT                            leave the program, ignore any changes
  EXIT                            leave the program, update the mapheader (thus
                                  only legal if the file was opened for edit)
  <control>Z                      leave the program as EXIT or QUIT, depending on
                                  whether the file was open for edit or not
   
  Note that <value> may always be the special quantity UNSET (synonyms ZERO,NULL)
  which will unset the field - ie the field will be uninitialised.
   
  STRINGs must be surrounded by quote marks, ANGLEs must always contain at least
  degree & minute fields, DATEs may have month as digit or name, and use space,
  slash (/) or hyphen (-) as separators.
  mcehed> 


  MCEHED  - IFF MCE Map Header Edit Utility                               Page 7-9
  QUIT command                                                   29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mQUIT[0m

            The QUIT command is used to exit from MCEHED if the input IFF file was
            opened  for read only, or if the user wishes to discard any edits made
            to the map header during the current session.

  [1m--------------------------------------------------------------------------------[0m

  [1mFORMAT:   QUIT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

            The QUIT command causes MCEHED execution to terminate, and  close  the
            input  IFF  file.   Any  edits  made  to the program's copy of the map
            header are not written to the header of the IFF file.  The  input  IFF
            map header remains unchanged.

            The command may not be abbreviated in order  to  prevent  accidentally
            termination of the program.

            The QUIT command, rather than the EXIT  command,  should  be  used  to
            terminate MCEHED, if the input file was opened for read only.

            <CTRL/Z> (pressing the Ctrl and Z keys together) may also be  used  to
            quit  from  the  program  if  the  file was opened using the /READONLY
            qualifier.

  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES:[0m

            If the QUIT command is used to finish a session, and the IFF file  was
            opened for edit, the following messages are generated:

            *** WARNING *** Not writing out map header
            Edits have been ignored


            The following message is also associated with the QUIT command:

            *** ERROR *** Please type the whole command QUIT
            *** ERROR *** Unexpected "character" after QUIT


  MCEHED  - IFF MCE Map Header Edit Utility                              Page 7-10
  SHOW command                                                   29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m

            Allows the user to examine the contents of all the map  header  fields
            or a named group of fields.

  [1m--------------------------------------------------------------------------------[0m

  [1mFORMAT:   SHOW[0m [1msection_name[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m

  section_name

            This determines which of the map  header  fields  are  displayed.   It
            should be one of the following:


                 ALL              - show all of the following sections.


                 Sheet, Identity  - show the sheet identity fields.


                 Security         - show the security fields.


                 Coverage         - show the coverage of the manuscript.


                 Projection       - show the projection information.


                 Digitising       - show the digitising information.


                 Specification    - show the specification fields.


                 History, Dates   - show the sheet history & dates.


                 Accuracy         - show the manuscript accuracy information.


                 Processing       - show the manuscript processing dates.


                 Status           - show the status flag fields.


                 Terrain          - show the terrain information.




  MCEHED  - IFF MCE Map Header Edit Utility                              Page 7-11
  SHOW command                                                   29 September 1995


            Each section name may be abbreviated, as long as it  does  not  become
            ambiguous.

            If no parameter is specified, SHOW reminds the user of  the  names  of
            the parameters it may take.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

            This command allows the user to examine the current contents of all of
            the  Map  Header  fields,  or  a group of fields.  When displayed, the
            fields are grouped into sections according to their meanings.

            The information output for each feature is of the form:

                 field-name - Descriptive comment         value

            where 'field-name' is the 3 or 4 letter field identifier that is  used
            to edit the field as described above.

  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES:[0m

            The only program generated error message relevant to SHOW is:

                 *** ERROR *** Unexpected "character" after SHOW section-name

            This occurs if the user has typed an extra  character  after  a  legal
            'section-name'.  The command should be re-entered.

  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES:[0m

  $ [1mMCEHED[0m [1mDFAD1<CR>[0m
  File DUA0:[MCE.IFF]DFAD1.IFF;1 opened for edit
  mcehed> [1mSHOW<CR>[0m
  SHOW what? - SHOW ALL, or sections are: 
               IDentity,      SECurity, COVERage, PROJection, DIG info,
               SPECification, HISTory,  ACCuracy, PROC dates, STATus, TERRain
  mcehed> [1mSHOW[0m [1mALL<CR>[0m
  S H E E T    I D E N T I T Y
   
  TASK - Task (series) name          DFAD
  SHT  - Sheet name/number           
  EDN  - Edition number              0
  TYPE - File type                   
  LEV  - Level of this data          1
  WAC  - World Aeronautical Codes    01501307
  COCO - Country coverage            
  REFN - Unique reference            UK SQUARE 79   
  MANU - Manuscript type             0
  COOR - Coordinate type             0
   
  S E C U R I T Y
   
  SEC  - Security classification     0


  MCEHED  - IFF MCE Map Header Edit Utility                              Page 7-12
  SHOW command                                                   29 September 1995


  SECD - Security descriptor         U
  REL  - Releasability code          0
  SHD  - Sheet handling descriptor   LASERSCAN EYES ONLY        
   
  C O V E R A G E
   
  MSWE - Map SW corner (E)           0
  MSWN - Map SW corner (N)           0
  MLEW - Map limit, E-W              0
  MLNS - Map limit, N-S              0
  LASW - SW corner  (lat)              58 00 00.0
  LOSW - SW corner  (long)             -5 00 00.0
  LASE - SE corner  (lat)              58 00 00.0
  LOSE - SE corner  (long)             -4 00 00.0
  LANE - NE corner  (lat)              59 00 00.0
  LONE - NE corner  (long)             -4 00 00.0
  LANW - NW corner  (lat)              59 00 00.0
  LONW - NW corner  (long)             -5 00 00.0
  LAMO - Map origin (lat)              57 59 00.0
  LOMO - Map origin (long)             -5 01 00.0
  LAEX - Map extent (lat)               1 00 00.0
  LOEX - Map extent (long)              1 00 00.0
   
  P R O J E C T I O N
   
  PROJ - Projection used             
  SPH  - Spheroid used               
  CMER - Central Meridian               0 00 00.0
  LAFO - Latitude of false origin       0 00 00.0
  NPAR - North standard parallel        0 00 00.0
  SPAR - South standard parallel        0 00 00.0
   
  D I G I T I S I N G    I N F O R M A T I O N
   
  MENU - Menu for this map           
  DGSC - Digitised scale             0
  DBSC - Database scale              0
  DSYS - Digitising system           FREESCAN  
   
  S P E C I F I C A T I O N
   
  PCDE - Producer code               UKMODMCE
  PSSN - Product spec stock  number  SPECXDLMS
  PSCN - Product spec change number  0
  PSDT - Product spec date            1-Jul-1977
  VAL  - Validation table            0
   
  S H E E T    H I S T O R Y
   
  CDTE - Compilation/analysis date    1-Oct-1978
  CTYP - Compilation type            
  MDTE - Maintenance date            unset
  MCDE - Maintenance desc code       0000
  MMD  - Match/merge date            unset
  MMV  - Match/merge version         A
  MCD  - Map currency date           unset


  MCEHED  - IFF MCE Map Header Edit Utility                              Page 7-13
  SHOW command                                                   29 September 1995


  REV  - Revision cut-off date       unset
   
  A C C U R A C Y    I N F O R M A T I O N
   
  HDTM - Horizontal datum            WGS72
  VDTM - Vertical   datum               
  AHAC - Abs horizontal accuracy     50
  AVAC - Abs vertical   accuracy     0
  RHAC - Rel horizontal accuracy     25
  RVAC - Rel vertical   accuracy     0
  VHAC - Vertical heighting accuracy 10
   
  P R O C E S S I N G     D A T E S
   
  DUP1 - Digital update 1            unset
  DUP2 - Digital update 2            unset
  DUP3 - Digital update 3            unset
  DUP4 - Digital update 4            unset
  DUP5 - Digital update 5            unset
  DUP6 - Digital update 6            unset
  DLH  - Date last handled           unset
   
  S T A T U S    F L A G S
   
  EMSN - Edge match status North     0
  EMSE - Edge match status East      0
  EMSS - Edge match status South     0
  EMSW - Edge match status West      0
  FLAG - Processing flag             0
   
  T E R R A I N     I N F O R M A T I O N
   
  CLOD - Clockwise orient'n of data    0 00 00.0
  LAIN - Latitude  interval          0
  LOIN - Longitude interval          0
  LALI - Number of lines of lat      0
  LOLI - Number of lines of long     0
  PCIN - Partial cell indicator      0
   
  mcehed> [1mSHOW[0m [1mSECURITY<CR>[0m
  S E C U R I T Y
   
  SEC  - Security classification     0
  SECD - Security descriptor         U
  REL  - Releasability code          0
  SHD  - Sheet handling descriptor   LASERSCAN EYES ONLY        
   
  mcehed>


  MCEHED  - IFF MCE Map Header Edit Utility                              Page 7-14
  EXAMPLES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES:[0m


  $ [1mMCEHED[0m [1mDFAD1<CR>[0m
  File DUA0:[MCE.IFF]DFAD1.IFF;1 opened for edit
  mcehed> [1mSHD[0m [1m"LASERSCAN[0m [1mEYES[0m [1mONLY"<CR>[0m
  SHD  - Sheet handling descriptor   LASERSCAN EYES ONLY        
  mcehed> [1mSHOW[0m [1mSECURITY<CR>[0m
  S E C U R I T Y
   
  SEC  - Security classification     0
  SECD - Security descriptor         U
  REL  - Releasability code          0
  SHD  - Sheet handling descriptor   LASERSCAN EYES ONLY        

  mcehed> [1mQUIT<CR>[0m
  *** WARNING *** Not writing out map header
  Edits have been ignored
   ELAPSED:    0 00:02:35.66  CPU: 0:00:02.13  BUFIO: 186  DIRIO: 13  FAULTS: 178 



  $ [1mMCEHED[0m [1mDFAD1/READONLY<CR>[0m
  File DUA0:[MCE.IFF]DFAD1.IFF;1 opened for reading only
  mcehed> [1mSHOW[0m [1mSECURITY<CR>[0m
  S E C U R I T Y
   
  SEC  - Security classification     0
  SECD - Security descriptor         U
  REL  - Releasability code          0
  SHD  - Sheet handling descriptor   LASERSCAN EYES ONLY        
   
  mcehed> [1mSHD<CR>[0m
  *** ERROR *** File was opened read only - editing not allowed
  mcehed> [1mEXIT<CR>[0m
  *** ERROR *** File opened read only - EXIT not allowed
  mcehed> [1mQUIT<CR>[0m
   ELAPSED:    0 00:00:51.84  CPU: 0:00:00.94  BUFIO: 16  DIRIO: 5  FAULTS: 180 
  $


  MCEHED  - IFF MCE Map Header Edit Utility                              Page 7-15
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(Other[0m [1mMCEHED[0m [1mMessages)[0m

            Apart from those messages described above, which  relate  to  specific
            commands, the following messages may also be generated by MCEHED:

            *** ERROR *** Can't find map header

                 This error indicates that  the  MH  entry  is  missing  from  the
                 specified  input  IFF  file.   The  program will terminate, since
                 there is no map header to edit or examine.  The user should check
                 that the correct IFF file was specified in the command line.

            *** WARNING *** Map header has unexpected length 'num', expected 'num'
                            Attempting to continue with length 'num'

            *** ERROR *** Map header has unexpected length 'num', expected 'num'
                          Unable to edit map header

                 These messages indicate that the MH entry in the  IFF  file  does
                 not  have  the  same  actual length as is specified in the length
                 field of the MH entry.  If the file was opened for read only, the
                 program  attempts  to continue, although the values displayed for
                 some fields may not be meaningful.  If the file  was  opened  for
                 edit, the execution terminates.  These warnings may indicate that
                 the IFF file has been corrupted in some  way.   The  user  should
                 check this, and possibly corrected the MH entry length field.

            *** ERROR *** Reading command line
            *** ERROR *** Reading command qualifiers
            *** ERROR *** Reading filename

                 The above errors are associated with interpreting the initial DCL
                 command  line.   The  user  should  check that this was correctly
                 specified.   If  the  problem  persists,  Laser-Scan  should   be
                 consulted.

            *** ERROR *** Opening IFF file 'file-spec'

                 This error is associated with  problems  opening  the  input  IFF
                 file.    It  will  normally  appear  in  conjunction  with  other
                 messages, usually generated by LSLLIB  (see  below),  which  will
                 describe the exact nature of the problem.


  MCEHED  - IFF MCE Map Header Edit Utility                              Page 7-16
  MESSAGES                                                       29 September 1995


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

            In addition to the above messages which are generated by  the  program
            itself, other messages may be produced by the command line interpreter
            (CLI) and by Laser-Scan libraries.  In  particular,  messages  may  be
            generated  by  the  IFF  library,  IFFLIB,  or  by  the Laser-Scan I/O
            library, LSLLIB.  IFF library messages are introduced  by  '%IFF'  and
            are  documented  in  the IFFLIB reference manual.  LSLLIB messages are
            introduced by '%LSLLIB' and are generally self-explanatory.  They  are
            often used to explain the details of program generated errors.

            If the cause  of  the  error  cannot  be  traced  by  the  user,  then
            Laser-Scan should be consulted.


  Index                                                     Page Index-1


                                  INDEX



  DFAD Accuracy Data in IFF, 1-3          /TOLERANCE, 1-10, 1-13, 3-1,
  DFAD and DLMS, 1-1                          3-4
  DFAD and IFF, 1-2                       /TYPE, 1-10, 3-1, 3-4
  DFAD Features in IFF, 1-3               /WARNINGS, 1-10, 1-13, 3-1,
  DFAD Header Data in IFF, 1-2                3-4
  DFAD Package Initialisation, 1-2      DESCRIPTION, 3-4
  DFAD Package Utilites, 1-1            EXAMPLES, 3-11
  DFAD2I, 1-6, 2-1                      FORMAT, 1-10, 3-1
    COMMAND QUALIFIERS, 1-7, 2-1        FUNCTION, 1-10, 3-1
      /DEVICE, 1-6 to 1-7, 2-1          MESSAGES, 3-21 to 3-23
      /DIAGNOSTICS, 1-6 to 1-7, 2-1     PARAMETERS, 1-11, 3-2
          to 2-2                        PROMPTS, 1-10, 3-1
      /DUMP, 1-6 to 1-7, 2-1 to 2-2     RESTRICTIONS, 1-13, 3-4
      /FC, 1-6 to 1-7, 2-1 to 2-2       VALIDATION REPORT, 3-6
      /LATITUDE, 1-6, 1-8, 2-1 to         ERROR MESSAGES, 3-8
          2-2                             INFORMATIONAL MESSAGES, 3-6
      /LONGITUDE, 1-6, 1-8, 2-1,          WARNING MESSAGES, 3-7
          2-3                         DLMS, 1-1
      /MANUSCRIPT, 1-6, 1-8, 2-1,     DLMS Rule File, 1-4
          2-3
      /RELEASABILITY, 1-6, 1-8, 2-1,  FADT Files, 1-4
          2-3                         FADTINPUT, 1-14, 4-1
      /REWIND, 1-6, 1-9, 2-1, 2-3       COMMAND AND DATA ENTRY FORMS,
      /SECURITY, 1-6, 1-9, 2-1, 2-4         4-10
    DESCRIPTION, 2-5                    Default values, 4-3
    EXAMPLES, 2-8                       DESCRIPTION, 4-8
    FORMAT, 1-6, 2-1                    EXAMPLES, 4-25
    FUNCTION, 1-6, 2-1                  FORMAT, 1-14, 4-1
    PARAMETERS, 1-6, 2-1                FORMS, 1-14, 4-1
    PROMPTS, 1-6, 2-1                     ACCURACY RECORD FORM, 4-16
    RESTRICTIONS, 1-9, 2-4                ACCURACY REGION RECORD FORM,
  DFADINI, 1-2                                4-17
    DCL symbols, 1-2                      COMMAND OPTIONS FORM, 4-11
  DFADVAL, 1-10, 3-1                      DATA SET IDENTIFICATION (DSI)
    COMMAND QUALIFIERS, 1-10 to               RECORD FORM, 4-19
        1-11, 3-1 to 3-2                  DLMS HEADER RECORD FORM, 4-20
      /AC, 1-10 to 1-11, 3-1 to 3-2       FADT RECORD FORM, 4-22
      /BOUNDS, 1-10 to 1-11, 3-1 to       FILE SPECIFICATION FORM, 4-12
          3-2                             OUTPUT LIST FILE
      /DUPLICATES, 1-10 to 1-11,              SPECIFICATION FORM, 4-13
          3-1 to 3-2                      RECORD TYPE OPTION FORM, 4-14
      /INFORMATION, 1-10, 1-12, 3-1     FUNCTION, 1-14, 4-1
          to 3-2                        LOGICAL NAMES, 4-2, 4-6
      /LAYER, 3-1, 3-3                  MESSAGES, 4-32, 4-35
      /LIST, 1-10, 1-12, 3-1, 3-3     FADTMERGE, 1-15, 5-1
      /LITES2, 1-10, 1-12, 3-1, 3-3     COMMAND QUALIFIERS, 1-15 to
      /LOOPCHECK, 1-10, 1-12, 3-1,          1-16, 5-1 to 5-2
          3-3                             /ACCURACY, 1-15 to 1-16, 5-1
      /PRINTER, 1-10, 1-12, 3-1,              to 5-2
          3-3                             /FADT, 1-15 to 1-16, 5-1 to
      /RULES, 1-10, 1-12, 3-1, 3-3            5-2


  Index                                                     Page Index-2


      /FC, 1-15 to 1-16, 5-1 to 5-2     PARAMETERS, 1-18, 6-1
      /HEADER, 1-15 to 1-16, 5-1 to     PROMPTS, 1-18, 6-1
          5-2                           RESTRICTIONS, 6-3
      /LIST, 1-15, 1-17, 5-1, 5-3
      /MERGE, 1-15, 1-17, 5-1, 5-3    MCEHED, 1-20, 7-1
    DESCRIPTION, 5-3                    COMMAND QUALIFIERS, 1-20, 7-1
    EXAMPLES, 5-4                         /READONLY, 1-20, 7-1
    FORMAT, 1-15, 5-1                   COMMAND QUALIFIERS /READONLY,
    FUNCTION, 1-15, 5-1                     7-1
    MESSAGES, 5-8 to 5-10               COMMANDS, 7-2
    PARAMETERS, 1-15, 5-1                 EXIT, 7-3
    PROMPTS, 1-15, 5-1                    field-name, 7-4
                                          HELP, 7-8
  I2DFAD, 1-18, 6-1                       QUIT, 7-9
    COMMAND QUALIFIERS, 1-18, 6-1         SHOW, 7-10
      /APPEND, 1-18, 6-1                DESCRIPTION, 7-2
      /CHANGE2, 6-1 to 6-2              EXAMPLES, 7-14
      /DEVICE, 1-18 to 1-19, 6-1 to     EXIT command, 7-3
          6-2                           field-name command, 7-4
      /DIAGNOSTICS, 1-18 to 1-19,       FORMAT, 1-20, 7-1
          6-1 to 6-2                    FUNCTION, 1-20, 7-1
      /RELEASABILITY, 1-18 to 1-19,     HELP command, 7-8
          6-1 to 6-2                    MESSAGES, 7-15 to 7-16
      /REWIND, 1-18 to 1-19, 6-1 to     PARAMETERS, 1-20, 7-1
          6-2                           PROMPTS, 1-20, 7-1
      /SECURITY, 1-18 to 1-19, 6-1      QUIT command, 7-9
          to 6-2                        SHOW command, 7-10
    DESCRIPTION, 6-3
    EXAMPLES, 6-5                     Package Initialisation, 1-2
    FORMAT, 1-18, 6-1                 Package Utilities, 1-1
    FUNCTION, 1-18, 6-1
    MESSAGES, 6-10 to 6-11, 6-15      Rule Files, 1-4
