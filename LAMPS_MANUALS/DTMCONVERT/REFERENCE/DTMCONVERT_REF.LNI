
















                                  [3mLaser-Scan Ltd.[0m


                                     [3mDTMCONVERT[0m

                                  [3mReference Manual[0m


                            [3mIssue 2.7 - 18-December-1996[0m































  Copyright (C) 1996 Laser-Scan Ltd
  Science Park, Milton Road, Cambridge, England CB4 4FY  tel: (01223) 420414

  Document "DTMCONVERT", Category "REFERENCE"
  Document Issue 2.7      J Cadogan (modified 18-Dec-1996)


  DTMCONVERT (2.7)
  Contents                                              18 December 1996


                                     CONTENTS

                  DTMCONVERT reference documentation change record . . i

                  PREFACE  . . . . . . . . . . . . . . . . . . . . . . 1
                    Intended audience  . . . . . . . . . . . . . . . . 1
                    Structure of this document . . . . . . . . . . . . 1
                    Associated documents . . . . . . . . . . . . . . . 2
                    Conventions used in this document  . . . . . . . . 2
                    Command line interpretation  . . . . . . . . . . . 3


  CHAPTER 1       INTRODUCTION

                  INTRODUCTION . . . . . . . . . . . . . . . . . . . 1-1


  CHAPTER 2       MODULE DTI2DTED

                  UTILITY DTI2DTED . . . . . . . . . . . . . . . . . 2-1
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 2-1
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 2-1
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 2-1
                    DTI2DTED command defaults. . . . . . . . . . . . 2-1
                  DESCRIPTION  . . . . . . . . . . . . . . . . . . . 2-2
                    General  . . . . . . . . . . . . . . . . . . . . 2-2
                      Preparing To Use DTI2DTED  . . . . . . . . . . 2-2
                      Using DTI2DTED . . . . . . . . . . . . . . . . 2-2
                    STATISTICS AND INFORMATION PRESENTED BY DTI2DTED 2-4
                    DTI2DTED commands  . . . . . . . . . . . . . . . 2-5
                    DTI2DTED examples  . . . . . . . . . . . . . .  2-26
                  EXAMPLES . . . . . . . . . . . . . . . . . . . .  2-27
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . .  2-30
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  2-31


  CHAPTER 3       MODULE DTED2DTI

                  UTILITY DTED2DTI . . . . . . . . . . . . . . . . . 3-1
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 3-1
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 3-1
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 3-1
                    DTED2DTI command defaults. . . . . . . . . . . . 3-1
                  DESCRIPTION  . . . . . . . . . . . . . . . . . . . 3-2
                    General  . . . . . . . . . . . . . . . . . . . . 3-2
                      Preparing To Use DTED2DTI  . . . . . . . . . . 3-2
                      Expected Format Of The Tape  . . . . . . . . . 3-3
                      Checking Of Data . . . . . . . . . . . . . . . 3-3
                        Block Consistency  . . . . . . . . . . . . . 3-3
                      Production Of The DTI File   . . . . . . . . . 3-4
                    STATISTICS AND INFORMATION PRESENTED BY DTED2DTI 3-4
                    DTED2DTI commands  . . . . . . . . . . . . . . . 3-5
                    DTED2DTI examples  . . . . . . . . . . . . . .  3-38
                  EXAMPLES . . . . . . . . . . . . . . . . . . . .  3-39
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . .  3-42
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  3-43


  DTMCONVERT (2.7)
  Contents                                              18 December 1996


  CHAPTER 4       MODULE NTF2DTI

                  UTILITY NTF2DTI  . . . . . . . . . . . . . . . . . 4-1
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 4-1
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 4-1
                    PROMPTS  . . . . . . . . . . . . . . . . . . . . 4-1
                    PARAMETERS . . . . . . . . . . . . . . . . . . . 4-1
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 4-3
                    DESCRIPTION  . . . . . . . . . . . . . . . . . . 4-4
                      Handling multiple volume datasets  . . . . . . 4-4
                    RESTRICTIONS . . . . . . . . . . . . . . . . . . 4-5
                    EXAMPLES . . . . . . . . . . . . . . . . . . . . 4-6
                  MESSAGES (SUCCESS) . . . . . . . . . . . . . . .  4-10
                  MESSAGES (INFORMATIONAL) . . . . . . . . . . . .  4-11
                  MESSAGES (WARNING) . . . . . . . . . . . . . . .  4-12
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . .  4-14
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  4-20


  CHAPTER 5       MODULE DTEDIFF

                  UTILITY DTEDIFF  . . . . . . . . . . . . . . . . . 5-1
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 5-1
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 5-1
                    PROMPTS  . . . . . . . . . . . . . . . . . . . . 5-1
                    PARAMETERS . . . . . . . . . . . . . . . . . . . 5-1
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 5-2
                    DESCRIPTION  . . . . . . . . . . . . . . . . . . 5-3
                    EXAMPLES . . . . . . . . . . . . . . . . . . . . 5-4
                  MESSAGES (SUCCESS) . . . . . . . . . . . . . . . . 5-8
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . . . 5-9
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  5-14


  CHAPTER 6       MODULE IIS2DTI

                  UTILITY IIS2DTI  . . . . . . . . . . . . . . . . . 6-1
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 6-1
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 6-1
                    PROMPTS  . . . . . . . . . . . . . . . . . . . . 6-1
                    PARAMETERS . . . . . . . . . . . . . . . . . . . 6-1
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 6-2
                    DESCRIPTION  . . . . . . . . . . . . . . . . . . 6-3
                    RESTRICTIONS . . . . . . . . . . . . . . . . . . 6-3
                    EXAMPLES . . . . . . . . . . . . . . . . . . . . 6-4
                  MESSAGES (SUCCESS) . . . . . . . . . . . . . . . . 6-5
                  MESSAGES (INFORMATIONAL) . . . . . . . . . . . . . 6-6
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . . . 6-7
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . . . 6-9


  CHAPTER 7       MODULE DTI2IIS

                  UTILITY DTI2IIS  . . . . . . . . . . . . . . . . . 7-1
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 7-1
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 7-1


  DTMCONVERT (2.7)
  Contents                                              18 December 1996


                    PROMPTS  . . . . . . . . . . . . . . . . . . . . 7-1
                    PARAMETERS . . . . . . . . . . . . . . . . . . . 7-1
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 7-2
                    DESCRIPTION  . . . . . . . . . . . . . . . . . . 7-2
                    RESTRICTIONS . . . . . . . . . . . . . . . . . . 7-3
                    EXAMPLES . . . . . . . . . . . . . . . . . . . . 7-4
                  MESSAGES (SUCCESS) . . . . . . . . . . . . . . . . 7-5
                  MESSAGES (INFORMATIONAL) . . . . . . . . . . . . . 7-6
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . . . 7-7
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . . . 7-9


  CHAPTER 8       MODULE DEM2DTI

                  UTILITY DEM2DTI  . . . . . . . . . . . . . . . . . 8-1
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 8-1
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 8-1
                    PROMPTS  . . . . . . . . . . . . . . . . . . . . 8-1
                    PARAMETERS . . . . . . . . . . . . . . . . . . . 8-1
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 8-2
                    DESCRIPTION  . . . . . . . . . . . . . . . . . . 8-3
                    RESTRICTIONS . . . . . . . . . . . . . . . . . . 8-4
                    EXAMPLES . . . . . . . . . . . . . . . . . . . . 8-5
                  MESSAGES (SUCCESS) . . . . . . . . . . . . . . . . 8-9
                  MESSAGES (INFORMATIONAL) . . . . . . . . . . . .  8-10
                  MESSAGES (WARNING) . . . . . . . . . . . . . . .  8-12
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . .  8-13
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  8-16


  CHAPTER 9       MODULE DTI2DEM

                  UTILITY DTI2DEM  . . . . . . . . . . . . . . . . . 9-1
                    FUNCTION . . . . . . . . . . . . . . . . . . . . 9-1
                    FORMAT . . . . . . . . . . . . . . . . . . . . . 9-1
                    PROMPTS  . . . . . . . . . . . . . . . . . . . . 9-1
                    PARAMETERS . . . . . . . . . . . . . . . . . . . 9-1
                    COMMAND QUALIFIERS . . . . . . . . . . . . . . . 9-2
                    ADDITIONAL INPUTS  . . . . . . . . . . . . . . . 9-3
                    DESCRIPTION  . . . . . . . . . . . . . . . . . . 9-4
                    RESTRICTIONS . . . . . . . . . . . . . . . . . . 9-5
                    EXAMPLES . . . . . . . . . . . . . . . . . . . . 9-6
                  MESSAGES (SUCCESS) . . . . . . . . . . . . . . . . 9-9
                  MESSAGES (INFORMATIONAL) . . . . . . . . . . . .  9-10
                  MESSAGES (WARNING) . . . . . . . . . . . . . . .  9-11
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . .  9-13
                  MESSAGES (FATAL) . . . . . . . . . . . . . . . .  9-15
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  9-16


  CHAPTER 10      MODULE MNT2DTI

                  UTILITY MNT2DTI  . . . . . . . . . . . . . . . .  10-1
                    FUNCTION . . . . . . . . . . . . . . . . . . .  10-1
                    FORMAT . . . . . . . . . . . . . . . . . . . .  10-1
                    PROMPTS  . . . . . . . . . . . . . . . . . . .  10-1


  DTMCONVERT (2.7)
  Contents                                              18 December 1996


                    PARAMETERS . . . . . . . . . . . . . . . . . .  10-1
                    COMMAND QUALIFIERS . . . . . . . . . . . . . .  10-2
                    DESCRIPTION  . . . . . . . . . . . . . . . . .  10-4
                    RESTRICTIONS . . . . . . . . . . . . . . . . .  10-5
                    EXAMPLES . . . . . . . . . . . . . . . . . . .  10-6
                  MESSAGES (SUCCESS) . . . . . . . . . . . . . . . 10-10
                  MESSAGES (INFORMATIONAL) . . . . . . . . . . . . 10-11
                  MESSAGES (WARNING) . . . . . . . . . . . . . . . 10-13
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . . 10-14
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . . 10-16


  CHAPTER 11      MODULE DTI2NTF

                  UTILITY DTI2NTF  . . . . . . . . . . . . . . . .  11-1
                    FUNCTION . . . . . . . . . . . . . . . . . . .  11-1
                    FORMAT . . . . . . . . . . . . . . . . . . . .  11-1
                    PROMPTS  . . . . . . . . . . . . . . . . . . .  11-1
                    PARAMETERS . . . . . . . . . . . . . . . . . .  11-2
                    COMMAND QUALIFIERS . . . . . . . . . . . . . .  11-3
                    DESCRIPTION  . . . . . . . . . . . . . . . . .  11-6
                    RESTRICTIONS . . . . . . . . . . . . . . . . .  11-7
                    EXAMPLES . . . . . . . . . . . . . . . . . . .  11-8
                  MESSAGES (INFORMATIONAL) . . . . . . . . . . . . 11-11
                  MESSAGES (WARNING) . . . . . . . . . . . . . . . 11-12
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . . 11-13
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . . 11-16


  DTMCONVERT (2.7)                                                          Page i
  Change record                                                   18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDTMCONVERT reference documentation change record[0m


  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.0[0m [1mF[0m [1mJ[0m [1mBrown,[0m [1mI[0m [1mMcLeman,[0m [1mD[0m [1mR[0m [1mCatlow[0m    [1m04-June-1988[0m

            First issue of DTMCONVERT reference documentation.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.1[0m [1mD[0m [1mR[0m [1mCatlow[0m [1m09-June-1988[0m

            Examples and error messages for DTEDIFF added to the chapter on Module
            DTEDIFF.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.2[0m [1mD[0m [1mR[0m [1mCatlow,[0m [1mA[0m [1mD[0m [1mTrigg[0m [1m24-August-1988[0m

            NTF2DTI chapter modified to reflect  introduction  of  LSLA  type  DTI
            header.  IIS2DTI and DTI2IIS chapters added.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.3[0m [1mD[0m [1mR[0m [1mCatlow[0m [1m06-March-1989[0m

            IIS2DTI and DTI2IIS chapters modified to correct  a  number  of  minor
            errors.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.4[0m [1mR[0m [1mJ[0m [1mHulme[0m [1m30-October-1989[0m

            Minor changes to the DTED2DTI chapter to explain that the program will
            now cope with records which are offset from the SW corner, setting the
            posts in the area for which there is no data to null.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.5[0m [1mA[0m [1mP[0m [1mBrown[0m [1m1-November-1989[0m

            Two new chapters for DEM2DTI and DTI2DEM added.  Both  way  conversion
            between USGS DEM format and DTI files.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.6[0m [1mC[0m [1mC[0m [1mBrunt[0m [1m6-January-1990[0m

            DTI2DTED chapter changed to include  DENSITY  command,  and  omit  the
            ENABLE/DISABLE PME command.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.7[0m [1mC[0m [1mC[0m [1mBrunt[0m [1m6-January-1990[0m

            No changes.
  [1m--------------------------------------------------------------------------------[0m


  DTMCONVERT (2.7)                                                         Page ii
  DTMCONVERT reference documentation change record                18 December 1996


  [1mVersion[0m [1m1.8[0m [1mS[0m [1mTownrow[0m [1m21-August-1990[0m

            New chapter MNT2DTI added for a utility to convert  from  an  IGN  MNT
            file to a DTI file.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.9[0m [1mS[0m [1mGupta[0m [1m20-August-1991[0m

            Modified chapter on NTF2DTI to reflect enhancement of  NTF2DTI  to  be
            able to read NTF datasets from disk files in addition to being able to
            read from a magnetic tape device.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.0[0m [1mS[0m [1mGupta[0m [1m10-September-1991[0m

            Modified chapter on NTF2DTI.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.1[0m [1mS[0m [1mGupta[0m [1m16-September-1991[0m

            Created new utility  DTI2NTF.   Created  reference  documentation  and
            added chapter to reference manual.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.2[0m [1mJ[0m [1mBarber[0m [1m15-October-1991[0m

            DTI2NTF message section added.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.3[0m [1mJ[0m [1mBarber[0m [1m18-May-1992[0m

            DTI2NTF qualifier /DENSITY can now take a value of 6250 bpi.

            DTI2IIS new qualifier /HEADER to specify  how  many  512  byte  header
            blocks to write to the IIS file.

            IIS2DTI new qualifier /HEADER to specify  how  many  512  byte  header
            blocks to expect in the IIS file.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.4[0m [1mJ[0m [1mBarber[0m [1m10-June-1992[0m

            NTF2DTI now reads NTF level 1.1 with variable length records.

            IIS2DTI has a new qualifier /WIDTH to specify that the program  is  to
            read  data  in  an  extension  to  the 500 format with only one swathe
            across the dataset.  The /WIDTH  qualifier  specifies  the  number  of
            bytes per record, equal to the number of columns in the dataset.
  [1m--------------------------------------------------------------------------------[0m


  DTMCONVERT (2.7)                                                        Page iii
  DTMCONVERT reference documentation change record                18 December 1996


  [1mVersion[0m [1m2.5[0m [1mJ[0m [1mCadogan[0m [1m18-December-1992[0m

            NTF2DTI can now read datasets which span multiple tape volumes.   This
            is  described  in the new subsection [1mHandling[0m [1mmultiple[0m [1mvolume[0m [1mdatasets[0m
            in the [1mDESCRIPTION[0m section.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.6[0m [1mJ[0m [1mBarber[0m [1m09-July-1993[0m

            NTF2DTI can now read Version 2.0 level 5 NTF data.

            DTI2NTF can now write Version 2.0 level 5 NTF data.

            DTI2NTF new qualifier /VERSION = 'real'.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.7[0m [1mJ[0m [1mCadogan[0m [1m18-December-1996[0m

            DTED2DTI now has ENABLE/DISABLE FULL and SHOW FULL commands.
  [1m--------------------------------------------------------------------------------[0m


  DTMCONVERT (2.7)                                                          Page 1
  Preface                                                         18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mPREFACE[0m



  [1m--------------------------------------------------------------------------------[0m
  [1mIntended[0m [1maudience[0m

            This manual is intended for all users  of  the  Laser-Scan  DTMCONVERT
            package running under the VAX/VMS operating system.

  [1m--------------------------------------------------------------------------------[0m
  [1mStructure[0m [1mof[0m [1mthis[0m [1mdocument[0m

            This document is composed of 2 major sections.

            The first chapter  provides  an  introduction  to  DTMCONVERT  and  is
            intended  as  a  quick  reference guide to the salient features of the
            DTMCONVERT package.

            There then follow the User Reference Guides for the individual modules
            which  comprise  DTMCONVERT.  Each individual module contains the same
            basic categories of information.  These are:

            MODULE              - the name of the DTMCONVERT module.

            REPLACES            - which older Laser-Scan programs it replaces.

            FUNCTION            - a synopsis of what the module does

            FORMAT              - a summary of the module command format
                                  and command qualifiers. Default qualifier
                                  settings are indicated.

            PROMPT              - how it prompts the user.

            PARAMETERS          - description of expected command parameters.

            COMMAND QUALIFIERS  - description of all command qualifiers.
                                  Qualifiers are ordered alphabetically and 
                                  default argument values are indicated.

            DESCRIPTION         - the definitive description of the module action.

            EXAMPLES            - annotated examples of module useage.

            MESSAGES            - all classes of message are listed and described
                                  and suggested user action given. The messages
                                  are divided into sections according to message
                                  severity within which the messages are ordered
                                  alphabetically by message mnemonic.

            Where  applicable,  additional  categories  are  available  for   some
            modules.  Some modules, for example, have a "RESTRICTIONS" category.



  DTMCONVERT (2.7)                                                          Page 2
  PREFACE                                                         18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mAssociated[0m [1mdocuments[0m

            For summary information about DTI (Digital Terrain  Image)  files  see
            the MATRIX Reference Manual

  [1m--------------------------------------------------------------------------------[0m
  [1mConventions[0m [1mused[0m [1min[0m [1mthis[0m [1mdocument[0m


            ----------------------------------------------------------------------
            Convention            Meaning
            ----------------------------------------------------------------------
            <CR>                  The user should press the carriage return key
                                  on the terminal

            <CTRL/x>              The phrase <CTRL/x> indicates that the user must
                                  press the key labelled CTRL while simultaneously
                                  pressing another key, for example, <CTRL/Z>.

            $ [1mGO<CR>[0m              Command examples show all user entered commands
                                  in [1mbold[0m type.

            25 columns complete   Vertical series of periods, or ellipsis, mean
                    .             either that not all the data that DTMCONVERT
                    .             displays in response to the particular command
                    .             is shown or that not all the data that the
                                  user would enter is shown.

            file-spec...          Horizontal elipsis indicate that additional
                                  parameters, values or information can be
                                  entered.

            [logical-name]        Square brackets indicate that the enclosed item
                                  is optional. (Square brackets are not, however,
                                  optional in the syntax of a directory name in
                                  a file-specification, or in the syntax of a
                                  substring specification in a VMS assignment
                                  statement).

            'integer'             An integer number is expected in the specified
                                  input or output field. 

            'real'                A real number is expected in the specified input
                                  or output field. 



  DTMCONVERT (2.7)                                                          Page 3
  PREFACE                                                         18 December 1996


            ----------------------------------------------------------------------
            Convention            Meaning
            ----------------------------------------------------------------------
            FSN 'integer' ('integer')
                                  FSN followed by two integer arguments indicates
                                  an IFF feature serial number. The integer number
                                  enclosed in round brackets is the feature
                                  internal sequence number.

            00003DE7              A hexadecimal address of a location within an
                                  IFF file. DTMCONVERT modules express all IFF
                                  addresses using hexadecimal radix. The
                                  address is always padded with leading zeros
                                  to a standard field width of 8 characters. 

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mline[0m [1minterpretation[0m

            DTMCONVERT utilities use the LSLLIB Command  Interpreter  (CMDLIB)  to
            get and parse the program command lines.

            DTMCONVERT command line decoding operates in decimal radix.

  [1m--------------------------------------------------------------------------------[0m














                                     CHAPTER 1

                                    INTRODUCTION





  DTMCONVERT (2.7): Introduction                                          Page 1-1
                                                                  18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mINTRODUCTION[0m

  [1m--------------------------------------------------------------------------------[0m

            The Laser-Scan DTM software packages provide tools for the production,
            validation,  manipulation  and viewing of matrix data, particularly of
            elevation (height) data.  The DTMCONVERT package consists of  software
            modules  for  the  conversion  of  DTM data to and from Laser-Scan DTI
            (Digital Terrain Image) format.  For a  detailed  description  of  DTI
            format files see the MATRIX Reference Manual.

            This manual provides  a  module  by  module  reference  guide  to  the
            package.














                                     CHAPTER 2

                                  MODULE DTI2DTED





  DTMCONVERT (2.7): DTI2DTED                                              Page 2-1
                                                                  18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE     DTI2DTED[0m
  [1mUTILITY[0m [1mDTI2DTED[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m   MCE utility DTI2DTED

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTI2DTED creates a DMA DLMS DTED tape (Defense Mapping Agency  Digital
            Land Mass Simulation  Digital Terrain Elevation Data) from a disk file
            containing a Laser-Scan DTI (Digital Terrain Image) matrix.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DTI2DTED

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

            None, DTI2DTED is command driven.
            Commands are entered as arguments to the program prompt DTI2DTED>


  [1m--------------------------------------------------------------------------------[0m
  [1mDTI2DTED[0m [1mcommand[0m [1mdefaults.[0m

            On program startup, the following command defaults apply:

            APPEND  - disabled.

            DEBUG  - disabled.

            DENSITY  - 1600.

            DEVICE  - MTA0:.

            DIAGNOSTICS  - disabled.

            GRID  - disabled.



  DTMCONVERT (2.7): DTI2DTED                                              Page 2-2
  UTILITY DTI2DTED                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m


            [1mGeneral[0m

            DTI2DTED creates a DMA DLMS DTED tape (Defense Mapping Agency  Digital
            Land Mass Simulation  Digital Terrain Elevation Data) from a disk file
            containing a Laser-Scan DTI (Digital Terrain Image) matrix.

            The type of tape file produced depends on the type of input DTI  file.
            By  default, UHL1 and LSLA (and the now historical MIKE and ALVY) type
            DTI files are translated into a Change 2 DTED file (with no DSI or ACC
            blocks),  while a TED4 (DTED) DTI file produces a Change 3/4 DTED tape
            file.

            The ENABLE GRID command causes all DTI files  irrespective  of  header
            type  to be translated into a GRID DTED tape file with zero-filled DSI
            and ACC blocks.



            [1m----------------------------------------------------------------------[0m
            [1mPreparing[0m [1mTo[0m [1mUse[0m [1mDTI2DTED[0m

            Before running DTI2DTED, the  tape  to  be  read  must  allocated  and
            mounted foreign.  Assuming that the tape is loaded on tape unit MTA0:

            $ [1mALLOCATE[0m [1mMTA0:<CR>[0m
            $ [1mMOUNT/FOREIGN[0m [1mMTA0:<CR>[0m
            $ [1mDTI2DTED<CR>[0m
            DTI2DTED> !  You are now ready to issue DTI2DTED commands.

            See later for detailed examples of interaction with DTI2DTED.


            [1m----------------------------------------------------------------------[0m
            [1mUsing[0m [1mDTI2DTED[0m

            DTI2DTED will offer the user the following prompt:

            DTI2DTED>

            Unless using the default magnetic tape device (MTA0:) the user  should
            select  the  appropriate  device with the DEVICE command.  The tape is
            written by default at 1600bpi.  To select  another  density,  use  the
            DENSITY command before DEVICE, APPEND, or FILEIN.

            By default, when the first FILEIN  command  is  given,  DTI2DTED  will
            rewind  and  initialise  the  magnetic  tape.   If  this action is not
            required the APPEND command should be given prior to the first  FILEIN
            command.

            If the APPEND command is given the first  FILEIN  command  will  cause
            DTI2DTED to rewind the magnetic tape and then search through the data,
            counting the manuscripts, until it finds the end of volume  tapemarks.


  DTMCONVERT (2.7): DTI2DTED                                              Page 2-3
  DESCRIPTION                                                     18 December 1996


            It  then positions the write head between the two tapemarks at the end
            of the tape.  All DTI files supplied using FILEIN commands  will  then
            be formatted and appended to the tape after the existed manuscript(s).

            Remember, unless the APPEND command is given, DTI2DTED will  overwrite
            and destroy any data previously on the tape.

            The user may now use the FILEIN command to  specify  a  DTI  file  for
            transfer to the tape in DTED format.

            After the first FILEIN command  is  entered,  and  unless  the  APPEND
            command  was  given,  DTI2DTED will prompt for the reel 'number' to be
            inserted in the volume header label.  The reel 'number' consists of up
            to  6 characters, and will be left justified and padded with spaces if
            less are given.

            Unless the APPEND command was given the tape is now initialised.

            DTI2DTED will now prompt for a 'file identifier' to be inserted in the
            HDR1  header  label.   The  file identifier consists of up to 17 alpha
            characters, and will be left justified and padded with spaces if  less
            are   given.    If  no  file  identifier  is  supplied  a  default  of
            'UKMCETERRAIN' will be used.

            If the DTI file is found to be of LSLA  (or  the  historical  MIKE  or
            ALVY) type, then the program prompts for the longitude and latitude of
            the origin (SW corner) of the map.  These must  be  typed  in  in  the
            format in which they appear on the DTED tape i.e.  DDDMMSSH where H is
            a hemisphere letter (E, W, N, S).

            N.B.  For a LSLA (or MIKE and ALVY)  type  DTI  the  matrix  intervals
            present  in  the  file  are  taken to be in units of tenth arc seconds
            unless the ENABLE GRID command is specified (when they are assumed  to
            be  in  metres).  The intervals are copied directly to the UHL record.
            For a UHL1 or TED4 type DTI, the intervals are stored as metres on the
            ground.

            After transferring the file to the tape DTI2DTED will  return  to  the
            DTI2DTED>  prompt,  when  another  command  may  be  given - typically
            another FILEIN command.  Within any run of DTI2DTED subsequent  FILEIN
            commands will always append manuscripts to the one previously written.

            To exit the program, type EXIT or <CTRL/Z> in response to the  prompt.
            (Any  other  method  of  exit  will  leave  the tape lacking its final
            tapemark).

            No checks are made that successive  files  on  a  tape  are  in  valid
            latitude and longitude sequence.



            [1m----------------------------------------------------------------------[0m


  DTMCONVERT (2.7): DTI2DTED                                              Page 2-4
  DESCRIPTION                                                     18 December 1996


            [1mSTATISTICS[0m [1mAND[0m [1mINFORMATION[0m [1mPRESENTED[0m [1mBY[0m [1mDTI2DTED[0m

            DTI2DTED types out a summary of the specified DTI  files  and  informs
            the  user  of  where each manuscript is being output.  Each UHL record
            written to the tape can be typed out (as  it  is  in  ASCII,  this  is
            reasonably  comprehensible)  together  with,  for  each  DTI file, the
            percentage of data converted so far, and the  minimum  and  maximum  Z
            values processed.
  [1m--------------------------------------------------------------------------------[0m


  DTMCONVERT (2.7): DTI2DTED                                              Page 2-5
                                                                  18 December 1996







                                 [1mDTI2DTED commands[0m



  DTMCONVERT (2.7): DTI2DTED                                              Page 2-6
  @ command                                                       18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1m@[0m

          Take command input from the specified file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  @file-spec<CR>[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The file to be opened and used for command input.

          Any parts of the file-spec not supplied for the @ command will be  taken
          from the default specification 'SYS$DISK:[].COM;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DTI2DTED offers the facility of command input from  an  indirect  command  file.
  The  '@'  character  preceding  a file-spec will cause DTI2DTED to open and read
  commands from the specified file until:

       1.  a  RETURN  command  is  detected  and  command  input  is  returned  to
           SYS$COMMAND.

       2.  end-of-file is detected.  This provokes an error  message  and  command
           input is returned to SYS$COMMAND.


  Nested command files are not supported (i.e. a command file  containing  an  '@'
  command),  although  sequential  '@'  commands  are  supported  when  read  from
  SYS$COMMAND.

  As an aid to batch log interpretation, DTI2DTED will echo all commands read from
  an indirect command file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the @ command:

  *** WARNING *** "@" must precede a file-spec

  *** WARNING *** Unexpected end of indirect command file detected
  RETURN command assumed - returning to terminal input

  *** ERROR *** Can't open indirect command file 'file-spec'


  DTMCONVERT (2.7): DTI2DTED                                              Page 2-7
  @ command                                                       18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTI2DTED<CR>[0m
  DTMCONVERT module DTI2DTED of 13:30:39 10-FEB-88
  DTI2DTED> [1m@PRESETS<CR>[0m
  DTI2DTED> ENABLE DIAGNOSTICS
  DTI2DTED> RETURN
  DTI2DTED>


  DTMCONVERT (2.7): DTI2DTED                                              Page 2-8
  ! command                                                       18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1m![0m

          Treat all text to the right of the '!' as a comment.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  ![0m [1m[comment[0m [1mtext][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  comment text

          text that is to be treated as a comment and which will be excluded  from
          command interpretation.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  An exclamation mark is the standard DTM package  comment  delimiter.   All  text
  (and  numbers)  which  lie  to  the  right  of a '!' character are excluded from
  command interpretation.  Comments are useful for annotating  command  procedures
  used in batch processing etc.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2DTED> [1m![0m [1ma[0m [1mcomment[0m [1mfor[0m [1mthe[0m [1msake[0m [1mof[0m [1mit<CR>[0m
  DTI2DTED>

  $ [1mTYPE PRESETS.COM<CR>[0m
  ! This is an indirect command file to set up
  ! site specific defaults for DTI2DTED.
  !
  ENABLE DIAGNOSTICS
  DEVICE MSA2:
  RETURN
  $


  DTMCONVERT (2.7): DTI2DTED                                              Page 2-9
  APPEND command                                                  18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mAPPEND[0m

          Specifies that the magnetic tape is to  be  positioned  at  the  end  of
          existing  data  before  writing the first file onto it.  This allows new
          files to be appended to the end of the tape.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  APPEND[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The APPEND command specifies that the magnetic tape is to be positioned  at  the
  end  of  existing  data  before writing the first file onto it.  This allows new
  files to be appended to the end of the tape.

  By default, when the first FILEIN command is given,  DTI2DTED  will  rewind  and
  initialise the magnetic tape.  If this action is not required the APPEND command
  should be given prior to the first FILEIN command.

  If the APPEND command is given the first FILEIN command will cause  DTI2DTED  to
  find (searching from the beginning of the tape) and then position the write head
  between the two tapemarks at the end of the tape.  All DTI files supplied  using
  FILEIN commands will be formatted and appended to the end of the tape.

  [1mRemember,[0m [1munless[0m [1mthe[0m [1mAPPEND[0m  [1mcommand[0m  [1mis[0m  [1mgiven,[0m  [1mDTI2DTED[0m  [1mwill[0m  [1moverwrite[0m  [1mand[0m
  [1mdestroy[0m [1many[0m [1mdata[0m [1mpreviously[0m [1mon[0m [1mthe[0m [1mtape.[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0mNone.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2DTED> [1mDEVICE[0m [1mMSA0:<CR>[0m
  DTI2DTED> [1mAPPEND<CR>[0m
  DTI2DTED>


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-10
  DENSITY command                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDENSITY[0m

          Specifies the density at which to write the magnetic tape.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  DENSITY[0m [1minteger[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  integer

          The density at which to write the magnetic tape.   By  default  DTI2DTED
          will write at 1600bpi.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DEVICE command enables the user to specify the  density  at  which  DTI2DTED
  will  write  the  magnetic  tape.   The command must be given before any DEVICE,
  APPEND, or FILEIN commands.

  By default DTI2DTED will write at 1600bpi.

  The available densities are 800, 1600, and 6250.  This command  will  only  have
  any  effect  if the particular tape drive supports the given density, and allows
  the density to be set by software.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the DENSITY command:

  *** WARNING *** Density cannot be changed after tape has been initialised

  *** WARNING *** Invalid density - 'integer'
  Available DENSITY numbers are:  800 1600 6250

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  DTI2DTED> [1mDENSITY[0m [1m6250<CR>[0m


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-11
  DEVICE command                                                  18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDEVICE[0m

          Specifies the type of magnetic tape drive that DTI2DTED is to write to.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  DEVICE[0m [1mtype[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  type

          The magnetic tape device type which DTI2DTED is to write to.  By default
          DTI2DTED will attempt to write to MTA0:.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DEVICE command enables the user to specify the type of magnetic  tape  drive
  that DTI2DTED is to write to.

  By default DTI2DTED will attempt to write to MTA0:.

  Whatever the device type, it  should  be  allocated,  and  the  tape  should  be
  physically  loaded  and  mounted  foreign before attempting to write to it using
  DTI2DTED.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the DEVICE command:

  *** WARNING *** You have already specified a magnetic tape device

  *** WARNING *** You must specify a magnetic  tape  device  type  to  the  DEVICE
  command

  *** ERROR *** 'type' is not a known magnetic tape device

  *** ERROR *** when reading magnetic tape device name

  *** ERROR *** Tape is not mounted as foreign

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  $ [1mALLOCATE[0m [1mMSA0:<CR>[0m
  $ [1mMOUNT/FOREIGN[0m [1mMSA0:<CR>[0m
  $ [1mDTI2DTED<CR>[0m
  DTMCONVERT module DTI2DTED of 13:30:39 10-FEB-88
  DTI2DTED> [1mDEVICE[0m [1mMSA0:<CR>[0m
  DTI2DTED>


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-12
  DISABLE DEBUG command                                           18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mDEBUG[0m

          Disables a previous ENABLE DEBUG command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  DISABLE[0m [1mDEBUG[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE DEBUG allows the user to disable a previous ENABLE DEBUG command.

  The ENABLE DEBUG and DISABLE DEBUG commands are  reserved  for  Laser-Scan  use.
  The  output  produced  by  the  ENABLE DEBUG command is used only for diagnostic
  purposes and should be invoked by LSL software personnel only.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning message is specific to the DISABLE DEBUG command:

  *** WARNING *** You were not using DEBUG!

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2DTED> [1mENABLE[0m [1mDEBUG<CR>[0m
  DTI2DTED> [1mDISABLE[0m [1mDEBUG<CR>[0m
  DTI2DTED>


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-13
  DISABLE DIAGNOSTICS command                                     18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mDIAGNOSTICS[0m

          Disables a previous ENABLE DIAGNOSTICS command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  DISABLE[0m [1mDIAGNOSTICS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE DIAGNOSTICS allows the user to disable  a  previous  ENABLE  DIAGNOSTICS
  command.

  DISABLE DIAGNOSTICS is the default at program startup.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2DTED> [1mENABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTI2DTED> [1mSHOW[0m [1mDIAGNOSTICS<CR>[0m
  Diagnostic printout selected
  DTI2DTED> [1mDISABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTI2DTED> [1mSHOW[0m [1mDIAGNOSTICS<CR>[0m
  Diagnostic printout suppressed
  DTI2DTED>


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-14
  DISABLE GRID command                                            18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mGRID[0m

          Disables a previous ENABLE GRID command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  DISABLE[0m [1mGRID[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE GRID allows the user to disable a previous ENABLE GRID command.

  By default GRID is disabled, i.e.  the matrix intervals in  the  manuscripts  on
  the tape are considered to be in geographical units.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2DTED> [1mENABLE[0m [1mGRID<CR>[0m
  DTI2DTED> [1mSHOW[0m [1mGRID<CR>[0m
  GRID enabled - manuscripts expected in grid coordinates.
  DTI2DTED> [1mDISABLE[0m [1mGRID<CR>[0m
  DTI2DTED> [1mSHOW[0m [1mGRID<CR>[0m
  GRID disabled - manuscripts expected in geographical coordinates.
  DTI2DTED>


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-15
  ENABLE DEBUG command                                            18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mDEBUG[0m

          ENABLE DEBUG enables diagnostic printing for debugging purposes.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  ENABLE[0m [1mDEBUG[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE DEBUG and DISABLE DEBUG commands are  reserved  for  Laser-Scan  use.
  The  output  produced  by  the  ENABLE DEBUG command is used only for diagnostic
  purposes and should be invoked by LSL software personnel only.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessage:[0m

  The following warning message is specific to the ENABLE DEBUG command:

  *** WARNING *** You are already using DEBUG!

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTI2DTED<CR>[0m
  DTMCONVERT module DTI2DTED of 13:30:39  10-FEB-88
  DTI2DTED> [1mENABLE[0m [1mDEBUG<CR>[0m
  DTI2DTED> 



  DTMCONVERT (2.7): DTI2DTED                                             Page 2-16
  ENABLE DIAGNOSTICS command                                      18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mDIAGNOSTICS[0m

          ENABLE DIAGNOSTICS allows the user to produce diagnostic printout.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  ENABLE[0m [1mDIAGNOSTICS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE DIAGNOSTICS allows the user to produce diagnostic printout.

  By default DTI2DTED produces minimal printout.  If however, the user  wishes  to
  receive  indications  of  processing  progress,  and  details  of  the  DTI file
  processed, a diagnostic printout may be selected  with  the  ENABLE  DIAGNOSTICS
  command.

  On a heavily loaded computer it may be reassuring to ENABLE DIAGNOSTICS for  the
  conversion  stage  of DTI2DTED processing to indicate progress through the input
  data.  Messages are issued indicating  which  input  file  is  being  read,  the
  contents  of  all  UHL1  type  blocks,  the  percentage  of  the  data currently
  processed, a summary of the DTI file, and the minimum and maximum Z values read.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2DTED> [1mENABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTI2DTED> [1mSHOW[0m [1mDIAGNOSTICS<CR>[0m
  Diagnostic printout selected
  DTI2DTED> [1mDISABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTI2DTED> [1mSHOW[0m [1mDIAGNOSTICS<CR>[0m
  Diagnostic printout suppressed
  DTI2DTED>


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-17
  ENABLE GRID command                                             18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mGRID[0m

          The ENABLE GRID command causes UHL1 and LSLA (and  the  historical  MIKE
          and  ALVY)  type  DTI  files to be translated into a GRID DTED tape file
          with zero-filled DSI and ACC blocks.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  ENABLE[0m [1mGRID[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE GRID command causes UHL1 and LSLA (and the historical MIKE and  ALVY)
  type  DTI files to be translated into a GRID DTED tape file with zero-filled DSI
  and ACC blocks.

  ENABLE  GRID  specifies  that  future  manuscripts  on  the  tape  are  in  grid
  coordinates rather than geographicals.

  By default GRID is disabled, i.e.  the matrix intervals in  the  manuscripts  on
  the tape are considered to be in geographical units.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2DTED> [1mENABLE[0m [1mGRID<CR>[0m
  DTI2DTED> [1mSHOW[0m [1mGRID<CR>[0m
  GRID enabled - manuscripts will be written in grid coordinates.
  DTI2DTED> [1mDISABLE[0m [1mGRID<CR>[0m
  DTI2DTED> [1mSHOW[0m [1mGRID<CR>[0m
  GRID disabled - manuscripts will be written in geographical coordinates.
  DTI2DTED>


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-18
  EXIT command                                                    18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mEXIT[0m

          EXIT from DTI2DTED.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  EXIT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The EXIT command causes DTI2DTED to close any open  files  and  the  program  to
  terminate.   If a file has already been written to tape, a second tape mark will
  be written after the file to indicate 'end of tape'.

  <CTRL/Z> (pressing the Ctrl and Z keys together) may also be used to  exit  from
  DTI2DTED.

  An EXIT command at the end of an indirect command file,  in  lieu  of  a  RETURN
  command, will exit the program without returning to terminal command input.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2DTED> [1mEXIT<CR>[0m
   ELAPSED:  00:00:20.04 CPU:  0:00:04.71 BUFIO:  281 DIRIO:  46 FAULTS:  263
  $


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-19
  FILEIN command                                                  18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mFILEIN[0m

          Specifies a DTI file that is to be opened for read  and  transferred  to
          the magnetic tape in DTED format.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  FILEIN[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m

  file-spec

          The specification of the DTI file to be opened for read and  transferred
          to the magnetic tape in DTED format.

          Any parts of the file-spec not supplied with the command will  be  taken
          from the default file specification 'LSL$DTI:DTI.DTI;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The FILEIN command causes the specified DTI file  to  be  opened  and  used  for
  output to tape.

  By default, when the first FILEIN command is given,  DTI2DTED  will  rewind  and
  initialise the magnetic tape.  If this action is not required the APPEND command
  should be given prior to the first FILEIN command.

  If the APPEND command is given the first FILEIN command will cause  DTI2DTED  to
  find  and  then  position the write head between the two tapemarks at the end of
  the tape.  All DTI files supplied using FILEIN commands will  be  formatted  and
  appended to the end of the tape.

  Remember, unless the APPEND  command  is  given,  DTI2DTED  will  overwrite  and
  destroy any data previously on the tape.

  After the first FILEIN command, unless the APPEND command  was  given,  DTI2DTED
  will  prompt  for  the  reel 'number' to be inserted in the volume header label.
  The reel 'number' consists of up to 6 alphanumeric characters, and will be  left
  justified and padded with spaces if less are given.

  Unless the APPEND command was given the tape is now initialised.

  DTI2DTED will now prompt for a 'file identifier' to  be  inserted  in  the  HDR1
  header  label.   The  file identifier consists of up to 17 alpha characters, and
  will be left justified and padded with spaces if less are  given.   If  no  file
  identifier is supplied a default of 'UKMCETERRAIN' will be used.

  If the DTI file is found to be of LSLA (MIKE or ALVY)  type,  then  the  program
  prompts  for  the  longitude  and latitude of the origin (SW corner) of the map.
  These must be typed in in the format in which they appear on the DTED tape  i.e.
  DDDMMSSH where H is a hemisphere letter (W, E, S, N).


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-20
  FILEIN command                                                  18 December 1996


  Second and subsequent DTI files supplied by FILEIN commands within a single  run
  of  DTI2DTED  are  formatted  and  written  to  the tape sequentially.  They are
  automatically appended to the first new manuscript written.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the FILEIN command:

  *** WARNING *** You must specify a file-spec argument to the FILEIN command.

  *** ERROR *** Unable to interpret output file-spec

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2DTED> [1mDEVICE[0m [1mMSA0:<CR>[0m      !  select MSA0:  for output
  DTI2DTED> [1mAPPEND<CR>[0m    !  append to end of tape        
  DTI2DTED> [1mFILEIN[0m [1mDUA3:[DEMONSTRATION.DTI]IDAHO<CR>[0m
  DTI file DUA3:[DEMONSTRATION.DTI]IDAHO.DTI;2 opened for reading


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-21
  HELP command                                                    18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mHELP[0m

          Give help on a subject

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  HELP[0m [1msubject[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  subject

          The subject on which help is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The HELP command looks the rest of the line up in the DTMCONVERT  HELP  library.
  This library contains a brief summary of the operation of each command.

  The information is looked up in the DTI2DTED  section  of  the  DTMCONVERT  help
  library, LSL$HELP:DTMCONVERT.HLB.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  Where required, warning messages are output via the VMS LBR$OUTPUT_HELP utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2DTED> [1mHELP[0m [1mENABLE[0m [1mGRID<CR>[0m

  DTI2DTED

        ENABLE

           GRID

     ENABLE GRID specifies that  future  manuscripts  on  the  tape  are  in  grid
     coordinates rather than geographicals.
  DTI2DTED>


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-22
  RETURN command                                                  18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mRETURN[0m

          Restores command input from an indirect file to SYS$COMMAND.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  RETURN[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Restores command input from an indirect file to SYS$COMMAND.

  A typical application is to allow the user to use an indirect  command  file  to
  set  up  those  run  time defaults which are constant within a flowline and then
  return to input from the  terminal  (or  batch  stream)  for  the  run  specific
  commands.   To  do  this RETURN must be the last command in the indirect command
  file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the RETURN command:

  RETURN command detected - returning to terminal input

  RETURN command ignored - command input is already from terminal

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2DTED> [1m@FLOW2<CR>[0m
  DTI2DTED> ENABLE DIAGNOSTICS
  DTI2DTED> RETURN
  RETURN command detected - returning to terminal input
  DTI2DTED>


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-23
  SHOW command                                                    18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m

          Shows current status of DTI2DTED defaults.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  SHOW[0m [1msubject[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  subject

          The subject that is to be displayed, chosen from:

          DEBUG     DEFAULTS      DEVICE     DIAGNOSTICS

          GRID      FILEIN


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  SHOW enables the user to examine the current status of  the  DTI2DTED  defaults.
  Defaults  may  be  examined  either singly by specifying the name of the item of
  interest (eg SHOW  DIAGNOSTICS  will  give  the  current  status  of  diagnostic
  printout) or collectively by using the SHOW DEFAULTS command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** WARNING *** Invalid qualifier

  Available SHOW command qualifiers are:

  DEBUG      DEFAULTS      DEVICE       DIAGNOSTICS

  GRID       FILEIN


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

     .
     .
  DTED2DTI> [1mSHOW[0m [1mDIAGNOSTICS[0m
  DIAGNOSTICS:
  Diagnostic printout suppressed
  DTED2DTI> [1mENABLE[0m [1mDIAGNOSTICS[0m
  DTED2DTI> [1mSHOW[0m [1mDEFAULTS<CR>[0m

  Current defaults are:

  DEBUG:


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-24
  SHOW command                                                    18 December 1996


  Debug printout selected

  DEVICE:
  Tapedeck MTA0: at 1600bpi selected for output of DTED data
                                                             
  DIAGNOSTICS:
  Diagnostic printout selected

  GRID:
  GRID disabled - manuscripts will be written in geographical coordinates

  FILEIN:
  DTI file LSL$DTI:FRED.DTI;0 selected for input

  DTED2DTI>


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-25
  SPAWN command                                                   18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mSPAWN[0m

          The SPAWN command enables  you  to  create  a  subprocess  while  within
          DTI2DTED.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  SPAWN[0m [1mcommand-line[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  command-line

          Specifies a DCL command string to be executed as if typed in response to
          a '$' prompt.  When the command completes, the subprocess terminates and
          control is returned to DTI2DTED.  The command string  cannot  exceed  80
          characters.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SPAWN command enables you to create  a  subprocess  while  within  DTI2DTED.
  When the subprocess terminates control is returned to DTI2DTED.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the SPAWN command:

  *** WARNING *** SPAWN requires a valid DCL command line

  *** ERROR *** Unable to spawn command, returning to DTI2DTED

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2DTED> [1mSPAWN[0m [1mDIRECTORY[0m [1m*.DTI;*<CR>[0m

  Directory DUA3:[DTMPROCESS.ACCEPTANCE_TESTS]

  TEST1.DTI;1              8/8       10-FEB-1988 07:56  [LSL,TIM]
  TEST2.DTI;2              7/8       10-FEB-1988 17:17  [LSL,TIM]
  TEST2.DTI;1              7/8       10-FEB-1988 17:07  [LSL,TIM]

  Total of 3 files, 22/24 blocks.

  DTI2DTED>


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-26
                                                                  18 December 1996







                                 [1mDTI2DTED examples[0m



  DTMCONVERT (2.7): DTI2DTED                                             Page 2-27
                                                                  18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m



  $ 
  $ ALLOCATE MUB0:
  %DCL-I-ALLOC, $MUB0: allocated
  $ MOUNT/FOREIGN MUB0:
  %MOUNT-I-MOUNTED, A mounted on $MUB0:
  $ RUN DTI2DTED
  DTMCONVERT module DTI2DTED of 22:27:16  2-JUN-88
  DTI2DTED> SHOW DEFAULTS


  Current defaults are:

  DEBUG:
  Debug printout suppressed

  DEVICE:
  Tapedeck MTA0: at 1600bpi selected for output of DTED data

  DIAGNOSTICS:
  Diagnostic printout suppressed

  FILEIN:
  DTI input file not yet specified

  GRID:
  GRID disabled - manuscripts will be written in geographical coordinates

  DTI2DTED> DEVICE MUB0:
  Magnetic tape device MUB0: opened for writing
  DTI2DTED> FILEIN FRANKTED440

  File    :  LSL$DTI:FRANKTED440.DTI;0
  Header  :  DTED  Data:  WORD

  Units are Degrees, Minutes, Seconds

  Matrix Origin       :  56 36 00N    5 15 00W  
  Matrix Coverage   SW:  56 36 00N    5 15 00W   NE:  56 36 39N    5 13 42W  
  Matrix Interval    E:          2                N:          1
  Value Range         :   179   to    559

  Reel number (6 characters): ABCDEF
  Producing a change 4 DTED tape file
  File ident (def:UKMCETERRAIN     ): 
  DTI2DTED> ENABLE DIAGNOSTICS
  DTI2DTED> FILEIN FRANKUHL11

  File    :  LSL$DTI:FRANKUHL11.DTI;0
  Header  :  UHL1  Data:  WORD

  Units are Degrees, Minutes, Seconds


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-28
  EXAMPLES                                                        18 December 1996



  Matrix Origin       :  52 00 00S   58 00 00W  
  Matrix Coverage   SW:  52 00 00S   58 00 00W   NE:  51 58 41S   57 57 22W  
  Matrix Interval    E:          2                N:          1
  Value Range         :     0   to     61

  Producing a change 2 DTED tape file
  File ident (def:UKMCETERRAIN     ): TESTDATA
   [1mW[0mARNING   [1mI[0mnvalid file identifier
  File ident (def:UKMCETERRAIN     ): TESTDATA
  UHL10580000W0520000S002000100000000            00800080                         
  10 % complete
  20 % complete
  30 % complete
  40 % complete
  50 % complete
  60 % complete
  70 % complete
  80 % complete
  90 % complete
  100 % complete
  DTI2DTED> DEVICE MUB0:
   [1mW[0mARNING   [1mY[0mou have already specified a magnetic tape device
  DTI2DTED> EXIT
   ELAPSED:    0 00:05:36.97  CPU: 0:00:00.97  BUFIO: 100  DIRIO: 141  FAULTS: 100
  $DISMOUNT MUB0:
  $DEALLOCATE MUB0:
  $
  [1m--------------------------------------------------------------------------------[0m


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-29
                                                                  18 December 1996







                                 [1mDTI2DTED messages[0m


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-30
  MESSAGES (ERROR)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  ATEOV, error advancing DTED magnetic tape

      [1mExplanation:[0m  DTI2DTED is unable to advance the DTED magnetic tape.

      [1mUser[0m [1maction:[0m  The supplementary messages supplied  with  this  message  will
      enable  the user to determine the cause of the problem.  Check that the tape
      deck is online, and that the tape has not been wound off the take-up  spool.
      If the problem persists notify your system manager.

  CLDTI, error closing DTI file

      [1mExplanation:[0m  DTI2DTED is unable to close the input DTI file.

      [1mUser[0m [1maction:[0m  The supplementary messages supplied  with  this  message  will
      enable  the  user  to  determine  the  cause of the problem.  If the problem
      persists notify your system manager.

  CLIND, error closing indirect command file

      [1mExplanation:[0m  DTI2DTED is unable to close the indirect command file.

      [1mUser[0m [1maction:[0m  The supplementary messages supplied  with  this  message  will
      enable  the  user  to  determine  the  cause of the problem.  If the problem
      persists notify your system manager.


  DTMCONVERT (2.7): DTI2DTED                                             Page 2-31
  MESSAGES (OTHER)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages may be generated  by  the  DTILIB
  library  and by the Laser-Scan I/O library, LSLLIB.  DTILIB library messages are
  introduced by '%DTILIB' and are  documented  in  the  MATRIX  package  reference
  manual.   In most cases DTI errors will be due to a corrupt input file, and this
  should be the first area of investigation.  If the cause of the error cannot  be
  traced by the user, and Laser-Scan are consulted, then the output file should be
  preserved to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'
  and  are  generally  self-explanatory.   They are used to explain the details of
  program generated errors.














                                     CHAPTER 3

                                  MODULE DTED2DTI





  DTMCONVERT (2.7): DTED2DTI                                              Page 3-1
                                                                  18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE     DTED2DTI[0m
  [1mUTILITY[0m [1mDTED2DTI[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m   MCE utility DTEDIN

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTED2DTI


            DTED2DTI is a program for translating the information on  a  DMA  DLMS
            DTED  tape  (Defence  Mapping  Agency   Digital  Land Mass Simulation 
            Digital  Terrain  Elevation  Data)  into  a  disc  file  containing  a
            Laser-Scan DTI (Digital Terrain Image) matrix.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DTED2DTI

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

            None, DTED2DTI is command driven.
            Commands are entered as arguments to the program prompt DTED2DTI>


  [1m--------------------------------------------------------------------------------[0m
  [1mDTED2DTI[0m [1mcommand[0m [1mdefaults.[0m

            On program startup, the following command defaults apply:

            DEBUG  - disabled.

            DEVICE  - MTA0:.

            DIAGNOSTICS  - disabled.

            GRID  - disabled.

            PME  - disabled.

            FULL  - disabled.



  DTMCONVERT (2.7): DTED2DTI                                              Page 3-2
  UTILITY DTED2DTI                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m


            [1mGeneral[0m



            DTED2DTI is a program for translating the information on  a  DMA  DLMS
            DTED  tape  (Defence  Mapping  Agency   Digital  Land Mass Simulation 
            Digital  Terrain  Elevation  Data)  into  a  disc  file  containing  a
            Laser-Scan DTI (Digital Terrain Image) matrix.

            DTED2DTI will translate both Change 2 and Change 3/4 DTED formats (the
            latter as documented in Chapter 4, Section 100 of Amendment 4.0 (March
            1983) of the DMA Product Specifications for DLMS Data Base).

            For Change 3/4 tapes, it will make use of the DSI and  ACC  blocks  as
            appropriate.

            The DTI file produced from a Change 2 tape will be of 'UHL1' type  and
            contains a direct copy of the UHL record from the tape, while the file
            produced from a Change 3/4 tape will be of 'TED4' type.  This does not
            preserve  the  UHL  record,  but  contains  copies  of the DSI and ACC
            records from the tape.  The GRID command may be used to indicate  that
            the file is in grid units, rather than geographicals, and that DSI and
            ACC records should be discarded.

            The program will cope with  records  which  are  offset  from  the  SW
            corner,  setting  the  posts in the area for which there is no data to
            null.



            [1m----------------------------------------------------------------------[0m
            [1mPreparing[0m [1mTo[0m [1mUse[0m [1mDTED2DTI[0m

            Before running DTED2DTI, the tape to be read  must  be  allocated  and
            mounted  foreign.  Assuming that the tape is loaded on tape unit MSA0:
            -
            $ [1mALLOCATE[0m [1mMSA0:<CR>[0m
            $ [1mMOUNT/FOREIGN[0m [1mMSA0:<CR>[0m
            $ [1mDTED2DTI<CR>[0m
            DTED2DTI> !  You are now ready to issue DTED2DTI commands.

            See later for detailed examples of interaction with DTED2DTI.



  DTMCONVERT (2.7): DTED2DTI                                              Page 3-3
  DESCRIPTION                                                     18 December 1996


            [1m----------------------------------------------------------------------[0m
            [1mExpected[0m [1mFormat[0m [1mOf[0m [1mThe[0m [1mTape[0m

            DTED2DTI recognises 9 different  sorts  of  block  on  the  tape  (not
            including tape mark).

            The tape is expected to start with  a  VOLume  header  label.   If  it
            doesn't then a warning message is produced, but processing continues.

            A manuscript is expected to consist of a File Header Label followed by
            a  User Header Label, then a filemark.  A Change 2 tape will then have
            the data, while for a Change 3/4 tape this is preceded by DSI and  ACC
            records.   After  the data, there should be a filemark, an End of File
            record, and a User Trailer Label, followed by another filemark.


            [1m----------------------------------------------------------------------[0m
            [1mChecking[0m [1mOf[0m [1mData[0m



            [1mBlock[0m [1mConsistency[0m

            DTED2DTI recalculates the checksums stored at the  end  of  each  data
            block  as  it  processes the data, and checks that it derives the same
            value as on the tape.  If the two values differ, a warning message  is
            output, but processing continues.

            DTED2DTI will tolerate some missing or bad blocks, and will produce  a
            warning  message  in most cases.  However certain blocks are essential
            for the correct processing of a manuscript.  The UHL  record  must  be
            correct  since this is used to locate the manuscript and determine its
            size.  A manuscript will be assumed to be Change 2 unless a DSI or ACC
            records  are  found.   These  are copied into the DTI file, and the SW
            corner of the bounding rectangle  is  extracted  for  checking.   Once
            reading  of  data  records  commences,  DTED2DTI must read the correct
            number of data records, each of which must have  the  correct  length.
            Any  error  here will cause reading of the manuscript to be abandoned.
            Note that if the start of a record  is  offset,  its  length  will  be
            shorter than the standard record length.

            In order that tapes produced on  an  ICL  computer  may  be  read,  an
            initial  ICL  header  block is ignored and all other blocks may have a
            length which is either their expected length or  (if  this  is  not  a
            multiple  of three) the next higher multiple of three.  For a Change 2
            tape, data records of any  length  greater  than  or  equal  to  their
            expected length are accepted.



  DTMCONVERT (2.7): DTED2DTI                                              Page 3-4
  DESCRIPTION                                                     18 December 1996


            [1m----------------------------------------------------------------------[0m
            [1mProduction[0m [1mOf[0m [1mThe[0m [1mDTI[0m [1mFile[0m

            The DTI files created by  DTED2DTI  are  by  default  created  in  the
            directory  defined by logical name LSL$DTI.  A new DTI file is created
            each time a manuscript is read from the tape.

            For a description of DTI file  layout  and  content,  see  the  MATRIX
            Reference Manual.



            [1m----------------------------------------------------------------------[0m
            [1mSTATISTICS[0m [1mAND[0m [1mINFORMATION[0m [1mPRESENTED[0m [1mBY[0m [1mDTED2DTI[0m

            DTED2DTI informs the user of where each manuscript  is  being  output.
            Each UHL record found on the tape can be typed out (as it is in ASCII,
            this is reasonably comprehensible) together with, for each manuscript,
            the  percentage  of  data  converted so far, the minimum and maximum Z
            values, and a summary of the DTI file created.
  [1m--------------------------------------------------------------------------------[0m


  DTMCONVERT (2.7): DTED2DTI                                              Page 3-5
                                                                  18 December 1996







                                 [1mDTED2DTI commands[0m



  DTMCONVERT (2.7): DTED2DTI                                              Page 3-6
  @ command                                                       18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1m@[0m

          Take command input from the specified file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  @file-spec<CR>[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The file to be opened and used for command input.

          Any parts of the file-spec not supplied for the @ command will be  taken
          from the default specification 'SYS$DISK:[].COM;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DTED2DTI offers the facility of command input from  an  indirect  command  file.
  The  '@'  character  preceding  a file-spec will cause DTED2DTI to open and read
  commands from the specified file until:

       1.  a  RETURN  command  is  detected  and  command  input  is  returned  to
           SYS$COMMAND.

       2.  end-of-file is detected.  This provokes an error  message  and  command
           input is returned to SYS$COMMAND.


  Nested command files are not supported (i.e. a command file  containing  an  '@'
  command),  although  sequential  '@'  commands  are  supported  when  read  from
  SYS$COMMAND.

  As an aid to batch log interpretation DTED2DTI will echo all commands read  from
  an indirect command file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the @ command:

  *** WARNING *** "@" must precede a file-spec

  *** WARNING *** Unexpected end of indirect command file detected
  RETURN command assumed - returning to terminal input

  *** WARNING *** Indirect file error - returning to terminal input

  *** ERROR *** Can't open indirect command file 'file-spec'


  DTMCONVERT (2.7): DTED2DTI                                              Page 3-7
  @ command                                                       18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTED2DTI<CR>[0m
  DTMCONVERT module DTED2DTI of 13:30:39 10-FEB-88
  DTED2DTI> [1m@PRESETS<CR>[0m
  DTED2DTI> ENABLE DIAGNOSTICS
  DTED2DTI> DEVICE MSA2:
  DTED2DTI> RETURN
  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                              Page 3-8
  ! command                                                       18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1m![0m

          Treat all text to the right of the '!' as a comment.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  ! [comment[0m [1mtext][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  comment text

          text that is to be treated as a comment and which will be excluded  from
          command interpretation.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  An exclamation mark is the standard DTM package  comment  delimiter.   All  text
  (and  numbers)  which  lie  to  the  right  of a '!' character are excluded from
  command interpretation.  Comments are useful for annotating  command  procedures
  used in batch processing etc.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTED2DTI> [1m![0m [1ma[0m [1mcomment[0m [1mfor[0m [1mthe[0m [1msake[0m [1mof[0m [1mit<CR>[0m
  DTED2DTI>

  $ [1mTYPE PRESETS.COM<CR>[0m
  ! This is an indirect command file to set up
  ! site specific defaults for DTED2DTI.
  !
  ENABLE DIAGNOSTICS
  DEVICE MSA2:
  RETURN
  $


  DTMCONVERT (2.7): DTED2DTI                                              Page 3-9
  DEVICE command                                                  18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDEVICE[0m

          Specifies the type of magnetic tape drive that DTED2DTI is to read from.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  DEVICE[0m [1mtype[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  type

          The magnetic tape device type  which  DTED2DTI  is  to  read  from.   By
          default DTED2DTI will attempt to read from MTA0:.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DEVICE command enables the user to specify the type of magnetic  tape  drive
  that  DTED2DTI  is  to read from.  By default DTED2DTI will attempt to read from
  MTA0:.

  Whatever the device type, it should be allocated to the user, the tape should be
  physically  loaded  and  mounted foreign before attempting to read from it using
  DTED2DTI.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the DEVICE command:

  *** WARNING *** You have already specified a magnetic tape device

  *** WARNING *** You must specify a magnetic  tape  device  type  to  the  DEVICE
  command

  *** ERROR *** 'type' is not a known magnetic tape device

  *** ERROR *** when reading magnetic tape device name

  *** ERROR *** Tape is not mounted as foreign

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mALLOCATE[0m [1mMSA0:<CR>[0m
  $ [1mMOUNT/FOREIGN[0m [1mMSA0:<CR>[0m
  $ [1mDTED2DTI<CR>[0m
  DTMCONVERT module DTED2DTI of 13:30:39 10-FEB-88
  DTED2DTI> [1mDEVICE[0m [1mMSA0:<CR>[0m
  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-10
  DISABLE DEBUG command                                           18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mDEBUG[0m

          Disables a previous ENABLE DEBUG command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  DISABLE[0m [1mDEBUG[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE DEBUG allows the user to disable a previous ENABLE DEBUG command.

  The ENABLE DEBUG and DISABLE DEBUG commands are  reserved  for  Laser-Scan  use.
  The  output  produced  by  the  ENABLE  DEBUG  command  is used only for program
  debugging purposes and should be invoked by LSL software personnel only.

  DISABLE DEBUG is the default at program startup.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning message is specific to the DISABLE DEBUG command:

  *** WARNING *** You were not using DEBUG!

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTED2DTI> [1mENABLE[0m [1mDEBUG<CR>[0m
  DTED2DTI> [1mDISABLE[0m [1mDEBUG<CR>[0m
  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-11
  DISABLE DIAGNOSTICS command                                     18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mDIAGNOSTICS[0m

          Disables a previous ENABLE DIAGNOSTICS command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  DISABLE[0m [1mDIAGNOSTICS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE DIAGNOSTICS allows the user to disable  a  previous  ENABLE  DIAGNOSTICS
  command.

  DISABLE DIAGNOSTICS is the default at program startup.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTED2DTI> [1mENABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTED2DTI> [1mSHOW[0m [1mDIAGNOSTICS<CR>[0m
  Diagnostic printout selected
  DTED2DTI> [1mDISABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTED2DTI> [1mSHOW[0m [1mDIAGNOSTICS<CR>[0m
  Diagnostic printout suppressed
  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-12
  DISABLE GRID command                                            18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mGRID[0m

          Disables a previous ENABLE GRID command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  DISABLE[0m [1mGRID[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE GRID allows the user to disable a previous ENABLE GRID command.

  By default GRID is disabled, i.e.  the matrix intervals in  the  manuscripts  on
  the tape are considered to be in geographical units.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTED2DTI> [1mENABLE[0m [1mGRID<CR>[0m
  DTED2DTI> [1mSHOW[0m [1mGRID<CR>[0m
  GRID enabled - manuscripts expected in grid coordinates.
  DTED2DTI> [1mDISABLE[0m [1mGRID<CR>[0m
  DTED2DTI> [1mSHOW[0m [1mGRID<CR>[0m
  GRID disabled - manuscripts expected in geographical coordinates.
  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-13
  DISABLE PME command                                             18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mPME[0m

          Disables a previous ENABLE PME command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  DISABLE[0m [1mPME[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE PME allows the user to disable a previous ENABLE PME command.

  DISABLE PME is the default at program startup.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning message is specific to the DISABLE PME command:

  *** WARNING *** You were not using PME !

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTED2DTI> [1mENABLE[0m [1mPME<CR>[0m
  DTED2DTI> [1mDISABLE[0m [1mPME<CR>[0m
  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-14
  DISABLE FULL command                                            18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mFULL[0m

          Disables a previous ENABLE FULL command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  DISABLE[0m [1mFULL[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE FULL allows the user to disable a previous ENABLE FULL command.

  By default FULL is disabled, i.e.  geographical extents will  be  based  on  the
  MBR.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTED2DTI> [1mENABLE[0m [1mFULL<CR>[0m
  DTED2DTI> [1mSHOW[0m [1mFULL<CR>[0m
  FULL enabled - a full one degree square will be constructed
  DTED2DTI> [1mDISABLE[0m [1mFULL<CR>[0m
  DTED2DTI> [1mSHOW[0m [1mFULL<CR>[0m
  FULL disabled - geographical extents will be based on the MBR.
  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-15
  EASTING command                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mEASTING[0m

          Specifies DTED2DTI is to search for a manuscript  on  the  tape  by  its
          origin and output it to DTI file when found.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  EASTING grid-X[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  grid-X

          The integer X coordinate (grid units) of the manuscript origin.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The EASTING command causes DTED2DTI to search for a manuscript  by  its  origin,
  and  output  it when it is found.  The EASTING command may be issued on its own,
  or (on the same command line) in combination with the NORTHING command.

  If the EASTING command is issued on  its  own  (i.e.   without  an  accompanying
  NORTHING command on the line) then the first manuscript found on the tape with a
  matching origin easting will be read and written to the DTI file opened with the
  FILEOUT command.  The origin northing is thus treated as a wildcard.

  The EASTING command requires the grid option to be enabled.  As this is disabled
  by  default  on program startup, an ENABLE GRID command must be given before the
  EASTING command.

  The default is to start searching with the next manuscript on the tape.   Search
  is forwards, so to access a manuscript written on the tape earlier than the last
  one read, the REWIND command must be used.

  The EASTING command will not be accepted until a successful FILEOUT command  has
  been executed.  The FILEOUT command causes a specified DTI file to be opened and
  used for output from DTED2DTI.

  By default DTED2DTI will attempt to  read  from  MTA0:,  unless  an  alternative
  magnetic tape device has been specified using the DEVICE command.

  After each EASTING command the DTI file opened with the FILEOUT command will  be
  closed.   A  new  FILEOUT  command must be issued before another EASTING command
  will be accepted.

  Note that if the MANUSCRIPT command is used on a command line, the  EASTING  and
  NORTHING commands may not be specified on that same command line.


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-16
  EASTING command                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the EASTING command:

  *** WARNING *** You must give a FILEOUT command for the next manuscript

  *** WARNING *** You cannot use the EASTING command with GRID disabled

  *** WARNING *** Manuscript with required easting not found

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mALLOCATE[0m [1mMSA0:<CR>[0m
  $ [1mMOUNT/FOREIGN[0m [1mMSA0:<CR>[0m
  $ [1mDTED2DTI<CR>[0m
  DTMCONVERT module DTED2DTI of 13:30:39 10-FEB-88
  DTED2DTI> [1mDEVICE[0m [1mMSA0:<CR>[0m
  DTED2DTI> [1mFILEOUT[0m [1mDUA3:[DEMONSTRATION]SW12.DTI<CR>[0m
  DTI file DUA3:[DEMONSTRATION]SW12.DTI;2 opened for write
  DTED2DTI> [1mENABLE[0m [1mGRID<CR>[0m
  DTED2DTI> [1mEASTING[0m [1m123<CR>[0m
  DTED2DTI> [1mREWIND<CR>[0m
  DTED2DTI> [1mFILEOUT[0m [1mDUA3:[DEMONSTRATION]SW15.DTI<CR>[0m
  DTI file DUA3:[DEMONSTRATION]SW15.DTI;1 opened for write
  DTED2DTI> [1mEASTING[0m [1m345[0m [1mNORTHING[0m [1m765<CR>[0m
  DTED2DTI> [1mEXIT<CR>[0m
  $


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-17
  ENABLE DEBUG command                                            18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mDEBUG[0m

          ENABLE DEBUG enables diagnostic printing for debugging purposes.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  ENABLE[0m [1mDEBUG[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE DEBUG and DISABLE DEBUG commands are  reserved  for  Laser-Scan  use.
  The  output  produced  by  the  ENABLE DEBUG command is used only for diagnostic
  purposes and should be invoked by LSL software personnel only.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessage:[0m

  The following warning message is specific to the ENABLE DEBUG command:

  *** WARNING *** You are already using DEBUG!

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTED2DTI<CR>[0m
  DTMCONVERT module DTED2DTI of 13:30:39 10-FEB-88
  DTED2DTI> [1mENABLE[0m [1mDEBUG<CR>[0m
  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-18
  ENABLE DIAGNOSTICS command                                      18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mDIAGNOSTICS[0m

          ENABLE DIAGNOSTICS allows the user to produce diagnostic printout.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  ENABLE[0m [1mDIAGNOSTICS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE DIAGNOSTICS allows the user to produce diagnostic printout.

  By default DTED2DTI produces minimal printout.  If however, the user  wishes  to
  receive  indications  of  processing  progress,  and  details  of  the  DTI file
  produced, a diagnostic printout may be  selected  with  the  ENABLE  DIAGNOSTICS
  command.

  On a heavily loaded computer it may be reassuring to ENABLE DIAGNOSTICS for  the
  conversion  stage  of DTED2DTI processing to indicate progress through the input
  data.  Messages are issued indicating  which  input  file  is  being  read,  the
  contents  of  all  UHL1  type  blocks,  the  percentage  of  the  data currently
  processed, a summary of the DTI file, and the minimum and maximum Z values read.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTED2DTI> [1mENABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTED2DTI> [1mSHOW[0m [1mDIAGNOSTICS<CR>[0m
  Diagnostic printout selected
  DTED2DTI> [1mDISABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTED2DTI> [1mSHOW[0m [1mDIAGNOSTICS<CR>[0m
  Diagnostic printout suppressed
  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-19
  ENABLE GRID command                                             18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mGRID[0m

          ENABLE GRID specifies that future manuscripts on the tape  are  in  grid
          coordinates rather than geographicals.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  ENABLE[0m [1mGRID[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE  GRID  specifies  that  future  manuscripts  on  the  tape  are  in  grid
  coordinates rather than geographicals.

  The effects of this are that the matrix intervals from the tape are  already  in
  grid  units,  and are not converted.  The origin in the tape UHL record is taken
  to be in grid units, as is the origin  in  EASTING  or  NORTHING  commands.   No
  attempt  is  made  to  read the SW corner of the bounding rectangle from the DSI
  record.  A UHL1 format DTI file is produced, discarding any DSI and ACC records.

  By default GRID is disabled, i.e.  the matrix intervals in  the  manuscripts  on
  the tape are considered to be in geographical units.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTED2DTI> [1mENABLE[0m [1mGRID<CR>[0m
  DTED2DTI> [1mSHOW[0m [1mGRID<CR>[0m
  GRID enabled - manuscripts expected in grid coordinates.
  DTED2DTI> [1mDISABLE[0m [1mGRID<CR>[0m
  DTED2DTI> [1mSHOW[0m [1mGRID<CR>[0m
  GRID disabled - manuscripts expected in geographical coordinates.
  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-20
  ENABLE PME command                                              18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mPME[0m

          ENABLE PME enables the PME performance monitor.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  ENABLE[0m [1mPME[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE PME and DISABLE PME commands are reserved for Laser-Scan use.  PME is
  a code optimisation tool and should be invoked by LSL software personnel only.

  ENABLE PME causes the PME_INIT routine to be invoked.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessage:[0m

  The following warning message is specific to the ENABLE PME command:

  *** WARNING *** You are already using PME!

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTED2DTI<CR>[0m
  DTMCONVERT module DTED2DTI of 13:30:39 10-FEB-88
  DTED2DTI> [1mENABLE[0m [1mPME<CR>[0m


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-21
  ENABLE PME command                                              18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mFULL[0m

          ENABLE FULL enables construction of a 1 degree square.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  ENABLE[0m [1mFULL[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE FULL forces construction of a 1  degree  square.   This  helps  makes  it
  possible to process DTED manuscripts which have missing or truncated profiles.

  By default FULL is disabled, i.e.  geographical extents will  be  based  on  the
  MBR.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessage:[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTED2DTI> [1mENABLE[0m [1mFULL<CR>[0m
  DTED2DTI> [1mSHOW[0m [1mFULL<CR>[0m
  FULL enabled - a full one degree square will be constructed
  DTED2DTI> [1mDISABLE[0m [1mFULL<CR>[0m
  DTED2DTI> [1mSHOW[0m [1mFULL<CR>[0m
  FULL disabled - geographical extents will be based on the MBR.
  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-22
  EXIT command                                                    18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mEXIT[0m

          Exit from DTED2DTI.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  EXIT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The EXIT command causes DTED2DTI to close any open  files  and  the  program  is
  terminated.

  <CTRL/Z> (pressing the Ctrl and Z keys together) may also be used to  exit  from
  DTED2DTI.

  An EXIT command at the end of an indirect command file,  in  lieu  of  a  RETURN
  command, will exit the program without returning to terminal command input.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTED2DTI> [1mEXIT<CR>[0m
   ELAPSED:  00:00:20.04 CPU:  0:00:04.71 BUFIO:  281 DIRIO:  46 FAULTS:  263
  $


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-23
  FILEOUT command                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mFILEOUT[0m

          Specifies a DTI file that is to be created and opened for data output.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  FILEOUT[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m

  file-spec

          The specification of the DTI file to be  created  and  opened  for  data
          output from the next manuscript.

          Any parts of the file-spec not supplied with the command will  be  taken
          from the default file specification 'LSL$DTI:DTI.DTI;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The FILEOUT command causes the specified DTI file to  be  opened  and  used  for
  output  from  DTED2DTI.  A FILEOUT command must be issued before the MANUSCRIPT,
  LATITUDE or LONGITUDE, EASTING or NORTHING commands will be accepted.

  After each MANUSCRIPT, LATITUDE or LONGITUDE, EASTING or  NORTHING  command  the
  DTI  file opened with the FILEOUT command will be closed.  A new FILEOUT command
  must be issued before another MANUSCRIPT,  LATITUDE  or  LONGITUDE,  EASTING  or
  NORTHING command will be accepted.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the FILEOUT command:

  *** WARNING *** You  have  already  issued  a  FILEOUT  command  for  the   next
  manuscript

  *** WARNING *** You must specify a file-spec argument to the FILEOUT command

  *** ERROR *** Unable to interpret output file-spec

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTED2DTI> [1mFILEOUT[0m [1mDUA3:[DEMONSTRATION.DTI]IDAHO<CR>[0m
  DTI file DUA3:[DEMONSTRATION]IDAHO.DTI;1 opened for write
  DTED2DTI> [1mMANUSCRIPT 3<CR>[0m
  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-24
  HELP command                                                    18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mHELP[0m

          Give help on a subject

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  HELP[0m [1msubject[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  subject

          The subject on which help is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The HELP command looks the rest of the line up in the DTMCONVERT  HELP  library.
  This library contains a brief summary of the operation of each command.

  The information is looked up in the DTED2DTI  section  of  the  DTMCONVERT  help
  library, LSL$HELP:DTMCONVERT.HLB.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  Where required, warning messages are output via the VMS LBR$OUTPUT_HELP utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTED2DTI> [1mHELP[0m [1mENABLE[0m [1mPME<CR>[0m

  DTED2DTI

        ENABLE

           PME

     The ENABLE PME and DISABLE PME commands are reserved for Laser-Scan use.  PME
     is  a  code optimisation tool and should be invoked by LSL software personnel
     only.

     ENABLE PME causes the PME_INIT routine to be invoked.
  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-25
  LATITUDE command                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mLATITUDE[0m

          Specifies DTED2DTI is to search for a manuscript  on  the  tape  by  its
          origin and output it to the DTI file when found.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  LATITUDE [D]D [MM] [SS] H[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  [D]D [MM] [SS] H

          The latitude of the desired manuscript, where:

          D represents a digit for degrees
          M represents a digit for minutes
          S represents a digit for seconds
          H represents a hemisphere, N for North, S for South.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The LATITUDE command causes DTED2DTI to search for a manuscript by  its  origin,
  and  output it when it is found.  The LATITUDE command may be issued on its own,
  or (on the same command line) in combination with the LONGITUDE command.

  If the LATITUDE command is issued on its  own  (i.e.   without  an  accompanying
  LONGITUDE  command on the line) then the first manuscript found on the tape with
  a matching origin latitude will be read and written to the DTI file opened  with
  the FILEOUT command.  The origin longitude is thus treated as a wildcard.

  The LATITUDE command can only be used if the GRID option has been disabled  (the
  default  on  program  startup).  If the ENABLE GRID command has been given, then
  disable GRID with the DISABLE GRID command or use the  EASTING  and/or  NORTHING
  commands if the manuscript origin is held in grid units.

  The default is to start searching with the next manuscript on the tape.   Search
  is  forwards,  so  to  access  a  manuscript  written before the current reading
  position on the tape, the REWIND command must be used.

  The LATITUDE command will not be accepted until a successful FILEOUT command has
  been executed.  The FILEOUT command causes a specified DTI file to be opened and
  used for output from DTED2DTI.

  By default DTED2DTI will attempt to  read  from  MTA0:,  unless  an  alternative
  magnetic tape device has been specified using the DEVICE command.

  After each LATITUDE command the DTI file opened with the FILEOUT command will be
  closed.   A  new  FILEOUT command must be issued before another LATITUDE command
  will be accepted.

  Note that if the MANUSCRIPT command is used on a command line, the LATITUDE  and
  LONGITUDE commands may not be specified on that same command line.


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-26
  LATITUDE command                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the LATITUDE command:

  *** WARNING *** You must give a FILEOUT command for the next manuscript

  *** WARNING *** You cannot use a LATITUDE command with GRID enabled

  *** WARNING *** Manuscript with required latitude not found

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mALLOCATE[0m [1mMSA0:<CR>[0m
  $ [1mMOUNT/FOREIGN[0m [1mMSA0:<CR>[0m
  $ [1mDTED2DTI<CR>[0m
  DTMCONVERT module DTED2DTI of 13:30:39 10-FEB-88
  DTED2DTI> [1mDEVICE[0m [1mMSA0:<CR>[0m
  DTED2DTI> [1mFILEOUT[0m [1mDUA3:[DEMONSTRATION]SW12.DTI<CR>[0m
  DTI file DUA3:[DEMONSTRATION]SW12.DTI;2 opened for write
  DTED2DTI> [1mLATITUDE[0m [1m334557N<CR>[0m
  DTED2DTI> [1mREWIND<CR>[0m
  DTED2DTI> [1mFILEOUT[0m [1mDUA3:[DEMONSTRATION]SW15.DTI<CR>[0m
  DTI file DUA3:[DEMONSTRATION]SW15.DTI;1 opened for write
  DTED2DTI> [1mLATITUDE[0m [1m334527N[0m [1mLONGITUDE[0m [1m1475930W<CR>[0m
  DTED2DTI> [1mEXIT<CR>[0m
  $


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-27
  LONGITUDE command                                               18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mLONGITUDE[0m

          Specifies DTED2DTI is to search for a manuscript  on  the  tape  by  its
          origin and output it to DTI file when found.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  LONGITUDE [DD]D [MM] [SS] H[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  [DD]D [MM] [SS] H

          The longitude of the desired manuscript, where:

          D represents a digit for degrees
          M represents a digit for minutes
          S represents a digit for seconds
          H represents a hemisphere, E for East, W for West.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The LONGITUDE command causes DTED2DTI to search for a manuscript by its  origin,
  and output it when it is found.  The LONGITUDE command may be issued on its own,
  or (on the same command line) in combination with the LATITUDE command.

  If the LONGITUDE command is issued on its own  (i.e.   without  an  accompanying
  LATITUDE command on the line) then the first manuscript found on the tape with a
  matching origin longitude will be read and written to the DTI file  opened  with
  the FILEOUT command.  The origin latitude is thus treated as a wildcard.

  The LONGITUDE command can only be used if the GRID option has been disabled (the
  default  on  program  startup).  If the ENABLE GRID command has been given, then
  disable GRID with the DISABLE GRID command or use the  EASTING  and/or  NORTHING
  commands if the manuscript origin is held in grid units.

  The default is to start searching with the next manuscript on the tape.   Search
  is  forwards,  so  to  access  a  manuscript  written before the current reading
  position on the tape, the REWIND command must be used.

  The LONGITUDE command will not be accepted until a  successful  FILEOUT  command
  has been executed.  The FILEOUT command causes a specified DTI file to be opened
  and used for output from DTED2DTI.

  By default DTED2DTI will attempt to  read  from  MTA0:,  unless  an  alternative
  magnetic tape device has been specified using the DEVICE command.

  After each LONGITUDE command the DTI file opened with the FILEOUT  command  will
  be  closed.   A  new  FILEOUT  command  must  be issued before another LONGITUDE
  command will be accepted.

  Note that if the MANUSCRIPT command is used on a command line, the LATITUDE  and
  LONGITUDE commands may not be specified on that same command line.


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-28
  LONGITUDE command                                               18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the LONGITUDE command:

  *** WARNING *** You must give a FILEOUT command for the next manuscript

  *** WARNING *** You cannot use a LONGITUDE command with GRID enabled

  *** WARNING *** Manuscript with required longitude not found

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mALLOCATE[0m [1mMSA0:<CR>[0m
  $ [1mMOUNT/FOREIGN[0m [1mMSA0:<CR>[0m
  $ [1mDTED2DTI<CR>[0m
  DTMCONVERT module DTED2DTI of 13:30:39 10-FEB-88
  DTED2DTI> [1mDEVICE[0m [1mMSA0:<CR>[0m
  DTED2DTI> [1mFILEOUT[0m [1mDUA3:[DEMONSTRATION]SW12.DTI<CR>[0m
  DTI file DUA3:[DEMONSTRATION]SW12.DTI;2 opened for write
  DTED2DTI> [1mLONGITUDE[0m [1m1475930W<CR>[0m
  DTED2DTI> [1mREWIND<CR>[0m
  DTED2DTI> [1mFILEOUT[0m [1mDUA3:[DEMONSTRATION]SW15.DTI<CR>[0m
  DTI file DUA3:[DEMONSTRATION]SW15.DTI;1 opened for write
  DTED2DTI> [1mLATITUDE[0m [1m334527N[0m [1mLONGITUDE[0m [1m1475930W<CR>[0m
  DTED2DTI> [1mEXIT<CR>[0m
  $


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-29
  MANUSCRIPT command                                              18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMANUSCRIPT[0m

          Specifies which manuscript (file) on the tape DTED2DTI is to read from.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  MANUSCRIPT[0m [1m[number][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  number

          Identifies which manuscript (file) on the tape to read (where the  first
          manuscript  is  numbered  1,  etc).   The  default  is  always  the next
          manuscript on the tape.  Search is forwards, so to access  a  manuscript
          with  a  lower number than the last one read, the REWIND command must be
          used.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The MANUSCRIPT command enables the user to specify which manuscript (file) is to
  be read from the magnetic tape.

  The optional MANUSCRIPT argument is a positive  integer  that  identifies  which
  manuscript (file) on the tape to read (where the first manuscript is numbered 1,
  etc).  The default is always  the  next  manuscript  on  the  tape.   Search  is
  forwards,  so to access a manuscript with a lower number than the last one read,
  the REWIND command must be used.

  The MANUSCRIPT command will not be accepted until a successful  FILEOUT  command
  has been executed.  The FILEOUT command causes a specified DTI file to be opened
  and used for output from DTED2DTI.

  By default DTED2DTI will attempt to  read  from  MTA0:,  unless  an  alternative
  magnetic tape device has been specified using the DEVICE command.

  After each MANUSCRIPT command the DTI file opened with the FILEOUT command  will
  be  closed.   A  new  FILEOUT  command  must be issued before another MANUSCRIPT
  command will be accepted.

  Note that if the MANUSCRIPT command is used on a  command  line,  the  LATITUDE,
  LONGITUDE,  EASTING  and  NORTHING  commands  may  not be specified on that same
  command line.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the MANUSCRIPT command:

  *** WARNING *** You must give a FILEOUT command for the next manuscript

  *** WARNING *** Manuscript 'number' not found - only 'n' manuscripts on the tape


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-30
  MANUSCRIPT command                                              18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mALLOCATE[0m [1mMSA0:<CR>[0m
  $ [1mMOUNT/FOREIGN[0m [1mMSA0:<CR>[0m
  $ [1mDTED2DTI<CR>[0m
  DTMCONVERT module DTED2DTI of 13:30:39 10-FEB-88
  DTED2DTI> [1mDEVICE[0m [1mMSA0:<CR>[0m
  DTED2DTI> [1mFILEOUT[0m [1mDUA3:[DEMONSTRATION]SW12.DTI<CR>[0m
  DTI file DUA3:[DEMONSTRATION]SW12.DTI;2 opened for write
  DTED2DTI> [1mMANUSCRIPT[0m [1m3<CR>[0m
  DTED2DTI> [1mREWIND<CR>[0m
  DTED2DTI> [1mFILEOUT[0m [1mDUA3:[DEMONSTRATION]SW15.DTI<CR>[0m
  DTI file DUA3:[DEMONSTRATION]SW15.DTI;1 opened for write
  DTED2DTI> [1mMANUSCRIPT[0m [1m2<CR>[0m
  DTED2DTI> [1mEXIT<CR>[0m
  $


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-31
  NORTHING command                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mNORTHING[0m

          Specifies DTED2DTI is to search for a manuscript  on  the  tape  by  its
          origin and output it to DTI file when found.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  NORTHING grid-Y[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  grid-Y

          The integer Y coordinate (grid units) of the manuscript origin.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The NORTHING command causes DTED2DTI to search for a manuscript by  its  origin,
  and  output it when it is found.  The NORTHING command may be issued on its own,
  or (on the same command line) in combination with the EASTING command.

  If the NORTHING command is issued on its  own  (i.e.   without  an  accompanying
  EASTING  command on the line) then the first manuscript found on the tape with a
  matching origin northing will be read and written to the DTI  file  opened  with
  the FILEOUT command.  The origin easting is thus treated as a wildcard.

  The NORTHING command requires the  grid  option  to  be  enabled.   As  this  is
  disabled  by  default  on  program startup, an ENABLE GRID command must be given
  before the NORTHING command.

  The default is to start searching with the next manuscript on the tape.   Search
  is forwards, so to access a manuscript written on the tape earlier than the last
  one read, the REWIND command must be used.

  The NORTHING command will not be accepted until a successful FILEOUT command has
  been executed.  The FILEOUT command causes a specified DTI file to be opened and
  used for output from DTED2DTI.

  By default DTED2DTI will attempt to  read  from  MTA0:,  unless  an  alternative
  magnetic tape device has been specified using the DEVICE command.

  After each NORTHING command the DTI file opened with the FILEOUT command will be
  closed.   A  new  FILEOUT command must be issued before another NORTHING command
  will be accepted.

  Note that if the MANUSCRIPT command is used on a command line, the NORTHING  and
  EASTING commands may not be specified on that same command line.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the NORTHING command:


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-32
  NORTHING command                                                18 December 1996


  *** WARNING *** You must give a FILEOUT command for the next manuscript

  *** WARNING *** You cannot use a NORTHING command with GRID disabled

  *** WARNING *** Manuscript with required northing not found

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mALLOCATE[0m [1mMSA0:<CR>[0m
  $ [1mMOUNT/FOREIGN[0m [1mMSA0:<CR>[0m
  $ [1mDTED2DTI<CR>[0m
  DTMCONVERT module DTED2DTI of 13:30:39 10-FEB-88
  DTED2DTI> [1mDEVICE[0m [1mMSA0:<CR>[0m
  DTED2DTI> [1mFILEOUT[0m [1mDUA3:[DEMONSTRATION]SW12.DTI<CR>[0m
  DTI file DUA3:[DEMONSTRATION]SW12.DTI;2 opened for write
  DTED2DTI> [1mENABLE[0m [1mGRID<CR>[0m
  DTED2DTI> [1mNORTHING[0m [1m123<CR>[0m
  DTED2DTI> [1mREWIND<CR>[0m
  DTED2DTI> [1mFILEOUT[0m [1mDUA3:[DEMONSTRATION]SW15.DTI<CR>[0m
  DTI file DUA3:[DEMONSTRATION]SW15.DTI;1 opened for write
  DTED2DTI> [1mEASTING[0m [1m345[0m [1mNORTHING[0m [1m765<CR>[0m
  DTED2DTI> [1mEXIT<CR>[0m
  $


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-33
  RETURN command                                                  18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mRETURN[0m

          Restores command input from an indirect file to SYS$COMMAND.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  RETURN[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Restores command input from an indirect file to SYS$COMMAND.

  A typical application is to allow the user to use an indirect  command  file  to
  set  up  those  run  time defaults which are constant within a flowline and then
  return to input from the  terminal  (or  batch  stream)  for  the  run  specific
  commands.   To  do  this RETURN must be the last command in the indirect command
  file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the RETURN command:

  RETURN command detected - returning to terminal input

  RETURN command ignored - command input is already from terminal

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTED2DTI> [1m@FLOW2<CR>[0m
  DTED2DTI> ENABLE DIAGNOSTICS
  DTED2DTI> RETURN
  RETURN command detected - returning to terminal input
  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-34
  REWIND command                                                  18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mREWIND[0m

          Rewinds the magnetic tape.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  REWIND[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The REWIND command enables the user to rewind the tape to the BOT (Beginning  Of
  Tape) marker.  DTED2DTI is then ready to read manuscript 1 again.

  Unless an appropriate  DEVICE  command  has  been  issued  earlier,  by  default
  DTED2DTI will attempt to rewind a tape on MTA0:.

  The tape should be allocated,  physically  loaded  and  mounted  foreign  before
  attempting to rewind it using DTED2DTI.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the REWIND command:

  REWIND complete

  *** ERROR *** whilst rewinding tape

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTED2DTI> [1mDEVICE[0m [1mMSA0:<CR>[0m
  DTED2DTI> [1mREWIND<CR>[0m
  REWIND complete
  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-35
  SHOW command                                                    18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m

          Shows current status of DTED2DTI defaults.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  SHOW[0m [1msubject[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  subject

          The subject that is to be displayed, chosen from:

          DEBUG     DEFAULTS      DEVICE     DIAGNOSTICS

          GRID      FILEOUT       PME        FULL


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  SHOW enables the user to examine the current status of  the  DTED2DTI  defaults.
  Defaults  may  be  examined  either singly by specifying the name of the item of
  interest (eg SHOW  DIAGNOSTICS  will  give  the  current  status  of  diagnostic
  printout) or collectively by using the SHOW DEFAULTS command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** WARNING *** Invalid qualifier

  Available SHOW command qualifiers are:

  DEBUG      DEFAULTS      DEVICE       DIAGNOSTICS

  GRID       FILEOUT       PME          FULL


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

     .
     .
  DTED2DTI> [1mSHOW[0m [1mDIAGNOSTICS[0m
  DIAGNOSTICS:
  Diagnostic printout suppressed
  DTED2DTI> [1mENABLE[0m [1mDIAGNOSTICS[0m
  DTED2DTI> [1mSHOW[0m [1mDEFAULTS<CR>[0m

  Current defaults are:

  DEBUG:


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-36
  SHOW command                                                    18 December 1996


  Debug printout selected

  DEVICE:
  Tapedeck MTA0: selected for input of DTED data
                                                             
  DIAGNOSTICS:
  Diagnostic printout selected

  GRID:
  GRID disabled - manuscripts expected in geographical coordinates

  FILEOUT:
  DTI file LSL$DTI:FRED.DTI;0 selected for output

  PME:
  PME not running

  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-37
  SPAWN command                                                   18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mSPAWN[0m

          The SPAWN command enables  you  to  create  a  subprocess  while  within
          DTED2DTI.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:  SPAWN[0m [1mcommand-line[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  command-line

          Specifies a DCL command string to be executed as if typed in response to
          a '$' prompt.  When the command completes, the subprocess terminates and
          control is returned to DTED2DTI.  The command string  cannot  exceed  80
          characters.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SPAWN command enables you to create  a  subprocess  while  within  DTED2DTI.
  When the subprocess terminates control is returned to DTED2DTI.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the SPAWN command:

  *** WARNING *** SPAWN requires a valid DCL command line

  *** ERROR *** Unable to spawn command, returning to DTED2DTI

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTED2DTI> [1mSPAWN[0m [1mDIRECTORY[0m [1m*.DTI;*<CR>[0m

  Directory DUA3:[DTMPROCESS.ACCEPTANCE_TESTS]

  TEST1.DTI;1              8/8       10-FEB-1988 07:56  [LSL,TIM]
  TEST2.DTI;2              7/8       10-FEB-1988 17:17  [LSL,TIM]
  TEST2.DTI;1              7/8       10-FEB-1988 17:07  [LSL,TIM]

  Total of 3 files, 22/24 blocks.

  DTED2DTI>


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-38
                                                                  18 December 1996







                                 [1mDTED2DTI examples[0m



  DTMCONVERT (2.7): DTED2DTI                                             Page 3-39
                                                                  18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m



  $
  $ ALLOCATE MUB0:
  %DCL-I-ALLOC, $MUB0: allocated
  $ MOUNT/FOREIGN MUB0:
  %MOUNT-I-MOUNTED, ABCDEF mounted on $MUB0:
  $ RUN DTED2DTI
  DTMCONVERT module DTED2DTI of 22:20:13  2-JUN-88
  DTED2DTI> DEVICE MUB0:
  DTED2DTI> MANUSCRIPT 1
   [1mW[0mARNING   [1mY[0mou must give a FILEOUT command for the next manuscript
  DTED2DTI> FILEOUT TESTDATA
  DTED2DTI> MANUSCRIPT 1
  Reading from magnetic tape device MUB0:                         
  Change 3/4 manuscript found
  Writing a TED4 type DTI file to LSL$DTI:TESTDATA.DTI;0
  DTED2DTI> ENABLE DIAGNOSTICS
  DTED2DTI> FILEOUT TESTDATA2
  DTED2DTI> SHOW DEFAULTS


  Current defaults are:

  DEBUG:
  Debug printout suppressed

  DEVICE:
  Tapedeck MUB0: selected for input of DTED data

  DIAGNOSTICS:
  Diagnostic printout selected

  FILEOUT:
  DTI file LSL$DTI:TESTDATA2.DTI;0 selected for output

  GRID:
  GRID disabled - manuscripts expected in geographical coordinates

  PME:
  PME not running

  DTED2DTI> MANUSCRIPT
  No manuscript number given - assuming manuscript 2 required
  Reading from magnetic tape device MUB0:                         
  UHL10580000W0520000S002000100000000            00800080                         
  Change 2 manuscript found
  Writing a UHL1 type DTI file to LSL$DTI:TESTDATA2.DTI;0
  10 % complete
  20 % complete
  30 % complete
  40 % complete
  50 % complete


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-40
  EXAMPLES                                                        18 December 1996


  60 % complete
  70 % complete
  80 % complete
  90 % complete
  100 % complete

  File    :  LSL$DTI:TESTDATA2.DTI;0
  Header  :  UHL1  Data:  WORD

  Units are Degrees, Minutes, Seconds

  Matrix Origin       :  52 00 00S   58 00 00W  
  Matrix Coverage   SW:   0 00 00N    0 00 00E   NE:   0 00 00N    0 00 00E  
  Matrix Interval    E:          2                N:          1
  Value Range         :-30134   to  22081

  DTED2DTI> EXIT
   ELAPSED:    0 00:02:45.91  CPU: 0:00:01.05  BUFIO: 82  DIRIO: 152  FAULTS: 128 
  $DISMOUNT MUB0:
  $DEALLOCATE MUB0:
  $



  DTMCONVERT (2.7): DTED2DTI                                             Page 3-41
                                                                  18 December 1996







                                 [1mDTED2DTI messages[0m


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-42
  MESSAGES (ERROR)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  CLDTI, error closing DTI file

      [1mExplanation:[0m  DTED2DTI is unable to close the output DTI file.

      [1mUser[0m [1maction:[0m  The supplementary messages supplied  with  this  message  will
      enable  the  user  to  determine  the  cause of the problem.  If the problem
      persists notify your system manager.

  CLIND, error closing indirect command file

      [1mExplanation:[0m  DTED2DTI is unable to close the indirect command file.

      [1mUser[0m [1maction:[0m  The supplementary messages supplied  with  this  message  will
      enable  the  user  to  determine  the  cause of the problem.  If the problem
      persists notify your system manager.

  NORWD, error rewinding DTED magnetic tape

      [1mExplanation:[0m  DTED2DTI is unable to rewind the DTED magnetic tape.

      [1mUser[0m [1maction:[0m  The supplementary messages supplied  with  this  message  will
      enable  the user to determine the cause of the problem.  Check that the tape
      deck is online, and that the tape has not been wound off the take-up  spool.
      If the problem persists notify your system manager.


  DTMCONVERT (2.7): DTED2DTI                                             Page 3-43
  MESSAGES (OTHER)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages may be generated  by  the  DTILIB
  library  and by the Laser-Scan I/O library, LSLLIB.  DTILIB library messages are
  introduced by '%DTILIB' and are  documented  in  the  MATRIX  package  reference
  manual.   In most cases DTI errors will be due to a corrupt input file, and this
  should be the first area of investigation.  If the cause of the error cannot  be
  traced by the user, and Laser-Scan are consulted, then the output file should be
  preserved to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'
  and  are  generally  self-explanatory.   They are used to explain the details of
  program generated errors.














                                     CHAPTER 4

                                   MODULE NTF2DTI





  DTMCONVERT (2.7): NTF2DTI                                               Page 4-1
  UTILITY NTF2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mUTILITY[0m [1mNTF2DTI[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  NTF2DTI is a new utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            NTF2DTI is a utility to convert raster data written in the UK National
            Transfer  Format  (NTF)  to  a  Laser-Scan Digital Terrain Image (DTI)
            file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ NTF2DTI Input NTF-file-spec  [Output DTI-file-spec]

            [1mCommand[0m [1mqualifiers[0m                     [1mDefaults[0m

            /HEADER_TYPE                          /HEADER_TYPE = LSLA

            /[NO]LOG                              /NOLOG

            /[NO]OS                               /OS

            /[NO]OUTPUT = file-spec               /NOOUTPUT

            /[NO]PROJECTION                       see text

            /SECTION = integer                    /SECTION=0



  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m


            Input NTF-file:         Input-NTF-file-spec

  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  [1mInput-NTF-file-spec[0m

          - This specifies the input NTF  dataset.   It  is  the  first  parameter
            specified on the DCL command line.

          - The input NTF specification may be a  file  name  or  the  name  of  a
            device.



  DTMCONVERT (2.7): NTF2DTI                                               Page 4-2
  UTILITY NTF2DTI                                                 18 December 1996


  [1mOutput-DTI-file-spec[0m

          - This is an optional parameter which specifies the output DTI file.  It
            is  not  prompted  for  and is the second parameter on the DCL command
            line.

          - If the parameter is present on the command line, then any part of  the
            file  specification  which  is  not  supplied  will  be taken from the
            default specification:  'LSL$DTI:DTI.DTI'.

          - If the parameter is not present on the command line, then  the  output
            DTI file names will be taken from the section header records [SECHREC]
            in the input NTF dataset.


  DTMCONVERT (2.7): NTF2DTI                                               Page 4-3
  UTILITY NTF2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m



  /HEADER_TYPE = header-type (default LSLA)

          - Specifies the header format of the output DTI  file.   By  default  an
            LSLA   free   format  header  is  created.   Unless  /NOPROJECTION  is
            specified, the header will include a projection record.

            Valid keywords are UHL1, TED4, or LSLA.  If a UHL1 format is selected,
            the  header will be created with a blank UHL record.  If a TED4 format
            is selected, the header  will  be  created  with  blank  DSI  and  ACC
            records.   A projection record will only be written if output is to an
            LSLA DTI file.



  /LOG
  /NOLOG (default)

          - /LOG Selects the output of informational messages derived from the NTF
            header.   Unless  the  /OUTPUT  qualifier  is  supplied,  messages are
            written to SYS$OUTPUT.



  /OS (default)
  /NOOS

          - Selects OS style data.  This command tells the program to expect  data
            in a level 4 format as used by OS to transfer raster data.



  /OUTPUT = file-spec
  /NOOUTPUT (default)

          - Directs the output of informational messages to  the  specified  file.
            This qualifier is used in conjunction with the /LOG qualifier.



  /PROJECTION (default if a LSLA header is selected)
  /NOPROJECTION (default)

          - Selects the output of projection  information  derived  from  the  NTF
            header  records to a DTI projection record.  This option is only valid
            if output is to a DTI file with a LSLA header record.




  DTMCONVERT (2.7): NTF2DTI                                               Page 4-4
  UTILITY NTF2DTI                                                 18 December 1996


  /SECTION = integer

          - Enables the user to  select  which  section  of  a  multi-section  NTF
            dataset  is  read.   For  example, /SECTION = 2 will select the second
            section encountered.  By default, all sections of the NTF dataset  are
            read.

            If /SECTION = 0 is specified then NTF2DTI will read  all  sections  in
            the  NTF  dataset.   A  separate  DTI  file  will  be created for each
            section.

            If an output-DTI-file-spec was given, then all the files will be given
            the same name, but will have different version numbers.

            If no output-DTI-file-spec was given, then the output file names  will
            be taken from the section header records in the NTF dataset.
  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m



            NTF2DTI is a utility to convert data written in UK  National  Transfer
            Format  (NTF)  Level 0 (Version 1.0 fixed length records), in a subset
            of Level 4 (Version 1.1 variable length records), or Level 5  (Version
            2.0  variable  length  records)  to a Laser-Scan Digital Terrain Image
            (DTI) file.  The NTF data may exist on NTF  format  magnetic  tape  or
            disc file.

            [1mHandling[0m [1mmultiple[0m [1mvolume[0m [1mdatasets[0m

            Datasets on NTF format  magnetic  tape  may  be  datasets  which  span
            multiple  volumes.   When NTF2DTI reads the last record of a volume it
            will detect whether the dataset continues on to another volume.  If so
            NTF2DTI  will automatically dismount the tapedrive and prompt the user
            to load the next volume before pressing the RETURN  key  to  continue.
            When  the  user has loaded the next volume and pressed RETURN, NTF2DTI
            automatically mounts the tapedrive and continues.

            [1mPLEASE[0m [1mNOTE[0m that if the user presses RETURN more than once before  the
            next  volume  is  loaded  the program will hang up and will need to be
            interrupted and restarted with the first volume in the dataset.


  DTMCONVERT (2.7): NTF2DTI                                               Page 4-5
  UTILITY NTF2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  /PROJECTION requires LSLA type header (default).

             o  Only NTF data at level 0 (NTF Version 1.0), at a small  subsidiary
                of  level  4  (NTF  Version  1.1)  and at level 5 (NTF Version 2.0
                BS7567) may be read.

             o  If the data is in level 4 then the /OS qualifier must be used (set
                by default).

             o  The program expects to find data  that  conforms  to  the  current
                intermediate  version  of  NTF.  The version 1.0 supported here is
                slightly different from version 1.0 as documented in the  original
                standard,  and  the  same  as  version  1.1 NTF.  Data produced by
                OS(GB) is of all versions.  The version number in  the  header  is
                expected to be 1.0, 1.1 or .

             o  The program does not support vector data -  only  raster  sections
                may be present on the tape.

             o  The data values must be  in  numeric  form  as  specified  by  the
                INTERPRET  field  in  the  grid record.  If this is not the case a
                warning will be issued and the program will  attempt  to  continue
                assuming numeric data.

             o  The ORDER, COLINV, and ROWINV flags in the  grid  record  must  be
                unset.   If  this is not the case a warning will be issued and the
                program will attempt to continue.

             o  The data values are stored as GRIDVALS in the GRIDREC record.   At
                level  0  the  width of this field is defined as 10 and may not be
                modified.  At levels 4 or 5 the width of this field may be defined
                by the use of a DATADESC record.

             o  At levels 4 and 5 NTF2DTI will interpret any DATADESC  records  it
                meets.   If  the  GRIDVAL  field  is being redefined, NTF2DTI will
                extract the new width of this field and use it later when  reading
                from the GRIDRECs.

             o  The program only decodes certain fields of the section header  and
                GRIDHREC records.


  DTMCONVERT (2.7): NTF2DTI                                               Page 4-6
  UTILITY NTF2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m

   $ [1mNTF2DTI[0m [1m/LOG[0m [1mMSA0:[0m [1mIOW[0m [1m<CR>[0m


  %NTF2DTI-I-NTFOPEN, NTF file MSA0: opened
  %NTF2DTI-I-NTFDATA, NTF data at level 4, version  1.00
  %NTF2DTI-I-DTIOPEN, DTI file "LSL$DTI:IOW.DTI" opened

  File    :  LSL$DTI:IOW.DTI
  Header  :  LSLA  Data:  WORD

  Units are Metres

  Matrix Coverage   SW:  440000.00   80000.00    NE:  460000.00  100000.00
  Matrix Interval    E:      50.00                N:      50.00
  Value Range         :     0   to    235

  Spheroid      :   9 (Airy)
  Projection    : 101 (UK national grid)

  Units         :   2 (Metres)
  Local Origin  :      440000.000 (Eastings)     80000.000 (Northings)
  Sample values :          50.000 (Eastings)        50.000 (Northings)

  %NTF2DTI-I-DTICLOSED, DTI file closed
   ELAPSED:    0 00:05:53.24  CPU: 0:02:36.93  BUFIO: 4  DIRIO: 501  FAULTS: 990 


  In this example the input NTF dataset is to be read from the device MSA0:.   The
  output   DTI   file   was   given  as  IOW,  this  will  be  parsed  and  called
  LSL$DTI:IOW.DTI.  The /LOG qualifier means that the  additional  information  is
  printed  on  the  screen.   It is assumed that an LSLA header is required with a
  projection record and that the NTF data was supplied  by  the  Ordnance  Survey.
  The conversion is completed successfully.

   $ [1mNTF2DTI[0m [1m/LOG[0m [1mIOWRELIEF[0m  [1m<CR>[0m

  %NTF2DTI-I-MISC, no output DTI file specified
  %NTF2DTI-I-MISC, filenames will be taken from SECHREC
  %NTF2DTI-I-NTFOPEN, NTF file IOWRELIEF.NTF opened
  %NTF2DTI-I-NTFDATA, NTF data at level 4, version  1.00
  %NTF2DTI-I-DTIOPEN, DTI file "LSL$DTI:TERRAIN.DTI" opened

  File    :  LSL$DTI:TERRAIN.DTI
  Header  :  LSLA  Data:  WORD

  Units are Metres

  Matrix Coverage   SW:  440000.00   80000.00    NE:  460000.00  100000.00
  Matrix Interval    E:      50.00                N:      50.00
  Value Range         :     0   to    235

  Spheroid      :   9 (Airy)
  Projection    : 101 (UK national grid)


  DTMCONVERT (2.7): NTF2DTI                                               Page 4-7
  UTILITY NTF2DTI                                                 18 December 1996



  Units         :   2 (Metres)
  Local Origin  :      440000.000 (Eastings)     80000.000 (Northings)
  Sample values :          50.000 (Eastings)        50.000 (Northings)

  %NTF2DTI-I-DTICLOSED, DTI file closed
   ELAPSED:    0 00:05:53.24  CPU: 0:02:36.93  BUFIO: 4  DIRIO: 501  FAULTS: 990 



  In this example the input  NTF  dataset  is  to  be  read  from  the  file  IOW_
  RELIEF.NTF.The  /LOG  qualifier means that the additional information is printed
  on the screen.  It is assumed that an LSLA header is required with a  projection
  record and that the NTF data was supplied by the Ordnance Survey.

  Since no output DTI file was specified, appropriate  messages  inform  the  user
  that  the output DTI filenames will be taken from the SECHREC records in the NTF
  dataset.  The conversion is completed successfully.

  $ [1mNTF2DTI[0m [1m/PROJECTION[0m [1m/HEADERTYPE=TED4[0m [1mHERE:NTFFILE[0m [1mDTIFILE<CR>[0m

  %NTF2DTI-E-NOTLSLA, Projection records with LSLA header only
   ELAPSED:    0 00:00:01.73  CPU: 0:00:00.22  BUFIO: 0  DIRIO: 0  FAULTS: 96 

  This is an incorrect command line.  A TED4 style header was  requested  but  the
  /PROJECTION  qualifier was also given.  As TED4 headers cannot have a projection
  record an error was flagged.

  $ [1mNTF2DTI/OUTPUT=DTILIST/LOG/HEADER=TED4[0m [1mMTA0:[0m [1mDUA0:[IAIN]DTIMAP[0m [1m<CR>[0m

  %LSLLIB-I-LOGOPNOUT, log file DTILIST.LOG opened for write
  %NTF2DTI-I-NTFOPEN, NTF file MTA0: opened
  %NTF2DTI-I-NTFDATA, NTF data at level 4, version  1.00
  %NTF2DTI-I-DTIOPEN, DTI file "DUA0:[IAIN]DTIMAP.DTI" opened

  File    :  DUA0:[IAIN]DTIMAP.DTI
  Header  :  TED4  Data:  WORD

  Units are Metres

  Matrix Coverage   SW:  440000.00   80000.00    NE:  460000.00  100000.00
  Matrix Interval    E:      50.00                N:      50.00
  Value Range         :     0   to    235

  %NTF2DTI-I-DTICLOSED, DTI file closed
   ELAPSED:    0 00:07:53.20  CPU: 0:02:31.95  BUFIO: 9  DIRIO: 517  FAULTS: 1243 

  $ [1mTYPE[0m [1mDTILIST.LOG[0m [1m<CR>[0m 

       LSL750$DUA0:[IAIN]DTILIST.LOG;1
        
       ========================== N T F 2 D T I ===============================

       NTF2DTI invoked by IAIN using terminal LTA155: at 26-APR-1988 11:12:41.47

       Command line:


  DTMCONVERT (2.7): NTF2DTI                                               Page 4-8
  UTILITY NTF2DTI                                                 18 December 1996



       NTF2DTI/OUTPUT=DTILIST/LOG/HEADER=TED4 MTA0: DUA0:[IAIN]DTIMAP 

       =========================================================================

       Volume header record:
          Data sent by     "ORDNANCESURVEY     "
          Data sent to     "LASERSCAN           "
          Date of transfer "19880330" (ie 30/03/1988)
          NTF level          4
          NTF version        1.00
       Database header data:
          Database name         "GM440080            "
          Data dictionary       "OSDTMDDICT1.0    "
          Database date         "19870508" (ie 08/05/1987)
          Classification scheme "                    "
          Classification date   "00000000" (ie 00/00/0000)
          Data quality report   "                    "
          Data quality date     "00000000" (ie 00/00/0000)


    This command line also specifies a TED4 style header but does  not  request  a
  projection  record  so none is written.  The LOG option is used once more and in
  addition the log file option /OUTPUT is used.  The output  file  DTILIST.LOG  is
  shown above.  This run was completed successfully.




  DTMCONVERT (2.7): NTF2DTI                                               Page 4-9
  UTILITY NTF2DTI                                                 18 December 1996






  DTMCONVERT (2.7): NTF2DTI                                              Page 4-10
  MESSAGES (SUCCESS)                                              18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(SUCCESS)[0m

  These messages are used to indicate that the program has succeeded in performing
  some action, and do not require any user action.

  NORMAL, NTF2DTI function return was TRUE (ie success)

      [1mExplanation:[0m  This message is used internally by NTF2DTI to indicate whether
      a subroutine has completed succesfully or not.

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): NTF2DTI                                              Page 4-11
  MESSAGES (INFORMATIONAL)                                        18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  DTICLOSED, DTI file closed

      [1mExplanation:[0m  The DTI output file has been successfully closed.

      [1mUser[0m [1maction:[0m  None.

  DTIOPEN, DTI file 'file-name' opened

      [1mExplanation:[0m  The DTI output file has been successfully opened.

      [1mUser[0m [1maction:[0m  None.

  NTFDATA, NTF data at level 'integer', version 'real'

      [1mExplanation:[0m  This message is output to confirm the form of NTF  being  read
      if the user has specified the /LOG qualifier.

      [1mUser[0m [1maction:[0m  None.

  NTFFORMAT, NTF data has 'string' length records

      [1mExplanation:[0m  This message is output to confirm the format  of  NTF  records
      being read if the user has specified the /LOG qualifier.

      [1mUser[0m [1maction:[0m  None.

  NTFOPEN, NTF file 'file-name' opened

      [1mExplanation:[0m  This message is output when NTF data is being read from a file
      on disk if the user has specified the /LOG qualifier.

      [1mUser[0m [1maction:[0m  None.

  RETRY, Attempting to read another record

      [1mExplanation:[0m  This message is output when an unrecognised  record  type  has
      been  read from the NTF dataset.  NTF2DTI assumes that the record is invalid
      and attempts to read the next record from the dataset.

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): NTF2DTI                                              Page 4-12
  MESSAGES (WARNING)                                              18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  COLINV, column inversion flag set

      [1mExplanation:[0m  The COLINV field  in  the  GRIDREC  indicates  that  the  data
      columns are organised with a North-South orientation rather than the default
      of South-North.  The data is still written using the  default  notation  and
      any transformations should be carried out using the DTM packages.

      [1mUser[0m [1maction:[0m  If required the file can be re-ordered using the DTM programs.

  INTERPRET, data type set to "nominal" in grid record

      [1mExplanation:[0m  The INTERPRET field in the GRIDREC  indicates  that  the  data
      values  are  in  a nominal form.  The program can read only numeric data and
      will attempt to continue assuming the data is numeric.

      [1mUser[0m [1maction:[0m  The output should be checked as it may be suspect.   If  there
      is a problem contact the donor of the data and/or Laser-Scan.

  NOTRASTER, the data in section "'integer'" is not raster data

      [1mExplanation:[0m  The section header for the relevant section indicates that the
      section  contains  non-raster (possibly vector) data.  This program does not
      translate non-raster data.

      [1mUser[0m  [1maction:[0m   Ensure  that  the  data  is  actually  raster  suitable  for
      translation to a DTI file.

  ORDER, unsupported ORDER 'integer' given in GRID record

      [1mExplanation:[0m  The value found in the ORDER field in the  GRIDREC  record  is
      not supported by this program.  Order 1 is assumed.

      [1mUser[0m [1maction:[0m  Use the DTM package to transpose the data.

  ROWINV, row inversion flag set

      [1mExplanation:[0m  The ROWINV field in the GRIDREC indicates that the  data  rows
      are  organised  with  a  East-West  orientation  rather  than the default of
      West-East.  The data is still written using the  default  notation  and  any
      transformations should be carried out using the DTM packages.

      [1mUser[0m [1maction:[0m  If required the file can be re-ordered using the DTM programs.


  DTMCONVERT (2.7): NTF2DTI                                              Page 4-13
  MESSAGES (WARNING)                                              18 December 1996


  UNEXPREC, unexpected record type 'string', record 'integer'

      [1mExplanation:[0m  The specified record type is not expected in that position  on
      the  tape (for instance, finding a GRIDREC record before the first SECHREC).
      If this message follows an ERROR message, the program will  exit,  otherwise
      it will attempt to continue.

      [1mUser[0m [1maction:[0m  Report the problem to the donor of the data.

  UNKNOWN, unknown record type 'string', record 'integer'

      [1mExplanation:[0m  The  specified  record  type  is  not  one  that  the  program
      recognises.   If  this  message  follows  an ERROR message, the program will
      exit, otherwise it will attempt to continue.

      [1mUser[0m [1maction:[0m  Report the problem to the donor of the data.

  VOLHDCONT, unexpected continuation of VOLHDREC being ignored

      [1mExplanation:[0m  According to the NTF standard, the volume header record is not
      continuable.   OS have proposed a modified form of the standard where a form
      of sheet index is output after the volume header.  The program does not  use
      this  data,  and  will  produce  the  VOLHDCONT  warning  message  if such a
      continuation is found.

      [1mUser[0m [1maction:[0m  None - the continuation is ignored.


  DTMCONVERT (2.7): NTF2DTI                                              Page 4-14
  MESSAGES (ERROR)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  ABORT, NTF2DTI function return was FALSE (ie.  error)

      [1mExplanation:[0m  This message is used internally by NTF2DTI to indicate whether
      a subroutine has completed succesfully or not.

      [1mUser[0m [1maction:[0m  None.

  BADUNIT, unknown value for XY units

      [1mExplanation:[0m  The  value  found  in  the  XY_UNIT  unit  field  of  the  map
      descriptor entry was not known.  The program will exit.

      [1mUser[0m [1maction:[0m  Report the problem to Laser-Scan.

  CLOSERR, error closing file 'file-name'

      [1mExplanation:[0m  Some form of error occurred in closing one  of  the  input  or
      output files.  The program will exit.

      [1mUser[0m [1maction:[0m  Depends upon the associated LSLLIB messages.

  DTICLOSERR, error closing DTI file 'file-name'

      [1mExplanation:[0m  The program encountered an error while trying to close the DTI
      file.

      [1mUser[0m [1maction:[0m  Depends upon the other error messages.

  DTICOPYDATA, error writing data values to DTI file

      [1mExplanation:[0m  The program encountered an error while  trying  to  write  the
      data values to the DTI file.

      [1mUser[0m [1maction:[0m  Depends upon the other error messages.

  DTICREATE, error trying to open DTI file 'file-name'

      [1mExplanation:[0m  The program encountered an error  while  trying  to  open  the
      named DTI file.

      [1mUser[0m [1maction:[0m  Depends upon the other error messages.


  DTMCONVERT (2.7): NTF2DTI                                              Page 4-15
  MESSAGES (ERROR)                                                18 December 1996


  ERRORRD, error reading the 'string' field

      [1mExplanation:[0m  This message is output to specify  that  the  field  that  was
      incorrect,  and  follows a message identifying the record in which the error
      occurred.  The contents of the offending field will be output  on  the  next
      line.  The program will exit.

      [1mUser[0m [1maction:[0m  Depends upon the error, and upon the source of the  data.   It
      may  be  necessary  to  consult the donor of the data, giving details of the
      offending record and field.

  FILOPEN, error opening file 'file-name'

      [1mExplanation:[0m  Some form of error occurred in opening one  of  the  input  or
      output files.  The program will exit.

      [1mUser[0m [1maction:[0m  Depends upon the associated LSLLIB messages.

  GRIDHREC, error reading "'string'" from grid header record

      [1mExplanation:[0m  An error occurred in interpreting the contents  of  the  given
      field in the grid header.

      [1mUser[0m [1maction:[0m  See the following error message.

  GRIDREC, error reading "'string'" from grid record

      [1mExplanation:[0m  An error occurred in interpreting the contents  of  the  given
      field in the grid record.

      [1mUser[0m [1maction:[0m  See the following error message.

  HEADER, error reading the header from the DTI file 'file-name'

      [1mExplanation:[0m  An error occured when reading the header information from  the
      DTI file to the screen.

      [1mUser[0m [1maction:[0m  Depends on the associated messages.

  MAGTAPE, error initialising magtape device 'device'

      [1mExplanation:[0m  An error occurred in initialising the magnetic tape drive  for
      reading.  The associated LSLLIB and system error messages should clarify the
      problem.

      [1mUser[0m [1maction:[0m  Dependant upon the associated messages.  One possible cause of
      problems is that the tape has not been mounted.


  DTMCONVERT (2.7): NTF2DTI                                              Page 4-16
  MESSAGES (ERROR)                                                18 December 1996


  MINMAX, error writing MINMAX data to DTI file 'file-name'

      [1mExplanation:[0m  An error occured when writing the  maximum  and  minimum  data
      values to the DTI files header.

      [1mUser[0m [1maction:[0m  Depends on the associated messages.

  MULTIVOL, this program does not support multiple volume datasets

      [1mExplanation:[0m  Although the NTF standard allows datasets spread over  several
      magnetic  tapes,  the  NTF2DTI  program  does  not  currently  support  such
      datasets.

      [1mUser[0m [1maction:[0m  The data should be supplied  on  several  individual  magnetic
      tapes, with no continuation from one tape to another.

  NILXYMULT, XY_MULT is zero - using a value of 1.0 instead

      [1mExplanation:[0m  The planimetric  coordinate  multiplication  factor  (XY_MULT)
      read from the section header record is zero.  All coordinates are multiplied
      by this value before being output.  A value of 1.0 is substituted  to  allow
      at least some form of output.  The program will attempt to continue.

      [1mUser[0m [1maction:[0m  Contact the donor of the data  to  determine  why  the  XYMULT
      value was zero.

  NODEVICE, unknown device name 'device' given

      [1mExplanation:[0m  The device name given on the command line was not  recognised.
      The program will exit.

      [1mUser[0m [1maction:[0m  Specify a legal device  or  do  not  use  the  qualifier,  the
      default is MTA0:.

  NOTALL, only 'integer' data items found, 'integer' expected

      [1mExplanation:[0m  In a grid data record a record was  not  continued  when  more
      data was expected.

      [1mUser[0m [1maction:[0m  Contact the donor of the data to determine why  some  data  is
      missing (or why the amount of data was wrongly specified in the header).

  NOTATLEVEL, entry type "'string'" is not supported at level 'integer'

      [1mExplanation:[0m  The specified NTF record descriptor belongs to a  record  that
      is not allowed at the level of NTF in this dataset.  The program will exit.

      [1mUser[0m [1maction:[0m  Contact the donor of the data to determine why the  record  is
      present,  or  why the level of the data is incorrectly flagged in the volume
      header record.


  DTMCONVERT (2.7): NTF2DTI                                              Page 4-17
  MESSAGES (ERROR)                                                18 December 1996


  NOTCONTINUE, continuation record not found for 'string', record 'integer'

      [1mExplanation:[0m  The previous record contained a continuation  flag,  but  this
      record  is not a continuation record.  The NTF data is thus corrupt, and the
      program will exit.

      [1mUser[0m [1maction:[0m  Contact the donor of the data and report the problem.

  NOTERMCR, no terminating carriage return at end of record

      [1mExplanation:[0m  The NTF standard requires that, when variable  length  records
      are  used  they  must  be  terminated  with  a  carriage return.  The record
      specified in the previous record was not.

      [1mUser[0m [1maction:[0m  Contact the donor of the data to determine why  the  data  was
      not in the expected form.

  NOTLSLA, projection records with LSLA header only

      [1mExplanation:[0m  A  projection  record  was  requested  using  the  /PROJECTION
      qualifier  but  the header has been set to something other than a LSLA type.
      This is not allowed and the program will exit.

      [1mUser[0m [1maction:[0m  Re-enter the command line, either not requesting a  projection
      record or selecting an LSLA header (default) with the /HEADERTYPE qualifier.

  NOTOS, unexpected level 4 data encountered

      [1mExplanation:[0m  The data  in  the  NTF  file  is  at  level  4  but  OS  style
      recognition has been disabled with /NOOS.

      [1mUser[0m [1maction:[0m  Re-enter the command line without the /NOOS qualifier.

  NOVOLHDREC, first record of NTF must be volume header record

      [1mExplanation:[0m  The NTF standard specifies that the first record on  the  tape
      must  be  the  VOLHDREC  or  volume  header  record.   This error message is
      generated if this is not the case, and the program will exit.

      [1mUser[0m [1maction:[0m  Contact the donor of the data and report the problem.

  OUTOPEN, error opening /OUTPUT file 'file-name'

      [1mExplanation:[0m  An error has occurred in trying to open the log file specified
      with  the  /OUTPUT  qualifier.   The  associated  LSLLIB and system messages
      should clarify the problem.

      [1mUser[0m [1maction:[0m  Dependant upon the associated messages.


  DTMCONVERT (2.7): NTF2DTI                                              Page 4-18
  MESSAGES (ERROR)                                                18 December 1996


  PROJREC, error writing to the DTI projection record

      [1mExplanation:[0m  An error has occurred while copying data to the DTI projection
      record.

      [1mUser[0m [1maction:[0m  Dependant upon the associated messages.

  READBLK, error reading block 'integer' from magtape

      [1mExplanation:[0m  An error has occurred in obtaining the next block of data from
      the magnetic tape.  The associated LSLLIB and system messages should clarify
      the problem.

      [1mUser[0m [1maction:[0m  Dependant upon the associated messages.

  READREC, error reading record 'integer' from NTF input file

      [1mExplanation:[0m  An error has occurred in obtaining the next  record  from  the
      input  file.   The  associated LSLLIB and system messages should clarify the
      problem.

      [1mUser[0m [1maction:[0m  Dependant upon the associated messages.

  SECHREC, error reading SECHREC record, in field "'string'", record 'integer'

      [1mExplanation:[0m   An  error  occurred  in  interpreting  the  contents  of  the
      specified  field  in the current section header record.  The contents of the
      offending field will be output on the next line.  If this  error  occurs  in
      the  OS  specific  part  of the section header record, then the program will
      attempt to continue, otherwise it will exit.

      [1mUser[0m [1maction:[0m  Depends upon the error.  It may be necessary  to  contact  the
      donor of the data, and report the problem.

  SECTION, error reading SECTION 'integer'

      [1mExplanation:[0m  An error occurred while reading the current section in the NTF
      dataset.   This  error  will  always  be  preceeded by a more detailed error
      message.

      [1mUser[0m [1maction:[0m  Depends upon the error.  It may be necessary  to  contact  the
      donor of the data, and report the problem.

  SHORTBLK, block 'integer' is only 'integer' characters long

      [1mExplanation:[0m  The program has succesfully  read  the  next  block  from  the
      magnetic tape, but its size is wrong.  Since the NTF standard specifies that
      blocks must be 2000 bytes long, this is a serious error.  The  program  will
      exit.

      [1mUser[0m [1maction:[0m  Report the problem to the donor of the data.


  DTMCONVERT (2.7): NTF2DTI                                              Page 4-19
  MESSAGES (ERROR)                                                18 December 1996


  SHORTREC, record 'integer' is only 'integer' characters long

      [1mExplanation:[0m  The program has succesfully read  the  next  record  from  the
      input  file, but its length is wrong.  Since the NTF standard specifies that
      all records must be 80 characters long if fixed format (ie.   version  1.0),
      this is a serious error.  The program will exit.

      [1mUser[0m [1maction:[0m  Report the problem to the donor of the data.

  SHORTSECH, not enough continuation lines for SECHREC record

      [1mExplanation:[0m  The NTF standard specifies that the section header  record  is
      at  least three records long (ie.  one record with two continuations).  This
      message is output if  the  section  header  is  shorter  than  the  standard
      requires.  The program will exit.

      [1mUser[0m [1maction:[0m  Report the problem to the donor of the data.

  TESTFOR, error testing whether device 'device' is mounted /FOREIGN

      [1mExplanation:[0m  In order to read NTF data  from  a  tape,  the  tape  must  be
      mounted foreign.  The program encountered an error while testing for this.

      [1mUser[0m [1maction:[0m  Depends upon the associated error messages.  Ensure  the  tape
      is mounted /FOREIGN

  VOLHDREC, error reading VOLHDREC record, in field "'string'"

      [1mExplanation:[0m   An  error  occurred  in  interpreting  the  contents  of  the
      specified  field in the volume header record.  The contents of the offending
      field will be output on the next line.  The program will exit.

      [1mUser[0m [1maction:[0m  Depends upon the error.  It may be necessary  to  contact  the
      donor of the data, and report the problem.

  WRONGLEVEL, this program cannot read data at NTF level 'integer'

      [1mExplanation:[0m  The program only recognises NTF level 0  and  a  subsidary  of
      level 4.  Data at any other level (as indicated in the volume header record)
      will produce this message, and cause the program to exit.

      [1mUser[0m [1maction:[0m  Do not attempt to read data at levels other than 0 or 4.

  WRONGVERSION, this program cannot read data of NTF version 'real'

      [1mExplanation:[0m  The program currently only recognises  data  as  specified  in
      version  1.0 or 1.1 of the NTF standard.  Data from any other version of the
      standard (as indicated in  the  volume  header  record)  will  produce  this
      message, and cause the program to exit.

      [1mUser[0m [1maction:[0m  Do not attempt to read data that is specified by a version  of
      the  NTF  standard  not  supported by the program.  Use of the /OS qualifier
      (default) allows the OS's updated version to be used


  DTMCONVERT (2.7): NTF2DTI                                              Page 4-20
  MESSAGES (OTHER)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages may be generated  by  the  DTILIB
  library  and by the Laser-Scan I/O library, LSLLIB.  DTILIB library messages are
  introduced by '%DTILIB' and are  documented  in  the  MATRIX  package  reference
  manual.   In most cases DTI errors will be due to a corrupt input file, and this
  should be the first area of investigation.  If the cause of the error cannot  be
  traced by the user, and Laser-Scan are consulted, then the output file should be
  preserved to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'
  and  are  generally  self-explanatory.   They are used to explain the details of
  program generated errors.














                                     CHAPTER 5

                                   MODULE DTEDIFF





  DTMCONVERT (2.7): DTEDIFF                                               Page 5-1
  MODULE DTEDIFF                                                  18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mUTILITY[0m [1mDTEDIFF[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  MCE module DTEDIFF.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTEDIFF is a utility to transfer DSI (DataSet Identification) and  ACC
            (Accuracy)  record  data from the header of a DTED DTI format file, to
            an IFF file, and vice versa.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DTEDIFF DTI-file-spec IFF-file-spec

            [1mCommand[0m [1mqualifiers[0m                     [1mDefaults[0m

            /[NO]LOG                              /NOLOG
            /[NO]MERGE                            /MERGE



  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            DTI-filename:         DTI-file-spec

            IFF-filename:         IFF-file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  DTI-file-spec

          - The file specification of the DTI file.  This file must  have  a  TED4
            header  structure.   Any  part  of the file specification which is not
            supplied   will   be   taken   from   the    default    specification:
            'LSL$DTI:DTI.DTI'.

  IFF-file-spec

          - The file specification  of  the  IFF  file.   Any  part  of  the  file
            specification  which  is  not  supplied will be taken from the default
            specification:  'LSL$IF:IFF.IFF'.


  DTMCONVERT (2.7): DTEDIFF                                               Page 5-2
  UTILITY DTEDIFF                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m



  /LOG
  /LOG (default)

          - If specified then details on the data values being transferred between
            the  records  of  the  DTI  and  IFF  files  will  be displayed on the
            terminal.



  /MERGE (default)
  /NOMERGE

          - If /MERGE is specified, then  information  recorded  in  the  MCE  Map
            Header,  and  accuracy region data in layer 0 of the IFF file, will be
            transferred to the DSI and ACC header records of the  DTI  file.   Any
            existing  DSI  and ACC information in the DTI file will be overwritten
            by this operation.

          - If /NOMERGE is specified,  then  information  from  the  DSI  and  ACC
            records  of  the DTI file, will be transferred to the IFF file.  A new
            IFF file will be created.  the DSI data will be  held  in  a  MCE  Map
            Header  entry, while the ACC data will be held as a number of separate
            features in layer 0 of the file.


  DTMCONVERT (2.7): DTEDIFF                                               Page 5-3
  UTILITY DTEDIFF                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m



            DTEDIFF is a utility to transfer DSI (DataSet Identification) and  ACC
            (Accuracy)  record  data  from  the  header  of  a Laser-Scan DTED DTI
            (Digital Terrain Image)  format  file  to  an  IFF  (Internal  Feature
            Format) file, and vice versa.  The header data is held in the IFF file
            in a MCE Map Header entry, while accuracy sub-region data is held as a
            series of features in layer 0 of the file.

            The direction of data transfer is controlled by the /MERGE  qualifier.
            If /MERGE is specified, header information is transferred from the IFF
            file to the DTI file.  Any information already present in the DTI  DSI
            and  ACC  records  will  be overwritten as part of this operation.  If
            /NOMERGE is specified, information is transferred from the DTI file to
            the  IFF file.  The default action of DTEDIFF (ie.  if no qualifier is
            supplied on the command line) is to copy data from the IFF file to the
            DTI file.

            The DTI file specification must be that of a file with a  TED4  header
            structure ie.  a file with DSI and ACC records.

            The DSI record of a TED4 DTI file contains information relating to the
            generation  of  the  dataset  by  the  producing agency, including the
            compilation date, mode of data capture and level  of  processing.   In
            addition  the  DSI  holds  information  on  the latitude and longitude
            origin of the dataset, the matrix grid intervals, and the latitude and
            longitude of the dataset bounding rectangle.

            The DSI information is held in the IFF file in a MCE type Map Header.

            The ACC record of a TED4 DTI file contains information on the vertical
            and horizontal accuracy of the dataset.  Accuracy values for the whole
            of the data area, and possibly for up to 9 sub-regions may be defined.
            The  coordinates  defining  the  sub-regions  are contained within the
            record - an area may be defined by up to 14 coordinate pairs.

            In the IFF file, data for  each  accuracy  sub-region  is  held  as  a
            feature in layer 0.

            The DTILIB Reference Manual in Package MATRIX contains details on  the
            structure of a TED4 DTI header.

            The purpose of DTEDIFF is to allow  DSI  and  ACC  information  to  be
            edited  using  Laser-Scan  utilities  such  as  MCEHED  and LITES2.  A
            typical sequence of operations will be to create a DTI file by reading
            a dataset from a DTED format magnetic tape using DTED2DTI; to transfer
            header data from the DTI file to an IFF Map Header using the  /NOMERGE
            qualifier  in  DTEDIFF;  to  edit  the IFF Map Header using MCEHED; to
            merge the edited data back into the DTI file using  DTEDIFF  with  the
            /MERGE qualifier, and finally to convert the DTI file to a DTED format
            magnetic tape using DTI2DTED.


  DTMCONVERT (2.7): DTEDIFF                                               Page 5-4
  UTILITY DTEDIFF                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m

  [1m$[0m [1mDTEDIFF/LOG/MERGE[0m [1mDAVECTED4.DTI[0m [1mDFAD1.IFF<CR>[0m
  Merging IFF file LSL$IF:DFAD1.IFF;0
     into DTI file LSL$DTI:DAVECTED4.DTI;0
   
  Security code descriptor                           R
  Security handling descriptor                       LASER-SCAN EYES ONLY
  Series designator - task                           DFAD
  Series designator - level                          1
  Unique reference code                              UK SQUARE 79
  Data edition number                                00
  Match/merge version                                A
  Maintenance date                                    0 0
  Match/merge date                                    0 0
  Maintenance description code                       0000
  Producer code                                      UKMODMCE
  Product spec stock number                          SPECXDLMS
  Product spec change number                         00
  Product spec date                                  77 7
  Vertical datum                                        
  Horizontal datum                                   WGS72
  Digitising collection system                       FREESCAN  
  Compilation date                                   7810
  Manuscript origin (lat)                            5759 0.0N
  Manuscript origin (long)                             5 1 0.0W
  South west corner (lat)                            58 0 0N
  South west corner (long)                             5 0 0W
  North west corner (lat)                            59 0 0N
  North west corner (long)                             5 0 0W
  North east corner (lat)                            59 0 0N
  North east corner (long)                             4 0 0W
  South east corner (lat)                            58 0 0N
  South east corner (long)                             4 0 0W
  Clockwise orientation of data                        0 0 0.0
  Latitude interval                                  0000
  Longitude interval                                 0000
  Number of latitude lines                           0000
  Number of longitude lines                          0000
  Partial cell indicator                             00
  Absolute horizontal accuracy                       0050
  Absolute vertical accuracy                         0000
  Relative horizontal accuracy                       0025
  Relative vertical accuracy                         0000
  Number of accuracy subregions                      02
   ELAPSED:    0 00:00:05.12  CPU: 0:00:01.14  BUFIO: 49  DIRIO: 14  FAULTS: 155 


  In this example, /MERGE is specified so that Map Header and accuracy region data
  from  layer  0  of the IFF file is transferred to the DSI and ACC records of the
  DTED DTI file.  The /LOG qualifier is used to output header information  to  the
  terminal.


  DTMCONVERT (2.7): DTEDIFF                                               Page 5-5
  UTILITY DTEDIFF                                                 18 December 1996


  [1m$[0m [1mDTEDIFF/LOG/NOMER[0m [1mDAVECTED4.DTI[0m [1mDAVEC.IFF<CR>[0m
  Creating IFF file LSL$IF:DAVEC.IFF
      from DTI file LSL$DTI:DAVECTED4.DTI;0
   
  %LSLLIB-I-IFFOPENED, DUA0:[MCE.IFF]DAVEC.IFF;17 opened for write
  Security code descriptor                           R
  Security/release control                           
  Security handling descriptor                       LASER-SCAN EYES ONLY
  Series designator - task                           DFAD
  Series designator - level                          1
  Unique reference code                              UK SQUARE 79   
  Data edition number                                0
  Match/merge version                                A
  Maintenance date                                   unset
  Match/merge date                                   unset
  Maintenance description code                       0000
  Producer code                                      UKMODMCE
  Product spec stock number                          SPECXDLMS
  Product spec change number                         0
  Product spec date                                   1-Jul-1977
  Vertical datum                                        
  Horizontal datum                                   WGS72
  Digitising collection system                       FREESCAN  
  Compilation date                                    1-Oct-1978
  Manuscript origin (lat)                               57 59  0.0
  Manuscript origin (long)                              -5  1  0.0
  South west corner (lat)                               58  0  0.0
  South west corner (long)                              -5  0  0.0
  North west corner (lat)                               59  0  0.0
  North west corner (long)                              -5  0  0.0
  North east corner (lat)                               59  0  0.0
  North east corner (long)                              -4  0  0.0
  South east corner (lat)                               58  0  0.0
  South east corner (long)                              -4  0  0.0
  Clockwise orientation of data                          0  0  0.0
  Latitude interval                                  0
  Longitude interval                                 0
  Number of latitude lines                           0
  Number of longitude lines                          0
  Partial cell indicator                             0

  Absolute horizontal accuracy                       50
  Absolute vertical accuracy                         0
  Relative horizontal accuracy                       25
  Relative vertical accuracy                         0
  Number of accuracy subregions                      2
  Reading polygon 1
  Angle 1(2) of region 1   58  0  0.0
   offset      600
  Angle 1(1) of region 1   -5  0  0.0
   offset      600
  Angle 2(2) of region 1   58  0  0.0
   offset      600
  Angle 2(1) of region 1   -4 30  0.0
   offset    18600
  Angle 3(2) of region 1   59  0  0.0


  DTMCONVERT (2.7): DTEDIFF                                               Page 5-6
  UTILITY DTEDIFF                                                 18 December 1996


   offset    36600
  Angle 3(1) of region 1   -4 30  0.0
   offset    18600
  Angle 4(2) of region 1   59  0  0.0
   offset    36600
  Angle 4(1) of region 1   -5  0  0.0
   offset      600
  absh  50 absv   0 relh  25 relv   0
  Reading polygon 2
  Angle 1(2) of region 2   58  0  0.0
   offset      600
  Angle 1(1) of region 2   -4 30  0.0
   offset    18600
  Angle 2(2) of region 2   58  0  0.0
   offset      600
  Angle 2(1) of region 2   -4  0  0.0
   offset    36600
  Angle 3(2) of region 2   59  0  0.0
   offset    36600
  Angle 3(1) of region 2   -4  0  0.0
   offset    36600
  Angle 4(2) of region 2   59  0  0.0
   offset    36600
  Angle 4(1) of region 2   -4 30  0.0
   offset    18600
  absh  40 absv   0 relh  20 relv   0


  In this example, /NOMERGE is specified so data read from the DSI and ACC records
  of  a DTI file, are transferred to a MCE Map Header and to layer 0, of a created
  IFF file.  The /LOG qualifier is  used  to  output  header  information  to  the
  terminal.



  DTMCONVERT (2.7): DTEDIFF                                               Page 5-7
                                                                  18 December 1996







                                  [1mDTEDIFF messages[0m


  DTMCONVERT (2.7): DTEDIFF                                               Page 5-8
  MESSAGES (SUCCESS)                                              18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(SUCCESS)[0m

  These messages are used to indicate that the program has succeeded in performing
  some action, and do not require any user action.

  NORMAL, DTEDIFF normal successful completion

      [1mExplanation:[0m  The utility completed successfully

      [1mUser[0m [1maction:[0m  None


  DTMCONVERT (2.7): DTEDIFF                                               Page 5-9
  MESSAGES (ERROR)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  ACCBADAC, ACC Region with an invalid AC field entry

      [1mExplanation:[0m  The ACC region has an invalid relative or absolute  horizontal
      or vertical accuracy entry.

      [1mUser[0m [1maction:[0m  Check the structure of the accuracy region

  ACCBADCOORD, ACC Region with an invalid coordinate point

      [1mExplanation:[0m  An invalid latitude or longitude  coordinate  point  has  been
      found  for  an  accuracy  region.  The coordinate is either too small or too
      large

      [1mUser[0m [1maction:[0m  Check the structure of the accuracy region

  ACCBADFORMAT, ACC Region with an invalid field entry

      [1mExplanation:[0m  The accuracy region defined in the ACC record has  an  invalid
      format

      [1mUser[0m [1maction:[0m  Check the structure of the DTI ACC record

  ACCBADREGION, ACC Region is not valid

      [1mExplanation:[0m   The  ACC  accuracy  region  does  not  conform  to  the  DLMS
      specification for an accuracy region

      [1mUser[0m [1maction:[0m  Check the structure of the accuracy region

  ACCNOAC, ACC Region without an AC entry

      [1mExplanation:[0m  The ACC region has no AC entry, and therefore the relative  or
      absolute horizontal or vertical accuracy cannot be read.

      [1mUser[0m [1maction:[0m  Check the structure of the accuracy region

  ACCNOST, ACC Region without an ST entry

      [1mExplanation:[0m  The ACC region has no ST entry, and therefore the  coordinates
      of the accuracy region cannot be determined

      [1mUser[0m [1maction:[0m  Check the structure of the accuracy region


  DTMCONVERT (2.7): DTEDIFF                                              Page 5-10
  MESSAGES (ERROR)                                                18 December 1996


  ACCNOTNF, Layer 0 contains no NF entry

      [1mExplanation:[0m  No NF entry was found in layer 0 of the IFF file.  DTEDIFF  is
      therefore unable to read an accuracy data

      [1mUser[0m [1maction:[0m  Check the structure of the accuracy region

  ACCTOOFEWPTS, ACC Region with too few coordinate points

      [1mExplanation:[0m  The ACC accuracy region is defined  with  too  few  coordinate
      points.  An accuracy region should have at least 3 points

      [1mUser[0m [1maction:[0m  Check the structure of the accuracy region

  ACCTOOMNYPTS, ACC Region with too many coordinate points

      [1mExplanation:[0m  The ACC accuracy region is defined with  too  many  coordinate
      points.  An accuracy region should have no more than 14 points

      [1mUser[0m [1maction:[0m  Check the structure of the accuracy region

  ACCTOOMNYREGS, Too many accuracy regions

      [1mExplanation:[0m  Too many accuracy regions have been found.   The  file  should
      contain do more than 9 accuracy regions

      [1mUser[0m [1maction:[0m  Check the structure of IFF or DTI file

  BADACCFIELD, Invalid ACC record field value

      [1mExplanation:[0m  An invalid ACC record field value has  been  detected  in  the
      input DTI file.  DTEDIFF is unable to proceed.

      [1mUser[0m [1maction:[0m  Check the structure of the ACC record in the DTI file

  BADACCREGVAL, Invalid ACC region value

      [1mExplanation:[0m  An invalid accuracy region value  has  been  detected  in  the
      input IFF file.  DTEDIFF is unable to proceed.

      [1mUser[0m [1maction:[0m  Check the structure of the input IFF file

  BADACCSENT, Invalid ACC sentinel

      [1mExplanation:[0m  An invalid ACC record sentinel has been detected in the  input
      DTI file.  The sentinel should be ACC.  DTEDIFF is unable to proceed.

      [1mUser[0m [1maction:[0m  Check the structure of the ACC record in the DTI file


  DTMCONVERT (2.7): DTEDIFF                                              Page 5-11
  MESSAGES (ERROR)                                                18 December 1996


  BADDSIFIELD, Invalid DSI record field value

      [1mExplanation:[0m  An invalid DSI record field value has  been  detected  in  the
      input DTI file.  DTEDIFF is unable to proceed.

      [1mUser[0m [1maction:[0m  Check the structure of the DSI record in the DTI file

  BADDSISENT, Invalid DSI sentinel

      [1mExplanation:[0m  An invalid DSI record sentinel has been detected in the  input
      DTI file.  The sentinel should be DSI.  DTEDIFF is unable to proceed.

      [1mUser[0m [1maction:[0m  Check the structure of the DSI record in the DTI file

  BADFACORDER, Layer 0 features not in ascending FAC order

      [1mExplanation:[0m  The accuracy features in layer 0 of the IFF file should be  in
      ascending FAC (FSN) order.

      [1mUser[0m [1maction:[0m  Use the IMP utility ISORT to sort the features into FSN order

  BADMHSIZE, The IFF Map Header has an incorrect length

      [1mExplanation:[0m  The Map Header in the input IFF file is corrupt.   The  length
      should be 174 bytes

      [1mUser[0m [1maction:[0m  Check the utility that was used to create the IFF file

  BADMHTYPE, The IFF Map Header is not a MCE type header

      [1mExplanation:[0m  The Map Header in the input IFF file is not a MCE type  header
      (type 1).  DTEDIFF will only read information from a MCE header

      [1mUser[0m [1maction:[0m  Check that the correct file has been submitted to DTEDIFF.

  BADTRANSFER, Data transfer has been abandoned

      [1mExplanation:[0m  DTEDIFF is unable to transfer data between  the  DTI  and  IFF
      files.   The  message  preceeding  this message will indicate the reason for
      abandoning data transfer

      [1mUser[0m [1maction:[0m  As for the preceeding message

  DTINOTTED4, DTI file does not have a TED4 header structure

      [1mExplanation:[0m  The input DTI file is not a  DTED  file  with  a  TED4  header
      structure.  DTEDIFF can only read DSI and ACC information from a TED4 file

      [1mUser[0m [1maction:[0m  Check that the correct file has been submitted to DTEDIFF.


  DTMCONVERT (2.7): DTEDIFF                                              Page 5-12
  MESSAGES (ERROR)                                                18 December 1996


  DUPLAYZERO, More than 1 layer 0 present in the IFF file

      [1mExplanation:[0m  The input IFF file contains more than 1 layer 0.  This  is  an
      invalid IFF structure

      [1mUser[0m [1maction:[0m  Check the utility that was used to create the IFF file

  IFFREAD, Unable to read IFF entry

      [1mExplanation:[0m  An error has occurred whilst reading an entry in the input IFF
      file.  This indicates that the file has an incorrect structure

      [1mUser[0m [1maction:[0m  Check the structure of the input IFF file

  MISSINGEF, No EF entry found

      [1mExplanation:[0m  No EF entry terminating an accuracy region was found in  layer
      0  of  the  input  IFF  file.   The  structure  of the IFF file is therefore
      incorrect.

      [1mUser[0m [1maction:[0m  Check the structure of the input IFF file

  MISSINGEO, No EO entry found

      [1mExplanation:[0m  No EO entry terminating layer 0 was found  in  the  input  IFF
      file.  The structure of the IFF file is therefore incorrect.

      [1mUser[0m [1maction:[0m  Check the structure of the input IFF file

  NOLAYZERO, No Layer 0 found

      [1mExplanation:[0m  The input IFF file did not contain  a  layer  0.   DTEDIFF  is
      therefore unable to transfer accuracy region data to the DTI file

      [1mUser[0m [1maction:[0m  Check the structure of the input IFF file

  NOMH, No Map Header (MH) entry found

      [1mExplanation:[0m  The input IFF file did not contain a  MH  entry.   DTEDIFF  is
      therefore unable to transfer header data to the DTI file

      [1mUser[0m [1maction:[0m  Check the structure of the input IFF file

  NOTFEATONE, Accuracy feature with FSN 1 not found in layer 0

      [1mExplanation:[0m  The first accuracy feature found in layer 0 should be FSN 1

      [1mUser[0m [1maction:[0m  Check the structure of the input IFF file


  DTMCONVERT (2.7): DTEDIFF                                              Page 5-13
  MESSAGES (ERROR)                                                18 December 1996


  UNEXPEOF, End of IFF file unexpectedly encountered

      [1mExplanation:[0m  The end of the input IFF file  was  unexpectedly  encountered.
      This  indicates that the file has an incorrect structure, and may be missing
      certain IFF entries.

      [1mUser[0m [1maction:[0m  Check the structure of the input IFF file


  DTMCONVERT (2.7): DTEDIFF                                              Page 5-14
  MESSAGES (OTHER)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages may be generated  by  the  DTILIB
  library  and by the Laser-Scan I/O library, LSLLIB.  DTILIB library messages are
  introduced by '%DTILIB' and are  documented  in  the  MATRIX  package  reference
  manual.   In most cases DTI errors will be due to a corrupt input file, and this
  should be the first area of investigation.  If the cause of the error cannot  be
  traced by the user, and Laser-Scan are consulted, then the output file should be
  preserved to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'
  and  are  generally  self-explanatory.   They are used to explain the details of
  program generated errors.














                                     CHAPTER 6

                                   MODULE IIS2DTI





  DTMCONVERT (2.7): IIS2DTI                                               Page 6-1
  UTILITY IIS2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mUTILITY[0m [1mIIS2DTI[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  IIS2DTI is a new utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            IIS2DTI is a utility to convert raster data in  International  Imaging
            System's (IIS) system 500 format to a Laser-Scan Digital Terrain Image
            (DTI) file.  The normal form of the conversion reads data arranged  in
            512  byte  swaths  throughout  the  dataset,  in 512 byte fixed length
            records on disc.

            It also converts data in an extension of the normal 500  format  where
            the  data  is  arranged  in  scan lines across the input file in fixed
            length disc records with the number of  bytes  per  record  being  the
            number  of  columns in the input dataset (ie.  one single swath across
            the dataset).

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ IIS2DTI infile-spec outfile-spec columns rows

            [1mCommand[0m [1mqualifiers[0m                       [1mDefaults[0m
            /BYTE                                    /BYTE
            /HEADER                                  /HEADER = 1
            /SHORT                                   no /SHORT
            /LONG                                    no /LONG
            /WIDTH                                   no /WIDTH


  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            Input IIS-file:          Input-IIS-file-spec
            Output DTI-file:         Output-DTI-file-spec
            Number of rows:          Number of rows in IIS file
            Number of columns:       Number of columns in IIS file


  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  Input-IIS-file-spec

          - specifies the input IIS file.  Any  part  of  the  file  specification
            which  is  not  supplied will be taken from the default specification:
            'LSL$DTI:IIS.IIS'.


  DTMCONVERT (2.7): IIS2DTI                                               Page 6-2
  UTILITY IIS2DTI                                                 18 December 1996


  Output-DTI-file-spec

          - specifies the output DTI file.  Any part  of  the  file  specification
            which  is  not  supplied will be taken from the default specification:
            'LSL$DTI:DTI.DTI'.

  rows

          - specifies the number of rows in the IIS file which are to be converted
            into DTI format.

  columns

          - specifies the number of columns in  the  IIS  file  which  are  to  be
            converted into DTI format.

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m



  /BYTE

          - Specifies that the data to be read and written is in BYTE format  (the
            default).



  /HEADER

          - Specifies how many 512 byte header blocks to expect in  the  IIS  file
            before the actual data.  The default number is one.



  /LONG

          - Specifies that the data to be read and written is in INTEGER*4 format.



  /SHORT

          - Specifies that the data to be read and written is in INTEGER*2 format.



  /WIDTH

          - Specifies the block size for the 500 format extension (with one  swath
            covering  the  whole input file).  The /WIDTH qualifier specifies that
            the record block size is different from the default of 512,  in  which
            case the data is expected to represent one single swath, and the width
            must be the same as the number of columns in the dataset.  Parameter 4
            is therefore not required with the /WIDTH qualifier.


  DTMCONVERT (2.7): IIS2DTI                                               Page 6-3
  UTILITY IIS2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m



  IIS2DTI is a utility to convert raster data in  International  Imaging  System's
  (IIS)  system  500  format  to  a  Laser-Scan  Digital Terrain Image (DTI) file.
  System 500 data files are composed of swaths, each 512 bytes  in  width.   These
  swaths  run  from the top of the image to the bottom.  The data order within the
  file is the top row of the first swath followed consecutively by the rest of the
  swath.   This  is  then repeated for each swath in turn until the whole width of
  the image is covered.  It should be remembered that the number of actual  values
  per  swath  width  will  depend  upon the data type in the file, (i.e.  512 BYTE
  values, 256 INTEGER*2 values and 128 INTEGER*4 values).  The data is  stored  in
  512 byte fixed length records on disc.

  The program also converts data in an extension of the normal  500  format  where
  the  data  is  arranged in scan lines across the input file in fixed length disc
  records, with the number of bytes per  record  being  equal  to  the  number  of
  columns  in  the  input  dataset (ie.  one single swath down the dataset).  This
  extension is only usable for byte data (the default datatype), and  is  obtained
  by using the /WIDTH = record_length qualifier.

  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  The only data types which can currently  be  converted  are  BYTE,
                INTEGER*2 and INTEGER*4.  Real values are not transferable.

             o  IIS system 600 is not currently supported.  There are resident IIS
                functions  (diskenter  and disktransfer) to convert between system
                600 and system 500.


  DTMCONVERT (2.7): IIS2DTI                                               Page 6-4
  UTILITY IIS2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m

   $ [1mIIS2DTI[0m [1mCOVERMAP[0m [1mCOVERMAP[0m [1m420[0m [1m401[0m [1m/SHORT[0m 


            %I2D-I-NUMCOLSWA, 100 Columns of swath 1 written successfully
            %I2D-I-NUMCOLSWA, 200 Columns of swath 1 written successfully
            %I2D-I-NUMCOLSWA, 300 Columns of swath 1 written successfully
            %I2D-I-NUMCOLSWA, 400 Columns of swath 1 written successfully
            %I2D-I-NUMCOLSWA, 100 Columns of swath 2 written successfully
            %I2D-I-NUMCOLSWA, 200 Columns of swath 2 written successfully
            %I2D-I-NUMCOLSWA, 300 Columns of swath 2 written successfully
            %I2D-I-NUMCOLSWA, 400 Columns of swath 2 written successfully

             ELAPSED:    0 00:01:53.24  CPU: 0:0:36.93  BUFIO: 4  DIRIO: 501
            FAULTS: 990 


  In this example the input IIS file is 420 rows by 401 columns.  Each data  value
  is a short integer.  The DTI file created as output will also be 420 rows by 401
  columns  of  short  integers.   The  informational  messages  provide  continual
  reassurance  of  the extent of the conversion.  It can be seen that the DTI file
  is written out one IIS swath at  a  time.   As  the  data  in  this  example  is
  INTEGER*2  the  swath width is 256 values wide (512 bytes) and so two swaths are
  needed to cover the data area.



  DTMCONVERT (2.7): IIS2DTI                                               Page 6-5
  MESSAGES (SUCCESS)                                              18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(SUCCESS)[0m

  These messages are used to indicate that the program has succeeded in performing
  some action, and do not require any user action.

  NORMAL, Normal successful completion.

      [1mExplanation:[0m  Indicates that the routine has completed without  encountering
      any fatal errors.

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): IIS2DTI                                               Page 6-6
  MESSAGES (INFORMATIONAL)                                        18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  NUMCOLSWA, 'integer' columns of swath 'integer' written successfully

      [1mExplanation:[0m  A multiple of a hundred rows has been written to the  selected
      DTI file.

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): IIS2DTI                                               Page 6-7
  MESSAGES (ERROR)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  READIISERR, Unable to read from IIS file

      [1mExplanation:[0m  An attempt to read from the specified IIS file has failed.

      [1mUser[0m [1maction:[0m  None.

  UNACLODTI, Unable to close DTI file

      [1mExplanation:[0m  The specified DTI file has been  written  to,  but  cannot  be
      closed.

      [1mUser[0m [1maction:[0m  None.

  UNACLOIIS, Unable to close IIS file

      [1mExplanation:[0m  The specified IIS file has  been  read  from,  but  cannot  be
      closed.

      [1mUser[0m [1maction:[0m  None.

  UNAOPNDTI, Unable to open DTI file

      [1mExplanation:[0m  The DTI file specifed by the user could not be opened.

      [1mUser[0m [1maction:[0m  None.

  UNAOPNIIS, Unable to open IIS file

      [1mExplanation:[0m  The IIS file specified by the user could not be opened.

      [1mUser[0m [1maction:[0m  None.

  UNAPCHDTI, Unable to patch DTI range

      [1mExplanation:[0m  The calculation of the minimum and maximum values in  the  DTI
      file and their subsequent writing to the DTI header was unsuccessful.

      [1mUser[0m [1maction:[0m  None.

  UNAWRIDTI, Unable to write to DTI file

      [1mExplanation:[0m  An attempt to write to the specified DTI file has failed.

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): IIS2DTI                                               Page 6-8
  MESSAGES (ERROR)                                                18 December 1996


  USPDATTYP, Unsupported data type

      [1mExplanation:[0m  The user has replied in the negative to all  of  the  possible
      data  types,  therefore  there  has  been  a  mistake  or  the  data type is
      unsupported.

      [1mUser[0m [1maction:[0m  Run the program again and choose one of the available types.


  DTMCONVERT (2.7): IIS2DTI                                               Page 6-9
  MESSAGES (OTHER)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages may be generated  by  the  DTILIB
  library  and by the Laser-Scan I/O library, LSLLIB.  DTILIB library messages are
  introduced by '%DTILIB' and are  documented  in  the  MATRIX  package  reference
  manual.   In most cases DTI errors will be due to a corrupt input file, and this
  should be the first area of investigation.  If the cause of the error cannot  be
  traced by the user, and Laser-Scan are consulted, then the output file should be
  preserved to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'
  and  are  generally  self-explanatory.   They are used to explain the details of
  program generated errors.














                                     CHAPTER 7

                                   MODULE DTI2IIS





  DTMCONVERT (2.7): DTI2IIS                                               Page 7-1
  UTILITY DTI2IIS                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mUTILITY[0m [1mDTI2IIS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  DTI2IIS is a new utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTI2IIS is a utility to convert raster data in a  Laser  Scan  Digital
            Terrain  Image  (DTI)  file  to  International  Imaging System's (IIS)
            system 500 format.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

             $DTI2IIS infile-spec outfile-spec 

            [1mCommand[0m [1mqualifiers[0m                       [1mDefaults[0m
            /BYTE                                    /BYTE
            /HEADER                                  /HEADER = 1
            /SHORT                                   not /SHORT
            LONG                                     not /LONG



  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            Input-DTI-file:           Input-DTI-file-spec
            Output-IIS-file:          Output-IIS-file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  Input-DTI-file-spec

          - specifies the input DTI file.  Any  part  of  the  file  specification
            which  is  not  supplied will be taken from the default specification:
            'LSL$DTI:DTI.DTI'.

  Output-IIS-file-spec

          - specifies the output IIS file.  Any part  of  the  file  specification
            which  is  not  supplied will be taken from the default specification:
            'LSL$DTI:IIS.IIS'.


  DTMCONVERT (2.7): DTI2IIS                                               Page 7-2
  UTILITY DTI2IIS                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m



  /BYTE

          - Specifies that the data to be read and written is in BYTE format  (the
            default).



  /HEADER

          - Specifies how many 512 byte header blocks (empty) to write to the  IIS
            file before the actual data.  The default number is one.



  /LONG

          - Specifies that the data to be read and written is in INTEGER*4 format.



  /SHORT

          - Specifies that the data to be read and written is in INTEGER*2 format.
  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m



  DTI2IIS is a utility to convert raster data in  a  Laser  Scan  Digital  Terrain
  Image  (DTI)  file  to  International  Imaging System's (IIS) system 500 format.
  System 500 data files are composed of swaths, each 512 bytes  in  width.   These
  swaths  run  from the top of the image to the bottom.  The data order within the
  file is the top row of the first swath followed consecutively by the rest of the
  swath.   This  is  then repeated for each swath in turn until the whole width of
  the image is covered.  It should be remembered that the number of actual  values
  per  swath  width  will  depend  upon the data type in the file, (i.e.  512 BYTE
  values, 256 INTEGER*2 values and 128 INTEGER*4 values).


  DTMCONVERT (2.7): DTI2IIS                                               Page 7-3
  UTILITY DTI2IIS                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  The only data types which can currently  be  converted  are  BYTE,
                INTEGER*2   and   INTEGER*4.    Real   values  are  not  currently
                transferable.

             o  IIS system 600 is not currently supported.  There are resident IIS
                functions  (diskenter and disktransfer) to readily convert between
                system 600 and system 500.


  DTMCONVERT (2.7): DTI2IIS                                               Page 7-4
  UTILITY DTI2IIS                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m

   $ [1mDTI2IIS[0m [1mCOVERMAP[0m [1mCOVERMAP[0m [1m/SHORT[0m


            [1m%I2D-I-NUMCOLSWA,[0m [1m100[0m [1mColumns[0m [1mof[0m [1mswath[0m [1m1[0m [1mwritten[0m [1msuccessfully[0m
            [1m%I2D-I-NUMCOLSWA,[0m [1m200[0m [1mColumns[0m [1mof[0m [1mswath[0m [1m1[0m [1mwritten[0m [1msuccessfully[0m
            [1m%I2D-I-NUMCOLSWA,[0m [1m300[0m [1mColumns[0m [1mof[0m [1mswath[0m [1m1[0m [1mwritten[0m [1msuccessfully[0m
            [1m%I2D-I-NUMCOLSWA,[0m [1m400[0m [1mColumns[0m [1mof[0m [1mswath[0m [1m1[0m [1mwritten[0m [1msuccessfully[0m
            [1m%I2D-I-NUMCOLSWA,[0m [1m100[0m [1mColumns[0m [1mof[0m [1mswath[0m [1m2[0m [1mwritten[0m [1msuccessfully[0m
            [1m%I2D-I-NUMCOLSWA,[0m [1m200[0m [1mColumns[0m [1mof[0m [1mswath[0m [1m2[0m [1mwritten[0m [1msuccessfully[0m
            [1m%I2D-I-NUMCOLSWA,[0m [1m300[0m [1mColumns[0m [1mof[0m [1mswath[0m [1m2[0m [1mwritten[0m [1msuccessfully[0m
            [1m%I2D-I-NUMCOLSWA,[0m [1m400[0m [1mColumns[0m [1mof[0m [1mswath[0m [1m2[0m [1mwritten[0m [1msuccessfully[0m

             [1mELAPSED:[0m    [1m0[0m [1m00:01:53.24[0m  [1mCPU:[0m [1m0:0:36.93[0m  [1mBUFIO:[0m [1m4[0m  [1mDIRIO:[0m [1m501[0m
            [1mFAULTS:[0m [1m990[0m 


  [1mIn[0m [1mthis[0m [1mexample,[0m [1ma[0m [1mdata[0m [1mvalue[0m [1min[0m [1mthe[0m [1mIIS[0m [1mfile[0m [1mis[0m [1mheld[0m [1mand[0m [1mconverted[0m [1mas[0m  [1ma[0m  [1mshort[0m
  [1minteger.[0m   [1mA[0m  [1mDTI[0m  [1mfile[0m [1mcontaining[0m [1mword[0m [1mdata[0m [1mwill[0m [1mbe[0m [1mcreated.[0m  [1mThe[0m [1minformational[0m
  [1mmessages[0m [1mprovide[0m [1mcontinual[0m [1mreassurance[0m [1mof[0m [1mthe[0m [1mextent[0m [1mof[0m [1mthe[0m [1mconversion.[0m  [1mIt[0m  [1mcan[0m
  [1mbe[0m  [1mseen[0m  [1mthat[0m  [1mthe[0m [1mIIS[0m [1mfile[0m [1mis[0m [1mwritten[0m [1mout[0m [1mone[0m [1mswath[0m [1mat[0m [1ma[0m [1mtime.[0m  [1mAs[0m [1mthe[0m [1mdata[0m [1min[0m
  [1mthis[0m [1mexample[0m [1mis[0m [1mINTEGER*2[0m [1mthe[0m [1mswath[0m [1mwidth[0m [1mis[0m [1m256[0m [1mvalues[0m [1mwide[0m [1m(512[0m [1mbytes)[0m [1mand[0m  [1mso[0m
  [1mtwo[0m [1mswaths[0m [1mare[0m [1mneeded[0m [1mto[0m [1mcover[0m [1mthe[0m [1mdata[0m [1marea.[0m



  DTMCONVERT (2.7): DTI2IIS                                               Page 7-5
  [1mMESSAGES[0m [1m(SUCCESS)[0m                                              18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(SUCCESS)[0m

  These messages are used to indicate that the program has succeeded in performing
  some action, and do not require any user action.

  NORMAL, Normal successful completion

      [1mExplanation:[0m  Indicates that the routine has completed without  encountering
      any fatal errors.

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): DTI2IIS                                               Page 7-6
  MESSAGES (INFORMATIONAL)                                        18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  EXTENT, The DTI file is 'integer' columns by 'integer' rows.

      [1mExplanation:[0m  This is the actual extent of the DTI file.

      [1mUser[0m [1maction:[0m  None.

  HEIGHT, Height range of the DTI file is 'integer' to 'integer'

      [1mExplanation:[0m  This is the range of minimum and maximum height values in  the
      file.

      [1mUser[0m [1maction:[0m  None.

  NUMCOLSWA, 'integer' columns of swath 'integer' written successfully

      [1mExplanation:[0m  A multiple of a hundred rows has been written to the  selected
      DTI file.

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): DTI2IIS                                               Page 7-7
  MESSAGES (ERROR)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  DTIREADERR, Unable to read from DTI file

      [1mExplanation:[0m  An attempt to read from the specified DTI file has failed.

      [1mUser[0m [1maction:[0m  Check that the DTI file is not corrupt.

  ERRREAHEA, Error reading DTI header.

      [1mExplanation:[0m  An error occured whilst reading from  the  DTI  header.   This
      possibly suggests that the file is corrupt.

      [1mUser[0m [1maction:[0m  Try to ascertain the nature of the corruption and  remedy  it.
      Alternatively recreate the DTI file if this is possible.

  UNACLODTI, Unable to close DTI file

      [1mExplanation:[0m  The specified DTI file has  been  read  from,  but  cannot  be
      closed.

      [1mUser[0m [1maction:[0m  None.

  UNACLOIIS, Unable to close IIS file

      [1mExplanation:[0m  The specified IIS file has  been  writen  to,  but  cannot  be
      closed.

      [1mUser[0m [1maction:[0m  None.

  UNAOPNDTI, Unable to open DTI file

      [1mExplanation:[0m  The DTI file specifed by the user could not be opened.

      [1mUser[0m [1maction:[0m  Check  the  file  specification  -  remember  the  default  is
      LSL$DTI:DTI.DTI.

  UNAOPNIIS, Unable to open IIS file

      [1mExplanation:[0m  The IIS file specified by the user could not be opened.

      [1mUser[0m [1maction:[0m  Check  the  file  specification  -  remember  the  default  is
      LSL$DTI:IIS.IIS.


  DTMCONVERT (2.7): DTI2IIS                                               Page 7-8
  MESSAGES (ERROR)                                                18 December 1996


  UNAWRIIIS, Unable to write to IIS file

      [1mExplanation:[0m  An attempt to write to the specified IIS file has failed.

      [1mUser[0m [1maction:[0m   Check  file  specification  and  protection  applied  to  the
      specified file.


  DTMCONVERT (2.7): DTI2IIS                                               Page 7-9
  MESSAGES (OTHER)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages may be generated  by  the  DTILIB
  library  and by the Laser-Scan I/O library, LSLLIB.  DTILIB library messages are
  introduced by '%DTILIB' and are  documented  in  the  MATRIX  package  reference
  manual.   In most cases DTI errors will be due to a corrupt input file, and this
  should be the first area of investigation.  If the cause of the error cannot  be
  traced by the user, and Laser-Scan are consulted, then the output file should be
  preserved to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'
  and  are  generally  self-explanatory.   They are used to explain the details of
  program generated errors.














                                     CHAPTER 8

                                   MODULE DEM2DTI





  DTMCONVERT (2.7): DEM2DTI                                               Page 8-1
  UTILITY DEM2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mUTILITY[0m [1mDEM2DTI[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  DEM2DTI is a new utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DEM2DTI is a utility to convert a USGS  DEM  (U.S  Geological  Survey,
            Digital  Elevation  Model)  data  file  held  on  tape  or disk into a
            Laser-Scan DTI (Digital Terrain Image) disk file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DEM2DTI DEM-file-spec DTI-file-spec

            [1mCommand[0m [1mqualifiers[0m                     [1mDefaults[0m

            /[NO]LOG                              /NOLOG
            /[NO]VALIDATE                         /NOVALIDATE
            /[NO]HEADER                           /NOHEADER
            /BLOCKSIZE = integer                  /BLOCKSIZE = 4096


  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            Input DEM-file:          Input-DEM-file-spec
            Output DTI-file:         Output-DTI-file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  Input-DEM-file-spec

          - specifies the input DEM file.  If a magtape device name is given (e.g.
            MUA0:)  the  DEM  is  read  from  the  tape  mounted  on  that device.
            Otherwise the file specification is assumed to be a disk file and  any
            part of the specification which is not supplied will be taken from the
            default:  'SYS$DISK:.DEM;0'.

  Output-DTI-file-spec

          - specifies the output DTI file.  Any part  of  the  file  specification
            which  is  not  supplied will be taken from the default specification:
            'LSL$DTI:.DTI;0'.


  DTMCONVERT (2.7): DEM2DTI                                               Page 8-2
  UTILITY DEM2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m



  /LOG
  /NOLOG (default)

          - /LOG selects the output of informational messages derived from the DEM
            and DTI headers.  Messages are written to SYS$OUTPUT.



  /VALIDATE
  /NOVALIDATE (default)

          - Performs a validation check on the elevation data written to  the  DTI
            file.   If  a  datum is encountered which is not within the range read
            from the DEM type A header record then a  warning  message  is  output
            followed  by  an  informational  message  giving  the value of the bad
            datum.



  /HEADER
  /NOHEADER (default)

          - If /HEADER is specified then DEM2DTI expects to  find  a  tape  header
            terminated by an end-of-file before the start of the DEM.  The default
            is to read the DEM from the beginning of the tape.



  /BLOCKSIZE = integer (default = 4096)

          - Specifies the size of the physical blocks on the DEM tape.  The  value
            must  be in the range 1024 - 8192 in steps of 1024 bytes.  The default
            is 4096 byte blocks.


  DTMCONVERT (2.7): DEM2DTI                                               Page 8-3
  UTILITY DEM2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m



            DEM2DTI is a utility to convert data from a  Digital  Elevation  Model
            (DEM)  supplied  either as a tape (distributed by the U.S.  Geological
            Survey) or as a disk file to a Laser-Scan Digital Terrain Image  (DTI)
            file.  Both 7.5-minute and 1-degree coverage DEM's are supported.

            The output DTI file  is  written  with  an  LSLA  type  header  and  a
            projection record which contain detailed information about the Digital
            Elevation Model.  The elevation units of the DTI file  are  always  in
            metres  whereas the ground units depend on the type of DEM being read.
            For a 7.5-minute DEM (1:24000 scale) the units are normally in  metres
            and  the  coordinate system is either Universal Transverse Mercator or
            State Plane.  For a  1-degree  DEM  (1:250000  scale)  the  units  are
            arc-seconds in the geographic (Latitude-Longitude) coordinate system.

            No user input is necessary  to  determine  the  type  of  DEM  as  all
            information  required  is  contained  in  the  DEM type A and B header
            records.  If reading from tape then the size of  the  physical  blocks
            and  the  presence  of a tape volume header record must be known.  The
            /BLOCKSIZE  and  /HEADER  qualifiers  are  provided  to  override  the
            defaults.


  DTMCONVERT (2.7): DEM2DTI                                               Page 8-4
  UTILITY DEM2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  The DEM must conform to the specification as laid down by USGS  in
                the Digital Elevation Models Data Users Guide 5 (1987).

             o  Multivolume datasets are not supported - all  of  the  data  being
                input must fit onto one magnetic tape.

             o  Only DTI files with an LSLA type header and  a  projection  record
                are written.


  DTMCONVERT (2.7): DEM2DTI                                               Page 8-5
  UTILITY DEM2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m

   $ [1mDEM2DTI/LOG/BLOCKSIZE=1024[0m [1mMUB1:[0m [1mHOQUIAM[0m  [1m<CR>[0m


  Initializing tape for read - Please wait.
  Scanning DEM file to determine size of map
  Reading type A record from DEM file 
  %DEM2DTI-I-DEMFILNAM, DEM map name is "HOQUIAM - E                      WA,OR  
          NL10-05E"
  %DEM2DTI-I-DEMLVLCODE, DEM level code is 1
  -DEM2DTI-I-ONEDEGDEM, 1-minute DEM
  Creating DTI file LSL$DTI:HOQUIAM.DTI;0 with LSLA type header
  %DEM2DTI-I-DTICRMAT, DTI file created with matrix x:1201, y:1201
  %DEM2DTI-I-DTIOPEN, DTI file "LSL$DTI:HOQUIAM.DTI;0" opened

  File    :  LSL$DTI:HOQUIAM.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI matrix values

  Matrix Coverage   SW:     1     1  NE:  1201  1201
  Matrix Interval    E:     1         N:     1
  Value Range         :     7   to   2544

  SW corner - Latitude:  46 00 00.000N, Longitude: 123 00 00.000W
   
  Spheroid      :   5 (World Geodetic System 72 (WGS 72))
  Projection    : 100 (Geographic  (ie Lat and Long))
   
  Units         :   3 (seconds of arc)
  Local origin  :      165600.000 (Latitude)     -442800.000 (Longitude)
  Sample values :           3.000 (Latitude)           3.000 (Longitude)
  Rewinding tape - Please wait.
  Initialising DTI data area
  Reading DEM file for transfer to DTI file
  Reading type A record from DEM file 
  Reading type B records from DEM file
  Writing profile #50 at coordinate x:-442656.0, y:165600.0
  Writing profile #100 at coordinate x:-442506.0, y:165600.0
  Writing profile #150 at coordinate x:-442356.0, y:165600.0
  Writing profile #200 at coordinate x:-442206.0, y:165600.0
  Writing profile #250 at coordinate x:-442056.0, y:165600.0
  Writing profile #300 at coordinate x:-441905.96875, y:165600.0
  Writing profile #350 at coordinate x:-441756.0, y:165600.0
  Writing profile #400 at coordinate x:-441606.0, y:165600.0
  Writing profile #450 at coordinate x:-441456.0, y:165600.0
  Writing profile #500 at coordinate x:-441306.0, y:165600.0
  Writing profile #550 at coordinate x:-441156.0, y:165600.0
  Writing profile #600 at coordinate x:-441006.0, y:165600.0
  Writing profile #650 at coordinate x:-440856.0, y:165600.0
  Writing profile #700 at coordinate x:-440705.96875, y:165600.0
  Writing profile #750 at coordinate x:-440556.0, y:165600.0
  Writing profile #800 at coordinate x:-440405.96875, y:165600.0
  Writing profile #850 at coordinate x:-440256.0, y:165600.0


  DTMCONVERT (2.7): DEM2DTI                                               Page 8-6
  UTILITY DEM2DTI                                                 18 December 1996


  Writing profile #900 at coordinate x:-440106.0, y:165600.0
  Writing profile #950 at coordinate x:-439956.0, y:165600.0
  Writing profile #1000 at coordinate x:-439806.0, y:165600.0
  Writing profile #1050 at coordinate x:-439656.0, y:165600.0
  Writing profile #1100 at coordinate x:-439506.0, y:165600.0
  Writing profile #1150 at coordinate x:-439356.0, y:165600.0
  Writing profile #1200 at coordinate x:-439205.96875, y:165600.0
  %DEM2DTI-I-DTICLOSED, DTI file closed
   ELAPSED:    0 00:17:30.92  CPU: 0:12:24.83  BUFIO: 12  DIRIO: 9694  FAULTS:
  10815 



  This example reads a 1-degree DEM from a tape which  has  a  blocksize  of  1024
  bytes  and  is  mounted  (/FOREIGN) on the tape drive MUB1:.  The /LOG qualifier
  displays detailed information about the DEM and the output DTI file.  The output
  is written to the default directory LSL$DTI.

   $ [1mDEM2DTI/LOG/BLOCKSIZE=8192[0m [1mMUB1:[0m [1mVONORE[0m [1m<CR>[0m


  Initializing tape for read - Please wait.
  Scanning DEM file to determine size of map
  Reading type A record from DEM file 
  %DEM2DTI-I-DEMFILNAM, DEM map name is "VONORE"
  %DEM2DTI-I-DEMLVLCODE, DEM level code is 1
  -DEM2DTI-I-SVNMINDEM, 7.5-minute DEM
  Reading type B records from DEM file
  ..record #50 
  ..record #100 
  ..record #150 
  ..record #200 
  ..record #250 
  ..record #300 
  ..record #350 
  Creating DTI file LSL$DTI:VONORE.DTI;0 with LSLA type header
  %DEM2DTI-I-DTICRMAT, DTI file created with matrix x: 391, y: 474
  %DEM2DTI-I-DTIOPEN, DTI file "LSL$DTI:VONORE.DTI;0" opened

  File    :  LSL$DTI:VONORE.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are metres

  Matrix Coverage   SW:  749070.00 3931800.00    NE:  760770.00 3945990.00
  Matrix Interval    E:      30.00                N:      30.00
  Value Range         :   238   to    421

   
  Spheroid      :   0 (Clarke 1866)
  Projection    :   1 (Universal Transverse Mercator)
   
     Zone                                         :   16
   
  Units         :   2 (metres)
  Local origin  :      749070.000 (Eastings)     3931800.000 (Northings)


  DTMCONVERT (2.7): DEM2DTI                                               Page 8-7
  UTILITY DEM2DTI                                                 18 December 1996


  Sample values :          30.000 (Eastings)          30.000 (Northings)
  Rewinding tape - Please wait.
  Initialising DTI data area
  Reading DEM file for transfer to DTI file
  Reading type A record from DEM file 
  Reading type B records from DEM file
  Writing profile #50 at coordinate x:750540.0, y:3931830.0
  Writing profile #100 at coordinate x:752040.0, y:3931860.0
  Writing profile #150 at coordinate x:753540.0, y:3931890.0
  Writing profile #200 at coordinate x:755040.0, y:3931950.0
  Writing profile #250 at coordinate x:756540.0, y:3931980.0
  Writing profile #300 at coordinate x:758040.0, y:3932040.0
  Writing profile #350 at coordinate x:759540.0, y:3932070.0
  %DEM2DTI-I-DTICLOSED, DTI file closed
   ELAPSED:    0 00:03:36.06  CPU: 0:02:30.94  BUFIO: 12  DIRIO: 311  FAULTS: 1278



  The input spec in this case is the same as previously but a  different  tape  is
  read  with  a blocksize of 8192 bytes.  The DEM is a 7.5-minute, 1:24000 map and
  the output DTI file is written to  the  default  LSL$DTI  directory.   The  /LOG
  qualifier  again  displays  detailed information contained in the DEM and in the
  output DTI file header.

  $ [1mDEM2DTI/LOG[0m [1mZYCOR[0m [1mZYCOR[0m [1m<CR>[0m


  %DEM2DTI-I-DEMOPEN, DEM file "SYS$DISK:ZYCOR.DEM;0" opened
  Scanning DEM file to determine size of map
  Reading type A record from DEM file 
  %DEM2DTI-I-DEMFILNAM, DEM map name is "ZYCOR"
  %DEM2DTI-I-DEMLVLCODE, DEM level code is 1
  -DEM2DTI-I-SVNMINDEM, 7.5-minute DEM
  Reading type B records from DEM file
  ..record #50 
  ..record #100 
  ..record #150 
  ..record #200 
  ..record #250 
  ..record #300 
  Creating DTI file SYS$DISK:ZYCOR.DTI;0 with LSLA type header
  %DEM2DTI-I-DTICRMAT, DTI file created with matrix x: 335, y: 464
  %DEM2DTI-I-DTIOPEN, DTI file "SYS$DISK:ZYCOR.DTI;0" opened

  File    :  SYS$DISK:ZYCOR.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are metres

  Matrix Coverage   SW:  529890.00 4899510.00    NE:  539910.00 4913400.00
  Matrix Interval    E:      30.00                N:      30.00
  Value Range         :  1460   to   2686

   
  Spheroid      :   0 (Clarke 1866)
  Projection    :   1 (Universal Transverse Mercator)


  DTMCONVERT (2.7): DEM2DTI                                               Page 8-8
  UTILITY DEM2DTI                                                 18 December 1996


   
     Zone                                         :   18
   
  Units         :   2 (metres)
  Local origin  :      529890.000 (Eastings)     4899510.000 (Northings)
  Sample values :          30.000 (Eastings)          30.000 (Northings)
  Initialising DTI data area
  Reading DEM file for transfer to DTI file
  Reading type A record from DEM file 
  Reading type B records from DEM file
  Writing profile #50 at coordinate x:531360.0, y:4899510.0
  Writing profile #100 at coordinate x:532860.0, y:4899510.0
  Writing profile #150 at coordinate x:534360.0, y:4899540.0
  Writing profile #200 at coordinate x:535860.0, y:4899540.0
  Writing profile #250 at coordinate x:537360.0, y:4899540.0
  Writing profile #300 at coordinate x:538860.0, y:4899540.0
  %DEM2DTI-I-DEMCLOSED, DEM file closed
  %DEM2DTI-I-DTICLOSED, DTI file closed
   ELAPSED:    0 00:04:45.78  CPU: 0:02:17.40  BUFIO: 10  DIRIO: 516  FAULTS: 893 



  This example reads a DEM from a disk file,  the  input  file-spec  being  parsed
  against  the  default  SYS$DISK:.DEM.  The output is to LSL$DTI.  Information on
  the DEM and DTI file is given via the /LOG qualifier.

  $ [1mDEM2DTI[0m [1mZYCOR[0m [1mZYCOR[0m [1m<CR>[0m


  Scanning DEM file to determine size of map
  Reading type A record from DEM file 
  Reading type B records from DEM file
  Creating DTI file LSL$DTI:ZYCOR.DTI;0 with LSLA type header
  Initialising DTI data area
  Reading DEM file for transfer to DTI file
  Reading type A record from DEM file 
  Reading type B records from DEM file
   ELAPSED:    0 00:03:09.30  CPU: 0:02:08.38  BUFIO: 10  DIRIO: 275  FAULTS: 855 



  This example is identical to the previous case  except  the  /LOG  qualifier  is
  missing and hence the default of /NOLOG is used.  Brief information is output to
  reassure the user.



  DTMCONVERT (2.7): DEM2DTI                                               Page 8-9
  MESSAGES (SUCCESS)                                              18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(SUCCESS)[0m

  These messages are used to indicate that the program has succeeded in performing
  some action, and do not require any user action.

  NORMAL, DEM2DTI function return was TRUE (ie success)

      [1mExplanation:[0m  This message is used internally by DEM2DTI to indicate whether
      a subroutine has completed succesfully or not.

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): DEM2DTI                                              Page 8-10
  MESSAGES (INFORMATIONAL)                                        18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  DEMCLOSED, DEM file closed

      [1mExplanation:[0m  This message is output when  the  DEM  output  file  has  been
      successfully closed.

      [1mUser[0m [1maction:[0m  None.

  DEMDSKFIL, DEM specification "'file-spec'" is a disk file

      [1mExplanation:[0m  This message is output if the specified DEM  file  is  a  disk
      file not a magtape device name.

      [1mUser[0m [1maction:[0m  None.

  DEMELEVAL, Elevation datum value is 'integer'

      [1mExplanation:[0m  Additional message following an OUTOFRNG warning to inform the
      user of the elevation datum value which was found to be out of range

      [1mUser[0m [1maction:[0m  None.

  DEMFILNAM, DEM map name is "'string'"

      [1mExplanation:[0m  If /LOG is specified on the command line the program  responds
      with the name of the DEM file read from the type A record.

      [1mUser[0m [1maction:[0m  None.

  DEMLVLCODE, DEM level code is 'integer'

      [1mExplanation:[0m  If /LOG is specified the DEM level code from the type A record
      is output.

      [1mUser[0m [1maction:[0m  None.

  DEMOPEN, DEM file "'file-spec'" opened

      [1mExplanation:[0m  This message is output when  the  DEM  output  file  has  been
      successfully opened.

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): DEM2DTI                                              Page 8-11
  MESSAGES (INFORMATIONAL)                                        18 December 1996


  DTICLOSED, DTI file closed

      [1mExplanation:[0m  This message is output when  the  DTI  output  file  has  been
      successfully closed.

      [1mUser[0m [1maction:[0m  None.

  DTICRMAT, DTI file created with matrix x:'integer', y:'integer'

      [1mExplanation:[0m  Informational message if /LOG is specified on the command line
      telling the user the size of the DTI matrix which has been created

      [1mUser[0m [1maction:[0m  None.

  DTIOPEN, DTI file "'file-spec'" opened

      [1mExplanation:[0m  This message is output when  the  DTI  output  file  has  been
      successfully opened.

      [1mUser[0m [1maction:[0m  None.

  ONEDEGDEM, 1-minute DEM

      [1mExplanation:[0m  Further information to the DEM level code.  Code 3 corresponds
      to a 1-minute DEM.

      [1mUser[0m [1maction:[0m  None.

  SVNMINDEM, 7.5-minute DEM

      [1mExplanation:[0m  Further information to the DEM level  code.   Codes  1  and  2
      correspond to a 7.5-minute DEM.

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): DEM2DTI                                              Page 8-12
  MESSAGES (WARNING)                                              18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  BADBLKSIZ, Illegal blocksize; using default of 'integer' bytes

      [1mExplanation:[0m  An invalid tape blocksize was specified on the  command  line.
      The default of 4096 bytes is used.

      [1mUser[0m [1maction:[0m  None.

  OUTOFRNG, Datum at row:'integer', column:'integer' out of range

      [1mExplanation:[0m  Warning message if /VALIDATION is  specified  on  the  command
      line  indicating that an elevation datum is out of the range read in the DEM
      header.

      [1mUser[0m [1maction:[0m  This message means either a bad elevation datum  or  a  bad  A
      header  record  was read from the DEM.  Check the data and consult the donor
      of the DEM if necessary.


  DTMCONVERT (2.7): DEM2DTI                                              Page 8-13
  MESSAGES (ERROR)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  ABORT, DEM2DTI function return was FALSE (ie error)

      [1mExplanation:[0m  This message is used internally by DEM2DTI to indicate whether
      a subroutine has completed succesfully or not.

      [1mUser[0m [1maction:[0m  None.

  CLOSERR, error closing file "'file-spec'"

      [1mExplanation:[0m  Some form of error occurred in closing one  of  the  input  or
      output files.  The program will exit.

      [1mUser[0m [1maction:[0m  Depends upon the associated LSLLIB messages.

  DTICLOSE, error closeing DTI file "'file-spec'"

      [1mExplanation:[0m  The program encountered an error while trying to close the DTI
      file

      [1mUser[0m [1maction:[0m  Depends upon the error.

  DTICOPYDATA, error writing data values to DTI file

      [1mExplanation:[0m  The program encountered an error while  trying  to  write  the
      data values to the DTI file

      [1mUser[0m [1maction:[0m  Depends upon the error.

  DTICREATE, error trying to open DTI file "'file-spec'"

      [1mExplanation:[0m  The program encountered an error  while  trying  to  open  the
      named DTI file

      [1mUser[0m [1maction:[0m  Depends upon the error.

  ERRORRD, error reading the "'string'" field

      [1mExplanation:[0m   This  message  is  output  to  specify  the  field  that  was
      incorrect,  and  follows a message identifying the record in which the error
      occurred.  The contents of the offending field will be output  on  the  next
      line.  The program will exit.

      [1mUser[0m [1maction:[0m  Depends upon the error, and upon the source of the  data.   It
      may  be  necessary  to  consult the donor of the data, giving details of the
      offending record and field.


  DTMCONVERT (2.7): DEM2DTI                                              Page 8-14
  MESSAGES (ERROR)                                                18 December 1996


  ERRRDRECA, error reading the A record of DEM file

      [1mExplanation:[0m  An error occurred in reading the A header record in the  input
      DEM file.  A message follows giving more detail.

      [1mUser[0m [1maction:[0m  Depends on the type of error encountered.  The DEM file can be
      checked using a standard text editor.

  ERRRDRECB, error reading B record number 'integer' in DEM file

      [1mExplanation:[0m  An error occurred in reading a B record in the input DEM file.
      A message follows giving more detail.

      [1mUser[0m [1maction:[0m  Depends on the type of error encountered.  The DEM file can be
      checked using a standard text editor.

  FILOPEN, error opening file "'file-spec'"

      [1mExplanation:[0m  Some form of error occurred in opening one  of  the  input  or
      output files.  The program will exit.

      [1mUser[0m [1maction:[0m  Depends upon the associated LSLLIB messages.

  INVFILNAM, invalid filename "'file-spec'"

      [1mExplanation:[0m  The DEM input file specification is not valid.  The  specified
      filename will not parse against the given skeleton:  SYS$DISK:.DEM;0.

      [1mUser[0m [1maction:[0m  Specify a correct filename including device name if necessary.

  MAGTAPE, error initialising magtape device "'device-name'"

      [1mExplanation:[0m  An error occurred in initialising the magnetic tape drive  for
      reading.  The associated LSLLIB and system error messages should clarify the
      problem.

      [1mUser[0m [1maction:[0m  Dependant upon the associated messages.  One possible cause of
      problems is that the tape has not been mounted.

  NODEVICE, unknown device name "'device'" given

      [1mExplanation:[0m  The device name given on the command line was not  recognised.
      The program will exit.

      [1mUser[0m [1maction:[0m  Specify a legal device  or  do  not  use  the  qualifier,  the
      default is MTA0:.

  NOFILNAM, no filename in DEM file specification "'file-spec'"

      [1mExplanation:[0m  The specified DEM input file-spec is a valid device  name  but
      the filename has not been specified.

      [1mUser[0m [1maction:[0m  Rerun  DEM2DTI  with  the  correct  DEM  filename  and  device
      specification.


  DTMCONVERT (2.7): DEM2DTI                                              Page 8-15
  MESSAGES (ERROR)                                                18 December 1996


  NOTMNTFOR, magtape device "'device'" must be mounted foreign

      [1mExplanation:[0m  The specified DEM input file-spec has been parsed as a magtape
      device but the tape is not mounted foreign.

      [1mUser[0m [1maction:[0m  Mount the  tape  with  the  MOUNT/FOREIGN  command  and  rerun
      DEM2DTI.


  DTMCONVERT (2.7): DEM2DTI                                              Page 8-16
  MESSAGES (OTHER)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages may be generated  by  the  DTILIB
  library  and by the Laser-Scan I/O library, LSLLIB.  DTILIB library messages are
  introduced by '%DTILIB' and are  documented  in  the  MATRIX  package  reference
  manual.   In most cases DTI errors will be due to a corrupt input file, and this
  should be the first area of investigation.  If the cause of the error cannot  be
  traced by the user, and Laser-Scan are consulted, then the output file should be
  preserved to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'
  and  are  generally  self-explanatory.   They are used to explain the details of
  program generated errors.














                                     CHAPTER 9

                                   MODULE DTI2DEM





  DTMCONVERT (2.7): DTI2DEM                                               Page 9-1
  UTILITY DTI2DEM                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mUTILITY[0m [1mDTI2DEM[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  DTI2DEM is a new utility (updated from USBUREAU/DTI2DEM).

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTI2DEM is a utility to convert data from a Laserscan Digital  Terrain
            Image  (DTI)  file to a United States Geological Survey (USGS) Digital
            Elevation Model (DEM) of the same area.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DTI2DEM DTI-file-spec [DEM-file-spec]

            [1mCommand[0m [1mqualifiers[0m                     [1mDefaults[0m


            /[NO]REWIND                           /NOREWIND
            /HEIGHT = unit                        /HEIGHT = METRES 
            /PLAN = unit                          /PLAN = METRES
            /BLOCK = integer                      /BLOCK = 4096


  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            _From:                  Input-DTI-file-spec
            Eastings  Northings:     Origin of DTI file (in PLAN units)
            Latitude  Longitude:     SW corner of DEM map sheet
            Enter header for DEM file ('default'):       Map name for DEM


  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  Input-DTI-file-spec

          - specifies the input DTI file.  Any  part  of  the  file  specification
            which  is  not  supplied will be taken from the default specification:
            'LSL$DTI:.DTI;0'.

  Output-DEM-file-spec

          - is optional and specifies the output DEM file.   If  a  disk  file  is
            specified    it   will   be   parsed   against   the   default   name:
            SYS$DISK:'file-spec'.DEM;0.  If a tape device  name  is  given  output
            will  be  to  that device which must have a tape mounted (/FOREIGN) on
            it.  If missing the default is to write to the tape drive specified by
            the logical name MT:.


  DTMCONVERT (2.7): DTI2DEM                                               Page 9-2
  UTILITY DTI2DEM                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m



  /REWIND
  /NOREWIND (default)

          - If a tape drive is specified for the  output  DEM  then  the  tape  is
            rewound if this switch is specified.  The default is to leave the tape
            at the current position



  /HEIGHT = unit     (default = METRES)

          - Specifies the units for the elevation  data  in  the  DTI  file.   The
            choices are metres (the default), meters or feet.



  /PLAN = unit       (default = METRES)

          - Defines the units of the ground coordinates  in  the  DTI  file.   The
            choices are metres (the default), meters or feet.



  /BLOCK = integer (default = 4096)

          - Specifies the size of the physical blocks on the DEM tape.  The  value
            must  be in the range 1024 - 8192 in steps of 1024 bytes.  The default
            is 4096 byte blocks.


  DTMCONVERT (2.7): DTI2DEM                                               Page 9-3
  UTILITY DTI2DEM                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mADDITIONAL[0m [1mINPUTS[0m



            When the command line has been processed,  the  input  file  has  been
            opened and the output file opened or tape initialised then the user is
            prompted for more information.  The three pieces of  information  that
            are required are:-

            1.  The origin of the DTI file, in UTM coordinates.

                The input DTI file may  not  contain  any  information  about  its
                origin  (if  a projection record is not present) and therefore the
                user is asked to input the Eastings and Northings of the origin.

                These may either be entered on separate lines, in response to  the
                "Eastings   Northings:" and "Northings:" prompts, or they may both
                be   entered   on   the   same   line   in   response    to    the
                "Eastings  Northings:" prompt.

                The origin of the DTI file  must  lie  on  a  30  metre  UTM  grid
                intersection.   If the header type is LSLA and a projection record
                is present then the user may respond with a  carriage  return  and
                the origin is taken from the DTI header.

            2.  The latitude and longitude of the SW corner of the map.

                The DEM is bounded by the neat line of a  7.5-minute  1:24000  map
                sheet,  and it is the SW corner of this sheet that must be entered
                in response to this prompt.

                Both the latitude and longitude must be entered on the same  line,
                but the order in which they occur is immaterial.

                The format for each is d[ m[ s]]H

                where "d" are integer degrees, "m" integer minutes ,  "s"  integer
                seconds  and "H" is a letter distinguishing the hemisphere (either
                S or N for latitude or E or W for longitude)

                The values entered  must  correspond  to  a  7.5-minute  graticule
                intersection.

                If the area covered by the DTI file  does  not  include  the  area
                required  by  the  DEM area, then a warning message is output, and
                the program prompts for a new DTI origin.

            3.  The header for the A record of the DEM.

                This prompt allows the user to specify the header for the DEM  (up
                to 144 ASCII characters).

                If the operator responds with a carriage return, then the  default
                of the DTI file name is used.


  DTMCONVERT (2.7): DTI2DEM                                               Page 9-4
  UTILITY DTI2DEM                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m



            DTI2DEM is a utility to convert a  Laser-Scan  Digital  Terrain  Image
            (DTI)  file  to  the  United  States  Geological Survey (USGS) Digital
            Elevation Model (DEM) format.

            The coverage of the DEM  is  7.5-minutes  (1:24000  scale).   1-degree
            coverage DEM's are not currently supported.

            The input DTI file can have any header  type  currently  supported  by
            DTILIB.  The recommended header type is LSLA.

            Output is either to an ASCII  sequential  disk  file,  with  a  record
            length  of 1024 characters, or to an unlabelled magnetic tape, written
            at a density of 1600 bpi, with a record size of 1024 characters and  a
            block size that can be selected by the user (default 4096 characters).


  DTMCONVERT (2.7): DTI2DEM                                               Page 9-5
  UTILITY DTI2DEM                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  Only 7.5-minute (1:24000 scale) are supported at present.

             o  Multivolume datasets are not supported - all  of  the  data  being
                output must fit onto one magnetic tape.


  DTMCONVERT (2.7): DTI2DEM                                               Page 9-6
  UTILITY DTI2DEM                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m

  User input is represented in bolface

   $ [1mDTI2DEM[0m [1mLSL$SOURCE_ROOT:[USBUR.DTI2DEM]ZYCOR[0m [1mZYCOR[0m  [1m<CR>[0m


  %DTI2DEM-I-DTIHDRTYP, Input DTI file has header type MIKE

  File    :  LSL$SOURCE_ROOT:[USBUR.DTI2DEM]ZYCOR.DTI;
  Header  :  MIKE  Data:  WORD

  Units are metres

  Matrix Coverage   SW:       0.00       0.00    NE:   10020.00   13890.00
  Matrix Interval    E:      30.00                N:      30.00
  Value Range         :-32767   to   2686

  Define origin of the DTI (in UTM coordinates) (default: 0.0 0.0)
  Eastings   Northings: [1m529890[0m [1m4899510[0m
  Enter lat and long of SW corner of map (eg 39 07 30N  77 22 30W)
  Latitude   Longitude: [1m44[0m [1m15N[0m [1m74[0m [1m37[0m [1m30W[0m
  Enter header for DEM file (ZYCOR):
   
  Scanning DTI file ZYCOR for max and min values
   
  Outputting DEM file to SYS$DISK:ZYCOR.DEM
   
  ..record #50
  ..record #100
  ..record #150
  ..record #200
  ..record #250
  ..record #300
   ELAPSED:    0 00:02:39.62  CPU: 0:01:21.66  BUFIO: 68  DIRIO: 292  FAULTS: 694 



  This example reads a DTI file with a MIKE type header and writes the output  DEM
  to a disk file in the current default directory.  The contents of the DTI header
  record are displayed before the user is prompted to input the origin of the  DTI
  and  the  SW  corner of the DEM.  The default of the DTI filename is used as the
  DEM header by responding to the "Enter  header  for  DEM  file"  prompt  with  a
  carriage return.

   $ [1mDTI2DEM[0m [1mVONORE[0m [1mVONORE[0m [1m<CR>[0m


  %DTI2DEM-I-DTIHDRTYP, Input DTI file has header type LSLA

  File    :  LSL$DTI:VONORE.DTI;
  Header  :  LSLA  Data:  WORD

  Units are metres



  DTMCONVERT (2.7): DTI2DEM                                               Page 9-7
  UTILITY DTI2DEM                                                 18 December 1996


  Matrix Coverage   SW:  749070.00 3931800.00    NE:  760770.00 3945990.00
  Matrix Interval    E:      30.00                N:      30.00
  Value Range         :   238   to    421

  -DTI2DEM-I-PRJREC, Projection record found
   
  Spheroid      :   0 (Clarke 1866)
  Projection    :   1 (Universal Transverse Mercator)
   
     Zone                                         :   16
   
  Units         :   2 (metres)
  Local origin  :      749070.000 (Eastings)     3931800.000 (Northings)
  Sample values :          30.000 (Eastings)          30.000 (Northings)
  Define origin of the DTI (in UTM coordinates) (default: 749070.0 3931800.0)
  Eastings   Northings:
  Enter lat and long of SW corner of map (eg 39 07 30N  77 22 30W)
  Latitude   Longitude: [1m35[0m [1m30N[0m [1m84[0m [1m15W[0m 
  Enter header for DEM file (VONORE):

  Scanning DTI file VONORE for max and min values
   
  Outputting DEM file to SYS$DISK:VONORE.DEM
   
  ..record #50
  ..record #100
  ..record #150
  ..record #200
  ..record #250
  ..record #300
  ..record #350
   ELAPSED:    0 00:02:56.76  CPU: 0:01:32.71  BUFIO: 76  DIRIO: 472  FAULTS: 917 



  This example reads a DTI file with a LSLA type header and writes the output  DEM
  to a disk file in the current default directory.  The contents of the DTI header
  record and projection record are displayed before the user is prompted to  input
  the  origin  of  the DTI and the SW corner of the DEM.  The origin of the DTI is
  taken from the DTI header by responding to the Eastings  Northings prompt with a
  carriage  return.   The default of the DTI filename is used as the DEM header by
  responding to the "Enter header for DEM file" prompt with a carriage return.

   $ [1mDTI2DEM/REWIND/BLOCK=8192[0m [1mVONORE[0m [1mMUB1:[0m [1m<CR>[0m


  %DTI2DEM-I-DTIHDRTYP, Input DTI file has header type LSLA

  File    :  LSL$DTI:VONORE.DTI;
  Header  :  LSLA  Data:  WORD

  Units are metres

  Matrix Coverage   SW:  749070.00 3931800.00    NE:  760770.00 3945990.00
  Matrix Interval    E:      30.00                N:      30.00
  Value Range         :   238   to    421


  DTMCONVERT (2.7): DTI2DEM                                               Page 9-8
  UTILITY DTI2DEM                                                 18 December 1996



  -DTI2DEM-I-PRJREC, Projection record found
   
  Spheroid      :   0 (Clarke 1866)
  Projection    :   1 (Universal Transverse Mercator)
   
     Zone                                         :   16
   
  Units         :   2 (metres)
  Local origin  :      749070.000 (Eastings)     3931800.000 (Northings)
  Sample values :          30.000 (Eastings)          30.000 (Northings)
  Define origin of the DTI (in UTM coordinates) (default: 749070.0 3931800.0)
  Eastings   Northings: 
  Enter lat and long of SW corner of map (eg 39 07 30N  77 22 30W)
  Latitude   Longitude: [1m84[0m [1m15W[0m [1m35[0m [1m30N[0m
  Enter header for DEM file (VONORE):VONORE TENNESSEE TN- 84 15 W 35 30N (DTI2DEM
  1-Nov-1989)
   
  Scanning DTI file VONORE for max and min values
   
  Outputting DEM file to LSLM3A$MUB1:
   
  ..record #50
  ..record #100
  ..record #150
  ..record #200
  ..record #250
  ..record #300
  ..record #350
   ELAPSED:    0 00:05:57.93  CPU: 0:01:36.08  BUFIO: 17  DIRIO: 409  FAULTS: 399 



  This has the same input file as the previous example but the output is  directed
  to  the  tape  on  drive MUB1:.  The DTI origin is taken from the DTI header.  A
  descriptive DEM header is entered  which  describes  the  map  and  how  it  was
  produced.



  DTMCONVERT (2.7): DTI2DEM                                               Page 9-9
  MESSAGES (SUCCESS)                                              18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(SUCCESS)[0m

  These messages are used to indicate that the program has succeeded in performing
  some action, and do not require any user action.

  NORMAL, DTI2DEM function return was TRUE (ie success)

      [1mExplanation:[0m  This message is used internally by DTI2DEM to indicate whether
      a subroutine has completed succesfully or not.

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): DTI2DEM                                              Page 9-10
  MESSAGES (INFORMATIONAL)                                        18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  DEMGRD, DEM grid must be x:'real',y:'real'

      [1mExplanation:[0m  Additional informational message following  an  incorrect  DTI
      grid error.

      [1mUser[0m [1maction:[0m  None.

  DTIHDRTYP, Input DTI file has header type 'string'

      [1mExplanation:[0m  Report on the type of header found in the DTI input file.

      [1mUser[0m [1maction:[0m  None.

  NOTEOF, Tape was not at end of file - rewinding

      [1mExplanation:[0m  The tape was not at an end of file marker.

      [1mUser[0m [1maction:[0m  Wait for the tape to rewind to an EOF marker.

  PRJREC, Projection record found

      [1mExplanation:[0m  The DTI file has a LSLA type header with a projection record.

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): DTI2DEM                                              Page 9-11
  MESSAGES (WARNING)                                              18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  BADAREA, Area of map does not lie entirely within DTI

      [1mExplanation:[0m  The area of the map specified does not lie  completely  within
      the DTI matrix region.

      [1mUser[0m [1maction:[0m  Respecify the map origin.

  BADCONV, Error 'integer' transforming from geographicals to UTM

      [1mExplanation:[0m   An  error  occurred  in  the  conversion  from   geographical
      coordinates to UTM coordinates.  The error number is returned from GCTPLIB.

      [1mUser[0m [1maction:[0m  Consult the GCTPLIB documentation for an  explanation  of  the
      error.

  BADLL, Bad latitude and longitude format

      [1mExplanation:[0m  An incorrectly specified latitude and longitude was  read  for
      the SW corner of the map.

      [1mUser[0m [1maction:[0m  Retype with the correct values.

  BADMAPORG, Not the origin of a 1:24000 map sheet

      [1mExplanation:[0m  The specified latitude and longitude for the SW corner of  the
      map does not coincide with the origin of a 1:24000 map sheet.

      [1mUser[0m [1maction:[0m  Respecify the SW corner latitude and longitude values.

  ERRDNUM, Error reading number

      [1mExplanation:[0m  An incorrect number was typed in response to the prompt.

      [1mUser[0m [1maction:[0m  Retype the number correctly.

  MISSLL, Latitude or longitude missing

      [1mExplanation:[0m  The input for the SW corner of the map did not contain both  a
      latitude and a longitude.

      [1mUser[0m [1maction:[0m  Retype with valid latitude and longitude.


  DTMCONVERT (2.7): DTI2DEM                                              Page 9-12
  MESSAGES (WARNING)                                              18 December 1996


  NOTGRID, 'real' is not a DTI grid intersection

      [1mExplanation:[0m  The origin requested does not fall on a grid  intersection  of
      the DTI matrix.

      [1mUser[0m [1maction:[0m  Input a valid origin.


  DTMCONVERT (2.7): DTI2DEM                                              Page 9-13
  MESSAGES (ERROR)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  BADBLKSIZ, Illegal blocksize; using default of 'integer'

      [1mExplanation:[0m  The blocksize specified on the command line was invalid so the
      default value is used.

      [1mUser[0m [1maction:[0m  None.

  BADDEV, Error enquiring about device 'device-name'

      [1mExplanation:[0m  An error occurred in enquiring about the device name specified
      as the output filename.

      [1mUser[0m [1maction:[0m  Check that the device name specified is a valid magtape unit.

  BADHDR, Error reading header

      [1mExplanation:[0m  An error occurred reading the header string from the terminal.

      [1mUser[0m  [1maction:[0m   Consult  the  accompanying  system  error  message  and  act
      accordingly.

  BADORG, Error reading DTI origin

      [1mExplanation:[0m  An error occurred reading the DTI origin from the terminal.

      [1mUser[0m [1maction:[0m  Depends on the error.

  ERCLSDEM, Error closing DEM file 'file-spec'

      [1mExplanation:[0m  An error occurred in closing the  DEM  output  file.   Further
      information follows in a system message.

      [1mUser[0m [1maction:[0m  Depends on the error.

  ERCLSDTI, Error closing DTI file

      [1mExplanation:[0m  An error occurred in trying  to  close  the  DTI  input  file.
      Further information follows in a system error message.

      [1mUser[0m [1maction:[0m  Depends on the system error encountered.


  DTMCONVERT (2.7): DTI2DEM                                              Page 9-14
  MESSAGES (ERROR)                                                18 December 1996


  ERRMKEOT, Error writing EOT marker on 'device-name'

      [1mExplanation:[0m  An error occurred in writing the  End  Of  Tape  marker.   The
      following system message explains the problem.

      [1mUser[0m [1maction:[0m  Depends on the error encountered.

  ERROPNDTI, Error opening DTI file "'file-spec'"

      [1mExplanation:[0m  An error occurred in trying to open the  specified  DTI  input
      file.  Further information is given in a subsequent system message.

      [1mUser[0m [1maction:[0m  Check the input file specification and retype.

  ERRWRTREC, Error writing record to DEM file

      [1mExplanation:[0m  An error occurred in writing a DEM record to the disk file.  A
      system error message follows.

      [1mUser[0m [1maction:[0m  Depends on the system message.

  ERRWRTTB, Error writing block to tape on 'device-name'

      [1mExplanation:[0m  An error occurred in writing a block to the  tape.   A  system
      error message follows.

      [1mUser[0m [1maction:[0m  Depends on the system error.

  FILOPEN, Error opening output file 'file-spec'

      [1mExplanation:[0m  An error occurred in trying to open the  disk  file  specified
      for output.  Further information is given in subsequent messages.

      [1mUser[0m [1maction:[0m  Check the syntax of the output file specification  or  consult
      your system manager if the problem is not obvious.

  INCGRDSPC, DTI has incorrect grid spacings, x:'real',y:'real'

      [1mExplanation:[0m  The input DTI file has the wrong grid spacing for a 7.5-minute
      DEM.

      [1mUser[0m [1maction:[0m  The DTI must be modified to have  the  correct  grid  spacing.
      The following informational message details the grid required.

  MTOPEN, Error initialising tape unit 'device-name'

      [1mExplanation:[0m  An error occurred in trying to initialise the tape  unit.   An
      additional error message is output if it is a system error.

      [1mUser[0m [1maction:[0m  Dependant on the type of error.


  DTMCONVERT (2.7): DTI2DEM                                              Page 9-15
  MESSAGES (FATAL)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(FATAL)[0m

  These messages indicate a severe error in processing, or  some  form  of  system
  failure, which has caused the program to terminate.

  ABORT, DTI2DEM function return was FALSE (ie error)

      [1mExplanation:[0m  This message is used internally by DTI2DEM to indicate whether
      a subroutine has completed succesfully or not.

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): DTI2DEM                                              Page 9-16
  MESSAGES (OTHER)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages may be generated  by  the  DTILIB
  library  and by the Laser-Scan I/O library, LSLLIB.  DTILIB library messages are
  introduced by '%DTILIB' and are  documented  in  the  MATRIX  package  reference
  manual.   In most cases DTI errors will be due to a corrupt input file, and this
  should be the first area of investigation.  If the cause of the error cannot  be
  traced by the user, and Laser-Scan are consulted, then the output file should be
  preserved to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'
  and  are  generally  self-explanatory.   They are used to explain the details of
  program generated errors.














                                     CHAPTER 10

                                   MODULE MNT2DTI





  DTMCONVERT (2.7): MNT2DTI                                              Page 10-1
  UTILITY MNT2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mUTILITY[0m [1mMNT2DTI[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  MNT2DTI is a new utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            MNT2DTI is a utility to convert an IGN France  (Institut  Geographique
            National)  MNT  data  file  held on tape or disk into a Laser-Scan DTI
            (Digital Terrain Image) disk file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ MNT2DTI MNT-file-spec DTI-file-spec

            [1mCommand[0m [1mqualifiers[0m                     [1mDefaults[0m

            /[NO]LOG                              /NOLOG
            /[NO]VALIDATE                         /NOVALIDATE
            /[NO]HEADER                           /NOHEADER
            /BLOCKSIZE = integer                  /BLOCKSIZE = 4096
            /SELECT = (integer[,...])             Select all sheets


  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            Input MNT-file:          Input-MNT-file-spec
            Output DTI-file:         Output-DTI-file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  Input-MNT-file-spec

          - specifies the input MNT file.  If a magtape device name is given (e.g.
            MUA0:)  the  MNT  files are read from the tape mounted on that device.
            Otherwise the file specification is assumed to be a disk file and  any
            part of the specification which is not supplied will be taken from the
            default:  'SYS$DISK:.MNT;0'.

  Output-DTI-file-spec

          - specifies the output DTI file.  Any part  of  the  file  specification
            which  is  not  supplied will be taken from the default specification:
            'LSL$DTI:.DTI;0'.


  DTMCONVERT (2.7): MNT2DTI                                              Page 10-2
  UTILITY MNT2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m



  /LOG
  /NOLOG (default)

          - /LOG selects the output of informational messages derived from the MNT
            and  DTI  headers.   Messages  are written to SYS$OUTPUT.  The default
            /NOLOG will produce brief information to reassure the user.



  /VALIDATE
  /NOVALIDATE (default)

          - Performs a validation check on the elevation data written to  the  DTI
            file.   If  a  datum is encountered which is not within the range read
            from the MNT header record then a warning message is  output  followed
            by an informational message giving the value of the bad datum.



  /HEADER
  /NOHEADER (default)

          - If /HEADER is specified then MNT2DTI expects to  find  a  tape  header
            terminated by an end-of-file before the start of the MNT.  The default
            is to read the MNT from the beginning of the tape.



  /BLOCKSIZE = integer (default = 4096)

          - Specifies the size of the physical blocks on the MNT tape.  It applies
            to  all  the  files  within the list specified using /SELECT.  Hence a
            tape which contains files of varying blocksizes must be read once  for
            each block size.  The default size is 4096 byte blocks.



  /SELECT=(integer[,...])

          - This qualifier is used to select a list of files to be read  from  the
            input  magtape  device.  The default is to read all files when magtape
            input is used.

            The list may be a single number, or a list  of  sheets  surrounded  by
            parentheses.   The  list  of  sheets is made up of numbers and ranges,
            separated by commas, where a range  is  two  numbers  separated  by  a
            colon.


  DTMCONVERT (2.7): MNT2DTI                                              Page 10-3
  UTILITY MNT2DTI                                                 18 December 1996


            For instance,

                /SELECT=3         will output file 3 only
                /SELECT=(1,4,5)   will output files 1, 4 and 5
                /SELECT=(1,3,5:7) will output files 1, 3, 5, 6 and 7
                /SELECT=(2:4,1)   will output files 1, 2, 3 and 4 (in that order)

            The /SELECT qualifier is ignored when input is from disk and a message
            will relate this to the user.


  DTMCONVERT (2.7): MNT2DTI                                              Page 10-4
  UTILITY MNT2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m



            MNT2DTI is a utility to convert data from an MNT file supplied  either
            as  a  tape or a disk file to a Laser-Scan Digital Terrain Image (DTI)
            file.

            The output DTI file is written with an LSLA type header which contains
            detailed information about the digital elevation model.

            No user input is necessary  to  determine  the  type  of  MNT  as  all
            information  required is contained in the MNT header and data records.
            If reading from tape then the size of  the  physical  blocks  and  the
            presence of a tape volume header record must be known.  In the case of
            disk, just the blocksize is  required.   The  /BLOCKSIZE  and  /HEADER
            qualifiers are provided to override the defaults values.

            Each of a sequence of files, specified using /SELECT, to be  processed
            from  tape  will have a filename of that specified on the command line
            appended with the position number of the file on the tape.

            For example,

                           'LSL$DTI:TAPEFILE_4.DTI;0'


            is the name of the 4th file on  the  tape  where  'TAPEFILE'  was  the
            output  DTI  filename specified on the command line.  The default part
            of the specification was taken from 'LSL$DTI:.DTI;0'.


            The processing of an MNT file consists of the file  being  opened  and
            its  header  record  being read.  This information is used to create a
            DTI file of sufficient size to hold the profile data.   Thus  the  MNT
            file  header  must accurately reflect the profile information in terms
            of the number of profiles, the number of points in  each  profile  and
            the maximum and minimum heights within the file.

            The DTI area is then  initialized  to  contain  null  values  and  the
            reading  of  the  profiles begins.  One profile at a time is read from
            the MNT file and written to the DTI output file.  The  /LOG  qualifier
            will  output a message every 50th profile.  When all the profiles have
            been successfully written, both the MNT and DTI files are closed.

            If  input  is  from  magtape,  the  /LOG  qualifier  will  output   an
            informational  message  informing  the user that a valid tape mark was
            found  and  its  position.   The  TAPEMARK   message   provides   this
            information.


  DTMCONVERT (2.7): MNT2DTI                                              Page 10-5
  UTILITY MNT2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  Multivolume datasets are not supported - all of the data forming a
                single MNT file being input must fit onto one magnetic tape.

             o  Only DTI files with an LSLA type header and  a  projection  record
                are written.

             o  The value of the /BLOCKSIZE qualifier applies to all  of  the  MNT
                files on a tape or those specified with the /SELECT switch.

             o  At present, only MNT data files with an orientation  of  zero  are
                supported.

             o  If /HEADER or /SELECT are used with disk input, a message will  be
                given  and  they  will  be  ignored.   They should only be used as
                qualifiers for magtape input.


  DTMCONVERT (2.7): MNT2DTI                                              Page 10-6
  UTILITY MNT2DTI                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m

  $ [1mMNT2DTI/LOG/BLOCKSIZE=416[0m [1mLN[0m [1mLN[0m  [1m<CR>[0m


  %MNT2DTI-I-MNTOPEN, MNT file "SYS$DISK:LN.MNT;0" opened
  Reading header record from MNT file 
  %MNT2DTI-I-MNTFILNAM, MNT map name is "M.N.T. REGION DE LILLE NORD"
  Creating DTI file LSL$DTI:LN.DTI;0 with LSLA type header
  %MNT2DTI-I-DTICRMAT, DTI file created with matrix x: 467, y: 144
  %MNT2DTI-I-DTIOPEN, DTI file "LSL$DTI:LN.DTI;0" opened

  File    :  LSL$DTI:LN.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are metres

  Matrix Coverage   SW:  485000.00 5617300.00    NE:  519950.00 5628025.00
  Matrix Interval    E:      75.00                N:      75.00
  Value Range         :    10   to    131

  Initialising DTI data area
  Reading data records from MNT file
  Writing profile #50 at coordinate x:485000.0, y:5624349.5
  Writing profile #100 at coordinate x:485000.0, y:5620599.5
  %MNT2DTI-I-MNTCLOSED, MNT file closed
  %MNT2DTI-I-DTICLOSED, DTI file closed
   ELAPSED:    0 00:02:35.09  CPU: 0:00:34.17  BUFIO: 10  DIRIO: 47  FAULTS: 453 


            This example reads an MNT from a disk file, the input file-spec  being
            parsed against the default SYS$DISK:.MNT.  The /LOG qualifier displays
            detailed information about the MNT  and  the  output  DTI  file.   The
            output file is written to the default directory LSL$DTI.


  $ [1mMNT2DTI/LOG/BLOCKSIZE=1000/SELECT=(2:3)[0m [1mMUB1:[0m [1mCORSICA[0m [1m<CR>[0m

  Initializing tape for read - Please wait.
  Skipping MNT file 1
  %MNT2DTI-I-TAPEMARK, Tape mark found at block number 2004
  %MNT2DTI-I-TAPEMARK, Tape mark found at block number 2005
  Reading header record from MNT file 
  %MNT2DTI-I-MNTFILNAM, MNT map name is "M.N.T. CORSE"
  Creating DTI file LSL$DTI:CORSICA_2.DTI;0  with LSLA type header
  %MNT2DTI-I-DTICRMAT, DTI file created with matrix x: 201, y: 421
  %MNT2DTI-I-DTIOPEN, DTI file "LSL$DTI:CORSICA_2.DTI;0 " opened

  File    :  LSL$DTI:CORSICA_2.DTI;0 
  Header  :  LSLA  Data:  WORD

  Units are metres

  Matrix Coverage   SW: 1100000.00 1600000.00    NE: 1200000.00 1810000.00
  Matrix Interval    E:     500.00                N:     500.00


  DTMCONVERT (2.7): MNT2DTI                                              Page 10-7
  UTILITY MNT2DTI                                                 18 December 1996


  Value Range         :     0   to   2582

  Initialising DTI data area
  Reading data records from MNT file
  Writing profile #50 at coordinate x:1100000.0, y:1624500.0
  Writing profile #100 at coordinate x:1100000.0, y:1649500.0
  Writing profile #150 at coordinate x:1100000.0, y:1674500.0
  Writing profile #200 at coordinate x:1100000.0, y:1699500.0
  Writing profile #250 at coordinate x:1100000.0, y:1724500.0
  Writing profile #300 at coordinate x:1100000.0, y:1749500.0
  Writing profile #350 at coordinate x:1100000.0, y:1774500.0
  Writing profile #400 at coordinate x:1100000.0, y:1799500.0
  %MNT2DTI-I-DTICLOSED, DTI file closed
  %MNT2DTI-I-TAPEMARK, Tape mark found at block number 2429
  %MNT2DTI-I-TAPEMARK, Tape mark found at block number 2430
  %MNT2DTI-E-ENDOFTAPE, end of tape encountered. DTI file already produced are
  unaffected
   ELAPSED:    0 00:10:34.06  CPU: 0:00:42.29  BUFIO: 2015  DIRIO: 440  FAULTS:
  447 


            This example reads the second MNT from tape which has a  blocksize  of
            1000  bytes  and  is  mounted (/FOREIGN) on the tape drive MUB1:.  The
            /SELECT qualifier is used to select the tape files required.  The /LOG
            qualifier again displays detailed information contained in the MNT and
            in the output DTI file header.  The example also shows an  attempt  to
            read  a  selected  MNT  (the  3rd)  that  does  not  exist from a tape
            containing only two files  and  this  is  reported  by  the  ENDOFTAPE
            message.   The  existing  files  that  were closed are not affected by
            this.


  $ [1mMNT2DTI/LOG/BLOCKSIZE=8000[0m [1mMUB1:[0m [1mIGN[0m [1m<CR>[0m

  Initializing tape for read - Please wait.
  Reading header record from MNT file 
  %MNT2DTI-I-MNTFILNAM, MNT map name is "M.N.T. FRANCE"
  Creating DTI file LSL$DTI:IGN_1.DTI;0 with LSLA type header
  %MNT2DTI-I-DTICRMAT, DTI file created with matrix x:1997, y:2001
  %MNT2DTI-I-DTIOPEN, DTI file "LSL$DTI:IGN_1.DTI;0" opened

  File    :  LSL$DTI:IGN_1.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are metres

  Matrix Coverage   SW:   40000.00 1700000.00    NE: 1038000.00 2700000.00
  Matrix Interval    E:     500.00                N:     500.00
  Value Range         :     0   to   4706

  Initialising DTI data area
  Reading data records from MNT file
  Writing profile #50 at coordinate x:40000.0, y:1724500.0
  Writing profile #100 at coordinate x:40000.0, y:1749500.0
  Writing profile #150 at coordinate x:40000.0, y:1774500.0
  Writing profile #200 at coordinate x:40000.0, y:1799500.0


  DTMCONVERT (2.7): MNT2DTI                                              Page 10-8
  UTILITY MNT2DTI                                                 18 December 1996


  Writing profile #250 at coordinate x:40000.0, y:1824500.0
  Writing profile #300 at coordinate x:40000.0, y:1849500.0
  Writing profile #350 at coordinate x:40000.0, y:1874500.0
  Writing profile #400 at coordinate x:40000.0, y:1899500.0
  Writing profile #450 at coordinate x:40000.0, y:1924500.0
  Writing profile #500 at coordinate x:40000.0, y:1949500.0
  Writing profile #550 at coordinate x:40000.0, y:1974500.0
  Writing profile #600 at coordinate x:40000.0, y:1999500.0
  Writing profile #650 at coordinate x:40000.0, y:2024500.0
  Writing profile #700 at coordinate x:40000.0, y:2049500.0
  Writing profile #750 at coordinate x:40000.0, y:2074500.0
  Writing profile #800 at coordinate x:40000.0, y:2099500.0
  Writing profile #850 at coordinate x:40000.0, y:2124500.0
  Writing profile #900 at coordinate x:40000.0, y:2149500.0
  Writing profile #950 at coordinate x:40000.0, y:2174500.0
  Writing profile #1000 at coordinate x:40000.0, y:2199500.0
  Writing profile #1050 at coordinate x:40000.0, y:2224500.0
  Writing profile #1100 at coordinate x:40000.0, y:2249500.0
  Writing profile #1150 at coordinate x:40000.0, y:2274500.0
  Writing profile #1200 at coordinate x:40000.0, y:2299500.0
  Writing profile #1250 at coordinate x:40000.0, y:2324500.0
  Writing profile #1300 at coordinate x:40000.0, y:2349500.0
  Writing profile #1350 at coordinate x:40000.0, y:2374500.0
  Writing profile #1400 at coordinate x:40000.0, y:2399500.0
  Writing profile #1450 at coordinate x:40000.0, y:2424500.0
  Writing profile #1500 at coordinate x:40000.0, y:2449500.0
  Writing profile #1550 at coordinate x:40000.0, y:2474500.0
  Writing profile #1600 at coordinate x:40000.0, y:2499500.0
  Writing profile #1650 at coordinate x:40000.0, y:2524500.0
  Writing profile #1700 at coordinate x:40000.0, y:2549500.0
  Writing profile #1750 at coordinate x:40000.0, y:2574500.0
  Writing profile #1800 at coordinate x:40000.0, y:2599500.0
  Writing profile #1850 at coordinate x:40000.0, y:2624500.0
  Writing profile #1900 at coordinate x:40000.0, y:2649500.0
  Writing profile #1950 at coordinate x:40000.0, y:2674500.0
  Writing profile #2000 at coordinate x:40000.0, y:2699500.0
  %MNT2DTI-I-DTICLOSED, DTI file closed
  %MNT2DTI-I-TAPEMARK, Tape mark found at block number 2429
  %MNT2DTI-I-TAPEMARK, Tape mark found at block number 2430
  Reading header record from MNT file 
  %MNT2DTI-I-MNTFILNAM, MNT map name is "M.N.T. CORSE"
  Creating DTI file LSL$DTI:IGN_2.DTI;0 with LSLA type header
  %MNT2DTI-I-DTICRMAT, DTI file created with matrix x: 201, y: 421
  %MNT2DTI-I-DTIOPEN, DTI file "LSL$DTI:IGN_2.DTI;0" opened

  File    :  LSL$DTI:IGN_2.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are metres

  Matrix Coverage   SW: 1100000.00 1600000.00    NE: 1200000.00 1810000.00
  Matrix Interval    E:     500.00                N:     500.00
  Value Range         :     0   to   2582

  Initialising DTI data area
  Reading data records from MNT file


  DTMCONVERT (2.7): MNT2DTI                                              Page 10-9
  UTILITY MNT2DTI                                                 18 December 1996


  Writing profile #50 at coordinate x:1100000.0, y:1624500.0
  Writing profile #100 at coordinate x:1100000.0, y:1649500.0
  Writing profile #150 at coordinate x:1100000.0, y:1674500.0
  Writing profile #200 at coordinate x:1100000.0, y:1699500.0
  Writing profile #250 at coordinate x:1100000.0, y:1724500.0
  Writing profile #300 at coordinate x:1100000.0, y:1749500.0
  Writing profile #350 at coordinate x:1100000.0, y:1774500.0
  Writing profile #400 at coordinate x:1100000.0, y:1799500.0
  %MNT2DTI-I-DTICLOSED, DTI file closed
  %MNT2DTI-I-TAPEMARK, Tape mark found at block number 2429
  %MNT2DTI-I-TAPEMARK, Tape mark found at block number 2430
  %MNT2DTI-E-ENDOFTAPE, end of tape encountered
   ELAPSED:    0 00:31:39.05  CPU: 0:18:41.47  BUFIO: 13  DIRIO: 2475  FAULTS:
  16672 

            This example reads all MNT files on the tape drive MUB1:.  The  output
            filenames will be appended with the position number of the file on the
            tape.  The value of /BLOCKSIZE must apply to all the MNT files on  the
            tape or to those specified using /SELECT.



  DTMCONVERT (2.7): MNT2DTI                                             Page 10-10
  MESSAGES (SUCCESS)                                              18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(SUCCESS)[0m

  These messages are used to indicate that the program has succeeded in performing
  some action, and do not require any user action.

  NORMAL, MNT2DTI function return was TRUE (ie success)

      [1mExplanation:[0m  This message is used internally by MNT2DTI to indicate whether
      a  subroutine  has  completed succesfully or not.  It is intended for use by
      LSL for debugging purposes only and should not appear to the user.

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): MNT2DTI                                             Page 10-11
  MESSAGES (INFORMATIONAL)                                        18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  DTICLOSED, DTI file closed

      [1mExplanation:[0m  This message is output when  the  DTI  output  file  has  been
      successfully closed.

      [1mUser[0m [1maction:[0m  None.

  DTICRMAT, DTI file created with matrix x:'integer', y:'integer'

      [1mExplanation:[0m  Informational message if /LOG is specified on the command line
      telling the user the size of the DTI matrix which has been created

      [1mUser[0m [1maction:[0m  None.

  DTIOPEN, DTI file "'file-spec'" opened

      [1mExplanation:[0m  This message is output when  the  DTI  output  file  has  been
      successfully opened.

      [1mUser[0m [1maction:[0m  None.

  IGNOREDQUAL, Qualifier not associated with disk input was ignored

      [1mExplanation:[0m  Informational message given when the /SELECT or  /HEADER  were
      used in combination with input from disk.

      [1mUser[0m [1maction:[0m  None.

  MNTCLOSED, MNT file closed

      [1mExplanation:[0m  This message is output when  the  MNT  output  file  has  been
      successfully closed.

      [1mUser[0m [1maction:[0m  None.

  MNTELEVAL, Elevation datum value is 'integer'

      [1mExplanation:[0m  Additional message following an OUTOFRNG warning to inform the
      user of the elevation datum value which was found to be out of range

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): MNT2DTI                                             Page 10-12
  MESSAGES (INFORMATIONAL)                                        18 December 1996


  MNTFILNAM, MNT map name is "'string'"

      [1mExplanation:[0m  If /LOG is specified on the command line the program  responds
      with the name of the MNT file read from the header record.

      [1mUser[0m [1maction:[0m  None.

  MNTOPEN, MNT file "'file-spec'" opened

      [1mExplanation:[0m  This message is output when  the  MNT  output  file  has  been
      successfully opened.

      [1mUser[0m [1maction:[0m  None.

  TAPEMARK, Tape mark found at block number 'integer'

      [1mExplanation:[0m  Informational message if /LOG is specified on the command line
      telling the user the position at which a tape mark was found on the tape.

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): MNT2DTI                                             Page 10-13
  MESSAGES (WARNING)                                              18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  OUTOFRNG, Datum at row:'integer', column:'integer' out of range

      [1mExplanation:[0m  Warning message if /VALIDATION is  specified  on  the  command
      line  indicating that an elevation datum is out of the range read in the MNT
      header.

      [1mUser[0m [1maction:[0m  This message means either a  bad  elevation  datum  or  a  bad
      header  record  was read from the MNT.  Check the data and consult the donor
      of the MNT if necessary.


  DTMCONVERT (2.7): MNT2DTI                                             Page 10-14
  MESSAGES (ERROR)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  ABORT, MNT2DTI function return was FALSE (ie error)

      [1mExplanation:[0m  This message is used internally by MNT2DTI to indicate whether
      a  subroutine  has  completed succesfully or not.  It is intended for use by
      LSL for debugging purposes only and should not appear to the user.

      [1mUser[0m [1maction:[0m  None.

  CLOSERR, error closing file "'file-spec'"

      [1mExplanation:[0m  Some form of error occurred in closing one  of  the  input  or
      output files.  The program will exit.

      [1mUser[0m [1maction:[0m  Depends upon the associated LSLLIB messages.

  DTICLOSE, error closing DTI file "'file-spec'"

      [1mExplanation:[0m  The program encountered an error while trying to close the DTI
      file

      [1mUser[0m [1maction:[0m  Depends upon the error.

  ENDOFTAPE, end of tape encountered.  DTI file already produced are unaffected

      [1mExplanation:[0m  An attempt was made to process an MNT file beyond the  end  of
      the tape.  Any DTI file already produced are unaffected by this error.

      [1mUser[0m [1maction:[0m  Ensure that the tape contains the correct number of  files  or
      use the appropriate /SELECT qualifier values.

  ERRRDDATA, error reading data record number 'integer' in MNT file

      [1mExplanation:[0m  An error occurred in reading a data record in  the  input  MNT
      file.  A message follows giving more detail.

      [1mUser[0m [1maction:[0m  Depends on the type of error encountered.  The MNT file can be
      checked  using  a standard text editor.  If the data is corrupt, contact the
      supplier.

  ERRRDHEAD, error reading the header record of MNT file

      [1mExplanation:[0m  An error occurred in reading the header record  in  the  input
      MNT file.  A message follows giving more detail.

      [1mUser[0m [1maction:[0m  Depends on the type of error encountered.  The MNT file can be
      checked  using  a standard text editor.  If the data is corrupt, contact the
      supplier.


  DTMCONVERT (2.7): MNT2DTI                                             Page 10-15
  MESSAGES (ERROR)                                                18 December 1996


  FILOPEN, error opening file "'file-spec'"

      [1mExplanation:[0m  Some form of error occurred in opening one  of  the  input  or
      output files.

      [1mUser[0m [1maction:[0m  Depends upon the associated LSLLIB messages.

  INVFILNAM, invalid filename "'file-spec'"

      [1mExplanation:[0m  The MNT input file specification is not valid.  The  specified
      filename will not parse against the given skeleton:  SYS$DISK:.MNT;0.

      [1mUser[0m [1maction:[0m  Specify a correct filename including device name if necessary.

  MAGTAPE, error initialising magtape device "'device-name'"

      [1mExplanation:[0m  An error occurred in initialising the magnetic tape drive  for
      reading.  The associated LSLLIB and system error messages should clarify the
      problem.

      [1mUser[0m [1maction:[0m  Dependant upon the associated messages.  One possible cause of
      problems is that the tape has not been mounted.  Contact your system manager
      if you are unable to resolve this problem.

  NODEVICE, unknown device name "'device'" given

      [1mExplanation:[0m  The device name given on the command line was not  recognised.
      The program will exit.

      [1mUser[0m [1maction:[0m  Specify a legal device  or  do  not  use  the  qualifier;  the
      default is MTA0:.

  NOFILNAM, no filename in MNT file specification "'file-spec'"

      [1mExplanation:[0m  The specified MNT input file-spec is a valid device  name  but
      the filename has not been specified.

      [1mUser[0m [1maction:[0m  Rerun  MNT2DTI  with  the  correct  MNT  filename  and  device
      specification.

  NOTMNTFOR, magtape device "'device'" must be mounted foreign

      [1mExplanation:[0m  The specified MNT input file-spec has been parsed as a magtape
      device but the tape is not mounted foreign.

      [1mUser[0m [1maction:[0m  Mount the tape with the VMS  MOUNT/FOREIGN  command  and  then
      rerun MNT2DTI.


  DTMCONVERT (2.7): MNT2DTI                                             Page 10-16
  MESSAGES (OTHER)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages may be generated  by  the  DTILIB
  library  and by the Laser-Scan I/O library, LSLLIB.  DTILIB library messages are
  introduced by '%DTILIB' and are  documented  in  the  MATRIX  package  reference
  manual.   In most cases DTI errors will be due to a corrupt input file, and this
  should be the first area of investigation.  If the cause of the error cannot  be
  traced by the user, and Laser-Scan are consulted, then the output file should be
  preserved to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'
  and  are  generally  self-explanatory.   They are used to explain the details of
  program generated errors.














                                     CHAPTER 11

                                   MODULE DTI2NTF





  DTMCONVERT (2.7): DTI2NTF                                              Page 11-1
  UTILITY DTI2NTF                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mUTILITY[0m [1mDTI2NTF[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  DTI2NTF is a new utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTI2NTF is a utility to convert  raster  data  in  Laser-Scan  Digital
            Terrain  Image  (DTI)  files  to the UK National Transfer Format (NTF)
            release 1.0 or 2.0.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DTI2NTF [input-DTI-file-spec(s)] output-NTF-file-spec /qualifiers

            [1mCommand[0m [1mqualifiers[0m                     [1mDefaults[0m

            /[NO]DBNAME                             /NODBNAME
            /[NO]DDNAME                             /DDNAME="DEFAULT_02.00"
            /[NO]DDATE                              /NODDATE
            /DENSITY                                /DENSITY=1600
            /[NO]DONOR                              /DONOR="Laser Scan: DTI2NTF"
            /FIELDWIDTH                             /FIELDWIDTH=10
            /[NO]INPUT                              /NOINPUT
            /LEVEL                                  /LEVEL=5
            /[NO]LOG                                /NOLOG
            /[NO]RECIPIENT                          /NORECIPIENT
            /SERIAL                                 /SERIAL=0
            /VERSION                                /VERSION=2.0


  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            Input DTI-file(s):      Input-DTI-spec
            Output NTF-file:        Output-NTF-spec


  DTMCONVERT (2.7): DTI2NTF                                              Page 11-2
  UTILITY DTI2NTF                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mPARAMETERS[0m

  [1mInput-DTI-spec[0m

          - This specifies the input DTI file name(s).  It is the first  parameter
            specified on the command line.

          - The input DTI specification may be a file  name  or  a  list  of  file
            names.

          - Any part of the file specification(s) which is not  supplied  will  be
            taken from the default specification:  'LSL$DTI:DTI.DTI'.

          This parameter  is  not  required  if  the  /INPUT  qualifier  is  given
            containing a list of input DTI files.


  [1mOutput-NTF-spec[0m

          - This specifies the destination of the generated NTF  dataset.   It  is
            the second parameter on the command line.

          - The output-NTF-spec may be a filename or the name of a foreign mounted
            magnetic tape device.


  DTMCONVERT (2.7): DTI2NTF                                              Page 11-3
  UTILITY DTI2NTF                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m



  /DBNAME=<string>
  /NODBNAME (default)

          - Specifies the name of the database from where the data is coming.

          - Note:  only the first 20 characters of the name will be used.



  /DDNAME=<string>
  /DDNAME="DEFAULT_02.00" (default)

          - Specifies the Data Dictionary name.

          - Note:  only the first 20 characters of the name will be used.



  /DDATE=<date>
  /NODDATE (default)

          - Specifies the  release  date  of  the  data  dictionary  in  the  form
            yyyymmdd.



  /DENSITY=<number>
  /DENSITY=1600 (default)

          - If the output NTF dataset is being written to a magnetic tape  device,
            /DENSITY  selects  the tape density to use.  The specified number must
            be 800, 1600 or 6250, with a default value of 1600 bpi.



  /DONOR=<string>
  /DONOR="Laser-Scan:  DTI2NTF" (default)

          - Specifies the name of the person/organisation sending the data.

          - Note:  only the first 20 characters of the name will be used.




  DTMCONVERT (2.7): DTI2NTF                                              Page 11-4
  UTILITY DTI2NTF                                                 18 December 1996


  /INPUT=filename
  /NOINPUT (default)

          - /INPUT specifies a filename containing a list of DTI files to be  used
            to  create  the  NTF  dataset.   The  qualifier can be used instead of
            specifying the DTI filenames on the command line,  and  is  especially
            useful  when  the  NTF dataset is to be created from a large number of
            DTI files which would be impractical to type at the command line.

          - Note:  If DTI files are specified on the command line, and the  /INPUT
            qualifier  is used, DTI2NTF will assume that the intention was only to
            use the /INPUT qualifier.



  /FIELDWIDTH=<number>
  /FIELDWIDTH=10 (default)

          - Specifies the field width in characters to  use  to  store  each  data
            element in the NTF dataset from the DTI file.

          - Note:  the FIELDWIDTH is defined as  10  at  level  0  and  cannot  be
            modified.   At  level  4 or 5, the field width will be calculated from
            the DTI maximum or minimum data values.  If the  value  supplied  with
            the  /FIELDWIDTH  is  smaller  than  that  needed  to  store  the data
            elements, DTI2NTF will warn the user and attempt to continue.



  /LEVEL=<number>
  /LEVEL=5 (default)

          - Selects the NTF level at which the NTF dataset is to be produced.  The
            number specified must be either 0, 4 or 5.

          - Note:  The NTF raster formats as defined in NTF release 1.0 or 2.0 are
            the  only  versions  supported by DTI2NTF, at level 0 or 4 for Version
            1.0 and at level 5 for Version 2.0.



  /LOG
  /NOLOG (default)

          - /LOG Enables  the  display  of  informational  messages.   Unless  the
            /OUTPUT qualifier is supplied, messages are written to SYS$OUTPUT.

          - Note:  When the /LOG qualifier is used, if SYS$OUTPUT is found to be a
            terminal  device, then in addition to the informational messages being
            output, DTI2NTF will display a percentage running  total  showing  how
            much of the DTI file it has processed.




  DTMCONVERT (2.7): DTI2NTF                                              Page 11-5
  UTILITY DTI2NTF                                                 18 December 1996


  /RECIPIENT=<string>
  /NORECIPIENT (default)

          - Specifies the name of the person/organisation receiving the data.

          - Note:  only the first 20 characters of the name will be used.



  /SERIAL=<number>
  /SERIAL=0 (default)

          - Specifies the serial number of the dataset.  This is especially useful
            if the NTF dataset is part of a group of datasets.



  /VERSION=<number>
  /VERSION=2.0 (default)

          - Selects the NTF version at which the NTF dataset is  to  be  produced.
            The number specified must be either 1.0 or 2.0.

          - Note:  The NTF raster formats as defined in NTF release 1.0 or 2.0 are
            the  only  versions  supported by DTI2NTF, at level 0 or 4 for Version
            1.0 and at level 5 for Version 2.0.


  DTMCONVERT (2.7): DTI2NTF                                              Page 11-6
  UTILITY DTI2NTF                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m



            DTI2NTF is a utility to convert data  in  Laser-Scan  Digital  Terrain
            Image  (DTI)  file(s) to the UK National Transfer Format (NTF) Level 0
            or in a subset of Level 4 used by the Ordnance Survey of  the  UK  for
            distributing terrain models.  It is defined by the OS data-dictionary:
            "OSDTMDDICT1.0" of 8th May 1987.  It also converts to NTF Version  2.0
            level 5 (BS 7567).

            The NTF dataset may be written to a disk file or a magnetic tape.


  DTMCONVERT (2.7): DTI2NTF                                              Page 11-7
  UTILITY DTI2NTF                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  DTI2NTF only produces data as specified by the NTF release 1.0 and
                release 2.0 documentation.

             o  At level 0, the field-width is defined as 10 characters and cannot
                be  modified.   At  level  4  and  above, the GRIDVAL field of the
                GRIDHREC can be redefined to any suitable value.

             o  By default, DTI2NTF produces NTF output at NTF Version  2.0  level
                5.

             o  The /FIELDWIDTH qualifier cannot be used when data is being output
                at  NTF  level 0.  DTI2NTF will complain if this is attempted.  At
                NTF levels 4 and 5 DTI2NTF will always calculate the minimum field
                width  that  it  needs.   If  the  /FIELDWIDTH  qualifier is used,
                DTI2NTF will attempt to use this value, warning the user if it  is
                less than 4.

             o  The program only sets values for a subset of the  full  fields  in
                the section header and GRIDHREC records.


  DTMCONVERT (2.7): DTI2NTF                                              Page 11-8
  UTILITY DTI2NTF                                                 18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m

   $ [1mDTI2NTF[0m [1m/LOG[0m  [1mINPUT1,INPUT2,INPUT3[0m  [1mOUTPUT<CR>[0m

  %DTI2NTF-I-INFILOPN, Opening file LSL$DTI:INPUT1.DTI for read
  %DTI2NTF-I-INFILOPN, Opening file LSL$DTI:INPUT2.DTI for read
  %DTI2NTF-I-INFILOPN, Opening file LSL$DTI:INPUT3.DTI for read
  %DTI2NTF-W-MISC, FIELDWIDTH =      0 is too small
  -DTI2NTF-I-MISC, Using calculated width      8
  %DTI2NTF-I-NTFOPEN, NTF file OUTPUT.NTF opened for output
  %DTI2NTF-I-MISC, Header written to NTF dataset
  %DTI2NTF-I-MISC, NTF dataset will be version 1.00, level 4



  %DTI2NTF-I-MISC, Processing file "1" of "3"
  %DTI2NTF-I-INFILOPN, Opening file LSL$DTI:INPUT1.DTI for read
  %DTI2NTF-I-MISC, GridHeader record written
  %DTI2NTF-I-MISC, Processing DTI matrix

  [1m100.00%[0m [1mComplete[0m

  %DTI2NTF-I-MISC, Processing file "2" of "3"
  %DTI2NTF-I-INFILOPN, Opening file LSL$DTI:INPUT2.DTI for read
  %DTI2NTF-I-MISC, GridHeader record written
  %DTI2NTF-I-MISC, Processing DTI matrix

  [1m100.00%[0m [1mComplete[0m

  %DTI2NTF-I-MISC, Processing file "3" of "3"
  %DTI2NTF-I-INFILOPN, Opening file LSL$DTI:INPUT3.DTI for read
  %DTI2NTF-I-MISC, GridHeader record written
  %DTI2NTF-I-MISC, processing DTI matrix

  [1m100.00%[0m [1mComplete[0m
   ELAPSED:    0 00:00:07.06  CPU: 0:00:01.15  BUFIO: 16  DIRIO: 10  FAULTS: 110 



  In this example the input DTI files were  given  as  INPUT1,INPUT2  and  INPUT3.
  These  are parsed and any part of the filenames that were missing are taken from
  LSL$DTI:DTI.DTI.  The NTF dataset is to be written to  "OUTPUT"  which  will  be
  parsed and called OUTPUT.NTF.

  The input DTI files are opened and DTI2NTF calculates the minimum  "field-width"
  that  will be needed for the data to be output correctly.  Since the field-width
  was not specified in the command line, it was set at zero.  The program  detects
  that  the  field width is not sufficient and sets it to the value it calculated.
  A volume header is written to the NTF dataset and processing of  the  input  DTI
  files is begun.

  Each file is opened and a corresponding header  entry  is  written  to  the  NTF
  dataset.   The  program then processes the DTI matrix and writes the information
  to the NTF dataset.  If the program is run on a terminal, a running total of how
  much of the input DTI file has been processed, is displayed at the bottom of the


  DTMCONVERT (2.7): DTI2NTF                                              Page 11-9
  UTILITY DTI2NTF                                                 18 December 1996


  screen.  When the counter reaches 100.00% the program has  completed  processing
  of the current DTI file.

  The creation of the NTF dataset is completed successfully.



   $ [1mDTI2NTF[0m [1m/LOG[0m  [1m/LEV=0[0m  [1mINPUT1,INPUT2,INPUT3[0m  [1mOUTPUT<CR>[0m

  %DTI2NTF-I-NTFOPEN, NTF File OUTPUT.NTF opened for output
  %DTI2NTF-I-MISC, Header written to NTF dataset
  %DTI2NTF-I-MISC, NTF dataset will be version 1.00, level 0


  %DTI2NTF-I-MISC, Processing file "1" of "3"
  %DTI2NTF-I-INFILOPN, Opening file LSL$DTI:INPUT1.DTI for read
  %DTI2NTF-I-MISC, GridHeader record written
  %DTI2NTF-I-MISC, Processing DTI matrix

  [1m100.00%[0m [1mComplete[0m

  %DTI2NTF-I-MISC, Processing file "2" of "3"
  %DTI2NTF-I-INFILOPN, Opening file LSL$DTI:INPUT2.DTI for read
  %DTI2NTF-I-MISC, GridHeader record written
  %DTI2NTF-I-MISC, Processing DTI matrix

  [1m100.00%[0m [1mComplete[0m

  %DTI2NTF-I-MISC, Processing file "3" of "3"
  %DTI2NTF-I-INFILOPN, Opening file LSL$DTI:INPUT3.DTI for read
  %DTI2NTF-I-MISC, GridHeader record written
  %DTI2NTF-I-MISC, Processing DTI matrix
  [1m100.00%[0m [1mComplete[0m
   ELAPSED:    0 00:00:07.06  CPU: 0:00:01.15  BUFIO: 16  DIRIO: 10  FAULTS: 110 


  In this instance the output dataset is to be written  at  level  0.   Since  the
  field  width  for  the data cannot be redefined, the program does not attempt to
  calculate the minimum field width required.  The remainder of the conversion  is
  similar to the example defined above.  The conversion is a success.





  DTMCONVERT (2.7): DTI2NTF                                             Page 11-10
  UTILITY DTI2NTF                                                 18 December 1996


  $ [1mTYPE[0m [1mINPUT.LIS[0m
    INPUT1
    INPUT2.DTI
    INPUT3.DTM
  $ [1mDTI2NTF[0m [1m/LOG[0m [1m/INPUT=input.lis[0m [1m/LEV=0[0m [1mOUTPUT[0m  [1m<CR>[0m

  %DTI2NTF-I-INFILOPN, Opening file INPUT.LIS for read
  %DTI2NTF-I-NTFOPEN, NTF File "OUTPUT.NTF" opened for output
  %DTI2NTF-I-MISC, Header written to NTF dataset
  %DTI2NTF-I-MISC, NTF dataset will be version 1.00, level 0


  %DTI2NTF-I-MISC, Processing file "1" of "3"
  %DTI2NTF-I-INFILOPN, Opening file LSL$DTI:INPUT1.DTI for read
  %DTI2NTF-I-MISC, GridHeader record written
  %DTI2NTF-I-MISC, processing DTI matrix

  [1m100.00%[0m [1mComplete[0m

  %DTI2NTF-I-MISC, Processing file "2" of "3"
  %DTI2NTF-I-INFILOPN, Opening file LSL$DTI:INPUT2.DTI for read
  %DTI2NTF-I-MISC, GridHeader record written
  %DTI2NTF-I-MISC, processing DTI matrix

  [1m100.00%[0m [1mComplete[0m

  %DTI2NTF-I-MISC, Processing file "3" of "3"
  %DTI2NTF-I-INFILOPN, Opening file LSL$DTI:INPUT3.DTI for read
  %DTI2NTF-I-MISC, GridHeader record written
  %DTI2NTF-I-MISC, processing DTI matrix
  [1m100.00%[0m [1mComplete[0m
   ELAPSED:    0 00:00:07.06  CPU: 0:00:01.15  BUFIO: 16  DIRIO: 10  FAULTS: 110 



  In this example the names for the input DTI  files  were  taken  from  the  file
  INPUT.LIS  which  was  specified  with  the /INPUT qualifier.  The DTI files are
  processed in the same way as in the above  examples  and  the  conversion  is  a
  success.



  DTMCONVERT (2.7): DTI2NTF                                             Page 11-11
  MESSAGES (INFORMATIONAL)                                        18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  INFILOPN, Opening DTI file 'file-name' for read

      [1mExplanation:[0m  The specified file is to be opened for read.

      [1mUser[0m [1maction:[0m  None.

  IMISC, Miscellaneous

      [1mExplanation:[0m  Miscellaneous  informational  messages  giving  more  detailed
      information and generally following a warning or error message.

      [1mUser[0m [1maction:[0m  None.

  LOGFILOPN, File 'file-name' opened for log messages

      [1mExplanation:[0m  The specified file has been successfully  opened  for  writing
      supplementary messages.

      [1mUser[0m [1maction:[0m  None.

  NTFOPEN, NTF file 'file-name' opened for output

      [1mExplanation:[0m  The specified file has been successfully opened for output.

      [1mUser[0m [1maction:[0m  None.


  DTMCONVERT (2.7): DTI2NTF                                             Page 11-12
  MESSAGES (WARNING)                                              18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  IGNINFILES, ignoring input files specified on the command line

      [1mExplanation:[0m  The input DTI files that DTI2NTF is to process can  be  either
      specified  on  the command line or be contained in the file specified by the
      /INPUT qualifier.  In this case the  program  has  detected  both  forms  of
      specification and ignores the files specified on the command line.

      [1mUser[0m [1maction:[0m  If the user intended to read DTI  file  names  from  the  file
      specified  with the /INPUT qualifier, then the program should be stopped and
      the command line respecified correctly.

  LONGMSG, Data string for qualifier is longer than maximum length of 'integer'

      [1mExplanation:[0m  The data part of the  qualifier  has  exceeded  the  permitted
      maximum length.  DTI2NTF will truncate excess characters.

      [1mUser[0m [1maction:[0m  None.

  WMISC, Miscellaneous

      [1mExplanation:[0m  Miscellaneous warning messages.

      [1mUser[0m [1maction:[0m  This depends on the content of the message.


  DTMCONVERT (2.7): DTI2NTF                                             Page 11-13
  MESSAGES (ERROR)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  BADDTITYPE, DTI file has unsupported data type

      [1mExplanation:[0m  The specified file has an unsupported data type (eg.  BIT).

      [1mUser[0m [1maction:[0m  Check that the DTI file contains only BYTE, WORD, LONG or REAL
      data.

  BADINFIL, File 'file-name' is not in expected format

      [1mExplanation:[0m  The specified file was taken from the /INPUT qualifier.   This
      file should contain a list of filenames to be used to generate the NTF file.
      The program has detected some error in the structure of data in this file.

      [1mUser[0m [1maction:[0m  Check that  this  file  contains  only  a  text  list  of  DTI
      filenames.  It may be necessary to retype this file.

  BADLEV, invalid NTF level 'integer' given

      [1mExplanation:[0m  If the /LEVEL qualifier is used to select an output NTF  level
      other than 0, 4 or 5 this message is output.

      [1mUser[0m [1maction:[0m  Do not try to output at a level other than  0,  4  or  5  (the
      default) as the program does not support them.

  BADVER, invalid NTF version 'real' given

      [1mExplanation:[0m  If the /VERSION qualifier is used  to  select  an  output  NTF
      version other than 1.0 or 2.0 this message is output.

      [1mUser[0m [1maction:[0m  Do not try to output at a version other than 1.0 or  2.0  (the
      default) as the program does not support them.

  BADVERLEV, invalid NTF version 'real' and level 'integer' combination given

      [1mExplanation:[0m  This message is output  if  the  /VERSION  qualifier  and  the
      /LEVEL  qualifier  are  used  to  select  an  output  NTF  version and level
      combination that is invalid.  The only valid combinations that  are  allowed
      are levels 0 or 4 for Version 1.0 or level 5 for Version 2.0 (the default).

      [1mUser[0m [1maction:[0m  Do not try to output at level and version  combinations  other
      than the above as the program does not support them.


  DTMCONVERT (2.7): DTI2NTF                                             Page 11-14
  MESSAGES (ERROR)                                                18 December 1996


  CLOSERR, Error while closing file 'file-name'

      [1mExplanation:[0m  An error occurred while  attempting  to  close  the  specified
      file.   There  may  be  other  system  error  messages  which will give more
      information.

      [1mUser[0m [1maction:[0m  It is possible that a  disk  or  device  error  has  occurred.
      Check  other system error messages and attempt to determine the cause of the
      problem.  If the problem persists please contact Laser-Scan.

  EMISC, Miscellaneous

      [1mExplanation:[0m  Miscellaneous error messages.

      [1mUser[0m [1maction:[0m  This depends on the content of the message.

  INITERR, Unable to initialise magnetic tape 'tape-name'

      [1mExplanation:[0m  Before DTI2NTF can write the  NTF  dataset  to  the  specified
      tape,  the  tape  must  be initialised to conform with the NTF standard.  An
      error has occurred while doing this.

      [1mUser[0m [1maction:[0m  Check that the tape has been loaded correctly and is  on-line,
      check that the tape is write enabled and try again.

  MAXINFILE, Too many files, maximum 'integer'

      [1mExplanation:[0m  The number of files specified has exceeded the maximum  number
      of files the program will accept.

      [1mUser[0m [1maction:[0m  If you feel that the maximum limit is not  reasonable,  submit
      an SPR to Laser-Scan so that appropriate changes can be made to the program.
      Alternatively reduce the number of input DTI files used to create  each  NTF
      dataset.

  NODENS, Value for /Density qualifier is bad or missing (must be 800 or 1600)

      [1mExplanation:[0m  The /DENSITY qualifier was specified, but either the value was
      not supplied or the value supplied was not a density supported by DTI2NTF.

      [1mUser[0m [1maction:[0m  Ensure that the value for the /DENSITY qualifier was specified
      and it was either 800 or 1600.

  NODTIIN, No input DTI files specified

      [1mExplanation:[0m  The input DTI files that DTI2NTF is to process can  be  either
      specified  on  the command line or be contained in the file specified by the
      /INPUT qualifier.  In this case  neither  form  of  specification  has  been
      found.

      [1mUser[0m [1maction:[0m  Re-specify the command line and specify the input DTI files.


  DTMCONVERT (2.7): DTI2NTF                                             Page 11-15
  MESSAGES (ERROR)                                                18 December 1996


  OPENDTIERR, Unable to open DTI file 'file-name'

      [1mExplanation:[0m  The specified DTI input file does not  exist  or  is  corrupt.
      There may be other system error messages which will give more information.

      [1mUser[0m [1maction:[0m  Check to see whether the specified file exists and that it  is
      not corrupt.

  OPENERR, Unable to open specified file 'file-name'

      [1mExplanation:[0m  The specified file either does not exist or  may  be  corrupt.
      There may be other system error messages which will give more information.

      [1mUser[0m [1maction:[0m  Check that the specified file exists and is not corrupt.

  OPENNTFERR, Unable to open specified NTF file 'file-name'

      [1mExplanation:[0m  The specified file could not be created.  There may  be  other
      system error messages which will give more information.

      [1mUser[0m [1maction:[0m  Check the specified file specification.

  TESTFOR, Device 'device-name' is not mounted foreign

      [1mExplanation:[0m  The way NTF datasets are stored on tape is  incompatible  with
      the  VMS  tape  structures.   In  order  to read or write from the tape, the
      device on which the tape is loaded must be mounted /FOREIGN.

      [1mUser[0m [1maction:[0m  Mount the device with the /FOREIGN  qualifier  and  re-specify
      the command line.

  VOLTERM, Unable to write VOLTERM record

      [1mExplanation:[0m  NTF datasets are terminated by  a  volume  termination  record
      [VOLTERM].   The  program  was unable to write this record to the output NTF
      file.  This is likely to cause problems when reading the dataset back via an
      NTF reading package.

      [1mUser[0m [1maction:[0m  It is possible that the device the NTF file is  being  written
      to is full.


  DTMCONVERT (2.7): DTI2NTF                                             Page 11-16
  MESSAGES (OTHER)                                                18 December 1996


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages may be generated  by  the  DTILIB
  library  and by the Laser-Scan I/O library, LSLLIB.  DTILIB library messages are
  introduced by '%DTILIB' and are  documented  in  the  MATRIX  package  reference
  manual.   In most cases DTI errors will be due to a corrupt input file, and this
  should be the first area of investigation.  If the cause of the error cannot  be
  traced by the user, and Laser-Scan are consulted, then the output file should be
  preserved to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'
  and  are  generally  self-explanatory.   They are used to explain the details of
  program generated errors.


  Index                                                     Page Index-1


                                  INDEX



  DEM2DTI                               ENABLE FULL command, 3-21
    COMMAND QUALIFIERS, 8-2             ENABLE GRID command, 3-19
    command qualifiers                  ENABLE PME command, 3-20
      /BLOCKSIZE, 8-1 to 8-2            EXIT command, 3-22
      /HEADER, 8-1 to 8-2               FILEOUT command, 3-23
      /LOG, 8-1 to 8-2                  FORMAT, 3-1
      /VALIDATE, 8-1 to 8-2             HELP command, 3-24
    DESCRIPTION, 8-3                    LATITUDE, 3-25
    PARAMETERS, 8-1                     LONGITUDE, 3-27
    PROMPTS, 8-1                        MANUSCRIPT, 3-29
  DTED2DTI, 3-1                         MESSAGES, 3-41
    ! command, 3-8                      NORTHING, 3-31
    @ command, 3-6                      RETURN command, 3-33
    commands                            SHOW command, 3-35
      !, 3-8                            SPAWN command, 3-37
      @, 3-6                          DTEDIFF
      DEVICE, 3-9                       COMMAND QUALIFIERS, 5-2
      DISABLE DEBUG, 3-10               command qualifiers
      DISABLE DIAGNOSTICS, 3-11           /LOG, 5-1 to 5-2
      DISABLE FULL, 3-14                  /MERGE, 5-1 to 5-2
      DISABLE GRID, 3-12                DESCRIPTION, 5-3
      DISABLE PME, 3-13                 MESSAGES, 5-7
      EASTING, 3-15                     PARAMETERS, 5-1
      ENABLE DEBUG, 3-17                PROMPTS, 5-1
      ENABLE DIAGNOSTICS, 3-18        DTI2DEM
      ENABLE FULL, 3-21                 ADDITIONAL INPUTS, 9-3
      ENABLE GRID, 3-19                 COMMAND QUALIFIERS, 9-2
      ENABLE PME, 3-20                  command qualifiers
      EXIT, 3-22                          /BLOCK, 9-1 to 9-2
      FILEOUT, 3-23                       /HEIGHT, 9-1 to 9-2
      HELP, 3-24                          /PLAN, 9-1 to 9-2
      LATITUDE, 3-25                      /REWIND, 9-1 to 9-2
      LONGITUDE, 3-27                   DESCRIPTION, 9-4
      MANUSCRIPT, 3-29                  PARAMETERS, 9-1
      NORTHING, 3-31                    PROMPTS, 9-1
      RETURN, 3-33                    DTI2DTED, 2-1
      REWIND, 3-34                      ! command, 2-8
      SHOW, 3-35                        @ command, 2-6
      SPAWN, 3-37                       commands
    DESCRIPTION, 3-2                      !, 2-8
    DISABLE DEBUG command, 3-10           @, 2-6
    DISABLE DIAGNOSTICS command,          APPEND, 2-9
        3-11                              DENSITY, 2-10
    DISABLE FULL command, 3-14            DEVICE, 2-11
    DISABLE GRID command, 3-12            DISABLE DEBUG, 2-12
    DISABLE PME command, 3-13             DISABLE DIAGNOSTICS, 2-13
    DISABLE REWIND, 3-34                  DISABLE GRID, 2-14
    EASTING, 3-15                         ENABLE DEBUG, 2-15
    ENABLE DEBUG command, 3-17            ENABLE DIAGNOSTICS, 2-16
    ENABLE DIAGNOSTICS command,           ENABLE GRID, 2-17
        3-18                              EXIT, 2-18


  Index                                                     Page Index-2


      FILEIN, 2-19                    DTMCONVERT
      HELP, 2-21                        command qualifiers, 4-1, 8-1,
      RETURN, 2-22                          9-1, 10-1, 11-1
      SHOW, 2-23                        DTEDIFF
      SPAWN, 2-25                         command qualifiers, 5-1
    DESCRIPTION, 2-2                      FORMAT, 5-1
    DISABLE DEBUG command, 2-12         FORMAT, 4-1, 8-1, 9-1, 10-1,
    DISABLE DIAGNOSTICS command,            11-1
        2-13                            functions
    DISABLE GRID command, 2-14            conversion, 4-1, 5-1, 8-1,
    ENABLE DEBUG command, 2-15                9-1, 10-1, 11-1
    ENABLE DIAGNOSTICS command,
        2-16                          IIS2DTI
    ENABLE GRID command, 2-17           COMMAND QUALIFIERS, 6-2
    EXIT command, 2-18                  command qualifiers
    FILEIN command, 2-19                  /BYTE, 6-2
    FORMAT, 2-1                           /HEADER, 6-2
    HELP command, 2-21                    /LONG, 6-2
    MESSAGES, 2-29                        /SHORT, 6-2
    RETURN command, 2-22                  /WIDTH, 6-2
    SHOW command, 2-23                  DESCRIPTION, 6-3
    SPAWN command, 2-25                 PARAMETERS, 6-1
  DTI2IIS                               PROMPTS, 6-1
    COMMAND QUALIFIERS, 7-2             RESTRICTIONS, 6-3
    command qualifiers
      /BYTE, 7-2                      MNT2DTI
      /HEADER, 7-2                      COMMAND QUALIFIERS, 10-2
      /LONG, 7-2                        command qualifiers
      /SHORT, 7-2                         /BLOCKSIZE, 10-1 to 10-2
    DESCRIPTION, 7-2                      /HEADER, 10-1 to 10-2
    PARAMETERS, 7-1                       /LOG, 10-1 to 10-2
    PROMPTS, 7-1                          /SELECT, 10-1 to 10-2
    RESTRICTIONS, 7-3                     /VALIDATE, 10-1 to 10-2
  DTI2NTF                               DESCRIPTION, 10-4
    COMMAND QUALIFIERS, 11-3            EXAMPLES, 10-6
    command qualifiers                  PARAMETERS, 10-1
      /DBNAME, 11-1, 11-3               PROMPTS, 10-1
      /DDATE, 11-1, 11-3                RESTRICTIONS, 10-5
      /DDNAME, 11-1, 11-3
      /DENSITY, 11-1, 11-3            NTF2DTI
      /DONOR, 11-1, 11-3                COMMAND QUALIFIERS, 4-3
      /FIELDWIDTH, 11-1, 11-4           command qualifiers
      /INPUT, 11-1, 11-4                  /HEADER_TYPE, 4-1, 4-3
      /LEVEL, 11-1, 11-4 to 11-5          /LOG, 4-1, 4-3
      /LOG, 11-1, 11-4                    /OS, 4-1, 4-3
      /RECIPIENT, 11-1, 11-5              /OUTPUT, 4-1, 4-3
      /SERIAL, 11-1, 11-5                 /PROJECTION, 4-1, 4-3
      /VERSION, 11-1                      /SECTION, 4-1, 4-4
    DESCRIPTION, 11-6                   DESCRIPTION, 4-4
    PARAMETERS, 11-2                    PARAMETERS, 4-1
    PROMPTS, 11-1                       PROMPTS, 4-1
