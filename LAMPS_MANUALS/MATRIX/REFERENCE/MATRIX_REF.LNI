
















                                  [3mLaser-Scan Ltd.[0m


                                       [3mMATRIX[0m

                                  [3mReference Manual[0m

                                      [3mVolume I[0m


                              [3mIssue 3.7 - 5-June-1997[0m





























  Copyright (C) 1997 Laser-Scan Ltd
  Science Park, Milton Road, Cambridge, England CB4 4FY  tel: (01223) 420414

  Document "MATRIX REFERENCE", Category "REFERENCE"
  Document Issue 3.7      M Wenham (modified 5-Jun-1997)


  MATRIX REFERENCE (3.7)
                                                                       5 June 1997














                                  [3mLaser-Scan Ltd.[0m


                                       [3mMATRIX[0m

                                  [3mReference Manual[0m

                                     [3mVolume II[0m


                              [3mIssue 3.7 - 5-June-1997[0m




























  Copyright (C) 1997 Laser-Scan Ltd
  Science Park, Milton Road, Cambridge, England CB4 4FY  tel: (01223) 420414

  Document "MATRIX REFERENCE", Category "REFERENCE"
  Document Issue 3.7      M Wenham (modified 5-Jun-1997)


  MATRIX REFERENCE (3.7)
                                                                       5 June 1997














                                  [3mLaser-Scan Ltd.[0m


                                       [3mMATRIX[0m

                                  [3mReference Manual[0m

                                     [3mVolume III[0m


                              [3mIssue 3.7 - 5-June-1997[0m




























  Copyright (C) 1997 Laser-Scan Ltd
  Science Park, Milton Road, Cambridge, England CB4 4FY  tel: (01223) 420414

  Document "MATRIX REFERENCE", Category "REFERENCE"
  Document Issue 3.7      M Wenham (modified 5-Jun-1997)


  MATRIX REFERENCE (3.7)
  Contents                                                   5 June 1997


                                     CONTENTS

                  MATRIX Reference Documentation Change Record . . . . i



  CHAPTER 1       INTRODUCTION

                  INTRODUCTION . . . . . . . . . . . . . . . . . . . 1-1


  CHAPTER 2       MODULE DTIVIEW

                  FUNCTION . . . . . . . . . . . . . . . . . . . . . 2-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . . . 2-1
                  PROMPTS  . . . . . . . . . . . . . . . . . . . . . 2-1
                  DESCRIPTION  . . . . . . . . . . . . . . . . . . . 2-2
                    GENERAL  . . . . . . . . . . . . . . . . . . . . 2-2
                    PROJECTION TRANSFORMATIONS . . . . . . . . . . . 2-2
                    TERRAIN VIEW GENERATION  . . . . . . . . . . . . 2-3
                    HIDDEN LINE REMOVAL  . . . . . . . . . . . . . . 2-3
                    SIMPLE PROFILE BETWEEN TWO DTM POINTS  . . . . . 2-4
                    PICTURE AND PLANES . . . . . . . . . . . . . . . 2-4
                    COLOUR TABLES  . . . . . . . . . . . . . . . . . 2-5
                    OVERLAY OF IFF DATA ON A TERRAIN VIEW  . . . . . 2-6
                    DISPLAY ANNOTATION . . . . . . . . . . . . . . . 2-7
                    PLOTTING AND MOVEMENT OF SYMBOLS ON A TERRAIN 
                    VIEW . . . . . . . . . . . . . . . . . . . . . . 2-8
                    RESTRICTION OF VISIBILITY (FOG)  . . . . . . . . 2-9
                    USE OF A DIGITISING TABLE AND PUCK BUTTONS . . . 2-9
                  DTIVIEW COMMANDS . . . . . . . . . . . . . . . .  2-12
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . . 2-153


  CHAPTER 3       MODULE DTIEDIT

                  FUNCTION . . . . . . . . . . . . . . . . . . . . . 3-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . . . 3-1
                  PROMPTS  . . . . . . . . . . . . . . . . . . . . . 3-1
                  DESCRIPTION  . . . . . . . . . . . . . . . . . . . 3-2
                    GENERAL  . . . . . . . . . . . . . . . . . . . . 3-2
                    COMMAND LINE MODE  . . . . . . . . . . . . . . . 3-2
                    KEYPAD MODE  . . . . . . . . . . . . . . . . . . 3-3
                  DTIEDIT COMMANDS . . . . . . . . . . . . . . . . . 3-6
                  EXAMPLES . . . . . . . . . . . . . . . . . . . .  3-46
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  3-49


  CHAPTER 4       MODULE DTIBLEND

                  FUNCTION . . . . . . . . . . . . . . . . . . . . . 4-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . . . 4-1
                  COMMAND QUALIFIERS . . . . . . . . . . . . . . . . 4-1
                  DTIBLEND COMMAND DEFAULTS  . . . . . . . . . . . . 4-1
                  DESCRIPTION  . . . . . . . . . . . . . . . . . . . 4-2
                    General  . . . . . . . . . . . . . . . . . . . . 4-2


  MATRIX REFERENCE (3.7)
  Contents                                                   5 June 1997


                    DTIBLEND and null post handling  . . . . . . . . 4-2
                    DTIBLEND typical command sequence  . . . . . . . 4-3
                  DTIBLEND commands  . . . . . . . . . . . . . . . . 4-4
                  EXAMPLES . . . . . . . . . . . . . . . . . . . .  4-66
                  MESSAGES (INFORMATIONAL) . . . . . . . . . . . .  4-70
                  MESSAGES (WARNING) . . . . . . . . . . . . . . .  4-73
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . .  4-75
                  MESSAGES (FATAL) . . . . . . . . . . . . . . . .  4-80
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  4-81


  CHAPTER 5       MODULE DTITILE

                  FUNCTION . . . . . . . . . . . . . . . . . . . . . 5-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . . . 5-1
                  PROMPTS  . . . . . . . . . . . . . . . . . . . . . 5-1
                  DTITILE command defaults . . . . . . . . . . . . . 5-1
                  DESCRIPTION  . . . . . . . . . . . . . . . . . . . 5-2
                    General  . . . . . . . . . . . . . . . . . . . . 5-2
                    Typical command sequence . . . . . . . . . . . . 5-2
                  DTITILE commands . . . . . . . . . . . . . . . . . 5-4
                  EXAMPLES . . . . . . . . . . . . . . . . . . . .  5-52
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  5-55


  CHAPTER 6       MODULE DTICOMBINE

                  FUNCTION . . . . . . . . . . . . . . . . . . . . . 6-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . . . 6-1
                  COMMAND QUALIFIERS . . . . . . . . . . . . . . . . 6-1
                  DTICOMBINE command defaults  . . . . . . . . . . . 6-1
                  DESCRIPTION  . . . . . . . . . . . . . . . . . . . 6-2
                    General  . . . . . . . . . . . . . . . . . . . . 6-2
                    DTICOMBINE and null post handling  . . . . . . . 6-2
                    DTICOMBINE typical command sequence  . . . . . . 6-2
                  DTICOMBINE commands  . . . . . . . . . . . . . . . 6-4
                  DTICOMBINE examples  . . . . . . . . . . . . . .  6-54
                  MESSAGES . . . . . . . . . . . . . . . . . . . .  6-57
                  EXPRESSIONS  . . . . . . . . . . . . . . . . . .  6-59
                    SYNTAX . . . . . . . . . . . . . . . . . . . .  6-60
                    PRECEDENCE . . . . . . . . . . . . . . . . . .  6-62
                    Truth Values In Expressions  . . . . . . . . .  6-63
                    Examples . . . . . . . . . . . . . . . . . . .  6-64


  CHAPTER 7       MODULE DTIROTATE

                  FUNCTION . . . . . . . . . . . . . . . . . . . . . 7-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . . . 7-1
                  PROMPTS  . . . . . . . . . . . . . . . . . . . . . 7-1
                  DTIROTATE command defaults . . . . . . . . . . . . 7-2
                  DESCRIPTION  . . . . . . . . . . . . . . . . . . . 7-3
                    General  . . . . . . . . . . . . . . . . . . . . 7-3
                    Operation states . . . . . . . . . . . . . . . . 7-3
                    Typical Command Sequence . . . . . . . . . . . . 7-6
                  DTIROTATE commands . . . . . . . . . . . . . . . . 7-7


  MATRIX REFERENCE (3.7)
  Contents                                                   5 June 1997


                  EXAMPLES . . . . . . . . . . . . . . . . . . . .  7-36
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  7-39


  CHAPTER 8       MODULE DTI2TEXT

                  FUNCTION . . . . . . . . . . . . . . . . . . . . . 8-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . . . 8-1
                  COMMAND QUALIFIERS . . . . . . . . . . . . . . . . 8-1
                  DTI2TEXT command defaults  . . . . . . . . . . . . 8-1
                  DESCRIPTION  . . . . . . . . . . . . . . . . . . . 8-2
                    General  . . . . . . . . . . . . . . . . . . . . 8-2
                  DTI2TEXT commands  . . . . . . . . . . . . . . . . 8-3
                  EXAMPLES . . . . . . . . . . . . . . . . . . . .  8-37
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . .  8-44
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  8-45


  CHAPTER 9       MODULE DTICONVERT

                  FUNCTION . . . . . . . . . . . . . . . . . . . . . 9-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . . . 9-1
                  PROMPTS  . . . . . . . . . . . . . . . . . . . . . 9-1
                  DESCRIPTION  . . . . . . . . . . . . . . . . . . . 9-2
                    GENERAL  . . . . . . . . . . . . . . . . . . . . 9-2
                    DTICONVERT OPERATION . . . . . . . . . . . . . . 9-2
                    INPUT FILENAME PROMPT  . . . . . . . . . . . . . 9-2
                    OUTPUT FILENAME PROMPT . . . . . . . . . . . . . 9-3
                    OUTPUT HEADER TYPE PROMPT  . . . . . . . . . . . 9-3
                    HEADER SIZE PROMPT . . . . . . . . . . . . . . . 9-3
                    OUTPUT DATA TYPE PROMPT  . . . . . . . . . . . . 9-4
                    INITIATING CONVERSION  . . . . . . . . . . . . . 9-5


  CHAPTER 10      MODULE DTIPATCH

                  FUNCTION . . . . . . . . . . . . . . . . . . . .  10-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . .  10-1
                  PROMPTS  . . . . . . . . . . . . . . . . . . . .  10-1
                  DESCRIPTION  . . . . . . . . . . . . . . . . . .  10-2
                    GENERAL  . . . . . . . . . . . . . . . . . . .  10-2
                  DTIPATCH PROMPTS . . . . . . . . . . . . . . . .  10-2
                    ENTER DTI FILENAME PROMPT  . . . . . . . . . .  10-3
                    CORNER OF DATA ORIGIN PROMPT . . . . . . . . .  10-3
                    DATA DIRECTION PROMPT  . . . . . . . . . . . .  10-3
                    NUMBER OF COLUMNS PROMPT . . . . . . . . . . .  10-3
                    NUMBER OF ROWS PROMPT  . . . . . . . . . . . .  10-4
                    X GRID INTERVAL PROMPT . . . . . . . . . . . .  10-4
                    Y GRID INTERVAL PROMPT . . . . . . . . . . . .  10-4
                    MINIMUM DATA VALUE PROMPT  . . . . . . . . . .  10-4
                    MAXIMUM DATA VALUE PROMPT  . . . . . . . . . .  10-4
                  EXAMPLES . . . . . . . . . . . . . . . . . . . .  10-7
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  10-8


  MATRIX REFERENCE (3.7)
  Contents                                                   5 June 1997


  CHAPTER 11      MODULE DTITRANS

                  FUNCTION . . . . . . . . . . . . . . . . . . . .  11-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . .  11-1
                  PROMPTS  . . . . . . . . . . . . . . . . . . . .  11-2
                  COMMAND PARAMETERS . . . . . . . . . . . . . . .  11-2
                  RESTRICTIONS . . . . . . . . . . . . . . . . . .  11-2
                  COMMAND QUALIFIERS . . . . . . . . . . . . . . .  11-3
                  DESCRIPTION  . . . . . . . . . . . . . . . . . .  11-7
                  EXAMPLES . . . . . . . . . . . . . . . . . . . . 11-13
                  MESSAGES (SUCCESS) . . . . . . . . . . . . . . . 11-22
                  MESSAGES (INFORMATIONAL) . . . . . . . . . . . . 11-23
                  MESSAGES (WARNING) . . . . . . . . . . . . . . . 11-24
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . . 11-28
                  MESSAGES (FATAL) . . . . . . . . . . . . . . . . 11-31
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . . 11-32


  CHAPTER 12      MODULE DTILIB

                  INTRODUCTION . . . . . . . . . . . . . . . . . .  12-1
                    FUNCTION RETURN CODES    . . . . . . . . . . .  12-3
                    DTIHDR COMMON BLOCK  . . . . . . . . . . . . .  12-4
                    DTIPROJ COMMON BLOCK . . . . . . . . . . . . .  12-7
                    DTILIB PARAMETER FILES . . . . . . . . . . . . 12-10
                    DOCUMENTATION NOTATION . . . . . . . . . . . . 12-16
                  LIBRARY INITIALISATION . . . . . . . . . . . . . 12-17
                  FILE MANIPULATION  . . . . . . . . . . . . . . . 12-18
                    DTI_OPEN . . . . . . . . . . . . . . . . . . . 12-18
                    DTI_CREATE . . . . . . . . . . . . . . . . . . 12-20
                    DTI_EXTEND_DATA  . . . . . . . . . . . . . . . 12-22
                    DTI_EXTEND_HEADER  . . . . . . . . . . . . . . 12-23
                    DTI_CLOSE  . . . . . . . . . . . . . . . . . . 12-24
                  DTILIB UTILITIES . . . . . . . . . . . . . . . . 12-25
                    DTI_NEXT_LUN . . . . . . . . . . . . . . . . . 12-25
                    DTI_PRINT_HEADER . . . . . . . . . . . . . . . 12-26
                    DTI_PRINT_PROJECTION . . . . . . . . . . . . . 12-28
                    DTI_UNITS  . . . . . . . . . . . . . . . . . . 12-29
                    DTI_MATRIX_TO_UNITS  . . . . . . . . . . . . . 12-31
                    DTI_UNITS_TO_MATRIX  . . . . . . . . . . . . . 12-33
                    DTI_WIN_MATRIX_TO_UNITS  . . . . . . . . . . . 12-35
                    DTI_WIN_UNITS_TO_MATRIX  . . . . . . . . . . . 12-37
                    DTI_MINMAX_DATA  . . . . . . . . . . . . . . . 12-39
                    DTI_WINDOW_MINMAX  . . . . . . . . . . . . . . 12-40
                  READ HEADER ROUTINES . . . . . . . . . . . . . . 12-41
                    DTI_READ_HEADER  . . . . . . . . . . . . . . . 12-41
                    DTI_READ_PROJ_REC  . . . . . . . . . . . . . . 12-42
                    DTI_READ_DSI . . . . . . . . . . . . . . . . . 12-43
                    DTI_READ_UHL . . . . . . . . . . . . . . . . . 12-44
                    DTI_READ_BYTE_HEADER . . . . . . . . . . . . . 12-45
                    DTI_READ_WORD_HEADER . . . . . . . . . . . . . 12-46
                    DTI_READ_LONG_HEADER . . . . . . . . . . . . . 12-47
                    DTI_READ_REAL_HEADER . . . . . . . . . . . . . 12-48
                    DTI_READ_REAL8_HEADER  . . . . . . . . . . . . 12-49
                  READ DATA ROUTINES . . . . . . . . . . . . . . . 12-50
                    DTI_READ_DATA  . . . . . . . . . . . . . . . . 12-50


  MATRIX REFERENCE (3.7)
  Contents                                                   5 June 1997


                    DTI_READ_BIT_DATA  . . . . . . . . . . . . . . 12-51
                    DTI_READ_BYTE_DATA . . . . . . . . . . . . . . 12-52
                    DTI_READ_WORD_DATA . . . . . . . . . . . . . . 12-53
                    DTI_READ_LONG_DATA . . . . . . . . . . . . . . 12-54
                    DTI_READ_REAL_DATA . . . . . . . . . . . . . . 12-55
                  WRITE HEADER ROUTINES  . . . . . . . . . . . . . 12-56
                    DTI_WRITE_HEADER . . . . . . . . . . . . . . . 12-56
                    DTI_WRITE_PROJ_REC . . . . . . . . . . . . . . 12-57
                    DTI_WRITE_DSI  . . . . . . . . . . . . . . . . 12-58
                    DTI_WRITE_UHL  . . . . . . . . . . . . . . . . 12-59
                    DTI_WRITE_BYTE_HEADER  . . . . . . . . . . . . 12-60
                    DTI_WRITE_WORD_HEADER  . . . . . . . . . . . . 12-61
                    DTI_WRITE_LONG_HEADER  . . . . . . . . . . . . 12-62
                    DTI_WRITE_REAL_HEADER  . . . . . . . . . . . . 12-63
                    DTI_WRITE_REAL8_HEADER . . . . . . . . . . . . 12-64
                  WRITE DATA ROUTINES  . . . . . . . . . . . . . . 12-65
                    DTI_WRITE_DATA . . . . . . . . . . . . . . . . 12-65
                    DTI_WRITE_BIT_DATA . . . . . . . . . . . . . . 12-66
                    DTI_WRITE_BYTE_DATA  . . . . . . . . . . . . . 12-67
                    DTI_WRITE_WORD_DATA  . . . . . . . . . . . . . 12-68
                    DTI_WRITE_LONG_DATA  . . . . . . . . . . . . . 12-69
                    DTI_WRITE_REAL_DATA  . . . . . . . . . . . . . 12-70
                  COPY HEADER FUNCTIONS  . . . . . . . . . . . . . 12-71
                    DTI_COPY_BYTE_HEADER . . . . . . . . . . . . . 12-71
                    DTI_COPY_HEADER  . . . . . . . . . . . . . . . 12-72
                  COPY DATA FUNCTIONS  . . . . . . . . . . . . . . 12-73
                    DTI_COPY_DATA  . . . . . . . . . . . . . . . . 12-73
                    DTI_COPY_BIT_DATA  . . . . . . . . . . . . . . 12-74
                    DTI_COPY_BYTE_DATA . . . . . . . . . . . . . . 12-76
                    DTI_COPY_WORD_DATA . . . . . . . . . . . . . . 12-77
                    DTI_COPY_LONG_DATA . . . . . . . . . . . . . . 12-78
                    DTI_COPY_REAL_DATA . . . . . . . . . . . . . . 12-79
                  INITIALISE DATA AREA . . . . . . . . . . . . . . 12-80
                    DTI_INIT_DATA  . . . . . . . . . . . . . . . . 12-80
                    DTI_INIT_BIT_DATA  . . . . . . . . . . . . . . 12-81
                    DTI_INIT_BYTE_DATA . . . . . . . . . . . . . . 12-82
                    DTI_INIT_WORD_DATA . . . . . . . . . . . . . . 12-83
                    DTI_INIT_LONG_DATA . . . . . . . . . . . . . . 12-84
                    DTI_INIT_REAL_DATA . . . . . . . . . . . . . . 12-85


  CHAPTER 13      MODULE DTIFROMTEXT

                  FUNCTION . . . . . . . . . . . . . . . . . . . .  13-1
                  FORMAT . . . . . . . . . . . . . . . . . . . . .  13-1
                  PROMPTS  . . . . . . . . . . . . . . . . . . . .  13-2
                  COMMAND PARAMETERS . . . . . . . . . . . . . . .  13-2
                  COMMAND QUALIFIERS . . . . . . . . . . . . . . .  13-2
                  RESTRICTIONS . . . . . . . . . . . . . . . . . .  13-4
                  DESCRIPTION  . . . . . . . . . . . . . . . . . .  13-4
                  MESSAGES (SUCCESS) . . . . . . . . . . . . . . .  13-6
                  MESSAGES (ERROR) . . . . . . . . . . . . . . . .  13-7
                  MESSAGES (OTHER) . . . . . . . . . . . . . . . .  13-8


  MATRIX REFERENCE (3.7)
  Contents                                                   5 June 1997


  APPENDIX A      

                  DTI FORMAT FILES . . . . . . . . . . . . . . . . . A-1
                  DTI HEADER . . . . . . . . . . . . . . . . . . . . A-2
                    UHL1 TYPE DTI FILES  . . . . . . . . . . . . . . A-3
                    TED4 TYPE DTI FILES  . . . . . . . . . . . . . . A-3
                    MIKE TYPE DTI FILES  . . . . . . . . . . . . . . A-4
                    ALVY TYPE DTI FILES  . . . . . . . . . . . . . . A-4
                    LSLA TYPE DTI FILES  . . . . . . . . . . . . . . A-5
                  DTI DATA AREA  . . . . . . . . . . . . . . . . . . A-6


  MATRIX REFERENCE (3.7)                                                    Page i
  Change record                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMATRIX Reference Documentation Change Record[0m


  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.0[0m [1m14[0m [1mSeptember[0m [1m1988[0m [1mD.R.Catlow[0m

            First issue of MATRIX  reference  documentation  in  a  chapter  based
            format.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m1.1[0m [1m27[0m [1mSeptember[0m [1m1988[0m [1mJ.H.Rees[0m

            DTICOMBINE Classification implemented.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.0[0m [1m09[0m [1mMarch[0m [1m1989[0m [1mD.R.Catlow,[0m [1mT.J.Hartnall,[0m [1mM.W.S.Reid[0m

            Extensive changes to incorporate DTI  projection  record  and  command
            standardisation.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.1[0m [1m15[0m [1mJune[0m [1m1990[0m [1mJ[0m [1mBarber[0m

            Extension of the DTICONVERT module to handle BIT datatype DTI files.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.2[0m [1m23[0m [1mJuly[0m [1m1990[0m [1mC[0m [1mBiggs[0m

            Addition of /TWO /THREE /FOUR and /PROJECTIVE qualifiers  to  DTITRANS
            to  enable  registration  between  a scanned raster image and a ground
            coordinate system.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.3[0m [1m26[0m [1mApril[0m [1m1991[0m [1mS[0m [1mGupta,[0m [1mJ[0m [1mBarber[0m

            Extension to mathematical expressions in DTICOMBINE.  Removal of ^  as
            symbol  for  exponentiation  (use  **  instead) and addition of OUTPUT
            command to set area of interest with overlapping DTI files.

            New warning message NOTRANSFORM in DTITRANS to  warn  that  /TRANSFORM
            has  been  supplied with another transformation qualifier, and will be
            ignored.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.4[0m [1m19[0m [1mJuly[0m [1m1991[0m [1mJ[0m [1mBarber[0m

            New messages NONSTDROT and UNEXPRESULTS in DTILIB.

            New message BITDATA in DTITRANS.


  MATRIX REFERENCE (3.7)                                                   Page ii
  MATRIX Reference Documentation Change Record                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.5[0m [1m8[0m [1mAugust[0m [1m1991[0m [1mJ[0m [1mBarber[0m

            New default output formats for LONGWORD and  BIT  DTI  data  types  in
            DTI2TEXT.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.6[0m [1m7[0m [1mAugust[0m [1m1992[0m [1mJ[0m [1mBarber[0m

            In DTILIB, the maximum size of DTI files has been increased  to  65535
            pixels in rows and columns, set in DIT_MAX_ROWS and DTI_MAX_COLUMNS in
            DTIPAR.PAR.

            There is a seventh (optional) argument to  DTI_OPEN  so  that  a  page
            fault  cluster  value may be passed to VIO$OPEN_SEC.  This may be used
            to improve the performance of programs reading large DTI  files  where
            the data access goes against the natural order of the data.

            The action for null values in DTICOMBINE has changed for MAX  and  MIN
            expressions  from  the default action of outputting null if there is a
            single null in the input  files,  to  outputting  a  result  from  any
            remaining values, if any.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.7[0m [1m17[0m [1mAugust[0m [1m1992[0m [1mJ[0m [1mBarber[0m

            Messages added to the GO command in DTIBLEND when there is no  overlap
            between two DTI files that abut along a common axis.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.8[0m [1m4[0m [1mMarch[0m [1m1993[0m [1mR.W.[0m  [1mRussell[0m

            New projections added to DTITRANS.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m2.9[0m [1m19[0m [1mApril[0m [1m1993[0m [1mJ[0m [1mBarber[0m

            BIT data type DTI files are not allowed for DTIROTATE.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m3.0[0m [1m27[0m [1mApril[0m [1m1993[0m [1mJ[0m [1mBarber[0m

            The angle PHI has been limited  to  between  -80  and  80  degrees  in
            DTIVIEW.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m3.1[0m [1m16[0m [1mSeptember[0m [1m1993[0m [1mJ[0m [1mBarber[0m

            A new chapter for DTIFROMTEXT, text to DTI file conversion,  has  been
            added.


  MATRIX REFERENCE (3.7)                                                  Page iii
  MATRIX Reference Documentation Change Record                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m3.2[0m [1m28[0m [1mOctober[0m [1m1994[0m [1mJ[0m [1mBarber[0m

            The chapter for DTIFROMTEXT, text to DTI  file  conversion,  has  been
            changed to make the /INDEX file contents clearer.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m3.3[0m [1m13[0m [1mApril[0m [1m1995[0m [1mJ[0m [1mBarber[0m

            The Appendix for package MATRIX has been changed to make  the  use  of
            DTILIB header reading routines clearer.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m3.4[0m [1m13[0m [1mJuly[0m [1m1995[0m [1mJ[0m [1mBarber[0m

            The Modified-Stereographic projection has been added to DTITRANS,  via
            a  new GCTPLIB in package LSLMAINT, together with five options defined
            on the sphere.  There is also a new DTILIB with associated changes  to
            the  MD2DAT projection options routine.  These new options are further
            described in the MATRIX Release Notes.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m3.5[0m [1m6[0m [1mMarch[0m [1m1996[0m [1mJ[0m [1mBarber[0m

            A new qualifier /ROUND_ORIGIN for DTITRANS has been implemented.  This
            forces  the  origin  offset to be a multiple of the sampling interval,
            required for some DTM formats.
  [1m--------------------------------------------------------------------------------[0m

  [1mVersion[0m [1m3.6[0m [1m10[0m [1mOctober[0m [1m1996[0m [1mJ[0m [1mCadogan[0m

            A new command ENABLE SMOOTH for DTIBLEND has been  implemented.   This
            enables a smooth (gradual) feathering of one matrix into another.














                                     CHAPTER 1

                                    INTRODUCTION





  MATRIX REFERENCE (3.7): Introduction                                    Page 1-1
                                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mINTRODUCTION[0m

  [1m--------------------------------------------------------------------------------[0m

            The Laser-Scan DTM software packages provide tools for the production,
            validation,  manipulation  and viewing of matrix data, particularly of
            elevation (height) data.  The  MATRIX  package  consists  of  software
            modules  for  the processing and manipulation of raster data held in a
            Laser-Scan DTI (Digital Terrain Image) format.  The package includes a
            library of routines that allow DTI format files to be read and written
            by an applications program.

            This manual provides  a  module  by  module  reference  guide  to  the
            package.














                                     CHAPTER 2

                                   MODULE DTIVIEW





  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility               Page 2-1
                                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE     DTIVIEW[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTIVIEW produces perspective or isometric profile plots of a  DTM  for
            validation  or  display  purposes.  The profile plots may be sent to a
            graphics screen or to an IFF file for subsequent plotting using a  FPP
            (Laser-Scan Fast Plotting Program) based plotting program.  Optionally
            vector information (point symbols, lines and areas)  contained  in  an
            IFF file may be overlaid 2-dimensionally on the terrain base.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DTIVIEW

  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            DTIVIEW is an interactive, command driven program.  Command  input  is
            expected when the following prompt is issued:

                        DTIVIEW>

            Commands may be issued at the terminal in response to the  prompt,  or
            in most cases by digitising a point inside a DTIVIEW menu box.

  [1m--------------------------------------------------------------------------------[0m


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility               Page 2-2
  PROMPTS                                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mGENERAL[0m

          DTIVIEW produces perspective or isometric profile plots  of  a  DTM  for
          validation  or  display  purposes.   The  profile plots may be sent to a
          graphics screen or to an IFF file for subsequent plotting  using  a  FPP
          based  plotting  program.  Optionally vector information contained in an
          IFF file may be overlaid on the terrain view.

  [1m--------------------------------------------------------------------------------[0m
  [1mPROJECTION[0m [1mTRANSFORMATIONS[0m

          A projection transforms points in a 3 dimensional coordinate system into
          points  in  a  2  dimensional  system.   In the context of DTIVIEW the 3
          dimensional coordinate system is that of the Digital Terrain Model,  and
          the 2 dimensional system is the coordinate system of a graphics device.

          The projection of a terrain surface recorded as a  DTM,  is  defined  by
          straight  projection  rays  (projectors)  emanating  from  the centre of
          projection, each passing through a single matrix node, and  intersecting
          a projection plane to form the projection.

          The two projections most frequently associated with terrain  views,  are
          the isometric which is a common form of the parallel projection, and the
          central perspective  projection.   Figure  1  shows  a  perspective  and
          parallel  projection  of  the  endpoints  of  the  same line.  Since the
          projection of a line results in a line, only the line endpoints need  be
          projected.

          As may be seen from the figure, the difference between a perspective and
          parallel  projection  is  related to the centre of the projection to the
          projection plane.  In the perspective projection the distance  from  one
          to  the  other  is  finite;  the  projectors  are  not  parallel  to the
          projection plane and converge at  a  vanishing  point.   In  a  parallel
          projection  the projectors are parallel, and the centre of projection is
          at infinity.

          The perspective projection creates a visual effect similar  to  that  of
          the  human  visual  system.   It  takes  into  account  the  perspective
          phenomena of the real world, so that parallel lines appear  to  meet  on
          the  horizon,  and  an  object  appears smaller as the distance from the
          observer increases (perspective foreshortening).  It is  therefore  used
          when  some  degree of realism is required, but has the disadvantage that
          it  cannot  be  used  for   cartometric   applications   eg.    distance
          measurements cannot be taken from the 3D view.  Figure 2 illustrates the
          form of a perspective terrain view generated by DTIVIEW.

          The parallel projection or isometric  view  is  less  realistic  because
          perspective foreshortening is lacking, however distances between objects
          remain  correct,  and  parallel  lines  remain   parallel.    Figure   3
          illustrates an isometric view generated by DTIVIEW - the area of terrain
          is that shown in perspective in Figure 2.


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility               Page 2-3
  DESCRIPTION                                                          5 June 1997


          Both terrain views  are  generated  using  a  combination  of  primitive
          geometric   transformations  that  allow  rotation  about  one  or  more
          coordinate axes.  The isometric view involves the  use  of  2  of  these
          primitive   rotation  transformations  to  rotate  about  the  x  and  y
          coordinate axes.  The perspective  view  involves  in  addition  to  the
          rotation operations, division by the depth of each coordinate point.  It
          is this division which causes  the  perspective  projection  of  vectors
          defining  a  terrain profile to be smaller the greater the distance from
          the observer.

  [1m--------------------------------------------------------------------------------[0m
  [1mTERRAIN[0m [1mVIEW[0m [1mGENERATION[0m

          DTIVIEW uses a  profile  algorithm  to  generate  terrain  views.   This
          involves  taking a series of horizontal or vertical profiles through the
          DTM.  The separate profiles combine to form the 3 dimensional  isometric
          or perspective view.

          The profiles are generated in order  of  increasing  distance  from  the
          viewer.   The  order  in  which  the DTM is sampled is controlled by the
          direction of view; the DTM is sampled  column  by  column  if  the  view
          direction is from the east or west, and row by row if the view direction
          is from the north or south.

          As the height of each profile point is extracted from the DTM, the x,y,z
          coordinates  of  the  point  are  passed  to the projection functions to
          transform the coordinates into  model  space  and  subsequently  into  2
          dimensional view space.  Before output to a graphics device, a vector on
          the profile is passed through a hidden line removal algorithm.

  [1m--------------------------------------------------------------------------------[0m
  [1mHIDDEN[0m [1mLINE[0m [1mREMOVAL[0m

          The perception of the third dimension and the understanding of the depth
          relationships in a perspective or isometric view, is enhanced by the use
          of hidden line removal.  The aim of hidden line removal  is  to  display
          only  those  parts  of  a profile that would be visible to the observer,
          given a solid (opaque) representation of the terrain surface.

          DTIVIEW uses a scan-line algorithm for the removal of hidden lines.  The
          algorithm  is  optimised for a terrain view generated by taking a series
          of profiles through the DTM which are orientated  to  the  direction  of
          view.

          The solution is based on the generation and storage of a highest current
          profile  or mask (see Figure 4), and relies on the component profiles of
          the view being generated in order of distance from the viewer,  so  that
          the  mask  may  be  advanced  profile by profile towards the back of the
          model.  The highest current profile is updated  as  each  point  on  the
          current  profile  is  transformed.  The mask consists of all the visible
          parts of the present profile, plus any parts of  the  previous  profiles
          that hide from view parts of the present profile.


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility               Page 2-4
  DESCRIPTION                                                          5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSIMPLE[0m [1mPROFILE[0m [1mBETWEEN[0m [1mTWO[0m [1mDTM[0m [1mPOINTS[0m

          In addition to producing  an  isometric  or  perspective  terrain  view,
          DTIVIEW  may  be  used  to  generate  a  simple profile or cross section
          between 2 DTM points.  The command PROFILE is provided.

  [1m--------------------------------------------------------------------------------[0m
  [1mPICTURE[0m [1mAND[0m [1mPLANES[0m

          Although DTIVIEW may be used on a  graphics  device  configured  with  4
          planes,  many options operate only on an 8 plane display device.  In the
          section of the Reference Guide which provides  details  on  all  DTIVIEW
          commands,  it  is  documented  if  a command is only valid on an 8 plane
          device.

          When using an 8 plane device it is possible  to  divide  the  bit-planes
          into  two contiguous sets of planes known as Pictures.  The first set of
          planes forms Picture 1, and is used for the display of an  isometric  or
          perspective  terrain  view and any associated legend.  The second set of
          planes forms Picture 2, and is used for the drawing  of  vector  overlay
          information,  and  for  any  user  annotation.   The two Pictures may be
          selected and cleared independently.

          You  may  select  or  deselect  either  of  the   Pictures   using   the
          DISABLE/ENABLE  PICTURE  commands.   For  example, [1mDISABLE[0m [1mPICTURE[0m [1m1[0mwill
          deselect Picture 1.  This causes any image displayed in Picture 1 to  be
          set  'invisible'.   It  may be set 'visible' again by giving the command
          [1mENABLE[0m [1mPICTURE[0m [1m1[0m.  Picture 2 may be manipulated in a similar  way.   You
          should  note  that deselecting one Picture, will cause the other Picture
          to be selected.  It is therefore not possible (and presumably  not  very
          useful), to deselect both Pictures.

          Both Picture 1 and 2 may be cleared selectively by means  of  the  CLEAR
          PICTURE  command.   For  example,  CLEAR  PICTURE 2 will clear Picture 2
          only.  Clearing erases the contents of the Picture, so that the image in
          the  Picture cannot be recovered.  It is possible to clear both Pictures
          together using the command CLEAR with no qualifier.

          By default DTIVIEW will allocate 5 planes to Picture 1 and the remaining
          3  planes  to  Picture 2.  You may vary the allocation of planes between
          Pictures by using the PLANES command.  PLANES allows you to  define  the
          number  of  bit-planes  that  will be used for Picture 1.  The remaining
          planes are always allocated to Picture 2.

          The number of  bit-planes  allocated  to  each  Picture  determines  the
          maximum  number  of  colours available for the terrain view, and for any
          vector overlay.


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility               Page 2-5
  DESCRIPTION                                                          5 June 1997


                  
                                   Picture 1         Picture 2

                  PLANES 5        32 colours      7 overlay colours
                  PLANES 6        64 colours      3 overlay colours
                  PLANES 7       128 colours      1 overlay colours
                  PLANES 8       256 colours      0 overlay colours

          You are limited to a maximum of 7 overlay colours.

          PLANES 4 has a special meaning, and is used to indicate to DTIVIEW  that
          output  is to a graphics device configured with 4 planes.  If the PLANES
          4 command is given, only Picture 1 will be used.  Both the terrain  view
          and  any  vector  overlay  and  user  annotation will be written to this
          picture.  Commands relating to Picture 2 will not be recognised.

          For a number of applications you may wish to use less than  the  maximum
          number of colours available with the current PLANES setting.  The number
          of colours used for display of a terrain  view  may  be  set  using  the
          COLOURS command.  For example, COLOURS 16 will select the use of just 16
          Picture 1 colours.  The value supplied with the COLOURS command may  not
          exceed  the number of possible colours available with the current PLANES
          setting.  It should also be noted, that giving the PLANES  command  will
          always  set  the  number of display colours to the maximum available for
          the number of Picture 1 planes.

  [1m--------------------------------------------------------------------------------[0m
  [1mCOLOUR[0m [1mTABLES[0m

          6 colour tables are supplied with the program.  Five of these tables are
          designed  to be utilised with the five available PLANES setting, and the
          appropriate colour table is read in when the PLANES  command  is  given.
          The colour tables associated with each PLANES setting are listed below:

                          Colour Table Name      Description

            PLANES 4         DTIVIEW4            16 display colours
                                                 and no overlay colours

            PLANES 5         DTIVIEW5            32 display colours
                                                 and 7 overlay colours

            PLANES 6         DTIVIEW6            64 display colours               
                                                 and 3 overlay colours 

            PLANES 7         DTIVIEW7            128 grey level values 
                                                 and 1 overlay colour 

            PLANES 8         DTIVIEW8            256 grey levels
                                                 and no overlay colours

          A special colour table UNDERSEA is also provided, and  is  read  by  the
          program  when the bathymetry option is selected using the command ENABLE
          BATHYMETRY.


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility               Page 2-6
  DESCRIPTION                                                          5 June 1997


          You may edit the colour representations in these tables using the system
          text  editor.   Alternatively,  you  may wish to define your own special
          colour tables, and select  these  from  within  DTIVIEW.   Colour  table
          selection is achieved using the LUT command.

          In the supplied colour tables the first entry is defined as  the  colour
          black.  DTIVIEW expects this to be case, and uses the first colour entry
          to selectively erase a quadrant or a Picture.  The second entry  in  the
          table  is  defined  as  the colour white, and is used by DTIVIEW to draw
          legend text, and the parts of any profile that  fall  outside  a  height
          range  defined  using the ZLIMITS command.  The third entry in the table
          is used to display parts of the profile that have a value of 0  or  less
          (ie.   areas  of  sea).   In  the  supplied  colour tables this entry is
          defined as the colour blue.

  [1m--------------------------------------------------------------------------------[0m
  [1mOVERLAY[0m [1mOF[0m [1mIFF[0m [1mDATA[0m [1mON[0m [1mA[0m [1mTERRAIN[0m [1mVIEW[0m

          DTIVIEW offers the option of drawing IFF features  on  an  isometric  or
          perspective  terrain  view.  These features will most usually consist of
          map features such as rivers and roads, or the contour and breakline data
          that  may  have been used in the generation of the DTM.  The overlay may
          also consist of polygon  information  generated  using  Laser  Scan  DTM
          exploitation  utilities,  defining  for  example, areas of visibility or
          range of gradient.  The overlay  option  is  an  important  display  and
          validation  tool, and may be used for many Geographic Information System
          (GIS) applications.

          The overlay option is enabled by  giving  the  command  ENABLE  OVERLAY.
          This  command should be given before any other commands that control the
          form of  overlay,  and  [1mbefore[0m  [1man[0m  [1misometric[0m  [1mor[0m  [1mperspective[0m  [1mview[0m  [1mis[0m
          [1mgenerated[0m.   The  option is supplied as a licensed facility, and may not
          be available in all versions of the program.

          Point, line and area features may be drawn on the terrain  base.   Point
          features are represented symbolically; the form of the symbol is defined
          in the SRI file.  A symbol is drawn only if a point at the base  of  the
          symbol  (ie.   on  the  terrain surface) is visible to the observer.  No
          hidden line removal involving the intersection  of  the  symbol  vectors
          with the terrain profiles is performed.

          Line features are drawn on the terrain view in a solid line.   Any  line
          pattern  or  line thickness definitions contained in the FRT are ignored
          when the line is drawn.  Only those parts of the line that  are  visible
          to the observer are shown.

          Area features are shown as a hatched infilled region;  the  hatching  is
          drawn  at  right  angles to the terrain profiles.  It is not possible to
          vary this representation.  The FRT area fill parameters are not used  by
          DTIVIEW.  The boundary of the region is also drawn.  Only those parts of
          the area that are visible to the observer are shown.

          Note that  in  the  case  of  all  lines  and  areas,  a  'cartographic'
          representation  of  the  features produced.  The features are treated as
          though they have no height above the terrain  surface.   Any  coordinate
          height  information associated with the IFF features is ignored when the


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility               Page 2-7
  DESCRIPTION                                                          5 June 1997


          features are drawn by DTIVIEW.

          The command IFF is used to select the IFF file which holds  the  overlay
          data.    The   command   IFFWINDOW  is  used  to  define  a  rectangular
          geographical area in the IFF file.  Registration  of  the  overlay  data
          with the terrain data is achieved using this command in combination with
          the WINDOW  command;  the  corners  of  the  IFF  rectangular  area  are
          registered  to  the  rectangular  corners  of  the  DTM  current area of
          interest.  The default IFF window is  set  up  to  achieve  registration
          automatically  provided  header records, containing absolute file origin
          values, are present in both the DTI and  IFF  files.   (See  the  DTILIB
          Module for more information on DTI header records and the IFF user guide
          for an explanation of the IFF Map Descriptor entry.) Resetting  the  DTI
          WINDOW  causes  automatic  recalculation  of  the  IFFWINDOW to maintain
          registration.

          The SELECT and DESELECT commands should be  used  to  define  which  IFF
          features  are  drawn  on  the  terrain view; features may be included or
          excluded on the basis of FSN, feature code or layer.  The graphical type
          and  colour  representation of the features is determined from a Feature
          Representation Table; the form of a point symbol is  determined  from  a
          Symbol  Representation file.  The commands FRT and SRI should be used to
          define these two files before the features  are  drawn  on  the  terrain
          view.

          The command OVERLAY is used to draw the features on  the  terrain  view.
          An  isometric  or  perspective  terrain  view  must have been previously
          generated, and the representation tables defined.  A typical sequence of
          commands  which  results  in  IFF  data being drawn on a terrain view is
          shown below.

          DTIVIEW> [1mENABLE[0m [1mGRAPHICS[0m [1m<CR>[0m
          DTIVIEW> [1mFILEIN[0m [1mTEST[0m [1m<CR>[0m
          DTIVIEW> [1mWINDOW[0m [1m1[0m [1m1[0m [1m100[0m [1m100<CR>[0m
          DTIVIEW> [1mENABLE[0m [1mOVERLAY[0m [1m<CR>[0m
          DTIVIEW> [1mIFF[0m [1mTEST_OVERLAY[0m [1m<CR>[0m
          DTIVIEW> [1mIFFWINDOW[0m [1m0[0m [1m0[0m [1m1000[0m [1m1000[0m [1m<CR>[0m
          DTIVIEW> [1mFRT[0m [1mTEST[0m [1m<CR>[0m
          DTIVIEW> [1mSRI[0m [1mTEST[0m [1m<CR>[0m
          DTIVIEW> [1mSELECT[0m [1mFC[0m [1m10,[0m [1m20-25[0m [1m<CR>[0m
          DTIVIEW> [1mISOMETRIC[0m [1m<CR>[0m
          DTIVIEW> [1mOVERLAY[0m [1m<CR>[0m
          DTIVIEW> [1mEXIT[0m [1m<CR>[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mDISPLAY[0m [1mANNOTATION[0m

          When using a graphics device, it is possible to annotate a terrain  view
          with  a  legend  and  with text labels.  In both cases it is possible to
          control the size and position of the annotation,  and  in  the  case  of
          labelling  to  select  the  colour  in  which the labels are drawn.  The
          legend is used for analysis since it relates the colours used in drawing
          a  terrain view to a height range, while labelling is used primarily for
          presentation purposes.


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility               Page 2-8
  DESCRIPTION                                                          5 June 1997


          A legend may be output to the screen using the DRAW LEGEND  command.   A
          terrain  view or cross section must have been previously generated.  The
          legend consists of a display colour / height  guide,  which  allows  the
          colours  in the terrain view to be related to the range of height values
          they represent.  The colour/height guide is sub-sampled as necessary.

          The commands LEGEND POSITION and LEGEND SIZE are  used  to  control  the
          position  of  the  legend and the size of the legend boxes respectively.
          By default a legend will be drawn with the first box positioned close to
          the  the  bottom lefthand corner of the display.  When using a quartered
          screen, the legend is drawn by default in the bottom lefthand corner  of
          the  selected  quadrant.   No  check  is made when drawing the legend to
          determine whether it will overwrite part of the terrain view.

          The display may be annotated with text using  the  DRAW  LABEL  command.
          There  is  no  restriction  on  the  number of labels that may be drawn,
          however a single text string cannot consist of more than 80  characters.
          The  LABEL  POSITION command determines the position of the label on the
          screen; a label is drawn so that the first character is located  at  the
          current  label  position.   The LABEL SIZE command may be used to select
          from 4 different character sizes.

          In addition to position and size, it is  also  possible  to  select  the
          colour  in  which  the  labels  are  drawn, when using a colour graphics
          display with 8 planes.  The number of annotation colours is equal to the
          number  of overlay colours and is controlled by the PLANES setting.  The
          command LABEL COLOUR may be used to define the colour of a label.

          The command CLEAR LABEL allows all the labels drawn on a  screen  to  be
          cleared independently of any terrain view or legend.

          The annotation commands  are  dependent  on  the  configuration  of  the
          workstation  display device.  It is not possible to generate a legend on
          a TEKTRONIX 4014, or to clear labels independently of the terrain  view.
          It  is  not possible to set the colour of labelling on a colour graphics
          device that has less than 8 planes.

          The SHOW ANNOTATION command is provided to list current legend and label
          parameters.

  [1m--------------------------------------------------------------------------------[0m
  [1mPLOTTING[0m [1mAND[0m [1mMOVEMENT[0m [1mOF[0m [1mSYMBOLS[0m [1mON[0m [1mA[0m [1mTERRAIN[0m [1mVIEW[0m

          DTIVIEW offers the option of interactively positioning and  moving  user
          defined  symbols  on an isometric or perspective terrain view.  The form
          of the symbol is defined in the SRI file.  A symbol is drawn only  if  a
          point at the base of the symbol (ie.  on the terrain surface) is visible
          to the observer.  No hidden line removal involving the  intersection  of
          the  symbol  vectors  with  the  terrain  profiles  is performed.  Up to
          fifteen symbols may be interactively positioned or moved.

          The symbol option is enabled by giving the command ENABLE SYMBOLS.  This
          command  should be given before any other commands that control the form
          of  the  symbols,  and  [1mbefore[0m  [1man[0m  [1misometric[0m  [1mor[0m  [1mperspective[0m  [1mview[0m  [1mis[0m
          [1mgenerated[0m.   The  option is supplied as a licensed facility, and may not
          be available in all versions of the program.


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility               Page 2-9
  DESCRIPTION                                                          5 June 1997


          A symbol is selected on the basis of feature code using  the  SYMBOL  FC
          command.  An entry for the feature code must be present in the currently
          selected FRT.  The symbols are positioned on the terrain model using the
          SYMBOL POSITION command.  This command requires a symbol number together
          with the x and y coordinates of the symbol specified in the current  DTI
          units  of  measurement.   The  coordinates must lie within the currently
          specified window.

          Alternatively, if a digitising table is available, and a  map  has  been
          registered  to the DTM, the position of a symbol may be defined using an
          appropriate button on the table puck.   Button  1  positions  symbol  1,
          button  2  positions  symbol  2  and  so on.  All fifteen symbols may be
          position in  this  way.   Button  0  may  be  used  to  redisplayed  all
          previously defined symbols.  This is useful when a new view is generated
          with a different visibility grid,  and  causes  all  previously  defined
          symbols to be displayed on the new terrain view.

          The SYMBOL CLEAR command may be used to selectively clear  a  symbol  or
          remove  all symbols from the terrain model.  The command will not remove
          symbols displayed using the OVERLAY command.

  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTION[0m [1mOF[0m [1mVISIBILITY[0m [1m(FOG)[0m

          DTIVIEW offers the option of restricting visibility using the ENABLE FOG
          command.   The  limit  of  visibility  is controlled by means of the FOG
          VISIBILITY command.  For example, the command FOG VISIBILITY  2000  sets
          the  visibility distance to 2000 metres.  In calculating whether a point
          is visible the algorithm considers the spatial  location  (Xo,Yo,Zo)  of
          the  observer  (o) and the spatial location (Xi,Yi,Zi) of a point (i) on
          the model surface.  Points lying beyond  the  limit  of  visibility  are
          considered  to be in the fog, and are drawn in the currently defined fog
          colour.  By default the fog colour is black so that parts of the terrain
          surface  in  the  fog  will  not  be visible on the graphics screen.  An
          alternative fog colour index may  be  selected  using  the  command  FOG
          COLOUR.

          The ENABLE FOG command should be given before any  other  commands  that
          control  the  fog,  and  [1mbefore[0m  [1man[0m  [1misometric[0m  [1mor[0m  [1mperspective[0m  [1mview[0m [1mis[0m
          [1mgenerated[0m.  The option is supplied as a licensed facility, and  may  not
          be  available  in  all  versions of the program.  The fog option is only
          valid for a perspective terrain view.

  [1m--------------------------------------------------------------------------------[0m
  [1mUSE[0m [1mOF[0m [1mA[0m [1mDIGITISING[0m [1mTABLE[0m [1mAND[0m [1mPUCK[0m [1mBUTTONS[0m

          If your workstation incorporates a digitising  table  and  button  puck,
          then  it  is possible to register a source document such as a map to the
          DTM, and to issue many of the DTIVIEW commands from a table menu.

          If the logical name LSL$AUTO_ENABLE_TABLE is defined with a value of "1"
          the  program  will  attempt  to  initialise the Laser Scan Table Monitor
          Utility on startup.  If the logical name is  absent  or  has  any  other
          value, initialisation is not performed on startup, however the table can
          be subsequently initialised using the command ENABLE TABLE.


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-10
  DESCRIPTION                                                          5 June 1997


          The Table Monitor controls reading from the digitising table.   It  must
          be set up on your system if DTIVIEW is to take input from the digitising
          table.  If table initialisation fails then the message:

                  *** WARNING *** Initialising table monitor
                  DTIVIEW will assume no table is available

          will be output before the prompt [1mDTIVIEW>[0m is displayed on the  terminal.
          In  the event of failure, input from the digitising table or puck button
          is not possible, and the program will  accept  commands  only  from  the
          terminal.

          Table initialisation will generally fail because  no  Table  Monitor  is
          currently  active,  or  because  the  Table Monitor is locked by another
          user.  If neither of these reasons appear to apply, you  should  consult
          the TABLIB Reference Manual, or seek guidance from your system manager.


          A map is registered to the DTM using  the  command  [1mSETUP[0m  [1mMAP[0m.   Before
          giving  this  command  you should have first selected the input DTM, and
          have securely attached the source document to the digitising table.

          Registration is  performed  by  digitising  4  rectangular  registration
          points.   The  registration  points  represent  4 points on the map that
          correspond to the 4 corners of the DTM.  The points are digitised in the
          order  top  left (NW), bottom left (SW), bottom right (SE) and top right
          (NE) using any button on the  table  puck.   A  point  is  digitised  in
          response to an explanatory prompt on the terminal.

          An error message is generated if any of  the  angles  of  the  digitised
          rectangle  are less than 88 degrees, or greater than 92 degrees (ie.  if
          the corner  points  of  the  rectangle  are  more  than  2  degrees  off
          rectangular).   In  this situation you will be asked to redigitise the 4
          registration points.

          Once a map has been positioned on the table, it is possible to define an
          area  of interest in the DTM by giving the WINDOW command and digitising
          two points on the map.  It is also possible to digitise  the  start  and
          end  points  of  a  simple profile through the DTM.  The command PROFILE
          should be given, and subsequently two points should be digitised in  the
          map area using any button on the table puck.

          The map can also be used to position symbols on the model.  See  section
          [1mPlotting[0m [1mof[0m [1muser[0m [1mdefined[0m [1msymbols[0m [1mon[0m [1ma[0m [1mterrain[0m [1mmodel[0m

          If the table has been successfully initialised, then a command menu  may
          be positioned on the table.  The majority of the DTIVIEW commands may be
          issued from the menu.

          A menu is positioned on the table using the command [1mSETUP[0m [1mMENU[0m.  As with
          map  setup,  registration  is  performed  by  digitising  4  rectangular
          registration points.  The registration points represent the 4 corners of
          the  menu.  The points are digitised in the order top left, bottom left,
          bottom right and top right using any button on the table puck.  A  point
          is digitised in response to an explanatory prompt on the terminal.


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-11
  DESCRIPTION                                                          5 June 1997


          A menu command is issued by digitising a point in the relevant menu box.
          For  commands  that  require  a parameter argument, you should enter the
          parameter in response to a prompt on the terminal, using  the  keyboard.
          The ENABLE commands when given from the menu act as 'flip-flops'; if the
          enable option is currently disabled it will be  enabled  when  the  menu
          command is given, and vice versa.


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-12
                                                                       5 June 1997







                                 [1mDTIVIEW[0m [1mCOMMANDS[0m



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-13
  @ command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1m@[0m

          Take command input from the specified file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1m@[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The file to be opened and used for command input.

          Any parts of the file-spec not supplied will be taken from  the  default
          specification 'SYS$DISK:[].COM;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DTIVIEW offers the facility of command input from an indirect command file.  The
  '@' character preceding a file-spec will cause DTIVIEW to open and read commands
  from the specified file until:

       1.  a  RETURN  command  is  detected  and  command  input  is  returned  to
           SYS$COMMAND.

       2.  the end of file is  detected.   This  provokes  an  error  message  and
           command input is returned to SYS$COMMAND.


  Nested command files are not supported (i.e. a command file  containing  an  '@'
  command),  although  sequential  '@'  commands  are  supported  when  read  from
  SYS$COMMAND.

  As an aid to batch log interpretation DTIVIEW will echo all commands  read  from
  an indirect command file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the @ command:

  *** ERROR *** Specifying command @
  Command file specification is missing

  *** ERROR *** Specifying command @
  Unable to open indirect command file 'file-spec'

  *** ERROR *** Specifying command @
  Nested command files not supported



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-14
  @ command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW> [1m@PRESETS<CR>[0m
  DTIVIEW> ENABLE GRAPHICS
  DTIVIEW> FILEIN AREA1

  DTI file LSL$DTI:AREA1.DTI;0 opened for read
  Header  :  MIKE  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    45    40
  Matrix Interval    E:     1         N:     1
  Value Range         :     378 to  526

  DTIVIEW> WINDOW 1 1 30 30
  DTIVIEW> DIRECTION SOUTH
  DTIVIEW> RETURN
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-15
  ! command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1m![0m

          Treat all text to the right of the '!' as a comment.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1m![0m [1m[comment[0m [1mtext][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  comment text

          text that is to be treated as a comment and which will be excluded  from
          command interpretation.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  An exclamation mark is the standard MATRIX package comment delimiter.  All  text
  (and  numbers)  which  lie  to  the  right  of a '!' character are excluded from
  command interpretation.  Comments are useful for annotating  command  procedures
  used in batch processing etc.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW> [1mFILEIN[0m [1mTEST[0m [1m!open[0m [1mthe[0m [1mfile<CR>[0m
  DTIVIEW> [1m!Define[0m [1ma[0m [1mwindow<CR>[0m
  DTIVIEW> [1mWINDOW[0m [1m1[0m [1m1[0m [1m10[0m [1m10<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-16
  CLEAR command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mCLEAR[0m

          Clears the display screen of a graphics device.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mCLEAR[0m 

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The CLEAR command is used to clear the display screen of a graphics device.

  The command operates on both Picture 1 and Picture 2.   If  you  wish  to  clear
  pictures independently, the command CLEAR PICTURE should be used.

  If a divided screen is selected, then the command CLEAR QUADRANT may be used  to
  clear a particular quadrant of the screen.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the CLEAR command:

  *** ERROR *** Specifying command CLEAR
  No graphics device is currently enabled

  *** ERROR *** Specifying command CLEAR
  Command qualifiers are PICTURE or QUADRANT


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mCLEAR[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-17
  CLEAR QUADRANT command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mCLEAR[0m [1mQUADRANT[0m

          Clears a single quadrant of a graphics  screen.   The  command  is  only
          valid if the option to use a divided screen has been selected.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mCLEAR[0m [1mQUADRANT[0m [1mquadrant_number[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  quadrant_number

          specifies  which  quadrant  of  the  screen  is  to  be  cleared.    The
          quadrant_number should be in the range 1 to 4 where:

              Quadrant_number 1 = top lefthand quadrant

              Quadrant_number 2 = top righthand quadrant

              Quadrant_number 3 = bottom righthand quadrant

              Quadrant_number 4 = bottom lefthand quadrant


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The CLEAR QUADRANT command is used to clear a  single  quadrant  of  a  graphics
  screen.   The  quadrant_number  parameter  specifies  which  quadrant  is  to be
  cleared.
  The command is only valid if  a  divided  screen  is  currently  selected.   The
  command operates on both Picture 1 and Picture 2.

  To clear the whole screen (ie.  all quadrants) the  command  CLEAR  without  the
  qualifier QUADRANT should be given.

  Note that it is not possible to clear a single  quadrant  on  a  TEKTRONIX  4014
  display.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are  specific  to  the  CLEAR  and  CLEAR  QUADRANT
  command:

  *** ERROR *** Specifying command CLEAR
  No graphics device is currently enabled

  *** ERROR *** Specifying command CLEAR
  Command qualifiers are PICTURE or QUADRANT

  *** ERROR *** Specifying command CLEAR QUADRANT
  A divided screen is not enabled



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-18
  CLEAR QUADRANT command                                               5 June 1997


  *** ERROR *** Specifying command CLEAR QUADRANT
  Command requires a quadrant number in the range 1 to 4


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mENABLE[0m [1mDIVIDE[0m [1m<CR>[0m
  DTIVIEW>[1mCLEAR[0m [1mQUADRANT[0m [1m2<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-19
  CLEAR PICTURE command                                                5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mCLEAR[0m [1mPICTURE[0m

          Clears the bit-planes of a graphics device that are currently  allocated
          to the specified picture.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mCLEAR[0m [1mPICTURE[0m [1mpicture_number[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  picture_number

          The picture number.  An integer value of either 1 or 2 is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The CLEAR PICTURE command is used to clear the bit-planes of a  graphics  device
  that are currently allocated to the specified picture.

  The number of bit-planes allocated to picture 1  and  picture  2  is  determined
  using  the PLANES command.  By default 5 planes (bit-planes 1 to 5) are used for
  Picture 1, and the remaining 3 planes (bit-planes 6 to 8) are used  for  Picture
  2.   An isometric or perspective terrain view is drawn into Picture 1, while any
  vector overlay information or annotation drawn using the OVERLAY and DRAW  LABEL
  commands, is displayed in Picture 2.
  A terrain view may therefore be cleared independently of any overlay  using  the
  command CLEAR PICTURE 1, while any IFF overlay may be cleared independently from
  the terrain base using the command CLEAR PICTURE 2.  To clear both pictures (ie.
  all bit-planes of a graphics display), the command CLEAR should be used.

  Note that this command is not applicable if the  output  graphics  device  is  a
  TEKTRONIX 4014, or if the device is configured with only 4 bit-planes.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages  are  specific  to  the  CLEAR  and  CLEAR  PICTURE
  commands:

  *** ERROR *** Specifying command CLEAR
  No graphics device is currently enabled

  *** ERROR *** Specifying command CLEAR
  Command qualifiers are PICTURE or QUADRANT

  *** ERROR *** Specifying command CLEAR PICTURE
  Command requires 1 integer argument

  *** ERROR *** Specifying command CLEAR PICTURE
  Command requires a picture number of 1 or 2



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-20
  CLEAR PICTURE command                                                5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mCLEAR[0m [1mPICTURE[0m [1m1<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-21
  COLOURS command                                                      5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mCOLOURS[0m

          Defines  the  number  of  colours  used  to  display  an  isometric   or
          perspective view on a colour graphics device.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mCOLOURS[0m [1mnumber[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  number

          The number of colours to be used  for  display.   An  integer  value  is
          required.  The valid range for the integer is dependent on the number of
          planes currently selected for PICTURE 1.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The COLOURS command defines the number of colours used to draw a terrain view on
  a colour graphics device.

  By default, DTIVIEW allocates 5 bit-planes of a graphics device to  the  terrain
  view,  and  uses  the  the colour table file LSL$LOOKUP:DTIVIEW5.DAT.  This file
  contains RGB definitions for 32 PICTURE 1 colours, and 7 overlay  colours.   The
  first  3  entries  define  the  colours  black,  white  and  blue which are used
  specially by the program; the remaining 29 entries define a  series  of  colours
  that  are  used  when  drawing  the isometric or perspective view profile lines.
  Different colours are used to represent different height levels.
  By default therefore the terrain view will be drawn using 29 colours.
  Using the COLOURS command, it is possible to change this  default,  and  specify
  how  many  colours  are  used  when displaying a terrain view.  For example, the
  command COLOURS 4 will select the use of the first 4 non-special colours in  the
  currently selected colour table.

  A common use for the command is to  restrict  the  number  of  colours  used  in
  drawing  the  terrain  base, so that any vector data overlaid on the view may be
  easily seen.

  Note that redefining the number of colours, may change the height interval value
  previously  set  by  the  ZSTEP  command,  and  that  the  PLANES  command  will
  automatically reset the number of colours  to  the  maximum  allowable  for  the
  bit-plane setting.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the COLOURS command:

  *** ERROR *** Specifying command COLOURS
  Command requires 1 integer argument

  *** ERROR *** Specifying command COLOURS
  Number of colours should be in the range 1 to <maximum_colours>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-22
  COLOURS command                                                      5 June 1997




  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mCOLOURS[0m [1m13<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-23
  DESELECT FC command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESELECT[0m [1mFC[0m

          Excludes an IFF feature from overlay on an isometric or perspective view
          on the basis of feature code.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mDESELECT[0m [1mFC[0m [1mfeature_code[0m [1m[,...][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  feature_code

          An integer feature code in the range 0 to 32767.  Multiple feature codes
          may be specified separated by commas or spaces, while a range of feature
          codes may be specified by means  of  a  '-'.   eg.   DESELECT  FC  10-13
          excludes feature codes 10,11,12 and 13.
          Alternatively a valid FRT group name may be  specified.   eg.   DESELECT
          RIVERS

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DESELECT FC command is used to exclude  IFF  features  from  overlay  on  an
  isometric  or  perspective  view.   Features  are excluded on the basis of their
  feature code.

  By default DTIVIEW will use all features within an IFF file.

  Use of the SHOW SELECTIONS command is recommended to display feature  selections
  before the OVERLAY command is given.

  The DESELECT FC command is only valid if the ENABLE  OVERLAY  command  has  been
  previously  given,  and  the  FRT  command  has  been  used  to select a Feature
  Representation Table.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are  specific  to  the  DESELECT  and  DESELECT  FC
  commands:

  *** ERROR *** Specifying command DESELECT
  Overlay options are not currently enabled

  *** ERROR *** Specifying command DESELECT
  Command qualifiers are FC, FSN, or LAYER             

  *** ERROR *** Specifying command DESELECT
  Illegal feature code

  *** ERROR *** Specifying command DESELECT FC
  No FRT has been read

  *** ERROR *** Specifying command DESELECT FC


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-24
  DESELECT FC command                                                  5 June 1997


  No groups have been defined in the FRT


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mDESELECT[0m [1mFC[0m [1m1<CR>[0m
  DTIVIEW>[1mDESELECT[0m [1mFC[0m [1mRAILWAYS<CR>[0m
  DTIVIEW>[1mDESELECT[0m [1mFC[0m [1mRIVERS[0m [1m7-10,56-78[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-25
  DESELECT FSN command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESELECT[0m [1mFSN[0m

          Excludes an IFF feature from overlay on an isometric or perspective view
          on the basis of feature serial number.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mDESELECT[0m [1mFSN[0m [1mfsn[0m [1m[,...][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  fsn

          An integer feature serial number in the  range  0  to  65534.   Multiple
          feature  serial  numbers may be specified separated by commas or spaces,
          while a range of numbers may be  specified  by  means  of  a  '-'.   eg.
          DESELECT FSN 10-13 excludes feature serial numbers 10,11,12 and 13.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DESELECT FSN command is used to exclude IFF  features  from  overlay  on  an
  isometric  or  perspective  view.   Features  are excluded on the basis of their
  feature serial number.

  By default DTIVIEW will use all features within an IFF file.

  Use of the SHOW SELECTIONS command is recommended to display feature  selections
  before the OVERLAY command is given.

  The DESELECT FSN command is only valid if the ENABLE OVERLAY  command  has  been
  previously given.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific  to  the  DESELECT  and  DESELECT  FSN
  commands:

  *** ERROR *** Specifying command DESELECT
  Command is not valid unless the ENABLE OVERLAY command has been given

  *** ERROR *** Specifying command DESELECT
  Command qualifiers are FC, FSN, or LAYER             

  *** ERROR *** Specifying command DESELECT FSN
  Illegal FSN number


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mDESELECT[0m [1mFSN[0m [1m4[0m
  DTIVIEW>[1mDESELECT[0m [1mFSN[0m [1m7-10,56-78[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-26
  DESELECT LAYER command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESELECT[0m [1mLAYER[0m

          Excludes an IFF feature from overlay on an isometric or perspective view
          on the basis of layer number.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mDESELECT[0m [1mLAYER[0m [1mlayer[0m [1m[,...][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  layer

          An integer layer number in the range 1 to 32767.  Multiple layer numbers
          may  be  specified separated by commas or spaces, while a range of layer
          numbers may be specified by means of a '-'.  eg.  DESELECT  LAYER  10-13
          excludes all features in layers 10,11,12 and 13.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DESELECT LAYER command is used to exclude IFF features from  overlay  on  an
  isometric or perspective view.  Features are excluded on the basis of IFF layer.

  By default DTIVIEW will use all features within an IFF file.

  Use of the SHOW SELECTIONS command is recommended to display feature  selections
  before the OVERLAY command is given.

  The DESELECT LAYER command is only valid if the ENABLE OVERLAY command has  been
  previously given.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the  DESELECT  and  DESELECT  LAYER
  commands:

  *** ERROR *** Specifying command DESELECT
  Command is not valid unless the ENABLE OVERLAY command has been given

  *** ERROR *** Specifying command DESELECT
  Command qualifiers are FC, FSN, or LAYER             

  *** ERROR *** Specifying command DESELECT
  Illegal layer number


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mDESELECT[0m [1mLAYER[0m [1m7[0m
  DTIVIEW>[1mDESELECT[0m [1mLAYER[0m [1m1,7-10[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-27
  DIRECTION command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDIRECTION[0m

          Defines the direction of view.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mDIRECTION[0m  [1mdirection[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  direction

          A keyword defining the direction of view.   Valid  keywords  are  NORTH,
          SOUTH, EAST or WEST.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DIRECTION command defines the direction of view, and therefore controls  the
  order in which the DTM elevation values are sampled.
  For a direction of NORTH or SOUTH,  the  DTM  is  sampled  row  by  row;  for  a
  direction of EAST or WEST, the DTM is sampled column by column.

  The default viewing direction is from the west.

  Use of the SHOW  VIEW  command  is  recommended  to  check  on  current  viewing
  parameters before an isometric or perspective view is generated.

  If the DTIVIEW menu has been set up on a digitising table using the  SETUP  MENU
  command, the direction of view may be entered by means of the 4 boxes labelled [1mN[0m
  [1mE[0m [1mS[0m [1mW[0m.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DIRECTION command:

  *** ERROR *** Specifying command DIRECTION
  Command requires a keyword qualifier of NORTH, SOUTH, EAST or WEST.


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mDIRECTION[0m [1mEAST[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-28
  DISABLE ABSOLUTE command                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mABSOLUTE[0m

          Disables a previous ENABLE ABSOLUTE command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mDISABLE[0m [1mABSOLUTE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE ABSOLUTE  cancels  a  previous  ENABLE  ABSOLUTE  command.   If  DISABLE
  ABSOLUTE  is  given,  then coordinate values required by the WINDOW, PROFILE and
  SYMBOL POSITION commands,  supplied  in  metre  or  projection  units,  must  be
  specified  as  an offset from the SW corner of the matrix.  Coordinates supplied
  with the IFFWINDOW command should similarly be specified as an offset  from  the
  SW corner of the IFF file area.
  By default window values should be specified as absolute coordinates.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW> [1mDISABLE[0m [1mABSOLUTE<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-29
  DISABLE AUTOSCALE command                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mAUTOSCALE[0m

          Deselects the option to automatically scale and position an isometric or
          perspective view on a graphics screen.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mDISABLE[0m [1mAUTOSCALE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE  AUTOSCALE  deselects  the  automatic  scaling  and  positioning  of  an
  isometric  or  perspective  view  on  a  graphics screen.  The command therefore
  cancels any previous ENABLE AUTOSCALE command.

  If the DISABLE AUTOSCALE is given, it  is  necessary  to  specifically  set  the
  position  and  scale  of the view on the graphics screen using the SET SCALE and
  SET ORIGIN commands.

  By default the scaling and positioning of the plot automatically by the  program
  is enabled.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before generating an isometric or perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mDISABLE[0m [1mAUTOSCALE<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-30
  DISABLE BATHYMETRY command                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mBATHYMETRY[0m

          Cancels any previous ENABLE BATHYMETRY command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mDISABLE[0m [1mBATHYMETRY[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DISABLE BATHYMETRY command cancels any previous ENABLE  BATHYMETRY  command.
  It  is  therefore  used  to  reselect  the  normal  modelling  options  that are
  appropriate to a DTM containing positive height values.  The command also causes
  a  default  colour  file that is appropriate to the current PLANES setting to be
  selected (eg.  LSL$LOOKUP:DTIVIEW5.DAT if 5 planes are selected).

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before generating an isometric or perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mDISABLE[0m [1mBATHYMETRY<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-31
  DISABLE COLOUR_IFF command                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mCOLOUR_IFF[0m

          Cancels any previous ENABLE COLOUR_IFF command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mDISABLE[0m [1mCOLOUR_IFF[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DISABLE COLOUR_IFF command cancels any previous ENABLE  COLOUR_IFF  command.
  It  is  therefore used to deselect the option of producing an output IFF feature
  in which a new feature is started whenever the colour of the vectors defining  a
  profile changes.

  If this option is deselected, then only parts of the profile that represent sea,
  land or heights outside the height range, will be distinguished in the IFF file.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before generating an isometric or perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mDISABLE[0m [1mCOLOUR_IFF[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-32
  DISABLE DIVIDE command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mDIVIDE[0m

          Cancels any previous ENABLE DIVIDE command, and  therefore  selects  the
          use of a full graphics screen.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mDISABLE[0m [1mDIVIDE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DISABLE DIVIDE command cancels any previous ENABLE DIVIDE  command.   It  is
  therefore used to reselect the use of an undivided (ie.  full) display screen.

  The SHOW ENABLE command may be used to check on the status of the option.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mDISABLE[0m [1mDIVIDE<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-33
  DISABLE FISHNET command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mFISHNET[0m

          Cancels a previous ENABLE FISHNET command, and therefore  deselects  the
          option of generating a fishnet representation of the terrain view.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mDISABLE[0m [1mFISHNET[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE FISHNET deselects the option to produce a fishnet representation of  the
  terrain view.

  By default the option is not selected.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before a terrain view is generated.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mDISABLE[0m [1mFISHNET[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-34
  DISABLE FOG command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mFOG[0m

          Disables the option to restrict visibility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mDISABLE[0m [1mFOG[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DISABLE FOG command is used to disable any current  visibility  restriction.
  The command is therefore used to cancel a previous ENABLE FOG command.

  After using the DISABLE FOG command, other commands that are relevant to the fog
  option are invalid.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before generating a perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExample:[0m

  DTIVIEW>[1mDISABLE[0m [1mFOG[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-35
  DISABLE GRAPHICS command                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mGRAPHICS[0m

          Cancels a previous ENABLE  GRAPHICS  command,  and  therefore  deselects
          output to all workstation graphics devices.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mDISABLE[0m [1mGRAPHICS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE GRAPHICS deselects output to all workstation graphics devices  when  the
  ISOMETRIC, PERSPECTIVE, PROFILE or OVERLAY commands are given.
  It is therefore used to cancel any previous ENABLE GRAPHICS command.

  The command is only useful when used with the ENABLE IFF_OUTPUT command.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before a terrain view is generated.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mDISABLE[0m [1mGRAPHICS[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-36
  DISABLE IFF_OUTPUT command                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mIFF_OUTPUT[0m

          Cancels a previous ENABLE IFF_OUTPUT command

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mDISABLE[0m [1mIFF_OUTPUT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE IFF_OUTPUT deselects the option of directing output to an IFF file  when
  the ISOMETRIC, PERSPECTIVE, PROFILE or OVERLAY commands are given.
  It is therefore used to cancel any previous ENABLE IFF_OUTPUT command.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before a terrain view is generated.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mDISABLE[0m [1mIFF_OUTPUT[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-37
  DISABLE OVERLAY command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mOVERLAY[0m

          Disables  the  option  to  overlay  vector  data  on  an  isometric   or
          perspective terrain view.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mDISABLE[0m [1mOVERLAY[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DISABLE OVERLAY command is used to disable the overlay of vector data on  an
  isometric  or perspective terrain view.  The command is therefore used to cancel
  any previous ENABLE OVERLAY command.

  After using the DISABLE OVERLAY command, other commands that are relevant to the
  overlay of vector data on a terrain view are invalid.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before generating an isometric or perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExample:[0m

  DTIVIEW>[1mDISABLE[0m [1mOVERLAY[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-38
  DISABLE PICTURE command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mPICTURE[0m

          Deselects the specified picture.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mDISABLE[0m [1mPICTURE[0m [1mpicture_number[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  picture_number

          The picture number.  An integer value in the range 1 to 2 is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DISABLE PICTURE command is used to deselect (make invisible) the  bit-planes
  of a graphics device that are currently allocated to the specified picture.

  The number of bit-planes allocated to picture 1  and  picture  2  is  determined
  using the PLANES command.

  An isometric or perspective terrain view is drawn  into  Picture  1,  while  any
  vector  overlay information or annotation drawn using the OVERLAY and DRAW LABEL
  commands, is displayed in Picture 2.  Giving the command DISABLE PICTURE 2  will
  therefore  make  invisible  any  vector overlay or annotation.  PICTURE 2 may be
  reselected (made visible) using the command ENABLE PICTURE 2.

  Note that this command is not applicable if the graphics device is  a  TEKTRONIX
  4014, or if the device is configured with 4 bit-planes.

  The SHOW ENABLE command may be used to check on the status of the 2 pictures.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific  to  the  DISABLE  and  DISABLE  PICTURE
  commands:

  *** ERROR *** Specifying command DISABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE

  *** ERROR *** Specifying command DISABLE PICTURE
  Command requires an integer argument

  *** ERROR *** Specifying command DISABLE PICTURE
  Command requires a picture number of 1 or 2


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-39
  DISABLE PICTURE command                                              5 June 1997


  DTIVIEW>[1mDISABLE[0m [1mPICTURE[0m [1m2<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-40
  DISABLE PRIMARY command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mPRIMARY[0m

          Cancels a previous ENABLE PRIMARY command

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mDISABLE[0m [1mPRIMARY[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE PRIMARY deselects the use of a workstation's primary graphics device.
  It is therefore used to cancel any previous ENABLE PRIMARY command.

  The command is only useful on workstations that are configured with two  display
  devices.   On  a  workstation  with a single graphics display use of the command
  DISABLE GRAPHICS is to be preferred.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before a terrain view is generated.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mDISABLE[0m [1mPRIMARY[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-41
  DISABLE SECONDARY command                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mSECONDARY[0m

          Cancels a previous ENABLE SECONDARY command

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mDISABLE[0m [1mSECONDARY[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE SECONDARY deselects  the  use  of  a  workstation's  secondary  graphics
  device.
  It is therefore used to cancel any previous ENABLE SECONDARY command.

  The command is only useful on workstations that are configured with two  display
  devices.   On  a  workstation with a single graphics display the command will be
  ignored.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before a terrain view is generated.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mDISABLE[0m [1mSECONDARY[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-42
  DISABLE SYMBOLS command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mSYMBOLS[0m

          Disables the option to plot  symbols  on  an  isometric  or  perspective
          terrain view.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mDISABLE[0m [1mSYMBOLS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DISABLE SYMBOLS command is used to disable the plotting  of  symbols  on  an
  isometric  or perspective terrain view.  The command is therefore used to cancel
  any previous ENABLE SYMBOLS command.

  After using the DISABLE SYMBOLS command, other commands that are relevant to the
  plotting of symbols on a terrain view, become invalid.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before generating an isometric or perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExample:[0m

  DTIVIEW>[1mDISABLE[0m [1mSYMBOLS[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-43
  DISABLE TABLE command                                                5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mTABLE[0m

          Turns off input from the digitising table.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mDISABLE[0m [1mTABLE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DISABLE TABLE command turns off input from the digitising table.   If  table
  input is disabled then DTIVIEW will accept commands only from the terminal.

  Input from the table can be reselected using the ENABLE TABLE command.

  The SHOW ENABLE command may be used to check on the status of table input.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages  are  specific  to  the  ENABLE  and  ENABLE  TABLE
  commands:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE
   


  [1m--------------------------------------------------------------------------------[0m
  [1mExample:[0m

  DTIVIEW>[1mDISABLE[0m [1mTABLE[0m [1m<CR>[0m
  DTIVIEW>



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-44
  DISTANCE command                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISTANCE[0m

          Defines the distance of the viewpoint from the nearest point in the  DTM
          area  of  interest.   The  distance  parameter is used when generating a
          perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mDISTANCE[0m [1mdistance[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  distance

          Distance defines the distance  of  the  viewpoint  in  metres  from  the
          nearest DTM node in the area of interest.  A real (floating point) value
          is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DISTANCE command defines the distance of the view point in metres  from  the
  nearest  point  in  the DTM rectangular area of interest.  The parameter is used
  when generating a perspective view.

  The default distance is 300.0 metres.

  Use of the SHOW VIEW command is recommended to  check  on  the  status  of  this
  parameter before a perspective view is generated.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISTANCE command:

  *** ERROR *** Specifying command DISTANCE
  Command requires 1 real argument


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mDISTANCE[0m [1m450.2[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-45
  DRAW LABEL command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDRAW[0m [1mLABEL[0m

          Outputs a text string to the display screen of a graphics device.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mDRAW[0m [1mLABEL[0m [1mtext[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  text

          The text string which is to be output to the display.  The string should
          not exceed 80 characters.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DRAW LABEL is used to output a text string to a graphics screen.  Commonly it is
  used to annotate a terrain view with a title and place name details.

  If the workstation colour graphics device is configured with 8 bit- planes,  any
  annotation will be written to the bit-planes allocated to Picture 2.  When using
  a 4 plane device, the annotation is written to Picture 1.

  The specified text is written at the current label position, and in the  current
  label  colour  and  label  size.   These  parameters  may  be  varied  using the
  appropriate LABEL commands.

  On most devices, text output  using  the  DRAW  LABEL  command  may  be  cleared
  independently  of  the  terrain  view  using  the LABEL CLEAR or CLEAR PICTURE 2
  commands.  This is not possible for text output to a Tektronix 4014 display,  or
  when using a display device configured with only 4 bit-planes.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the DRAW and DRAW LABEL commands:

  *** ERROR *** Specifying command DRAW
  No graphics device is currently enabled

  *** ERROR *** Specifying command DRAW
  Command qualifiers are LABEL or LEGEND

  *** ERROR *** Specifying command DRAW LABEL
  Command requires a text string of up to 80 characters

  *** ERROR *** Specifying command DRAW LABEL
  More than 80 characters in text string


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-46
  DRAW LABEL command                                                   5 June 1997


  DTIVIEW>[1mDRAW[0m [1mLABEL[0m [1mAn[0m [1mexample[0m [1mterrain[0m [1mview<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-47
  DRAW LEGEND command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDRAW[0m [1mLEGEND[0m

          Generates a legend on the  graphics  screen.   The  legend  relates  the
          colours in the terrain view, to their DTM height values.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mDRAW[0m [1mLEGEND[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DRAW LEGEND command is used to generate a legend on a graphics screen  after
  an isometric or perspective view has been drawn.

  The legend relates the colours used in the  terrain  view  to  their  respective
  height ranges.

  By default the legend is drawn in the bottom lefthand corner of the screen if  a
  full  screen  is  selected,  or  in  the bottom lefthand corner of the currently
  selected quadrant.

  The position of the legend on the screen may be  changed  by  using  the  LEGEND
  POSITION command, while the size of the legend boxes may be controlled using the
  LEGEND SIZE command.

  A legend cannot be generated on a TEKTRONIX 4014 monochrome display.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message are specific to the DRAW and DRAW LEGEND commands:

  *** ERROR *** Specifying command DRAW
  Command qualifiers are LABEL or LEGEND

  *** ERROR *** Specifying command DRAW LEGEND
  No graphics device is currently enabled

  *** ERROR *** Specifying command DRAW LEGEND
  No legend can be shown on a TEKTRONIX 4014


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mDRAW[0m [1mLEGEND<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-48
  ENABLE ABSOLUTE command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mABSOLUTE[0m

          Selects the use of absolute coordinates values.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mENABLE[0m [1mABSOLUTE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  If ENABLE ABSOLUTE is given, then coordinate  values  required  by  the  WINDOW,
  PROFILE or SYMBOL POSITION commands, supplied in metre or projection units, must
  be specified as absolute (rather than relative) coordinate values.   Coordinates
  for the IFFWINDOW command should also be supplied as absolute values.

  For example if the projection indicates U.K.  National  Grid,  then  the  WINDOW
  values may be specified as 6 figure National Grid coordinates.
  By default window values should be specified as absolute coordinates.

  This option can be disabled using the DISABLE ABSOLUTE command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW> [1mENABLE[0m [1mABSOLUTE<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-49
  ENABLE AUTOSCALE command                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mAUTOSCALE[0m

          Selects the option to automatically scale and position an  isometric  or
          perspective view on the graphics screen.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mENABLE[0m [1mAUTOSCALE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE AUTOSCALE ensures that any isometric  or  perspective  view  drawn  on  a
  graphics screen, is correctly scaled and positioned on the screen.
  Using ENABLE AUTOSCALE a view is drawn so that it is positioned in the centre of
  the  screen,  and  extends almost to the edge of the screen in the longer of the
  plot axes.
  If a quartered screen has been selected using the  ENABLE  DIVIDE  command,  the
  view  is positioned in the centre of the currently selected quadrant, and scaled
  to fit the quadrant.

  In order to determine the x and y plot coordinate ranges, two  passes  are  made
  through the data in the currently defined DTM area of interest.
  The first pass determines the coordinate ranges without output  to  the  screen,
  and  sets  up  the  drawing  scaling  factor  and origin.  The drawing origin in
  normalised device coordinates (ie.  in the range 0.0 to  1.0)  and  the  drawing
  scaling factor are displayed on the terminal.
  The second pass, draws the isometric or perspective view on the graphics screen.

  By default the scaling and positioning of the terrain view automatically by  the
  program  is  enabled.   The  option  may  be  deselected by means of the DISABLE
  AUTOSCALE command; if this command is used, it is necessary  to  supply  drawing
  origin and scaling values using the SET ORIGIN and SET SCALE commands.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before generating an isometric or perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-50
  ENABLE AUTOSCALE command                                             5 June 1997


  DTIVIEW>[1mENABLE[0m [1mAUTOSCALE<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-51
  ENABLE BATHYMETRY command                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mBATHYMETRY[0m

          Selects the use of special display options for bathymetric data.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mENABLE[0m [1mBATHYMETRY[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The  ENABLE  BATHYMETRY  command  selects  the  program's  special  options  for
  generating  and  displaying a view using bathymetric data.  The option should be
  enabled if the input DTM contains a  large  number  of  negative  height  values
  defining the depth and shape of the sea floor.

  When using this option, only nodes in the DTM that  have  negative  heights  are
  modelled.   DTM  nodes  with positive heights are not modelled, so that the land
  surface will always appear flat.  Any vertical  exaggeration  value  is  applied
  only to nodes with negative heights.

  Selection of the option also causes a special colour table  UNDERSEA.DAT  to  be
  read  from  the  search  list  LSL$LOOKUP,  so  that when the view is drawn on a
  screen, different depths appear in  different  shades  of  blue,  and  all  land
  appears  in brown.  The display colours may be changed by editing the RGB values
  in this file.

  The normal modelling and colour table options may be reselected by means of  the
  command DISABLE BATHYMETRY.  By default the bathymetry option is not selected.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before generating an isometric or perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following  messages  are  specific  to  the  ENABLE  and  ENABLE  BATHYMETRY
  commands:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE

  *** WARNING *** Current DTM does not contain any negative heights


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mENABLE[0m [1mBATHYMETRY<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-52
  ENABLE COLOUR_IFF command                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mCOLOUR_IFF[0m

          Selects the option of producing an IFF file in which a  new  feature  is
          started  whenever the colour of vectors defining a profile changes.  The
          command is used in conjunction with the ENABLE IFF_OUTPUT command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mENABLE[0m [1mCOLOUR_IFF[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE COLOUR_IFF command selects the option of producing  an  IFF  file  in
  which a new feature is started whenever the colour of vectors defining a profile
  changes.  The command is used in conjunction with the ENABLE IFF_OUTPUT command,
  and the ISOMETRIC, PERSPECTIVE and PROFILE commands.

  If the option is selected, a new IFF feature is started whenever the  colour  of
  vectors  defining  a profile changes.  The colour is recorded in the IFF file as
  the feature code (ie.  in the first word of the FS  entry).   This  enables  the
  file  to be subsequently plotted as a colour image, on a device such as a colour
  electrostatic plotter.

  As with output to a colour  graphics  device,  the  form  of  the  isometric  or
  perspective image, is controlled using the COLOUR, ZSTEP, and ZLIMITS commands.

  If the option is not selected, it will only be possible to  distinguish  in  the
  IFF file (using feature code), profiles that are land profiles, profiles outside
  the height range defined with the ZLIMITS  command,  or  profiles  at  or  below
  sea-level.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before generating an isometric or perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mENABLE[0m [1mCOLOUR_IFF[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-53
  ENABLE DIVIDE command                                                5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mDIVIDE[0m

          Selects the use of a quartered graphics screen.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mENABLE[0m [1mDIVIDE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE DIVIDE selects the use of quartered screen display mode.

  If selected, the graphics screen is divided into 4 quadrants.  Each quadrant  is
  treated  by  the  program  as  though  it were a separate graphics screen.  This
  allows 4 different isometric or perspective views to be displayed and compared.

  The 4 quadrants are identified as follows:

          1   =   Top lefthand quadrant

          2   =   Top righthand quadrant

          3   =   Bottom righthand quadrant

          4   =   Bottom lefthand quadrant


  On selection of a quartered screen, the default quadrant  is  the  top  lefthand
  quadrant.  A different quadrant may be selected using the QUADRANT command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mENABLE[0m [1mDIVIDE<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-54
  ENABLE FISHNET command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mFISHNET[0m

          Enables the option of producing a fishnet representation  of  a  terrain
          view.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mENABLE[0m [1mFISHNET[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE FISHNET enables the option of producing a  fishnet  representation  of  a
  terrain view when the ISOMETRIC or PERSPECTIVE command is given.

  A fishnet representation involves drawing the 3-D terrain view as a grid, rather
  than  as  a  series  of  profiles  orientated  along  just  one of the DTM axes.
  Profiles are generated both vertically (south to north) and  horizontally  (west
  to east) through the DTM.

  A 'fishnet' representation enhances perception when dealing with a  sparse  data
  grid  (ie.   when  a  small DTM window has been defined), but is less successful
  when dealing with a dense grid.  In the later case  it  can  lead  to  a  poorer
  perception  of  the  depth  relationships in the model, by making the incidental
  shading effects at the terrain horizons less apparent.

  In the current implementation of  this  option  in  DTIVIEW,  true  hidden  line
  removal is only applied to the first set of profiles that are generated.  In the
  case of the second set of profiles drawn to  produce  the  grid  representation,
  only  partial  hidden  line  removal  is  performed  to  ensure  that no vectors
  completely hidden by previous profiles are shown.  The  actual  intersection  of
  the  two  sets  of  profiles with each other is not carried out.  The techniques
  developed to overlay vector data on a 3-D view are used.

  By default the option to produce a fishnet representation is not enabled.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before a terrain view is generated.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-55
  ENABLE FISHNET command                                               5 June 1997


  DTIVIEW>[1mENABLE[0m [1mFISHNET[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-56
  ENABLE FOG command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mFOG[0m

          Enables the option to restrict visibility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mENABLE[0m [1mFOG[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE FOG command is used to enable the visibility restriction option.

  The command is also used by the program to activate all  DTIVIEW  commands  that
  are relevant to the fog option.

  [1mThe[0m [1mENABLE[0m [1mFOG[0m [1mcommand[0m [1mmust[0m [1mbe[0m [1mgiven[0m [1mbefore[0m [1many[0m [1mof[0m [1mthe[0m [1mFOG[0m [1mcommands,[0m [1mand[0m  [1mbefore[0m
  [1mgenerating[0m  [1ma[0m  [1mperspective[0m  [1mview[0m  [1mon[0m  [1mwhich[0m  [1mvisibility[0m  [1mrestrictions[0m  [1mare[0m [1mto[0m [1mbe[0m
  [1mimposed.[0m  The visibility restriction option is only valid for a perspective view
  and cannot be used when drawing an isometric view.

  Note:  The visibility restriction option is supplied as a licensed facility; the
  option may not be available in your version of the program.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before generating perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the ENABLE and ENABLE FOG commands:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE
   
  *** ERROR *** Specifying command ENABLE FOG
  Fog option cannot be activated


  [1m--------------------------------------------------------------------------------[0m
  [1mExample:[0m

  DTIVIEW>[1mENABLE[0m [1mFOG[0m [1m<CR>[0m
  DTIVIEW>



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-57
  ENABLE GRAPHICS command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mGRAPHICS[0m

          Enables the use of all graphics devices on a workstation.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mENABLE[0m [1mGRAPHICS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE GRAPHICS causes output to be directed to a graphics device when the DRAW,
  ISOMETRIC, PERSPECTIVE, PROFILE or OVERLAY commands are given.

  On a workstation that is configured with two graphics devices, both devices will
  be  enabled  when  the  ENABLE GRAPHICS command is given.  This is equivalent to
  giving the commands ENABLE PRIMARY  and  ENABLE  SECONDARY.   Output  to  either
  device  may  be  selectively  disabled  using  the  DISABLE  PRIMARY and DISABLE
  SECONDARY commands.

  By default output to a graphics device  is  not  enabled  when  the  program  is
  started.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before a terrain view is generated.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mENABLE[0m [1mGRAPHICS[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-58
  ENABLE IFF_OUTPUT command                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mIFF_OUTPUT[0m

          Enables the output of a terrain view to an IFF file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mENABLE[0m [1mIFF_OUTPUT[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The file specification for the output IFF file.
          Any part of the file  specification  not  supplied  is  taken  from  the
          default 'LSL$IF:IFF.IFF', although if no file-spec is supplied, you will
          be asked to supply one in response to the prompt [1mOutput[0m [1mIFF[0m [1mfilename>[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE IFF_OUTPUT directs output to an IFF file when the ISOMETRIC, PERSPECTIVE,
  PROFILE  or  OVERLAY  commands  are  given.   This  enables a terrain view to be
  subsequently plotted on a device such as a drum plotter, edited  in  LITES2,  or
  manipulated using IFF utilities.

  An IFF file holds a single terrain view,  and  optionally  overlay  information.
  Any  overlay  data  is  held  in  a separate layer to the terrain profiles.  The
  commands SET LAYER, SET LAND_FC, SET NULL_FC and  SET  SEA_FC  may  be  used  to
  control  into  which IFF layers the data is written, and which feature codes are
  assigned to the land and sea profiles.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before a terrain view is generated.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following  messages  are  specific  to  the  ENABLE  and  ENABLE  IFF_OUTPUT
  commands:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE

  *** ERROR *** Specifying command ENABLE IFF_OUTPUT
  Output IFF filename is missing 


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mENABLE[0m [1mIFF_OUTPUT[0m [1mTEST<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-59
  ENABLE OVERLAY command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mOVERLAY[0m

          Selects the option and activates the commands that allow vector data  to
          be overlaid on an isometric or perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mENABLE[0m [1mOVERLAY[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE OVERLAY command selects the option to  overlay  vector  data  derived
  from  an  IFF file on an isometric or terrain view.  The command is also used by
  the program to activate  all  DTIVIEW  commands  that  are  relevant  to  vector
  overlay, such as the commands IFF, FRT and OVERLAY.

  [1mThe[0m [1mENABLE[0m [1mOVERLAY[0m [1mcommand[0m [1mmust[0m [1mbe[0m  [1mgiven[0m  [1mbefore[0m  [1many[0m  [1mof[0m  [1mthe[0m  [1mvector[0m  [1moverlay[0m
  [1mcommands,[0m  [1mand[0m  [1mbefore[0m [1mgenerating[0m [1mthe[0m [1misometric[0m [1mor[0m [1mperspective[0m [1mview[0m [1mon[0m [1mwhich[0m [1many[0m
  [1mdata[0m [1mis[0m [1mto[0m [1mbe[0m [1moverlaid.[0m

  Note.  The vector overlay option is supplied as a licensed facility; the  option
  may not be available in your version of the program.

  Also note, that in the current implementation of this option in DTIVIEW, overlay
  of  vector  data  on a 3-D view generated using DTM column and row sample values
  greater than 1, is not possible.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before generating an isometric or perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific  to  the  ENABLE  and  ENABLE  OVERLAY
  commands:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE

  *** ERROR *** Specifying command ENABLE OVERLAY
  Vector overlay option cannot be activated

  *** ERROR *** Specifying command ENABLE OVERLAY
  Overlay options are currently only available 
  with a column and row sampling interval of 1
  Overlay options are not enabled



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-60
  ENABLE OVERLAY command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExample:[0m

  DTIVIEW>[1mENABLE[0m [1mOVERLAY[0m [1m<CR>[0m
  DTIVIEW>



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-61
  ENABLE PICTURE command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mPICTURE[0m

          Selects the specified picture.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mENABLE[0m [1mPICTURE[0m [1mpicture_number[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  picture_number

          The picture number.  An integer value in the range 1 to 2 is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE PICTURE command is used to select (make visible) the bit-planes of  a
  graphics device that are currently allocated to the specified picture.

  The number of bit-planes allocated to picture 1  and  picture  2  is  determined
  using the PLANES command.

  An isometric or perspective terrain view is drawn  into  Picture  1,  while  any
  vector  overlay information or annotation drawn using the OVERLAY and DRAW LABEL
  commands, is displayed in Picture 2.  Giving the command ENABLE PICTURE  2  will
  therefore make visible any vector overlay or annotation, that may have been made
  deselected (made invisible) using the DISABLE PICTURE 2 command.

  Note that this command is not applicable if the  output  graphics  device  is  a
  TEKTRONIX 4014, or if the device is configured with only 4 bit-planes.

  The SHOW ENABLE command may be used to check on the status of the 2 pictures.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message  is  specific  to  the  ENABLE  and  ENABLE  PICTURE
  command:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE

  *** ERROR *** Specifying command ENABLE PICTURE
  Command requires an integer argument

  *** ERROR *** Specifying command ENABLE PICTURE
  Command requires a picture number of 1 or 2


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-62
  ENABLE PICTURE command                                               5 June 1997


  DTIVIEW>[1mENABLE[0m [1mPICTURE[0m [1m2<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-63
  ENABLE PRIMARY command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mPRIMARY[0m

          Enables the use of a workstation's primary graphics device.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mENABLE[0m [1mPRIMARY[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE PRIMARY causes output to be directed to the primary workstation  graphics
  device when a DRAW, ISOMETRIC, PERSPECTIVE, PROFILE or OVERLAY command is given.

  The command is only useful when DTIVIEW is being run on a  workstation  that  is
  configured with two graphics devices.  Typically such a workstation will consist
  of a monochrome and colour  display;  the  monochrome  display  is  the  primary
  device, and the colour display is the secondary device.

  On a workstation configured with a single display, the display  is  the  primary
  device.   In  this  situation  use  of  the commands ENABLE GRAPHICS and DISABLE
  GRAPHICS to select and deselect output to the device is to be preferred.

  By default output to the primary device is selected  when  the  ENABLE  GRAPHICS
  command is given.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before a terrain view is generated.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the ENABLE and ENABLE PRIMARY commands:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE

  *** ERROR *** Specifying command ENABLE PRIMARY
  A PRIMARY graphics device is not supported


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mENABLE[0m [1mPRIMARY<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-64
  ENABLE SECONDARY command                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mSECONDARY[0m

          Enables the use of a workstation's secondary graphics device.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mENABLE[0m [1mSECONDARY[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE SECONDARY causes output to  be  directed  to  the  secondary  workstation
  graphics  device when a DRAW, ISOMETRIC, PERSPECTIVE, PROFILE or OVERLAY command
  is given.

  The command is only useful when DTIVIEW is being run on a  workstation  that  is
  configured with two graphics devices.  Typically such a workstation will consist
  of a monochrome and colour  display;  the  monochrome  display  is  the  primary
  device, and the colour display is the secondary device.

  On a workstation configured with a single display, no secondary graphics  device
  will exist, and the command ENABLE SECONDARY will have no effect.

  By default output to any secondary device is selected when the  ENABLE  GRAPHICS
  command is given.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before a terrain view is generated.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the ENABLE and ENABLE SECONDARY commands:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE

  *** ERROR *** Specifying command ENABLE SECONDARY
  A SECONDARY graphics device is not supported


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mENABLE[0m [1mSECONDARY<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-65
  ENABLE SYMBOLS command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mSYMBOLS[0m

          Selects the option and activates the commands that allow symbols  to  be
          interactively drawn on an isometric or perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mENABLE[0m [1mSYMBOLS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE SYMBOLS  command  selects  the  option  that  allows  symbols  to  be
  interactively drawn on an isometric or perspective terrain view.  The command is
  also used by the program to activate all DTIVIEW commands that are  relevant  to
  symbol plotting, such as the commands FRT and SYMBOL FC.

  [1mThe[0m [1mENABLE[0m [1mSYMBOLS[0m [1mcommand[0m [1mmust[0m [1mbe[0m [1mgiven[0m [1mbefore[0m [1many[0m [1mof[0m [1mthe[0m [1msymbol[0m [1mcommands,[0m  [1mand[0m
  [1mbefore[0m  [1mgenerating[0m [1mthe[0m [1misometric[0m [1mor[0m [1mperspective[0m [1mview[0m [1mon[0m [1mwhich[0m [1many[0m [1msymbols[0m [1mare[0m [1mto[0m
  [1mbe[0m [1mdrawn.[0m

  Note.  The symbol plotting option is supplied as a licensed facility; the option
  may not be available in your version of the program.

  Use of the SHOW ENABLE command is recommended to check  on  the  status  of  the
  option before generating an isometric or perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific  to  the  ENABLE  and  ENABLE  SYMBOLS
  commands:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE
   
  *** ERROR *** Specifying command ENABLE SYMBOLS
  Symbol plotting option cannot be activated



  [1m--------------------------------------------------------------------------------[0m
  [1mExample:[0m

  DTIVIEW>[1mENABLE[0m [1mSYMBOLS[0m [1m<CR>[0m
  DTIVIEW>



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-66
  ENABLE TABLE command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mTABLE[0m

          Initialises the Table Monitor to allow input from a digitising table.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mENABLE[0m [1mTABLE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE TABLE command initialises the table monitor to  allow  input  from  a
  digitising  table.   The  command SETUP MAP may be used to register a map to the
  DTI file, while SETUP MENU allows commands to be input using the  DTIVIEW  menu.
  In  the  event of failure, input from the digitising table or puck button is not
  possible, and the program will accept commands only from the terminal.

  Table initialisation will generally fail because no Table Monitor  is  currently
  active,  or  because the Table Monitor is locked by another user.  If neither of
  these reasons appear to apply, you should consult the TABLIB  Reference  Manual,
  or seek guidance from your system manager.

  If the logical name LSL$AUTO_ENABLE_TABLE is defined with a value of  "1",  then
  the table is initialised on program startup.

  The DISABLE TABLE command may be used to turn  off  input  from  the  digitising
  table.

  The SHOW ENABLE command may be used to check on the status of table input.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages  are  specific  to  the  ENABLE  and  ENABLE  TABLE
  commands:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are ABSOLUTE, AUTOSCALE, BATHYMETRY, COLOUR_IFF, DIVIDE 
                         FISHNET,FOG, GRAPHICS, IFF_OUTPUT, OVERLAY, PICTURE
                         PRIMARY, SECONDARY, SYMBOLS or TABLE
   
  *** WARNING *** Initialising table monitor
  DTIVIEW will assume no table is available




  [1m--------------------------------------------------------------------------------[0m
  [1mExample:[0m

  DTIVIEW>[1mENABLE[0m [1mTABLE[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-67
  EXIT command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mEXIT[0m

          Terminates the program.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mEXIT[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The EXIT command is used to exit from DTIVIEW.
  <CTRL/Z> (pressing the Ctrl and Z keys together) may also be used to  exit  from
  the program.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mEXIT<CR>[0m
  $


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-68
  FILEIN command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mFILEIN[0m

          Selects and opens the input DTM  that  contains  the  terrain  elevation
          data.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mFILEIN[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The file specification for the input DTM.
          Any part of the file  specification  not  supplied  is  taken  from  the
          default  'LSL$DTI:DTI.DTI',  although  if  no file-spec is supplied, you
          will be asked to  supply  one  in  response  to  the  prompt  [1mInput[0m  [1mDTI[0m
          [1mfilename>[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  This command opens and maps into memory  a  DTI  file,  containing  the  terrain
  elevation  data  that  will  be used when generating an isometric or perspective
  view.
  Details derived from the header of the file are displayed  on  the  terminal  to
  confirm that the file has been successfully opened.
  If the logical name LSL$MATRIX_DEFAULT_WINDOW is defined with a  value  of  "1",
  then  a  default  area  of  interest defined in matrix units of bottom left hand
  corner 1,1 and top right hand corner 200,200 is set when the file is opened.  If
  the  logical name is absent or has any other value, or if the input DTI file has
  fewer than 200 columns or 200 rows, then a  default  window  equivalent  to  the
  total matrix is set.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the FILEIN command:

  *** ERROR *** Specifying command FILEIN
  Input DTI filename is missing



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-69
  FILEIN command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExample:[0m

  DTIVIEW>[1mFILEIN[0m [1mTEST<CR>[0m

  LSL$DTI:TEST.DTI        
  Header: MIKE     Data: WORD

  Units are DTI Matrix Values

  Matrix Coverage    SW:    1     1    NE:   301   251
  Matrix Window      SW:    1     1    NE:   200   200
  Matrix Interval     E:    1           N:     1
  Value Range          :      0   to    851

  DTIVIEW>



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-70
  FOG COLOUR command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mFOG[0m [1mCOLOUR[0m

          Selects the colour used to drawn parts of  the  terrain  view  that  are
          beyond the limit of visibility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mFOG[0m [1mCOLOUR[0m [1mindex[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  index

          Index is the value of the colour index.  An integer value  is  required.
          The  valid  range  for  the integer is dependent on the number of planes
          currently selected for PICTURE 1.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The FOG COLOUR command is used to set the fog colour, ie.  the colour index used
  to  draw  all areas of the perspective view that lie beyond the current limit of
  visibility.  By default the colour index is 0 (ie.  black) so that areas in  fog
  will not be visible on the screen.

  Setting the fog colour to a value other than black will allow a false colour  to
  be  assigned  to  all  DTM  nodes beyond the visibility distance irrespective of
  height of the node.  The fog colour has no effect  on  culture  or  symbol  data
  which  are  always plotted in black beyond the visibility distance.  Culture and
  symbol data are therefore always invisible to the observer if within the fog.

  The FOG COLOUR command must be given prior to generating a perspective view.

  [1mThe[0m [1mcommand[0m [1mis[0m [1monly[0m [1mvalid[0m [1mif[0m [1mthe[0m [1mENABLE[0m [1mFOG[0m [1mcommand[0m [1mhas[0m [1mbeen[0m [1mpreviously[0m [1mgiven.[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the FOG and FOG COLOUR commands:

  *** ERROR *** Specifying command FOG
  Fog has not been enabled

  *** ERROR *** Specifying command FOG
  Command qualifiers are COLOUR or VISIBILITY

  *** ERROR *** Specifying command FOG COLOUR
  Command requires integer colour index in the range 0 to <max_colour>


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-71
  FOG COLOUR command                                                   5 June 1997


  DTIVIEW>FOG COLOUR 1<CR>
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-72
  FOG VISIBILITY command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mFOG[0m [1mVISIBILITY[0m

          Defines the distance beyond which a point on the terrain  is  considered
          to lie in an area of fog.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mFOG[0m [1mVISIBILITY[0m [1mdistance[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  distance

          Distance is the distance between the observer and the start of the  fog.
          A real (floating point) value is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The FOG VISIBILITY command is used  to  define  the  limit  of  visibility.   By
  default the visibility distance is set to 1000.0 metres.

  All terrain DTM nodes, culture  and  symbols  that  lie  within  the  visibility
  distance  are  displayed  without  being affected by the fog.  Terrain DTM nodes
  that lie beyond the limit of visibility are considered to lie within an area  of
  fog,  and  are drawn in the current fog colour index.  The fog colour is defined
  using the FOG COLOUR command, but by default is black.  Culture and symbol  data
  lying  beyond  the  visibility  distance will be considered to be in the fog and
  will not be plotted.

  [1mThe[0m [1mcommand[0m [1mis[0m [1monly[0m [1mvalid[0m [1mif[0m [1mthe[0m [1mENABLE[0m [1mFOG[0m [1mcommand[0m [1mhas[0m [1mbeen[0m  [1mpreviously[0m  [1mgiven,[0m
  and should be given prior to generating a perspective view.

  The SHOW VIEW command may be used to examine the current fog visibility distance
  value.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error  messages  are  specific  to  the  FOG  and  FOG  VISIBILITY
  commands:

  *** ERROR *** Specifying command FOG
  Fog has not been enabled

  *** ERROR *** Specifying command FOG
  Command qualifiers are COLOUR or VISIBILITY

  *** ERROR *** Specifying command FOG VISIBILITY
  Command requires one real argument greater than 0.0



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-73
  FOG VISIBILITY command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mFOG[0m [1mVISIBILITY[0m [1m1500<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-74
  FRT command                                                          5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mFRT[0m

          Reads a FRT (Feature Representation Table) file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mFRT[0m  [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The file  specification  for  the  FRT  file.   Any  part  of  the  file
          specification   not   supplied   will   be   taken   from   the  default
          'LSL$FRT:FRT.FRT', although if no file-spec is  supplied,  you  will  be
          asked to supply one in response to the prompt [1mInput[0m [1mFRT[0m [1mfilename>[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  This command reads the specified Feature Representation Table.
  It is only appropriate to the overlay of vector data and the plotting of  symbol
  data on a terrain view.

  For overlays the entries  in  the  FRT  are  used  to  determine  the  graphical
  representation  of  IFF  features.   DTIVIEW  uses  the  table  to determine the
  graphical type and colour representation of any IFF features that  are  overlaid
  on  the  terrain view.  The table also defines feature code group names that may
  be supplied as parameters to the SELECT FC or DESELECT FC commands.

  For symbols the entries in the FRT are use to determine which entry in  the  SRI
  file to use.

  A FRT must be defined before the OVERLAY command or the SYMBOL command is given.

  [1mThe[0m [1mcommand[0m [1mis[0m [1monly[0m [1mvalid[0m [1mif[0m [1mthe[0m [1mENABLE[0m [1mOVERLAY[0m [1mor[0m [1mthe[0m [1mENABLE[0m [1mSYMBOLS[0m  [1mhas[0m  [1mbeen[0m
  [1mpreviously[0m [1mgiven.[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the FRT command:

  *** ERROR *** Specifying command FRT
  Overlay options are not enabled

  *** ERROR *** Specifying command FRT
  Input FRT filename is missing


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-75
  FRT command                                                          5 June 1997


  DTIVIEW>[1mFRT[0m [1mDTIVIEW.FRT<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-76
  HEIGHT command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mHEIGHT[0m

          Defines the height above sea level of the view point.  The parameter  is
          used when generating a perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mHEIGHT[0m [1mheight_of_view[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  height_of_view

          The height above sea level of the view point  specified  in  metres.   A
          real (floating point) value is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  HEIGHT defines the height of the view point.  The parameter is  specified  as  a
  height above sea level in metres.

  The parameter is used when generating a perspective view.

  By default a height value of 300.0 is used.

  Use of the SHOW VIEW command is recommended  to  check  on  the  status  of  the
  parameter before a perspective view is generated.

  Note:  The height value is  multiplied  by  the  current  vertical  exaggeration
  (zscale) value.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the HEIGHT command:

  *** ERROR *** Specifying command HEIGHT
  Command requires 1 real argument


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mHEIGHT[0m [1m100.5<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-77
  HELP command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mHELP[0m

          Invokes help on DTIVIEW commands.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mHELP[0m [1m[command][0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  command

          the command on which help is required

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  A brief description is given  of  the  function  and  format  of  the  specified
  command.
  If no parameter is supplied then a list of all commands available is given.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mHELP[0m [1mDISTANCE[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-78
  IFF command                                                          5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mIFF[0m

          Opens an IFF (Internal Feature Format) file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mIFF[0m  [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The file specification of the input IFF file.   Any  part  of  the  file
          specification   not   supplied   will   be   taken   from   the  default
          'LSL$IF:IFF.IFF although if no file specification is supplied, you  will
          be asked to supply one in response to the prompt [1mInput[0m [1mIFF[0m [1mfilename>[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The IFF  command  specifies  the  name  of  an  Internal  Feature  Format  file,
  containing vector data that is to overlaid on a terrain view.

  A default area of interest within the IFF file is set when the file  is  opened.
  This  may be subsequently altered using the IFFWINDOW command.  If origin offset
  values are present in the headers of the DTI and IFF files, then the IFF  window
  is set with respect to the current DTI window.  This allows registration between
  the terrain view and the vector overlay to take place automatically.  If no such
  header  information  is  present,  or  if  the DISABLE ABSOLUTE command has been
  given, then the default area of interest in the IFF file that corresponds to the
  IFF range entry (RA) values is set.

  The IFF file range and IFF window may be examined using the command SHOW IFF.

  [1mThe[0m [1mcommand[0m [1mis[0m [1monly[0m [1mvalid[0m [1mif[0m [1mthe[0m [1mENABLE[0m  [1mOVERLAY[0m  [1mcommand[0m  [1mhas[0m  [1mbeen[0m  [1mpreviously[0m
  [1mgiven.[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the IFF command:

  *** ERROR *** Specifying command IFF
  Overlay options are not enabled

  *** ERROR *** Specifying command IFF
  Input IFF filename is missing


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mIFF[0m [1mTEST<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-79
  IFFWINDOW command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mIFFWINDOW[0m

          Defines an area of interest in the IFF file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mIFFWINDOW[0m [1mswx[0m [1mswy[0m [1mnex[0m [1mney[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  swx swy nex ney

          The IFF coordinates of the south-west (bottom lefthand)  and  north-west
          (top righthand) corners of the window.  The coordinates are specified in
          IFF units, as real (floating point) values.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  IFFWINDOW is used to define a rectangular area of interest within the IFF  file.
  By  default  or if the ENABLE ABSOLUTE command has been given then window values
  should be supplied in absolute IFF units.  Otherwise values should be  specified
  as an offset from the SW corner of the IFF file area.

  The IFFWINDOW command enables the IFF file to be registered to the current  area
  of interest in the DTM.
  When the command is given, a transformation matrix for  IFF  to  DTM  coordinate
  conversion is calculated, based on the coordinates of the IFF and DTM windows.

  The command SHOW IFF may be used to examine the IFF range and window  coordinate
  values.

  [1mThe[0m [1mcommand[0m [1mis[0m [1monly[0m [1mvalid[0m [1mif[0m [1mthe[0m [1mENABLE[0m  [1mOVERLAY[0m  [1mand[0m  [1mIFF[0m  [1mcommands[0m  [1mhave[0m  [1mbeen[0m
  [1mpreviously[0m [1mgiven[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the IFFWINDOW command:

  *** ERROR *** Specifying command IFFWINDOW
  Overlay options are not enabled

  *** ERROR *** Specifying command IFFWINDOW
  No input IFF has been specified

  *** ERROR *** Specifying command IFFWINDOW
  Command requires 4 real arguments

  *** ERROR *** Specifying command IFFWINDOW
  NE corner should exceed SW corner

  *** WARNING *** Specified window outside IFF file coordinate range



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-80
  IFFWINDOW command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mIFFWINDOW[0m [1m310000.0[0m [1m220000.0[0m [1m270000.0[0m [1m180000.0[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-81
  ISOMETRIC command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mISOMETRIC[0m

          Generates an isometric view.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mISOMETRIC[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command ISOMETRIC is given to generate an isometric terrain view.

  The  view  is  generated  using  the  current  viewing  direction  and  vertical
  exaggeration parameters, and using the current phi and theta rotation values.

  Only DTM nodes lying within the current DTM  area  of  interest  are  used  when
  generating the isometric view.

  The isometric view may either be output  to  a  graphics  device,  or  the  plot
  coordinates may be sent to an IFF file for subsequent plotting or manipulation.
  Output is controlled by the ENABLE GRAPHICS and ENABLE IFF_OUTPUT commands.

  Typing <CTRL/C>  (Pressing  the  Ctrl  and  C  keys  together)  will  abort  the
  generation of the isometric view, and return the user to the DTIVIEW> prompt.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the ISOMETRIC command:

  *** ERROR *** Specifying command ISOMETRIC
  The input DTM is undefined

  *** ERROR *** Specifying command ISOMETRIC
  No graphics device or output IFF file is enabled


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mISOMETRIC<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-82
  LABEL CLEAR command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mLABEL[0m [1mCLEAR[0m

          Clears user annotation.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mLABEL[0m [1mCLEAR[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command causes all annotation that has been generated on a  graphics  screen
  using the DRAW LABEL command to be erased.

  On a graphics device with more than 4 planes, the  labels  are  written  to  the
  bit-planes allocated to PICTURE 2.  Giving the command CLEAR PICTURE 2 therefore
  has the same effect as the command DRAW LABEL.  Both  commands  will  cause  any
  vector overlay generated using the OVERLAY command, to be also cleared.

  Annotation output to a Tektronix 4014 display or to a graphics device configured
  with 4 bit-planes, cannot be selectively erased using this command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the LABEL and LABEL CLEAR commands:

  *** ERROR *** Specifying command LABEL
  Command qualifiers are CLEAR, COLOUR, POSITION, or SIZE

  *** ERROR *** Specifying command LABEL CLEAR
  No graphics device is currently enabled

  *** ERROR *** Specifying command LABEL CLEAR
  Command is not valid for a 4 planes graphics device


  [1m--------------------------------------------------------------------------------[0m
  [1mExample:[0m

  DTIVIEW>[1mLABEL[0m [1mCLEAR<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-83
  LABEL COLOUR command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mLABEL[0m [1mCOLOUR[0m

          Selects the colour of user labelling.

          [1mThis[0m [1mcommand[0m [1mis[0m [1monly[0m [1mavailable[0m [1mon[0m [1ma[0m [1mgraphics[0m [1mdevice[0m [1mwith[0m [1m8[0m [1mplanes[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mLABEL[0m [1mCOLOUR[0m [1mindex[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  index

          Index is the value of the colour index.  An integer value  is  required.
          The  actual  range  of the integer is dependent on the number of overlay
          colours available, and therefore on the current PLANES setting.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command LABEL COLOUR determines which colour will be used to write  a  label
  when the DRAW LABEL command is given.

  The number of colours available for labelling is the same as for overlay, and is
  dependent  on  the  current planes setting defined using the PLANES command.  By
  default DTIVIEW allocates 5 planes to the terrain view,  and  3  planes  to  any
  annotation  or overlay, and uses the colour table DTIVIEW5.DAT 7 different label
  colours have been  defined  in  this  table.   The  number  of  overlay  colours
  available at any time, may be examined using the SHOW DEVICE command.

  By default labels are drawn in colour 1.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message are specific to the LABEL and LABEL COLOUR command:

  *** ERROR *** Specifying command LABEL
  Command qualifiers are CLEAR, COLOUR, POSITION, or SIZE

  *** ERROR *** Specifying command LABEL COLOUR
  Command requires 1 integer argument

  *** ERROR *** Specifying command LABEL COLOUR
  Command requires an integer in the range 1 to <max_overlay_colours>

  *** ERROR *** Specifying command LABEL COLOUR
  Command is not valid for a 4 planes graphics device


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-84
  LABEL COLOUR command                                                 5 June 1997


  DTIVIEW>[1mLABEL[0m [1mCOLOUR[0m [1m3<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-85
  LABEL POSITION command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mLABEL[0m [1mPOSITION[0m

          Defines the position of a label on the graphics screen.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mLABEL[0m [1mPOSITION[0m [1mscreen_x[0m [1mscreen_y[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  screen_x, screen_y

          The x y position of the label on  the  screen  specified  in  normalised
          device  coordinates.   Both the supplied values must be in the range 0.0
          to 1.0

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  LABEL POSITION defines the position of a label on the screen.

  The values  are  specified  in  normalised  device  coordinates.   For  example,
  coordinates  of  0.5  0.5  will  write  a  text  string with the first character
  positioned in the centre of the screen.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message  are  specific  to  the  LABEL  and  LABEL  POSITION
  command:

  *** ERROR *** Specifying command LABEL
  Command qualifiers are CLEAR, COLOUR, POSITION, or SIZE

  *** ERROR *** Specifying command LABEL POSITION
  Command requires 2 real arguments

  *** ERROR *** Specifying command LABEL POSITION
  Command requires 2 real arguments in the range 0 to 1


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mLABEL[0m [1mPOSITION[0m [1m0.3[0m [1m0.54<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-86
  LABEL SIZE command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mLABEL[0m [1mSIZE[0m

          Specifies the character size of text output to the screen using the DRAW
          LABEL command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mLABEL[0m [1mSIZE[0m [1mcharacter_size[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  character_size

          The parameter character_size defines the size of the text output to  the
          screen.    An   integer   value  in  the  range  1  to  4  is  required.
          Character_size 1 is the smallest and character_size 4 is the largest.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command LABEL SIZE is used to define the  size  of  any  text  output  to  a
  graphics screen using the DRAW LABEL command.

  The character_size parameter controls the relative size of the text; size  1  is
  the  smallest, and size 4 is the largest.  The actual size of the text output to
  the screen will vary with the size of the graphics device  screen,  however  the
  relative sizes of the text will remain constant.

  By default, a label is output in size 1.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message are specific to the LABEL and LABEL SIZE commands:

  *** ERROR *** Specifying command LABEL
  Command qualifiers are CLEAR, COLOUR, POSITION, or SIZE

  *** ERROR *** Specifying command LABEL SIZE
  Command requires 1 integer argument

  *** ERROR *** Specifying command LABEL SIZE
  Command requires an integer argument in the range 1 to 4


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mLABEL[0m [1mSIZE[0m [1m3<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-87
  LEGEND POSITION command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mLEGEND[0m [1mPOSITION[0m

          Defines the position on the legend on the screen.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mLEGEND[0m [1mPOSITION[0m [1mscreen_x[0m [1mscreen_y[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  screen_x, screen_y

          Screen x and y coordinates specified in normalised device units.  2 real
          (floating point) values are required in the range 0.0 to 1.0

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The LEGEND POSITION command is used to control where the legend is  drawn  on  a
  graphics screen when the DRAW LEGEND command is given.
  The supplied coordinates define the position of the bottom left hand  corner  of
  the first legend box.

  By default the legend is positioned below and to the left of a terrain  view  at
  position (in NDC) x 0.005 and y 0.15.

  It is often useful to vary the legend position so that  it  does  not  interfere
  with the terrain view.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message are specific  to  the  LEGEND  and  LEGEND  POSITION
  commands:

  *** ERROR *** Specifying command LEGEND
  Command qualifiers are POSITION or SIZE

  *** ERROR *** Specifying command LEGEND POSITION
  Command requires 2 real arguments

  *** ERROR *** Specifying command LEGEND POSITION
  Command requires real arguments in the range 0 to 1


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mLEGEND[0m [1mPOSITION[0m [1m0.2[0m [1m0.5<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-88
  LEGEND SIZE command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mLEGEND[0m [1mSIZE[0m

          Defines the size of the legend.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mLEGEND[0m [1mSIZE[0m [1mscale_factor[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  scale_factor

          A scale factor in the range 0 to 1.  A real (floating  point)  value  is
          required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The LEGEND SIZE command is used to control the size of the legend on the  screen
  when the DRAW LEGEND command is given.

  By default the legend is drawn with a scale factor of 0.25

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message are specific to the LEGEND and LEGEND SIZE commands:

  *** ERROR *** Specifying command LEGEND
  Command qualifiers are POSITION or SIZE

  *** ERROR *** Specifying command LEGEND SIZE
  Command requires 1 real argument

  *** ERROR *** Specifying command LEGEND SIZE
  Command requires a real argument in the range 0 to 1


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mLEGEND[0m [1mSIZE[0m [1m0.4<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-89
  LUT command                                                          5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mLUT[0m

          Selects a colour table.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mLUT[0m  [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The file specification for the colour  table.   Any  part  of  the  file
          specification   not   supplied   will   be   taken   from   the  default
          LSL$LOOKUP:DTIVIEW5.DAT.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  This command is used to select a colour table.   The  colour  table  is  a  file
  containing  the  RGB  definitions  for  a series of colour values.  These colour
  values are used when drawing an  isometric  or  perspective  view  on  a  colour
  graphics device.

  The default colour table which is read when a graphics device is  first  enabled
  is  dependent  on  the  current  planes setting.  By default DTIVIEW allocates 5
  planes to PICTURE 1, and therefore the colour table DTIVIEW5.DAT is read.  Using
  the LUT command, an alternative colour table may be subsequently used.

  If a terrain view has already been output to a graphics device,  the  effect  of
  reading a new colour table using the LUT command is immediately seen.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the LUT command command:

  *** ERROR *** Specifying command LUT
  No graphics device is currently enabled

  *** ERROR *** Specifying command LUT
  Command not valid for a TEKTRONIX 4014

  *** ERROR *** Specifying command LUT
  Unable to read specified colour table


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mLUT[0m [1mMYTABLE<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-90
  OVERLAY command                                                      5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mOVERLAY[0m

          Overlays vector features  from  an  IFF  file  on  to  an  isometric  or
          perspective terrain view.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mOVERLAY[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command OVERLAY is used to overlay vector features from an IFF file on to an
  isometric or perspective terrain view.

  With a planes setting of 5 6 or 7, the vector data is drawn into picture 2; with
  a planes setting of 4, the data is drawn into picture 1.  No overlay is possible
  if 8 planes have been allocated to picture 1.

  The SELECT and DESELECT commands control which IFF  features  are  selected  for
  overlay.   A  FRT  is  used to define the graphical type of the feature (symbol,
  line or area), and to determine the colour in which the feature will  be  drawn.
  A SRI file is used to determine the representation of symbols.

  Automatic registration of the vector data to the DTM takes place if both DTI and
  IFF files contain origin offset values in the file headers.  Registration may be
  controlled explicitly using the commands IFFWINDOW and WINDOW.
  Output is controlled by the ENABLE GRAPHICS and ENABLE IFF_OUTPUT commands.


  [1mThe[0m [1mOVERLAY[0m [1mcommand[0m [1mis[0m [1monly[0m [1mvalid[0m [1mif[0m [1mthe[0m [1mENABLE[0m [1mOVERLAY[0m [1mhas[0m [1mbeen[0m [1mgiven[0m [1mprior[0m  [1mto[0m
  [1mgenerating[0m  [1mthe[0m  [1misometric[0m  [1mor[0m [1mperspective[0m [1mview[0m [1mon[0m [1mwhich[0m [1mdata[0m [1mis[0m [1mto[0m [1mbe[0m [1moverlaid.[0m
  [1mAn[0m [1mIFF[0m [1mand[0m [1mFRT[0m [1mfile,[0m [1mand[0m [1moptionally[0m  [1ma[0m  [1mSRI[0m  [1mfile,[0m  [1mmust[0m  [1mhave[0m  [1mbeen[0m  [1mpreviously[0m
  [1mdefined.[0m

  Typing <CTRL/C> (Pressing the Ctrl and  C  keys  together)  causes  the  current
  OVERLAY  operation  to  be  aborted,  and  will  return the user to the DTIVIEW>
  prompt.

  Further details on  the  vector  overlay  facilities  are  to  be  find  in  the
  description section of the introduction.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m  The following messages are specific to the OVERLAY command.

  *** ERROR *** Specifying command OVERLAY
  Overlay options are not enabled

  *** ERROR *** Specifying command OVERLAY
  No IFF file has been specified

  *** ERROR *** Specifying command OVERLAY
  No FRT file has been specified


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-91
  OVERLAY command                                                      5 June 1997



  *** ERROR *** Specifying command OVERLAY
  Before overlay it is necessary to generate a terrain view
  Use the command ISOMETRIC or PERSPECTIVE

  *** ERROR *** Specifying command OVERLAY
  Overlay not possible with a planes selection of 8


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mOVERLAY<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-92
  PERSPECTIVE command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mPERSPECTIVE[0m

          Generates a perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mPERSPECTIVE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command PERSPECTIVE is given to generate a perspective terrain view.

  The view is generated using the current viewing direction, distance, height  and
  vertical  exaggeration  parameters,  and  using  the current phi rotation value.
  These values may be examined using the SHOW VIEW command.

  Only DTM nodes lying within the current DTM  area  of  interest  are  used  when
  generating the perspective view.

  The perspective view may either be output to a  graphics  device,  or  the  plot
  coordinates may be sent to an IFF file for subsequent plotting or manipulation.
  Output is controlled by the ENABLE GRAPHICS and ENABLE IFF_OUTPUT commands.

  Typing <CTRL/C>  (Pressing  the  Ctrl  and  C  keys  together)  will  abort  the
  generation of the perspective view, and return the user to the DTIVIEW> prompt.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the PERSPECTIVE command:

  *** ERROR *** Specifying command PERSPECTIVE
  The input DTM is undefined

  *** ERROR *** Specifying command PERSPECTIVE
  No graphics device or output IFF file is enabled


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mPERSPECTIVE<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-93
  PHI command                                                          5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mPHI[0m

          Defines the amount of rotation applied to the  terrain  view  in  the  x
          axis.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mPHI[0m  [1mrotation[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  rotation

          The amount of rotation specified in degrees.  A  real  (floating  point)
          value in the range -80 to 80 degrees is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command PHI defines the degree of rotation in the x axis that is applied  to
  an isometric or perspective terrain view.

  Applying a rotation in the x axis can be a valuable  aid  to  interpreting  a  3
  dimensional  view.  Most frequently a rotation of 45 degrees is applied, so that
  a corner of the terrain view is pointing towards the viewer.

  If an angle greater than 80 degrees is required for a particular direction,  use
  a different direction and a small value for PHI.

  By default a rotation of 45 degrees is applied to all terrain views.

  Use of the SHOW VIEW command is recommended to check on  the  x  rotation  value
  before a terrain view is generated.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the PHI command:

  *** ERROR *** Specifying command PHI
  Command requires 1 real argument

  *** ERROR *** Specifying command PHI
  Command requires a rotation value in the range -80 to 80 degrees


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mPHI[0m [1m30.0<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-94
  PLANES command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mPLANES[0m

          Defines how many bit-planes  on  a  graphics  device  are  allocated  to
          PICTURE 1.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mPLANES[0m  [1mnumber_planes[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  number_planes

          The number of bit-planes that  will  be  allocated  to  PICTURE  1.   An
          integer value in the range 4 to 8 is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  PLANES defines the number of bit-planes  on  a  graphics  device  that  will  be
  allocated  to  PICTURE 1.  It therefore determines the maximum number of colours
  that are available for display of a terrain view.

  By default a set of 5 planes are allocated to PICTURE 1.  This allows 32 colours
  to  be  defined,  although in practice a maximum of 29 colours will be used when
  drawing the terrain surface, since the first 3 colours have a special use.

  The remaining planes on an 8 bit-plane graphics device are allocated to  picture
  2,  and  used  for  the  display  of  any vector overlay drawn using the OVERLAY
  command, and for any annotation generated using the DRAW LABEL command.  With  a
  planes  setting of 5, 7 overlay and annotation colours are available.  The LABEL
  COLOUR command may be used to select the annotation  colour,  while  the  colour
  entry  in  the  FRT  determines  in  what colour, different overlay features are
  shown.

  It should be noted that after giving the PLANES command, a default colour  table
  appropriate to the number of planes, is read.  The effect of this will either be
  seen  immediately  if  a  terrain  view  is  already  displayed,   or   on   the
  initialisation of the graphics device.

  The command PLANES 4 should  be  given  if  you  are  using  a  graphics  device
  configured  with  4 bit-planes.  This command will ensure that the terrain view,
  and any vector overlay and annotation, will use the same set of planes.  It also
  ensures  that  commands not relevant to a 4 planes graphics device are not acted
  upon.

  Further information on the default colour tables, and  the  use  of  the  PLANES
  command may be found in the introductory description section.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the PLANES command:

  *** ERROR *** Specifying command PLANES


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-95
  PLANES command                                                       5 June 1997


  Command requires 1 integer argument

  *** ERROR *** Specifying command PLANES
  Command requires an integer in the range 4 to 8


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mPLANES[0m [1m6<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-96
  PROFILE command                                                      5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mPROFILE[0m

          Generates a simple profile or cross section through the DTM.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mPROFILE[0m  [1mx_start[0m [1my_start[0m [1mx_end[0m [1my_end[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  x_start y_start

          An x y coordinate pair defining the first point of the profile.

  x_end y_end

          An x y coordinate pair defining the last point of the profile.

  The format of the command parameters is controlled by the UNITS command.

           UNITS MATRIX - 4 integer values are required defining the  position  of
           the start and end points in terms of column and row numbers.

           UNITS METRES - 4 real (floating point) values are required defining the
           start and end points as x and y metre offsets from the SW corner of the
           DTM.  By default, or if the ENABLE ABSOLUTE command has been given, the
           values are absolute coordinates (eg.  U.K.  National Grid coordinates);
           if the DISABLE ABSOLUTE command has been given,  then  the  coordinates
           are offsets from the SW corner of the matrix.

           UNITS SECONDS - 4 real (floating point) values  are  required  defining
           the  absolute  position  of the start and end points in seconds of arc.
           The values are supplied in the order latitude followed by longitude.  A
           negative   latitude   value   indicates  a  position  in  the  Southern
           Hemisphere, and a negative longitude value  a  point  to  the  west  of
           Greenwich.

           UNITS LATLONG - 4 values are required defining  the  absolute  latitude
           and longitude position of the start and end points in the format DDD MM
           SS H where DDD is the number of degrees, MM is the number  of  minutes,
           SS  is  the  number of seconds, and H is the hemisphere (N,S,E,W).  The
           values are supplied in the order latitude followed by longitude.

           UNITS PROJECTION Requires 4 real (floating point) values  defining  the
           start and end points in projection record units.  By default, or if the
           ENABLE ABSOLUTE  command  has  been  given,  the  values  are  absolute
           coordinates;  if  the DISABLE ABSOLUTE command has been given, then the
           coordinates are offsets from the SW corner of the matrix.


  Note that in all cases, the input values are adjusted to the nearest column  and
  row values.


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-97
  PROFILE command                                                      5 June 1997


  If the command is issued via the table menu, or if the command  PROFILE  without
  any  arguments  is  given,  you will be asked to supply a start and end value in
  response to appropriate prompts.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command PROFILE is given to generate a simple cross section between two  DTM
  node points.

  The current vertical exaggeration value is applied to the cross section.

  The profile may be output to a graphics device, or may be sent to  an  IFF  file
  for subsequent plotting or manipulation.
  Output is controlled by the ENABLE GRAPHICS and ENABLE IFF_OUTPUT commands.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the PROFILE command:

  *** ERROR *** Specifying command PROFILE
  The input DTM is undefined

  *** ERROR *** Specifying command PROFILE
  No graphics device or output IFF file is enabled

  *** ERROR *** Specifying command PROFILE
  Command requires 4 coordinate arguments

  *** ERROR *** Specifying command PROFILE
  Coordinate values must lie within DTM limits


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mUNITS[0m [1mMATRIX<CR>[0m
  DTIVIEW>[1mPROFILE[0m [1m10[0m [1m10[0m [1m15[0m [1m33<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-98
  QUADRANT command                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mQUADRANT[0m

          Selects which quadrant of a divided graphics screen will be used.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mQUADRANT[0m [1mquadrant_number[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  quadrant_number

          A quadrant number specifying which quadrant of the screen is to be used.
          An integer value in the range 1 to 4 is required, where:

              Quadrant_number 1 = top lefthand quadrant

              Quadrant_number 2 = top righthand quadrant

              Quadrant_number 3 = bottom righthand quadrant

              Quadrant_number 4 = bottom lefthand quadrant


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The QUADRANT command controls which quadrant of a divided graphics  screen  will
  be used for the display of an isometric or perspective terrain view.

  The command is only valid if use of a quartered screen has been  selected  using
  the ENABLE DIVIDE command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the QUADRANT command:

  *** ERROR *** Specifying command QUADRANT
  Command requires 1 integer argument

  *** ERROR *** Specifying command QUADRANT
  Command requires an integer argument in the range 1 to 4

  *** ERROR *** Specifying command QUADRANT
  Divided screen is not enabled


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mQUADRANT[0m [1m4<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility              Page 2-99
  SAMPLE command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSAMPLE[0m

          Defines the interval at which nodes will be sampled  along  the  columns
          and rows of the DTM.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mSAMPLE[0m [1mcolumn_interval[0m [1mrow_interval[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  column_interval

          The sample interval along the columns of the DTM.   A  positive  integer
          value is required.

  row_interval

          The sample interval along the rows of the DTM.  A positive integer value
          is required.
  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  SAMPLE is used to define the interval at which DTIVIEW samples the  columns  and
  rows of the DTM.

  By default all nodes in the DTM area of interest are used to  generate  the  3-D
  terrain view (ie.  a sample interval of 1 along both the columns and rows).


  The SAMPLE command is useful when generating a terrain  view  covering  a  large
  area  of  interest.   A quick look view may be generated first by sampling along
  the columns and rows, and subsequently a full view  without  sub-sampling.   The
  command SAMPLE 1 1 should be used to specify that no sub-sampling is applied, if
  a previous SAMPLE command has redefined the sample intervals.

  Note that  irrespective  of  the  sample  intervals,  the  last  column  or  row
  (depending  on  the  viewing  direction),  in the DTM area of interest is always
  shown on the 3-D terrain view.

  Note that in the current implementation of DTIVIEW, IFF  features  may  only  be
  overlaid  on  a terrain view generated with column and row sampling intervals of
  1.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessage:[0m

  The following error messages are specific to the SAMPLE command:

  *** ERROR *** Specifying command SAMPLE
  Command requires 2 integer arguments

  *** ERROR *** Specifying command SAMPLE
  Command requires 2 positive integer arguments



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-100
  SAMPLE command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSAMPLE[0m [1m2[0m [1m2[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-101
  SELECT ALL command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSELECT[0m [1mALL[0m

          Resets all feature selections

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mSELECT[0m [1mALL[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  SELECT ALL resets all IFF feature selections made using any  of  the  SELECT  or
  DESELECT commands.

  [1mThe[0m [1mSELECT[0m [1mALL[0m [1mcommand[0m [1mis[0m [1monly[0m [1mvalid[0m [1mif[0m [1mthe[0m  [1mENABLE[0m  [1mOVERLAY[0m  [1mcommand[0m  [1mhas[0m  [1mbeen[0m
  [1mpreviously[0m [1mgiven.[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mMessage:[0m

  The following error messages are specific to the SELECT command:

  *** ERROR *** Specifying command SELECT
  Command qualifiers are ALL, FC, FSN or LAYER

  *** ERROR *** Specifying command SELECT
  Overlay options are not enabled


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSELECT[0m [1mALL[0m [1m<CR>[0m
  DTIVIEW>[1mSELECT[0m [1mFSN[0m [1m7-10,56-78[0m [1m<CR>[0m
  DTIVIEW>[1mSHOW[0m [1mSELECTIONS[0m [1m<CR>[0m
  DTIVIEW>[1mSELECT[0m [1mALL[0m [1m<CR>[0m
  DTIVIEW>[1mSHOW[0m [1mSELECTIONS[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-102
  SELECT FC command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSELECT[0m [1mFC[0m

          Includes an IFF feature for overlay on an isometric or perspective  view
          on the basis of feature code.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mSELECT[0m [1mFC[0m [1mfeature_code[0m [1m[,...][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  feature_code

          An integer feature code in the range 0 to 32767.  Multiple feature codes
          may be specified separated by commas or spaces, while a range of feature
          codes may be specified by means of a '-'.  eg.  SELECT FC 10-13 includes
          feature codes 10,11,12 and 13.
          Alternatively a valid FRT group name may be  specified  eg.   SELECT  FC
          RIVERS

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SELECT FC command is used to include  an  IFF  feature  for  overlay  on  an
  isometric  or  perspective  view.   Features  are included on the basis of their
  feature code.

  By default DTIVIEW will use all features within an IFF file.

  Use of the SHOW SELECTIONS command is recommended to check on feature selections
  before the OVERLAY command is given.

  [1mThe[0m [1mSELECT[0m [1mFC[0m [1mcommand[0m [1mis[0m [1monly[0m [1mvalid[0m [1mif[0m  [1mthe[0m  [1mENABLE[0m  [1mOVERLAY[0m  [1mcommand[0m  [1mhas[0m  [1mbeen[0m
  [1mpreviously[0m  [1mgiven,[0m  [1mand[0m  [1mthe[0m  [1mFRT[0m  [1mcommand[0m  [1mhas[0m  [1mbeen[0m  [1mused[0m [1mto[0m [1mspecify[0m [1ma[0m [1mFeature[0m
  [1mRepresentation[0m [1mTable.[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SELECT command:

  *** ERROR *** Specifying command SELECT
  Command qualifiers are ALL, FC, FSN, or LAYER             


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSELECT[0m [1mFC[0m [1m1<CR>[0m
  DTIVIEW>[1mSELECT[0m [1mFC[0m [1mRAILWAYS<CR>[0m
  DTIVIEW>[1mSELECT[0m [1mFC[0m [1mRIVERS[0m [1m7-10,56-78[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-103
  SELECT FSN command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSELECT[0m [1mFSN[0m

          Includes an IFF feature for overlay on an isometric or perspective  view
          on the basis of feature serial number.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mSELECT[0m [1mFSN[0m [1mfsn[0m [1m[,...][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  fsn

          An integer feature serial number in the  range  0  to  65534.   Multiple
          feature  serial  numbers may be specified separated by commas or spaces,
          while a range of numbers may be  specified  by  means  of  a  '-'.   eg.
          SELECT FSN 10-13 includes feature serial numbers 10,11,12 and 13.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SELECT FSN command is used  to  include  IFF  features  for  overlay  on  an
  isometric  or  perspective  view.   Features  are included on the basis of their
  feature serial number.

  By default DTIVIEW will use all features within an IFF file.

  Use of the SHOW SELECTIONS command is recommended to display feature  selections
  before the OVERLAY command is given.

  [1mThe[0m [1mSELECT[0m [1mFSN[0m [1mcommand[0m [1mis[0m [1monly[0m [1mvalid[0m [1mif[0m [1mthe[0m  [1mENABLE[0m  [1mOVERLAY[0m  [1mcommand[0m  [1mhas[0m  [1mbeen[0m
  [1mpreviously[0m [1mgiven.[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SELECT command:

  *** ERROR *** Specifying command SELECT
  Command qualifiers are ALL, FC, FSN, or LAYER             


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSELECT[0m [1mFSN[0m [1m4[0m
  DTIVIEW>[1mSELECT[0m [1mFSN[0m [1m7-10,56-78[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-104
  SELECT LAYER command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSELECT[0m [1mLAYER[0m

          Includes an IFF feature for overlay on an isometric or perspective  view
          on the basis of layer number.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mSELECT[0m [1mLAYER[0m [1mlayer[0m [1m[,...][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  layer

          An integer layer number in the range 1 to 32767.  Multiple layer numbers
          may  be  specified separated by commas or spaces, while a range of layer
          numbers may be specified by means of a '-'.   eg.   SELECT  LAYER  10-13
          includes all features in layers 10,11,12 and 13.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SELECT LAYER command is used to include  IFF  features  for  overlay  on  an
  isometric or perspective view.  Features are included on the basis of IFF layer.

  By default DTIVIEW will use all features within an IFF file.

  Use of the SHOW SELECTIONS command is recommended to display feature  selections
  before the OVERLAY command is given.

  [1mThe[0m [1mSELECT[0m [1mLAYER[0m [1mcommand[0m [1mis[0m [1monly[0m [1mvalid[0m [1mif[0m [1mthe[0m [1mENABLE[0m [1mOVERLAY[0m  [1mcommand[0m  [1mhas[0m  [1mbeen[0m
  [1mpreviously[0m [1mgiven.[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SELECT command:

  *** ERROR *** Specifying command SELECT
  Command qualifiers are ALL, FC, FSN, or LAYER             


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSELECT[0m [1mLAYER[0m [1m7[0m
  DTIVIEW>[1mSELECT[0m [1mLAYER[0m [1m1,7-10[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-105
  SET DEFAULT ANNOTATION command                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSET[0m [1mDEFAULT[0m [1mANNOTATION[0m

          [1mSets[0m [1mall[0m [1mlabel[0m [1mand[0m [1mlegend[0m [1mannotation[0m [1mparameters[0m [1mto[0m [1mtheir[0m [1mdefault[0m [1mvalues.[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSET[0m [1mDEFAULT[0m [1mANNOTATION[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  This command is used to set all LABEL (colour, size and position) and  LEGEND  (
  size and position ) parameters to their default values.

  The default annotation values may be examined using the command SHOW  ANNOTATION
  after giving the SET DEFAULT ANNOTATION command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SET and SET DEFAULT commands:

  *** ERROR *** Specifying command SET
  Command qualifiers are DEFAULT, LAND_FC, LAYER, LINE_STYLE,
                         NULL_FC, ORIGIN, SCALE, SEA_FC or SYMBOL_SCALE

  *** ERROR *** Specifying command SET
  Command qualifiers are ANNOTATION or VIEW


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSET[0m [1mDEFAULT[0m [1mANNOTATION<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-106
  SET DEFAULT VIEW command                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSET[0m [1mDEFAULT[0m [1mVIEW[0m

          Sets all view parameters to their default values.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSET[0m [1mDEFAULT[0m [1mVIEW[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  This command is used to set all viewing parameters to their default values.

  The default viewing values may be examined using the  command  SHOW  VIEW  after
  giving the SET DEFAULT VIEW command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SET and SET DEFAULT commands:

  *** ERROR *** Specifying command SET
  Command qualifiers are DEFAULT, LAND_FC, LAYER, LINE_STYLE,
                         NULL_FC, ORIGIN, SCALE, SEA_FC or SYMBOL_SCALE

  *** ERROR *** Specifying command SET
  Command qualifiers are ANNOTATION or VIEW


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSET[0m [1mDEFAULT[0m [1mVIEW<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-107
  SET LAND_FC command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSET[0m [1mLAND_FC[0m

          Specifies the code given to feature code of features in  an  IFF  output
          file that are profiles across the land (rather than the sea) surface.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSET[0m [1mLAND_FC[0m [1mfeature_code[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  feature_code

          The feature code of the land profiles.  An integer value in the range  1
          to 32767 is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SET LAND_FC command is used to specify the code given to features in the IFF
  output file that are profiles across the land surface.

  By default such features are given a code of 1, and features that define a  line
  across  the  sea  surface are given a code of 2.  This allows the IFF data to be
  plotted, so that the land and sea may be distinguished in different  colours  or
  line styles.

  The command SET SEA_FC should be used to set the feature code of profiles across
  the sea surface.

  The command is only relevant when using the ENABLE IFF_OUTPUT option, to write a
  terrain view to an IFF file.

  Use of the SHOW SETTINGS command is recommended to check on the current setting.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SET and SET LAND_FC commands:

  *** ERROR *** Specifying command SET
  Command qualifiers are DEFAULT, LAND_FC, LAYER, LINE_STYLE,
                         NULL_FC, ORIGIN, SCALE, SEA_FC, SYMBOL_SCALE
                         TEXT_FC

  *** ERROR *** Specifying command SET LAND_FC
  Command requires 1 integer argument

  *** ERROR *** Specifying command SET LAND_FC
  Command requires a feature code in the range 1 to 32767


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-108
  SET LAND_FC command                                                  5 June 1997


  DTIVIEW>[1mSET[0m [1mLAND_FC[0m [1m5[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-109
  SET LAYER command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSET[0m [1mLAYER[0m

          Specifies the layer into which features are placed  in  the  output  IFF
          file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSET[0m [1mLAYER[0m [1mlayer[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  layer

          The IFF layer number.  An integer value in  the  range  1  to  32767  is
          required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SET LAYER command is used to specify  the  layer  into  which  features  are
  placed in the IFF output file.

  Once a layer has been created in the  output  IFF  file,  the  layer  number  is
  automatically  incremented by 1.  This ensures that any overlay data also output
  to the file, is held in a separate layer to the terrain profiles.

  By default features are written to layer 1 in the IFF file.

  The command is only relevant when using the ENABLE IFF_OUTPUT option, to write a
  terrain view to an IFF file.

  Use of the SHOW SETTINGS command is recommended to check on the current setting.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SET and SET LAYER commands:

  *** ERROR *** Specifying command SET
  Command qualifiers are DEFAULT, LAND_FC, LAYER, LINE_STYLE,
                         NULL_FC, ORIGIN, SCALE, SEA_FC, SYMBOL_SCALE
                         TEXT_FC

  *** ERROR *** Specifying command SET LAYER
  Command requires 1 integer argument

  *** ERROR *** Specifying command SET LAYER
  Command requires a feature code in the range 1 to 32767


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-110
  SET LAYER command                                                    5 June 1997


  DTIVIEW>[1mSET[0m [1mLAYER[0m [1m4[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-111
  SET LINE_STYLE command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSET[0m [1mLINE_STYLE[0m

          Selects the line style representation of  lines  drawn  on  a  TEKTRONIX
          monochrome display.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSET[0m [1mLINE_STYLE[0m [1mline_number[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  line_number

          A TEKTRONIX line style number.  An integer value in the range 1 to 5  is
          required where:

                  1 = continuous solid
                  2 = dotted
                  3 = short dash
                  4 = normal dash
                  5 = long dash


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SET LINE_STYLE command is used to select the line style in which lines  will
  be  drawn  on  a TEKTRONIX 4014 display, when ISOMETRIC, PERSPECTIVE and OVERLAY
  commands are given.

  By default a solid line representation is used.

  Use of the SHOW SETTINGS command is recommended to check on the current setting.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error  messages  are  specific  to  the  SET  and  SET  LINE_STYLE
  commands:

  *** ERROR *** Specifying command SET
  Command qualifiers are DEFAULT, LAND_FC, LAYER, LINE_STYLE,
                         NULL_FC, ORIGIN, SCALE, SEA_FC, SYMBOL_SCALE
                         TEXT_FC

  *** ERROR *** Specifying command SET LINE_STYLE
  Command requires 1 integer argument

  *** ERROR *** Specifying command SET LINE_STYLE
  Command requires an integer value in the range 1 to 5


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-112
  SET LINE_STYLE command                                               5 June 1997


  DTIVIEW>[1mSET[0m [1mLINE_STYLE[0m [1m2[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-113
  SET NULL_FC command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSET[0m [1mNULL_FC[0m

          Specifies the code given to features in an  IFF  output  file  that  are
          profiles  that  fall  outside  the height range defined with the ZLIMITS
          command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSET[0m [1mNULL_FC[0m [1mfeature_code[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  feature_code

          The feature code of the profiles.  An integer value in the  range  1  to
          32767 is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SET NULL_FC command is used to specify the code given to features in the IFF
  output file that are profiles with heights outside the height range defined with
  the ZLIMITS command.

  By default these features are given a code of 3.  This allows the IFF data to be
  plotted,  so  that  these profiles may be distinguished in a different colour or
  line style.

  The command is only relevant when using the ENABLE IFF_OUTPUT option, to write a
  terrain view to an IFF file.

  Use of the SHOW SETTINGS command is recommended to check on the current setting.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SET and SET NULL_FC commands:

  *** ERROR *** Specifying command SET
  Command qualifiers are DEFAULT, LAND_FC, LAYER, LINE_STYLE,
                         NULL_FC, ORIGIN, SCALE, SEA_FC, SYMBOL_SCALE
                         TEXT_FC

  *** ERROR *** Specifying command SET NULL_FC
  Command requires 1 integer argument

  *** ERROR *** Specifying command SET NULL_FC
  Command requires a feature code in the range 1 to 32767


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-114
  SET NULL_FC command                                                  5 June 1997


  DTIVIEW>[1mSET[0m [1mNULL_FC[0m [1m14[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-115
  SET ORIGIN command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSET[0m [1mORIGIN[0m

          Defines the drawing origin that  will  be  used  when  an  isometric  or
          perspective terrain view is output to a graphics device.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSET[0m [1mORIGIN[0m [1mx_origin[0m [1my_origin[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  x_origin y_origin

          The x y coordinate origin of  the  drawing.   2  real  (floating  point)
          values are required.
          The origin is specified in normalised  device  coordinates  (NDC).   For
          example,  an  origin  of  0.0 and 0.0 corresponds to the bottom lefthand
          corner of the screen.  Negative values may be supplied.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SET ORIGIN command is used to define  a  drawing  origin.   This  determines
  where  the  bottom lefthand corner of the graphics drawing area is located.  The
  origin values are specified in normalised device coordinates.  For  example,  if
  an origin of 0.5 and 0.5 is specified, then only the upper righthand quadrant of
  the screen will be used.

  The command is used in conjunction with the SET SCALE command  to  override  the
  default scaling and positioning of the terrain view.

  ; Giving the command SET ORIGIN will automatically disable the AUTOSCALE option.
  This  option can be reselected using the command ENABLE AUTOSCALE.  If AUTOSCALE
  is selected, then drawing scale  factor  and  origin  values  are  automatically
  calculated,  and  applied  in  preference to any user supplied drawing scale and
  origin values.

  Use of the SHOW SETTINGS or SHOW DEVICE command is recommended to check  on  the
  current setting.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SET and SET ORIGIN commands:

  *** ERROR *** Specifying command SET
  Command qualifiers are DEFAULT, LAND_FC, LAYER, LINE_STYLE,
                         NULL_FC, ORIGIN, SCALE, SEA_FC, SYMBOL_SCALE
                         TEXT_FC

  *** ERROR *** Specifying command SET ORIGIN
  Command requires 2 real arguments



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-116
  SET ORIGIN command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSET[0m [1mORIGIN[0m [1m0.3[0m [1m0.3[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-117
  SET SCALE command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSET[0m [1mSCALE[0m

          Defines the drawing scale factor that will be used when an isometric  or
          perspective terrain view is output to a graphics device.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSET[0m [1mSCALE[0m [1mscale_factor[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  scale_factor

          The drawing scale factor.  A positive real (floating point) is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SET SCALE command is used to define a drawing scale factor.  This determines
  the  amount  of  enlargement  that is applied to the terrain view and any vector
  overlay when output to a graphics device.  The command is  used  in  conjunction
  with  the  SET ORIGIN command to override the default scaling and positioning of
  the terrain view.

  Giving the command SET SCALE will automatically disable  the  AUTOSCALE  option.
  This  option can be reselected using the command ENABLE AUTOSCALE.  If AUTOSCALE
  is selected, then drawing scale  factor  and  origin  values  are  automatically
  calculated,  and  applied  in  preference to any user supplied drawing scale and
  origin values.

  Use of the SHOW SETTINGS or SHOW DEVICE command is recommended to check  on  the
  current setting.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SET and SET SCALE commands:

  *** ERROR *** Specifying command SET
  Command qualifiers are DEFAULT, LAND_FC, LAYER, LINE_STYLE,
                         NULL_FC, ORIGIN, SCALE, SEA_FC, SYMBOL_SCALE
                         TEXT_FC

  *** ERROR *** Specifying command SET SCALE
  Command requires 1 real argument


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSET[0m [1mSCALE[0m [1m1.5[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-118
  SET SEA_FC command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSET[0m [1mSEA_FC[0m

          Specifies the code which is given to features in an IFF output file that
          are profiles across the sea (rather than the land) surface.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSET[0m [1mSEA_FC[0m [1mfeature_code[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  feature_code

          The feature code of the sea profiles.  An integer value in the  range  1
          to 32767 is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SET SEA_FC command is used to specify the code which is given to features in
  the IFF output file that are profiles across the sea surface.

  By default such features are given a feature code of 2, and features that define
  a  line  across the land surface are given a feature code of 1.  This allows the
  IFF data to be plotted, so that  the  land  and  sea  may  be  distinguished  in
  different colours or line styles.

  The command SET LAND_FC should be used to  set  the  feature  code  of  profiles
  across the land surface.

  The command is only relevant when using the ENABLE IFF_OUTPUT option, to write a
  terrain view to an IFF file.

  Use of the SHOW SETTINGS command is recommended to check on the current setting.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SET and SET SEA_FC commands:

  *** ERROR *** Specifying command SET
  Command qualifiers are DEFAULT, LAND_FC, LAYER, LINE_STYLE,
                         NULL_FC, ORIGIN, SCALE, SEA_FC, SYMBOL_SCALE
                         TEXT_FC

  *** ERROR *** Specifying command SET SEA_FC
  Command requires 1 integer argument

  *** ERROR *** Specifying command SET SEA_FC
  Command requires a feature code in the range 1 to 32767


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-119
  SET SEA_FC command                                                   5 June 1997


  DTIVIEW>[1mSET[0m [1mSEA_FC[0m [1m4[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-120
  SET SYMBOL_SCALE command                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSET[0m [1mSYMBOL_SCALE[0m

          Specifies a scale factor  that  is  applied  to  the  normalised  symbol
          coordinates  in  a  SRI  file  before  output to a graphics device.  The
          command is therefore used to control the size of graphical symbols.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSET[0m [1mSYMBOL_SCALE[0m [1mscale_factor[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  scale_factor

          The symbol scale factor.  A real (floating point) value is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SET SYMBOL_SCALE command is used to specify a symbol enlargement factor, and
  therefore  controls the representation of drawn symbols.  It is a value by which
  the normalised SRI symbol coordinates are enlarged or reduced prior to output to
  a graphics device.

  By default DTIVIEW will use the scale entry in the FRT and the dimensions of the
  graphics  screen  to determine the symbol size, however is some situations it is
  useful to override the default value.

  Use of the SHOW SETTINGS command is recommended to check on the current setting.

  [1mThe[0m [1mcommand[0m [1mis[0m [1monly[0m [1mvalid[0m [1mif[0m [1mthe[0m [1mENABLE[0m  [1mOVERLAY[0m  [1mcommand[0m  [1mhas[0m  [1mbeen[0m  [1mpreviously[0m
  [1mgiven.[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are  specific  to  the  SET  and  SET  SYMBOL_SCALE
  commands:

  *** ERROR *** Specifying command SET
  Command qualifiers are DEFAULT, LAND_FC, LAYER, LINE_STYLE,
                         NULL_FC, ORIGIN, SCALE, SEA_FC, SYMBOL_SCALE
                         TEXT_FC

  *** ERROR *** Specifying command SET SYMBOL__SCALE
  Command requires 1 real argument


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSET[0m [1mSYMBOL_SCALE[0m [1m4.5[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-121
  SET TEXT_FC command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSET[0m [1mTEXT_FC[0m

          Specifies the feature code which is given to the text  feature  that  is
          generated  if  output  of the perspective or isometric view is to an IFF
          file.  This text feature labels the view  with  the  time  and  date  of
          generation, along with details of viewing direction.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSET[0m [1mTEXT_FC[0m [1mfeature_code[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  feature_code

          The feature code of the text string.  An integer value in the range 1 to
          32767 is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SET TEXT_FC command is used to specify the code which is given to the  title
  text feature in the IFF output file.

  By default this feature is given a feature code value of 64.

  The command is only relevant when using the ENABLE IFF_OUTPUT option.

  Use of the SHOW SETTINGS command is recommended to check on the current setting.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SET and SET TEXT_FC commands:

  *** ERROR *** Specifying command SET
  Command qualifiers are DEFAULT, LAND_FC, LAYER, LINE_STYLE,
                         NULL_FC, ORIGIN, SCALE, SEA_FC, SYMBOL_SCALE
                         TEXT_FC

  *** ERROR *** Specifying command SET TEXT_FC
  Command requires 1 integer argument

  *** ERROR *** Specifying command SET TEXT_FC
  Command requires a feature code in the range 1 to 32767


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSET[0m [1mTEXT_FC[0m [1m100[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-122
  SETUP MAP command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSETUP[0m [1mMAP[0m

          Registers a map or other source document placed on a  digitising  table,
          to the input DTM.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSETUP[0m [1mMAP[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SETUP MAP command allows a source document to be  registered  to  the  input
  DTM.

  In order to register the  map  and  a  DTM,  the  DTM  should  have  first  been
  specified,  and  a  source  document  should  have been securely attached to the
  surface of a digitising table.

  On giving the command you will be asked to digitise 4  rectangular  registration
  points.   The  registration points represent 4 points on the map that correspond
  to the 4 corners of the DTM.  The points are digitised in  the  order  top  left
  (NW), bottom left (SW), bottom right (SE) and top right (NE) using any button on
  the table puck.  A point should be digitised in response  to  a  prompt  on  the
  terminal.
  An error message is generated if any of the angles of  the  digitised  rectangle
  are  less than 88 degrees, or greater than 92 degrees (ie.  if the corner points
  of the rectangle are more than 2 degrees off rectangular).   In  this  case  you
  will be asked to redigitise the 4 registration points.
  Setup of the map may be aborted using <CTRL/Z> (pressing the  Ctrl  and  Z  keys
  together).

  Following the registration of a map to the DTM, coordinate  values  required  by
  the  WINDOW  and  PROFILE  commands,  may  be  input using the table puck.  User
  defined symbols may also be positioned using the table puck.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SETUP and SETUP MAP commands:

  *** ERROR *** Specifying command SETUP
  Command qualifiers are MAP or MENU

  *** ERROR *** Specifying command SETUP MAP
  Command is invalid if the table has not been initialised

  *** ERROR *** Specifying command SETUP MAP
  The input DTM must be specified before SETUP MAP

  *** ERROR *** Setting up MAP
  Badly digitised corner points; try again



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-123
  SETUP MAP command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSETUP[0m [1mMAP<CR>[0m

  Digitise map NW corner>

  Digitise map SW corner>

  Digitise map SE corner>

  Digitise map NE corner>

  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-124
  SETUP MENU command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSETUP[0m [1mMENU[0m

          Positions the DTIVIEW menu on the digitising table.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSETUP[0m [1mMENU[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SETUP MENU  command  allows  the  DTIVIEW  menu  to  be  positioned  on  the
  digitising table.

  On giving the command you will be asked to digitise the 4 corners points of  the
  menu.   The  corners are digitised in the order top left (NW), bottom left (SW),
  bottom right (SE) and top right (NE) using any button  on  the  table  puck.   A
  point should be digitised in response to a prompt on the terminal.
  An error message is generated if any of the angles of  the  digitised  rectangle
  are  less than 88 degrees, or greater than 92 degrees (ie.  if the corner points
  of the rectangle are more than 2 degrees off rectangular).   In  this  case  you
  will be asked to redigitise the 4 menu corner points.
  Setup of the menu may be aborted using <CTRL/Z> (pressing the Ctrl  and  Z  keys
  together).

  Once a menu has been positioned on the table, it is possible to  enter  many  of
  the  DTIVIEW  commands  by digitising a point in the appropriate menu box.  If a
  command requires a  parameter  argument,  you  should  enter  the  parameter  in
  response to the prompt on the terminal, using the keyboard.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SETUP and SETUP MENU commands:

  *** ERROR *** Specifying command SETUP
  Command qualifiers are MAP or MENU

  *** ERROR *** Specifying command SETUP MENU
  Command is invalid if the table has not been initialised

  *** ERROR *** Setting up MENU
  Badly digitised corner points; try again


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSETUP[0m [1mMENU<CR>[0m

  Digitise menu NW corner>

  Digitise menu SW corner>

  Digitise menu SE corner>



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-125
  SETUP MENU command                                                   5 June 1997


  Digitise menu NE corner>

  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-126
  SHOW ANNOTATION command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mANNOTATION[0m

          Displays information on current label and legend parameters.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mANNOTATION[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command SHOW ANNOTATION displays information on the current  position,  size
  and colour of a label, and the current position and size of a legend.

  These parameters may be varied using the appropriate LABEL or LEGEND commands.

  If the SHOW ANNOTATION command is given before any LABEL or LEGEND commands, the
  default annotation parameter settings may be examined.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the SHOW command:

  *** ERROR *** Specifying command SHOW
  Command qualifiers are ANNOTATION, DEVICE, ENABLE, IFF, FILEIN
                         SELECTIONS, SETTINGS, SYMBOLS or VIEW


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSHOW[0m [1mANNOTATION<CR>[0m

  Label Position  : 0.500 0.500
  Label Size      : 1
  Label Colour    : 1

  Legend Position : 0.005 0.150
  Legend Size     : 0.25

  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-127
  SHOW DEVICE command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mDEVICE[0m

          Displays information on parameters associated with the  output  graphics
          device.   For  example the current allocation of bit-planes to Picture 1
          and Picture 2.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mDEVICE[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command SHOW DEVICE displays information on parameters that  are  associated
  with  a graphics device.  The status of the graphics device is shown, along with
  details on the current bit-plane and colour allocation.  The drawing origin  and
  scale values are also shown.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the SHOW command:

  *** ERROR *** Specifying command SHOW
  Command qualifiers are ANNOTATION, DEVICE, ENABLE, IFF, FILEIN
                         SELECTIONS, SETTINGS, SYMBOLS or VIEW


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSHOW[0m [1mDEVICE<CR>[0m
   
  PRIMARY           On       SECONDARY        Off       

  5 Planes allocated to PICTURE 1
  3 Planes allocated to PICTURE 2

  Maximum number of colours  for terrain view : 29
  Number of colours selected for terrain view : 29
  Maximum number of overlay colours           : 7

  Divided screen is enabled
  Current quadrant number : 1

  AUTOSCALE is enabled

  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-128
  SHOW ENABLE command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mENABLE[0m

          Shows the current status of those options that may be enabled  by  means
          of the ENABLE command, or disabled using the DISABLE command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mENABLE[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Displays the current status of all the DTIVIEW options that may  be  enabled  or
  disabled using the ENABLE and DISABLE commands.
  The name of the option is shown, followed by  either  the  word  ON  or  OFF  to
  indicate its current status.
  If the command SHOW ENABLE is used before any ENABLE or  DISABLE  commands  have
  been given, the default status of the options is displayed.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW
  Command qualifiers are ANNOTATION, DEVICE, ENABLE, IFF, FILEIN
                         SELECTIONS, SETTINGS, SYMBOLS or VIEW


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSHOW[0m [1mENABLE<CR>[0m

  Current status:

  ABSOLUTE         On        AUTOSCALE        On       BATHYMETRY       Off

  COLOUR_IFF       Off       DIVIDE           Off      FISHNET          Off

  FOG              Off       GRAPHICS         Off      IFF_OUTPUT       On

  OVERLAY          Off       PICTURE 1        Off      PICTURE 2        Off

  PRIMARY          Off       SECONDARY        Off       SYMBOLS         Off

  TABLE            Off

  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-129
  SHOW FILEIN command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mFILEIN[0m

          Displays information extracted from the header of the input DTM.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mFILEIN[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Details extracted from the header of the DTM  are  displayed  on  the  terminal,
  along with details of the current window or area of interest.

  The header values are shown in  the  current  units  of  measurement.   This  is
  dependent  on  the header type of the input file, or may be set explicitly using
  the UNITS command.  By default or if the ENABLE ABSOLUTE command has been  given
  then  metre  or  projection  values are expressed in absolute values.  Otherwise
  they are displayed as offsets from the SW corner of the matrix.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the commands SHOW and SHOW FILEIN:

  *** ERROR *** Specifying command SHOW
  Command qualifiers are ANNOTATION, DEVICE, ENABLE, IFF, FILEIN
                         SELECTIONS, SETTINGS, SYMBOLS or VIEW

  *** WARNING *** The input DTM is undefined


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSHOW[0m [1mFILEIN<CR>[0m

  LSL$DTI:TEST.DTI        
  Header: MIKE     Data: WORD

  Units are DTI Matrix Values

  Matrix Coverage    SW:    1     1    NE:   301   251
  Matrix Window      SW:    1     1    NE:   200   200
  Matrix Interval     E:    1           N:     1
  Value Range          :      0   to    851

  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-130
  SHOW IFF command                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mIFF[0m

          Displays information extracted from the header of the input IFF file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mIFF[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Displays information on the currently selected IFF file.

  The name of the IFF file, and the IFF coordinate range and window  settings  are
  shown.   By  default  or if the ENABLE ABSOLUTE command has been given, then the
  coordinates are expressed as absolute values.  Otherwise they are  displayed  as
  offset values from the SW corner of the file area.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the SHOW and SHOW IFF commands:

  *** ERROR *** Specifying command SHOW
  Command qualifiers are ANNOTATION, DEVICE, ENABLE, IFF, FILEIN
                         SELECTIONS, SETTINGS, SYMBOLS or VIEW

  *** WARNING *** The input IFF file is undefined


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSHOW[0m [1mIFF<CR>[0m

  IFF file:       LSL$IF:TEST.IFF
  IFF file range:
  SW: 270000.00 180000.00   NE: 310000.00  220000.00
  IFF file window :
  SW: 280000.00 190000.00   NE: 320000.00  190000.00

  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-131
  SHOW SETTINGS command                                                5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mSETTINGS[0m

          Shows the current value of those parameters that may be  set  using  the
          SET command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mSETTINGS[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Displays the name of all DTIVIEW parameters  that  may  be  set  using  the  SET
  command, and their current values.
  If the SHOW SETTINGS command is given before using a  SET  command,  the  values
  shown are the default values that are allocated to the parameters by COVER.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the command SHOW:

  *** ERROR *** Specifying command SHOW
  Command qualifiers are ANNOTATION, DEVICE, ENABLE, IFF, FILEIN
                         SELECTIONS, SETTINGS, SYMBOLS or VIEW



  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSHOW[0m [1mSETTINGS<CR>[0m
   
  Current Settings:

  LAND_FC          1       LAYER            1       LINE_STYLE       1

  ORIGIN      0.01  0.51   NULL_FC          3       SCALE         0.47

  SEA_FC           2       SYMBOL_SCALE 602.59      TEXT_FC         64


  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-132
  SHOW SYMBOLS command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mSYMBOLS[0m

          Displays information about currently defined symbols.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mSYMBOLS[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SHOW SYMBOLS  command  displays  information  about  the  currently  defined
  symbols.

  If the ENABLE SYMBOLS and the SYMBOL FC commands have been previously given  the
  SHOW SYMBOLS command will display the number of symbols currently defined.

  If the SYMBOL POSITION command has been given or the table puck has been used to
  position symbols, the SHOW SYMBOLS command will additionally display the x and y
  coordinate position of a symbol and its visibility status.  The coordinates  are
  shown in the current units of measurement.  This is dependent on the header type
  of the input file, or may  be  set  explicitly  using  the  UNITS  command.   By
  default,  or  if  the  ENABLE  ABSOLUTE  command  has been given , then metre or
  projection  values  are  expressed  in  absolute  values.   Otherwise  they  are
  displayed as offsets from the SW corner of the matrix.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the command SHOW:

  *** ERROR *** Specifying command SHOW
  Command qualifiers are ANNOTATION, DEVICE, ENABLE, IFF, FILEIN
                         SELECTIONS, SETTINGS, SYMBOLS or VIEW



  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSHOW[0m [1mSYMBOLS<CR>[0m

  Number of symbols currently defined : 9
  Number of symbols currently used : 4
  --------------------------------------------------------------|
  | Symbol no |   FC  |   X position  |   Y position  | Visible |
  --------------------------------------------------------------|
  |      1    |    1  |        10     |        10     |   YES   |
  |      2    |    2  |        20     |        20     |   YES   |
  |      3    |    3  |        30     |        30     |   YES   |
  |      4    |    4  |        40     |        40     |   YES   |
  --------------------------------------------------------------|


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-133
  SHOW SYMBOLS command                                                 5 June 1997




  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-134
  SHOW VIEW command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mVIEW[0m

          Displays the current values of all viewing  parameters  controlling  the
          form of an isometric or perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mVIEW[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SHOW VIEW command displays on the terminal the current  value  of  all  view
  parameters.

  These are  the  parameters  that  control  how  the  DTM  is  sampled,  and  the
  transformations  that  are  applied, when generating an isometric or perspective
  terrain view.  Values defined using the ZSTEP  and  ZLIMITS  commands  are  also
  displayed.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the command SHOW:

  *** ERROR *** Specifying command SHOW
  Command qualifiers are ANNOTATION, DEVICE, ENABLE, IFF, FILEIN
                         SELECTIONS, SETTINGS, SYMBOLS or VIEW



  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSHOW[0m [1mVIEW<CR>[0m

  Theta                : -30.0
  Phi                  : 45.0
  Viewing direction    : From the WEST 
  Vertical exaggeration: 1.0
  Viewing distance     : 300.0
  Height of view       : 1000.0

  Fog colour index     : 0
  Visibility distance  : 1000.0

  Z Limits             : 0 to 833
  Z Step               : 29

  Sampling interval along columns : 1
  Sampling interval along rows    : 1



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-135
  SHOW VIEW command                                                    5 June 1997


  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-136
  SPAWN command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSPAWN[0m

          The SPAWN command  enables  a  subprocess  to  be  created  from  within
          DTIVIEW.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mSPAWN[0m [1mcommand-line[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  command-line

          Specifies a DCL command string to be executed as if typed in response to
          a '$' prompt.  When the command completes, the subprocess terminates and
          control is returned to DTIVIEW.   The  command  line  cannot  exceed  80
          characters.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SPAWN command enables you to create a subprocess while within DTIVIEW.  When
  the subprocess terminates, control is returned to DTIVIEW.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SPAWN command:

  *** ERROR *** Specifying command SPAWN 
  Command requires a valid DCL command line

  *** ERROR *** Specifying command SPAWN 
  DCL command line cannot exceed 80 characters

  *** ERROR *** Unable to spawn command, returning to DTIVIEW


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW> [1mSPAWN[0m [1mDIRECTORY[0m [1mLSL$DTI:*.DTI<CR>[0m

  Directory DUA3:[LSL.DTI]

  TEST1.DTI;1              8/8       18-AUG-1987 07:56  [LSL,DAVEC]
  TEST2.DTI;1              7/8       18-AUG-1987 17:17  [LSL,DAVEC]
  TEST2.DTI;2              7/8       18-AUG-1987 17:34  [LSL,DAVEC]

  Total of 3 files, 22/24 blocks.

  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-137
  SRI command                                                          5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSRI[0m

          Reads a SRI (Symbol Representation IFF) file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mSRI[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The file  specification  for  the  SRI  file.   Any  part  of  the  file
          specification   not   supplied   will   be   taken   from   the  default
          'LSL$FRT:SRI.SRI', although if no file-spec is  supplied,  you  will  be
          asked to supply one in response to the prompt [1mInput[0m [1mSRI[0m [1mfilename>[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  This command reads the specified Symbol Representation IFF file.
  It is only appropriate to the overlay of vector data or plotting of symbols on a
  terrain view.

  The SRI determines how any IFF symbol  or  symbol-string  features  will  appear
  graphically, when overlaid on a terrain view using the command OVERLAY.

  The SRI file is optional, and need only be provided if  the  IFF  file  contains
  features that are to be symbolically represented.

  [1mThe[0m [1mcommand[0m [1mis[0m [1monly[0m [1mvalid[0m [1mif[0m [1mthe[0m [1mENABLE[0m [1mOVERLAY[0m [1mor[0m [1mthe[0m [1mENABLE[0m [1mSYMBOLS[0m  [1mhas[0m  [1mbeen[0m
  [1mpreviously[0m [1mgiven.[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SRI command:

  *** ERROR *** Specifying command SRI
  Overlay or symbols options are not enabled

  *** ERROR *** Specifying command SRI
  Input SRI filename is missing


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSRI[0m [1mDTIVIEW.SRI[0m [1m<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-138
  SYMBOL CLEAR command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSYMBOL[0m [1mCLEAR[0m

          Clears a symbol or symbols from a graphics screen.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mSYMBOL[0m [1mCLEAR[0m [1mALL[0m

  [1mor[0m

  [1mFORMAT:[0m         [1mSYMBOL[0m [1mCLEAR[0m [1msymbol_number[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  symbol_number

          The symbol_number parameter is the number assigned to  the  symbol.   An
          integer  number is required.  The valid range for the integer is between
          1 and 15.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SYMBOL CLEAR command is used to clear a  symbol  or  all  symbols  from  the
  graphics  screen.   The  symbols are cleared independently of any perspective or
  isometric terrain view.

  [1mThe[0m [1mcommand[0m [1mis[0m [1monly[0m [1mvalid[0m [1mif[0m [1mthe[0m [1mENABLE[0m  [1mSYMBOLS[0m  [1mcommand[0m  [1mhas[0m  [1mbeen[0m  [1mpreviously[0m
  [1mgiven.[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages  are  specific  to  the  SYMBOL  and  SYMBOL  CLEAR
  commands:

  *** ERROR *** Specifying command SYMBOL
  Symbol options are not enabled
  Use ENABLE SYMBOLS command

  *** ERROR *** Specifying command SYMBOL CLEAR
  Command requires symbol number

  *** ERROR *** Specifying command SYMBOL CLEAR
  Error reading integer number



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-139
  SYMBOL CLEAR command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSHOW[0m [1mSYMBOLS<CR>[0m

  Number of symbols currently defined : 9
  Number of symbols currently used : 4
  --------------------------------------------------------------|
  | Symbol no |   FC  |   X position  |   Y position  | Visible |
  --------------------------------------------------------------|
  |      1    |    1  |      270.00   |      270.00   |   YES   |
  |      2    |    2  |      570.00   |      570.00   |   YES   |
  |      3    |    3  |      870.00   |      870.00   |   YES   |
  |      4    |    4  |     1170.00   |     1170.00   |   YES   |
  --------------------------------------------------------------|


  DTIVIEW>[1mSYMBOL[0m [1mCLEAR[0m [1m1<CR>[0m

  DTIVIEW>[1mSHOW[0m [1mSYMBOLS<CR>[0m

  Number of symbols currently defined : 9
  Number of symbols currently used : 3
  --------------------------------------------------------------|
  | Symbol no |   FC  |   X position  |   Y position  | Visible |
  --------------------------------------------------------------|
  |      2    |    2  |      570.00   |      570.00   |   YES   |
  |      3    |    3  |      870.00   |      870.00   |   YES   |
  |      4    |    4  |     1170.00   |     1170.00   |   YES   |
  --------------------------------------------------------------|

  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-140
  SYMBOL FC command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSYMBOL[0m [1mFC[0m

          Defines a symbol and its feature code.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mSYMBOL[0m [1mFC[0m [1msymbol_number[0m [1mfeature_code[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  symbol_number

          The symbol_number is the number assigned  to  the  symbol.   An  integer
          number  is  required.   The valid range for the integer is between 1 and
          15.

  feature_code

          The feature code of the symbol being defined.  An integer value  in  the
          range  1  to 32767 is required.  This feature code must have an entry in
          the current FRT.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SYMBOL FC command is used to define a symbol and its feature  code.   Up  to
  fifteen symbols may be defined using the SYMBOL FC command.

  The SYMBOL FC command checks that the feature code specified is a  valid  symbol
  in the FRT file.  If the symbol is not valid an error message will be generated.
  The SYMBOL FC command must be given prior to issuing the SYMBOL POSITION command
  or before positioning the symbol using the table puck.

  [1mThe[0m [1mcommand[0m [1mis[0m [1monly[0m [1mvalid[0m [1mif[0m [1mthe[0m [1mENABLE[0m  [1mSYMBOLS[0m  [1mcommand[0m  [1mhas[0m  [1mbeen[0m  [1mpreviously[0m
  [1mgiven.[0m  [1mA[0m [1mFRT[0m [1mfile[0m [1mand[0m [1ma[0m [1mSRI[0m [1mfile,[0m [1mmust[0m [1mhave[0m [1mbeen[0m [1mpreviously[0m [1mdefined.[0m

  The SHOW SYMBOLS command should be used to display information about the symbols
  defined and in use.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SYMBOL and SYMBOL FC commands:
  *** ERROR *** Specifying command SYMBOL
  Command qualifiers are CLEAR, FC or POSITION

  *** ERROR *** Specifying command SYMBOL
  Symbol options are not enabled
  Use ENABLE SYMBOLS command

  *** ERROR *** Specifying command SYMBOL
  No FRT file has been specified
  Use FRT command

  *** ERROR *** Specifying command SYMBOL


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-141
  SYMBOL FC command                                                    5 June 1997


  No SRI file has been specified
  Use SRI command

  *** ERROR *** Specifying command SYMBOL FC
  Command requires 2 integer arguments 
  eg SYMBOL FC <symbol number> <feature code>

  *** ERROR *** Specifying command SYMBOL FC
  Feature code <feature_code> is not a point symbol


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSYMBOL[0m [1mFC[0m [1m1[0m [1m57<CR>[0m
  DTIVIEW>[1mSYMBOL[0m [1mPOSITION[0m [1m1[0m [1m10[0m [1m20<CR>[0m

  DTIVIEW>[1mSHOW[0m [1mSYMBOLS<CR>[0m

  Number of symbols currently defined : 1
  Number of symbols currently used : 1
  --------------------------------------------------------------|
  | Symbol no |   FC  |   X position  |   Y position  | Visible |
  --------------------------------------------------------------|
  |      1    |   57  |      10       |      20       |   YES   |
  --------------------------------------------------------------|

  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-142
  SYMBOL POSITION command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSYMBOL[0m [1mPOSITION[0m

          Defines the position of a symbol on the terrain model.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mSYMBOL[0m [1mPOSITION[0m [1msymbol_number[0m [1mx_coord[0m [1my_coord[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  symbol_number

          The symbol_number is the number assigned to the symbol using the  SYMBOL
          FC  command.   An  integer  number is required.  The valid range for the
          integer is between 1 and 15.

  x_coord y_coord

          The coordinates of the symbol position..

          The format of the coordinates is controlled by the UNITS command.

              UNITS MATRIX  -  Requires  2  integer  values  defining  the  symbol
              position in terms of column and row numbers

              UNITS METRES - Requires 2 real (floating point) values defining  the
              symbol  position as metre offsets from the SW corner of the DTM.  By
              default, or if the ENABLE  ABSOLUTE  command  has  been  given,  the
              values   are   absolute   coordinates   (eg.   U.K.   National  Grid
              coordinates); if the DISABLE ABSOLUTE command has been  given,  then
              the coordinates are offsets from the SW corner of the matrix.

              UNITS SECONDS - Requires 2 real (floating point) values defining the
              absolute position in seconds of arc.  The values are supplied in the
              order latitude followed by longitude.   A  negative  latitude  value
              indicates  a  position  in  the  Southern Hemisphere, and a negative
              longitude value a point to the west of Greenwich.

              UNITS LATLONG - Requires 2 values defining the absolute latitude and
              longitude position in the format DDD MM SS H where DDD is the number
              of degrees, MM is the  number  of  minutes,  SS  is  the  number  of
              seconds, and H is the hemisphere (N,S,E,W).  The values are supplied
              in the order latitude followed by longitude.

              UNITS PROJECTION Requires 2 real (floating  point)  values  defining
              the  position  in  projection  record  units.  By default, or if the
              ENABLE ABSOLUTE command has been  given,  the  values  are  absolute
              coordinates;  if  the  DISABLE ABSOLUTE command has been given, then
              the coordinates are offsets from the SW corner of the matrix.


          Note that in all cases, the input values are  adjusted  to  the  nearest
          column and row values.


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-143
  SYMBOL POSITION command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SYMBOL POSITION command is used to position a symbol on the  terrain  model.
  If  the  symbol  is  already shown on the terrain model, the command undraws the
  symbol at its current location and draws the symbol at the new location.  Should
  the  location  specified be not be visible to the observer, then the symbol will
  not be drawn at the new location.  Up to fifteen symbols can be positioned using
  the SYMBOL POSITION command.

  Note:  If the base of the symbol is not visible to the observer then no part  of
  the symbol is drawn irrespective of the height of the symbol.

  The size of the symbols is controlled by means of the size entry in the FRT  and
  the SET SYMBOL_SCALE command.

  If a digitising table is available, and a map has been  registered  to  the  DTM
  then  the  symbol  may  be positioned on the terrain model using the appropriate
  button on the table puck.  Button 1 defines the position of symbol 1,  button  2
  defines the position of symbol 2 and so on.  All fifteen symbols may be position
  in this way.  Button 0 allows all previously defined  and  used  symbols  to  be
  redisplayed.  This is particularly useful when a new view is generated.

  [1mThe[0m [1mcommand[0m [1mis[0m [1monly[0m [1mvalid[0m [1mif[0m [1mthe[0m [1mENABLE[0m  [1mSYMBOLS[0m  [1mcommand[0m  [1mhas[0m  [1mbeen[0m  [1mpreviously[0m
  [1mgiven.[0m  [1mA[0m [1mFRT[0m [1mfile[0m [1mand[0m [1ma[0m [1mSRI[0m [1mfile,[0m [1mmust[0m [1mhave[0m [1mbeen[0m [1mpreviously[0m [1mdefined.[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to  the  SYMBOL  and  SYMBOL  POSITION
  commands:

  *** ERROR *** Specifying command SYMBOL
  Symbol options are not enabled
  Use ENABLE SYMBOLS command

  *** ERROR *** Specifying command SYMBOL
  Symbol plotting not possible with a plane setting of 8

  *** ERROR *** Specifying command SYMBOL
  No FRT file has been specified
  Use FRT command

  *** ERROR *** Specifying command SYMBOL
  No SRI file has been specified
  Use SRI command

  *** ERROR *** Specifying command SYMBOL
  Command qualifiers are CLEAR, FC or POSITION

  *** ERROR *** Specifying command SYMBOL POSITION
  Command requires symbol number and x,y coordinate pair

  *** ERROR *** Specifying command SYMBOL POSITION
  Symbol number less than 1 or greater than 15



  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-144
  SYMBOL POSITION command                                              5 June 1997


  *** ERROR *** Specifying symbol position 
  Unable to use supplied LATLONG values


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mSHOW[0m [1mSYMBOLS<CR>[0m

  Number of symbols currently defined : 9
  Number of symbols currently used : 5
  --------------------------------------------------------------|
  | Symbol no |   FC  |   X position  |   Y position  | Visible |
  --------------------------------------------------------------|
  |      1    |   95  |      51       |      26       |   YES   |
  |      2    |  120  |      52       |      70       |   NO    |
  |      3    |   54  |      60       |      60       |   YES   |
  |      4    |   55  |      65       |      70       |   YES   |
  |      5    |   56  |      75       |      52       |   YES   |
  --------------------------------------------------------------|


  DTIVIEW>[1mSYMBOL[0m [1mPOSITION[0m [1m2[0m [1m53[0m [1m30<CR>[0m

  DTIVIEW>[1mSHOW[0m [1mSYMBOLS<CR>[0m

  Number of symbols currently defined : 10
  Number of symbols currently used : 5
  --------------------------------------------------------------|
  | Symbol no |   FC  |   X position  |   Y position  | Visible |
  --------------------------------------------------------------|
  |      1    |   95  |      51       |      26       |   YES   |
  |      2    |  120  |      53       |      30       |   NO    |
  |      3    |   54  |      60       |      60       |   YES   |
  |      4    |   55  |      65       |      70       |   YES   |
  |      5    |   56  |      75       |      52       |   YES   |
  --------------------------------------------------------------|

  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-145
  THETA command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mTHETA[0m

          Defines the amount of rotation applied to an isometric  view  in  the  y
          axis (ie.  the tilt of an isometric view).

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mTHETA[0m  [1mrotation[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  rotation

          The amount of rotation specified in degrees.  A  real  (floating  point)
          value in the range 0 to -90 degrees is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command THETA defines the degree of rotation in the y axis that  is  applied
  to  an isometric terrain view.  It therefore defines the tilt that is applied to
  the isometric view.

  The default value of THETA is -30.0 degrees.

  Use of the SHOW VIEW command is recommended to check on  the  y  rotation  value
  before a terrain view is generated.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the THETA command:

  *** ERROR *** Specifying command THETA
  Command requires 1 real argument

  *** ERROR *** Specifying command THETA
  Command requires a rotation value in the range 0 to -90 degrees


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mTHETA[0m [1m-20.0<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-146
  UNITS command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mUNITS[0m

          Specifies the units of measurement that will be used  when  defining  an
          area  of  interest  in  the  input DTM, or the start and end points of a
          profile.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mUNITS[0m [1munits[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  units

          A keyword defining the measurement units, chosen from:

          MATRIX     Matrix grid interval units, i.e rows and columns
          METRES     Metre values
          SECONDS    Latitude and Longitude in seconds of arc
          LATLONG    Latitude and Longitude in degrees, minutes and seconds
          PROJECTION Projection Record Units (eg. mms on the source document)


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The UNITS command defines the units  of  measurement  that  will  be  used  when
  defining  an  area  of interest in the input DTM by means of the WINDOW command,
  when defining the start and end of  a  profile  using  the  PROFILE  command  or
  defining a symbol position with the SYMBOL POSITION command.
  The command also controls in what format coordinate information is  output  when
  the SHOW FILEIN or SHOW SYMBOLS commands are given.
  The command should be  given  after  defining  the  input  DTI  file,  since  an
  appropriate default units of measurement is set up whenever an input DTI file is
  opened.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the UNITS command:

  *** ERROR *** Specifying command UNITS
  Command qualifiers are MATRIX, METRES, SECONDS, LATLONG or PROJECTION

  *** ERROR *** Specifying command UNITS
  Command qualifier is invalid for the input file


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW> [1mUNITS[0m [1mMATRIX<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-147
  WAIT command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mWAIT[0m

          The WAIT command causes processing  to  be  suspended  for  a  specified
          number of seconds.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mWAIT[0m [1mseconds[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  seconds

          The number of seconds for which processing is to be suspended.   A  real
          (floating point) value is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The WAIT command causes processing to be suspended for  a  specified  number  of
  seconds.   It is designed for use in software demonstration situations and is of
  no value in a production flowline.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the WAIT command:

  *** ERROR *** Specifying command WAIT
  Command requires a real argument


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW> [1mWAIT[0m [1m4.0<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-148
  WINDOW command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mWINDOW[0m

          Specifies an area of interest in the input DTM.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mWINDOW[0m  [1mxmin[0m [1mymin[0m [1mxmax[0m [1mymax[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  xmin ymin
          The  coordinates  of  the  bottom  left  hand  corner  of  the  defining
          rectangle.

  xmax ymax
          The coordinates of top right hand corner of the defining rectangle.

          The format of the command parameters is controlled by the UNITS command.

              UNITS MATRIX - Requires 4 integer values defining the  rectangle  in
              terms of column and row numbers

              UNITS METRES - Requires 4 real (floating point) values defining  the
              rectangle  as  metre  offsets  from  the  SW  corner of the DTM.  By
              default, or if the ENABLE  ABSOLUTE  command  has  been  given,  the
              values   are   absolute   coordinates   (eg.   U.K.   National  Grid
              coordinates); if the DISABLE ABSOLUTE command has been  given,  then
              the coordinates are offsets from the SW corner of the matrix.

              UNITS SECONDS - Requires 4 real (floating point) values defining the
              absolute  position  of  the rectangle in seconds of arc.  The values
              are supplied in the order latitude followed by longitude for the  SW
              corner,  and  latitude  followed  by longitude for the NE corner.  A
              negative  latitude  value  indicates  a  position  in  the  Southern
              Hemisphere,  and  a  negative longitude value a point to the west of
              Greenwich.

              UNITS LATLONG - Requires 4 values defining the absolute latitude and
              longitude  position of the rectangle in the format DDD MM SS H where
              DDD is the number of degrees, MM is the number of minutes, SS is the
              number  of  seconds,  and H is the hemisphere (N,S,E,W).  The values
              are supplied in the order latitude followed by longitude for the  SW
              corner, and latitude followed by longitude for the NE corner.

              UNITS PROJECTION Requires 4 real (floating  point)  values  defining
              the  rectangle  in  projection  record units.  By default, or if the
              ENABLE ABSOLUTE command has been  given,  the  values  are  absolute
              coordinates;  if  the  DISABLE ABSOLUTE command has been given, then
              the coordinates are offsets from the SW corner of the matrix.


          Note that in all cases, the input values are  adjusted  to  the  nearest
          column and row values.


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-149
  WINDOW command                                                       5 June 1997


          If the command is given from the table menu, or the  command  WINDOW  is
          given  without  any arguments, you will be asked to supply the values in
          response to explanatory prompts.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The WINDOW command is used to define a rectangular geographical area of interest
  in  the  DTM.   Only nodes that lie within this area are used when generating an
  isometric or perspective terrain view.
  The specified area of interest should lie within the geographical bounds of  the
  DTM.
  If the logical name LSL$MATRIX_DEFAULT_WINDOW is defined with a  value  of  "1",
  then  a  default  area  of  interest defined in matrix units of bottom left hand
  corner 1,1 and top right hand corner 200,200 is set when the file is opened.  If
  the  logical name is absent or has any other value, or if the input DTI file has
  fewer than 200 columns or 200 rows, then a  default  window  equivalent  to  the
  total matrix is set.

  If a digitising table is available, and a map has been registered  to  the  DTM,
  the coordinates of the window may be defined using any button on the table puck.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the WINDOW command:

  *** ERROR *** Specifying command WINDOW
  The input DTM must be specified before WINDOW

  *** ERROR *** Specifying command WINDOW using puck button
  No map set up has been performed

  *** ERROR *** Specifying command WINDOW
  Command requires 4 arguments

  *** ERROR *** Specifying command WINDOW
  NE corner values must exceed SW corner values

  *** ERROR *** Specifying command WINDOW
  Supplied values exceed matrix extents

  *** ERROR *** Specifying command WINDOW
  Latitude and longitude values supplied in wrong format


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mWINDOW[0m [1m1[0m [1m1[0m [1m200[0m [1m200<CR>[0m
  DTIVIEW>[1mUNITS[0m [1mLATLONG<CR>[0m
  DTIVIEW>[1mWINDOW[0m [1m42[0m [1m00[0m [1m00N[0m [1m3[0m [1m00[0m [1m00E[0m [1m42[0m [1m30[0m [1m00N[0m [1m2[0m [1m58[0m [1m40E[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-150
  ZLIMITS command                                                      5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mZLIMITS[0m

          Allocates the display colours only to height values that lie within  the
          specified height range.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mZLIMITS[0m [1mlower_height[0m [1mupper_height[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  lower_height

          The lower height limit.  An integer value is required.

  upper_height

          The upper height limit.  An integer value is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ZLIMITS command restricts the allocation of colours to profile vectors  that
  have  height values that lie within the specified height range.  Profile vectors
  that lie outside the height range are shown in white when the  terrain  view  is
  displayed  on  a  colour graphics device, or are given a null feature code value
  when written to an output IFF file.

  The supplied height values must lie within the minimum and maximum height values
  of the input DTM range.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the ZLIMITS command:

  *** ERROR *** Specifying command ZLIMITS
  Command requires 2 integer arguments

  *** ERROR *** Specifying command ZLIMITS
  Upper height value must exceed the lower height value


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mHEIGHT[0m [1mRANGE[0m [1m50[0m [1m250CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-151
  ZSCALE command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mZSCALE[0m

          Defines the vertical exaggeration that is applied  to  all  DTM  heights
          when generating a profile or, an isometric or perspective view.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mZSCALE[0m [1mscale_factor[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  scale_factor

          Scale_factor defines a z scaling factor  that  is  applied  to  all  DTM
          height values.  A real (floating point) value is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ZSCALE command defines a vertical exaggeration (z scale) factor.  This is  a
  value  by  which  all  DTM  height values are multiplied before a profile, or an
  isometric or perspective view is generated.

  By default no vertical exaggeration is applied ie.  a z scale  factor  of  1  is
  used.

  Use of the SHOW VIEW command is recommended  to  check  on  the  status  of  the
  parameter before an isometric or perspective view is generated.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the ZSCALE command:

  *** ERROR *** Specifying command EXAGGERATION
  Command requires 1 real argument


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mZSCALE[0m [1m2.5[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-152
  ZSTEP command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mZSTEP[0m

          Defines the  height  interval  used  when  displaying  an  isometric  or
          perspective view on a colour graphics device.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mZSTEP[0m [1mheight_interval[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  height_interval

          The height interval.  An integer value is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ZSTEP command defines the height interval value that is used when displaying
  an isometric or perspective view on a colour graphics device.

  A unique colour is allocated to each height band when the terrain view is drawn.
  For  example  if a ZSTEP interval of 100 is used, profile vectors generated from
  DTM nodes that fall within the range 1 to 100 will be shown in one colour, while
  profile  vectors  associated  with DTM nodes with values in the range 101 to 200
  will be shown in a different colour.  Using  this  command  it  is  possible  to
  produce  a  height  banded  or  layered  terrain view for validation or analysis
  purposes.

  The command may be used in conjunction with the ZLIMITS command.

  When the DTM is first specified a default ZSTEP value is calculated by  dividing
  the  height  range  in  the  file  by  the  default  number  of  display colours
  appropriate to the current planes  setting.   Changing  the  number  of  display
  colours using the COLOURS command will alter the default ZSTEP value.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the ZSTEP command:

  *** ERROR *** Specifying command ZSTEP
  Command requires 1 integer argument


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIVIEW>[1mZSTEP[0m [1m50<CR>[0m
  DTIVIEW>


  MATRIX REFERENCE (3.7): DTIVIEW - DTM 3-D Viewing Utility             Page 2-153
  MESSAGES (OTHER)                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to messages  which  are  generated  by  the  program  itself,  other
  messages  may  be produced by Laser-Scan libraries.  In particular, messages may
  be generated the DTI library, and by the Laser-Scan I/O library, LSLLIB.

  DTI library messages are introduced by '%DTI', and are documented in the  DTILIB
  Reference  Manual.   In all cases the messages indicate a fatal error, that will
  cause processing to halt.

  LSLLIB messages are introduced by '%LSLLIB' and are generally  self-explanatory.
  Such  messages  rarely indicate a fatal error, and are generated most frequently
  by entering a command in an invalid format in response to the DTIVIEW prompt.














                                     CHAPTER 3

                                   MODULE DTIEDIT





  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor                Page 3-1
                                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE    DTIEDIT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  MATRIX module DTI

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTIEDIT enables the interactive display and editing  of  a  Laser-Scan
            Digital Terrain Image (DTI) file, using a VT100 compatible display.  A
            number of non-interactive editing commands are also provided,  and  an
            option to output the matrix display to a line printer.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DTIEDIT

  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            DTIEDIT is an interactive, command driven program.  Command  input  is
            expected when the following prompt is issued:

                        [1mDTIEDIT>[0m

  [1m--------------------------------------------------------------------------------[0m


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor                Page 3-2
  PROMPTS                                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m

  [1m--------------------------------------------------------------------------------[0m
          [1mGENERAL[0m

          DTIEDIT enables the interactive display  and  editing  of  a  Laser-Scan
          Digital  Terrain  Image  (DTI)  file,  using a VT100 compatible display.
          Interaction with the displayed data is via the keyboard keypad keys.   A
          number  of  non-interactive editing commands are provided, and an option
          to output the matrix display to a line printer or disk file.

          The program will handle all types of digital terrain image headers,  and
          currently supported data formats (ie.  bit,byte,word,longword and real).


          The matrix is displayed as an image of up to 26 classes, with each class
          (ie.   band  of  values)  being  represented  by an alphabetic character
          (lowest A, highest Z).  The class interval may be varied using the  STEP
          command,  while  the  range of values displayed may be defined using the
          LIMITS command.

          The area  of  the  matrix  displayed,  and  available  for  editing,  is
          determined  using  the ORIGIN command.  It is possible to set the number
          of columns shown on the screen to either 80 or 132, and  to  scroll  the
          display in the y direction using the keypad.

          Two different modes of operation may  be  distinguished.   Command  line
          mode  is used to issue program commands such as FILEIN and ORIGIN, while
          keypad mode is used to interact with the displayed data.  The two  modes
          of operation are described below.

  [1m--------------------------------------------------------------------------------[0m
          [1mCOMMAND[0m [1mLINE[0m [1mMODE[0m

          Command line mode is signified by the prompt [1mDTIEDIT>[0m Commands may  only
          be  issued when this prompt is displayed on the screen.  On invoking the
          program you are immediately placed in command line mode.

          The commands that may be issued are documented in detail in the  section
          on DTIEDIT commands.  Commands are available to:

           o  set terminal characteristics (SET SCREEN, ENABLE BELL)

           o  define the Digital Terrain Image file (FILEIN)

           o  define an area of interest in the DTI file (ORIGIN)

           o  set matrix display parameters (LIMITS,  STEP,  RESET  LIMITS,  RESET
              STEP)

           o  edit the matrix (ENABLE EDIT, EDIT  AREA,  EDIT  LINE,  EDIT  POINT,
              SUBSTITUTE)


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor                Page 3-3
  DESCRIPTION                                                          5 June 1997


           o  produce a hardcopy representation of the matrix (PRINT)

           o  display the matrix and select keypad mode of operation (CHANGE)

           o  provide information on commands and display parameters  (HELP,  SHOW
              DISPLAY)


  [1m--------------------------------------------------------------------------------[0m
          [1mKEYPAD[0m [1mMODE[0m

          The command CHANGE is used to transfer control from command line mode to
          keypad mode.

          On giving the command, the DTI data is displayed  on  the  screen  as  a
          series  of  characters.  A different character is used for each separate
          value step.  Character [1mA[0m is used to represent a value at the  bottom  of
          the  range;  character  [1mZ[0m  to represent a value at the top of the range.
          The characters [1m+[0m and [1m-[0m are used to indicate a data value that is  either
          above or below the data display limits.  Matrix points with a value of 0
          are displayed using a space (ie.  as an absent character).

          Information on the current position of the screen cursor, and  the  data
          value at the matrix position, is shown on the bottom line of the screen.
          This information will change as the cursor is interactively moved around
          the matrix display.

          Following the display of the matrix on the screen, the keypad  keys  (on
          the  right of the keyboard) may be used to move the screen cursor around
          the display, and to edit the matrix data.


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor                Page 3-4
  DESCRIPTION                                                          5 June 1997


          The keypad keys have the following meanings:

                  +---------------------------------------------------+
                  | [1mPF1[0m        | [1mPF2[0m        | [1mPF3[0m        | [1mPF4[0m        |
                  |            |            |            |            |
                  |            |            |            |            |
                  |            |            |            |            |
                  | undefined  |  undefined |  undefined |  undefined |
                  |            |            |            |            |
                  |------------|------------|------------|------------|
                  | [1m7[0m          | [1m8[0m          | [1m9[0m          | [1m-[0m          |
                  |            |            |            |            |
                  |            |            |            |            |
                  | up & left  |     up     | up & right |    edit    |
                  |            |            |            |            |
                  |------------|------------|------------|------------|
                  | [1m4[0m          | [1m5[0m          | [1m6[0m          | [1m,[0m          |
                  |            |            |            |            |
                  |            |            |            | return to  |
                  |   left     | undefined  |   right    |  command   |
                  |            |            |            | line mode  |
                  |------------|------------|------------|------------|
                  | [1m1[0m          | [1m2[0m          | [1m3[0m          | [1mEnter[0m      |
                  |            |            |            |            |
                  |            |            |            |            |
                  |down & left |    down    |down & right|            |
                  |            |            |            |            |
                  |------------|------------|------------|            |
                  | [1m0[0m                       | [1m.[0m          | undefined  |
                  |                         |            |            |
                  |                         |   define   |            |
                  |        undefined        |    edit    |            |
                  |                         |  rectangle |            |
                  |_________________________|____________|____________|


          The keypad keys [1m1[0m [1m2[0m [1m3[0m [1m4[0m [1m6[0m [1m7[0m [1m8[0m [1m9[0m are  used  to  move  the  screen  cursor
          around  the  display.  The arrow keys to the left of the keypad may also
          be used for this purpose.

          Keypad key '[1m,[0m' is  used  to  return  to  command  line  mode.   <CTRL/Z>
          (pressing  the  Ctrl  and Z keys together) may also be used to return to
          the command line prompt.

          Keypad key '[1m.[0m' may be used to select  a  rectangle  in  the  matrix  for
          editing.   The key selects the bottom left hand corner of the area to be
          edited.  Moving the cursor up or to the right of  this  point  causes  a
          rectangle  to  be  pulled  out in reverse video.  If the edit key is now
          pressed (see below), all matrix points displayed in reverse video may be
          changed to a new value.

          Keypad key '[1m-[0m' is used to edit a single matrix data value, or  all  data
          values  in a rectangular area (if an area has been defined using the '[1m.[0m'
          key).  On pressing the key you will be prompted for a new data value  on
          the bottom of the screen.


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor                Page 3-5
  DESCRIPTION                                                          5 June 1997


          [1mEditing[0m [1mof[0m [1mthe[0m [1mmatrix[0m [1mvalues[0m [1mis[0m [1monly[0m [1mpossible[0m [1mif[0m [1mthe[0m [1mENABLE[0m [1mEDIT[0m [1mcommand[0m
          [1mhas[0m  [1mbeen[0m  [1mpreviously[0m  [1mgiven[0m  [1min[0m  [1mcommand[0m  [1mline[0m  [1mmode.[0m  An indication of
          whether it is possible to edit the matrix values, is shown on the bottom
          line  of the screen.  If an attempt to edit a matrix point using the '[1m-[0m'
          key is made when editing is not enabled, an error message is generated.

          If the '[1m-[0m' key is pressed, you will be prompted for a matrix value.  The
          value   is   specified   either   using   the   numeric   [1mkeyboard[0m  keys
          '[1m+-1234567890.[0m' or by means of the alpha keys [1mA[0m  [1m-[0m  [1mZ[0m.   In  the  latter
          case, the character will be translated into a number defining the top of
          the band.  The value is written to the matrix by means of  the  [1m<RETURN>[0m
          key.

          In most situations, it is advisable to define  a  new  value  using  the
          numeric keys.

          The number supplied must be valid for the type of data held in  the  DTI
          file, and is validated against the following ranges:

           o  BIT    The number may have a value of 0 or 1.

           o  BYTE   The byte value is treated as unsigned.  The number may have a
              value in the range 0 through 255.

           o  WORD   The number may have a value  in  the  range  -32,768  through
              32,767.

           o  LONG   The number may have  a  value  in  the  range  -2,147,483,648
              through 2,147,483,647.

           o  REAL   The number may have a value in the range .29 times 10  raised
              to the power of -38 through 1.7 times 10 raised to the power of 38.


          The [1m<DEL>[0m key causes the last digit of a value to be deleted, or if  the
          value  has been generated using an alpha key, the value to be cancelled.
          <CTRL/U> or <CTRL/X> have the same effect of cancelling a value.

          To leave a matrix value unchanged, and return  control  to  the  keypad,
          simply press [1m<RETURN>[0m without entering a value.



  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor                Page 3-6
                                                                       5 June 1997







                                 [1mDTIEDIT[0m [1mCOMMANDS[0m



  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor                Page 3-7
  @ command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1m@[0m

          Take command input from the specified file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1m@[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The file to be opened and used for command input.

          Any parts of the file-spec not supplied will be taken from  the  default
          specification 'SYS$DISK:[].COM;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DTIEDIT offers the facility of command input from an indirect command file.  The
  '@' character preceding a file-spec will cause DTIEDIT to open and read commands
  from the specified file until:

       1.  a  RETURN  command  is  detected  and  command  input  is  returned  to
           SYS$COMMAND.

       2.  the end of file is  detected.   This  provokes  an  error  message  and
           command input is returned to SYS$COMMAND.


  Nested command files are not supported (i.e. a command file  containing  an  '@'
  command),  although  sequential  '@'  commands  are  supported  when  read  from
  SYS$COMMAND.

  As an aid to batch log interpretation DTIEDIT will echo all commands  read  from
  an indirect command file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the @ command:

  *** ERROR *** Specifying command @
  Command file specification is missing

  *** ERROR *** Specifying command @
  Unable to open indirect command file 'file-spec'

  *** ERROR *** Specifying command @
  Nested command files not supported



  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor                Page 3-8
  @ command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT> [1m@DTIEDIT_EDITS<CR>[0m
  DTIEDIT> DISABLE BELL
  DTIEDIT> ENABLE EDIT
  DTIEDIT> RETURN
  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor                Page 3-9
  ! command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1m![0m

          Treat all text to the right of the '!' as a comment.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1m![0m [1m[comment[0m [1mtext][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  comment text

          text that is to be treated as a comment and which will be excluded  from
          command interpretation.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  An exclamation mark is the standard MATRIX package comment delimiter.  All  text
  (and  numbers)  which  lie  to  the  right  of a '!' character are excluded from
  command interpretation.  Comments are useful for annotating  command  procedures
  used in batch processing etc.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT> [1mFILEIN[0m [1mTEST[0m [1m!open[0m [1mthe[0m [1mfile<CR>[0m
  DTIEDIT> [1m!Define[0m [1mthe[0m [1mscreen[0m [1mwidth<CR>[0m
  DTIEDIT> [1mSET[0m [1mSCREEN[0m [1m132<CR>[0m
  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-10
  CHANGE command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mCHANGE[0m

          The CHANGE command is used to transfer control from command line mode to
          keypad mode.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mCHANGE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The CHANGE command transfers control from command line mode to keypad mode.
  On giving the command, the DTI data is displayed on the screen as  a  series  of
  characters.  Each character represents a separate value step.  The step interval
  is defined when the DTI file is first opened, or may be specifically  set  using
  the  STEP  command.   The  LIMITS command controls the range of data values that
  will be shown.
  The ORIGIN command determines which area of the matrix will be  displayed.   The
  column  and  row  specified  with  the  ORIGIN command will appear in the bottom
  lefthand corner of the screen.

  Once the matrix has been displayed, it is possible to move the cursor around the
  screen  using  the  appropriate keypad commands.  If the command ENABLE EDIT has
  been previously specified, it is also possible to  interactively  edit  the  DTI
  data values.  The introductory section provides full details on available keypad
  commands.

  Control may be transferred back to command line mode using the keypad key ',' or
  by using <CTRL/Z> (pressing the Ctrl and Z keys together).

  [1mNote[0m [1mthat[0m [1mthe[0m [1mCHANGE[0m [1mcommand[0m [1mcannot[0m [1mbe[0m [1mgiven[0m [1mfrom[0m [1man[0m [1mindirect[0m [1mcommand[0m [1mfile.[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the CHANGE command:

  *** ERROR *** Specifying command CHANGE
  No DTI file has been defined

  *** ERROR *** Specifying command CHANGE
  Command not valid when reading from a command file

  *** ERROR *** Specifying command CHANGE
  Terminal is not a VT100 compatible display



  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-11
  CHANGE command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mCHANGE<CR>[0m


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-12
  DISABLE BELL command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mBELL[0m

          Cancels a previous ENABLE BELL command

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mDISABLE[0m [1mBELL[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE BELL turns off the audible  warning  that  is  normally  given  when  an
  attempt  is made to move the screen cursor beyond the lefthand or righthand edge
  of the screen, or outside the bounds of the DTI data area.

  The current status of the option may be examined using the SHOW DISPLAY command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Command qualifiers are BELL or EDIT


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mDISABLE[0m [1mBELL<CR>[0m
  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-13
  DISABLE EDIT command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mEDIT[0m

          Disables the editing of DTI data values.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mDISABLE[0m [1mEDIT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE EDIT is used to disable the editing of DTI  data  values.   If  EDIT  is
  disabled,  any attempt to change a data value using a command line EDIT command,
  or using the keypad key '-' in keypad mode, will be disallowed, and  will  cause
  the error message [1mEdit[0m [1moption[0m [1mis[0m [1mnot[0m [1menabled[0m to be displayed.

  By default editing of the matrix is disabled, and if required  must  be  enabled
  using the ENABLE EDIT command.

  The current status of the option may be examined using the SHOW DISPLAY command.
  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Command qualifiers are BELL or EDIT


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mDISABLE[0m [1mEDIT<CR>[0m
  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-14
  EDIT AREA command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mEDIT[0m [1mAREA[0m

          Changes the value of all matrix  points  in  a  rectangular  area  to  a
          specified value.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mEDIT[0m [1mAREA[0m [1mxmin[0m [1mymin[0m [1mxmax[0m [1mymax[0m [1mdata_value[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  xmin ymin
          The coordinates of the bottom left hand corner  of  the  rectangle.   An
          integer column and row value is required.

  xmax ymax
          The coordinates of top right hand corner of the rectangle.   An  integer
          column and row value is required.

  data_value
          The value to which the matrix points are to be  changed.   Depending  on
          the  type of data held in the DTI file, an integer or real data value is
          required.  The data type also determines the valid  range  of  the  data
          value.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The EDIT AREA command is used to change the value of  all  matrix  points  in  a
  rectangular area to a specified value.

  The coordinates of the defining rectangle must lie within the bounds of the  DTI
  file data area.

  Note, that as with all DTI edit commands, the edit is performed immediately  and
  'in situ' on the current DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the EDIT and EDIT AREA commands:

  *** ERROR *** Specifying command EDIT
  Command qualifiers are AREA, LINE, or POINT

  *** ERROR *** Specifying command EDIT AREA
  No DTI file has been defined

  *** ERROR *** Specifying command EDIT AREA
  The coordinates of the rectangle are out of range

  *** ERROR *** Specifying command EDIT AREA
  The top righthand point must exceed the bottom lefthand point

  *** ERROR *** Specifying command EDIT AREA


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-15
  EDIT AREA command                                                    5 June 1997


  The data value is missing

  *** ERROR *** Specifying command EDIT AREA
  The data value is invalid for the DTI data type

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mEDIT[0m [1mAREA[0m [1m1[0m [1m1[0m [1m34[0m [1m45[0m [1m345<CR>[0m
  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-16
  EDIT LINE command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mEDIT[0m [1mLINE[0m

          Changes the value of all matrix points  along  the  defined  line  to  a
          specified value.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mEDIT[0m [1mLINE[0m [1mxstart[0m [1mystart[0m [1mxend[0m [1myend[0m [1mdata_value[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  xstart ystart
          The coordinates of the line start point.   An  integer  column  and  row
          value is required.

  xend yend
          The coordinates of the line end point.  An integer column and row  value
          is required.

  data_value
          The value to which the matrix points are to be  changed.   Depending  on
          the  type of data held in the DTI file, an integer or real data value is
          required.  The data type also determines the valid  range  of  the  data
          value.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The EDIT LINE command is used to change the value of all matrix points along the
  defined line to a specified value.

  The start and end points of the line must lie within the bounds of the DTI  file
  data area.

  Note, that as with all DTI edit commands, the edit is performed immediately  and
  'in situ' on the current DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the EDIT and EDIT LINE commands:

  *** ERROR *** Specifying command EDIT
  Command qualifiers are AREA, LINE, or POINT

  *** ERROR *** Specifying command EDIT LINE
  No DTI file has been defined

  *** ERROR *** Specifying command EDIT LINE
  The coordinates of the line are out of range

  *** ERROR *** Specifying command EDIT LINE
  The data value is missing

  *** ERROR *** Specifying command EDIT LINE


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-17
  EDIT LINE command                                                    5 June 1997


  The data value is invalid for the DTI data type

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mEDIT[0m [1mLINE[0m [1m12[0m [1m24[0m [1m34[0m [1m45[0m [1m345<CR>[0m
  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-18
  EDIT POINT command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mEDIT[0m [1mPOINT[0m

          Changes a single matrix point to a specified value.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mEDIT[0m [1mPOINT[0m [1mx_coord[0m [1my_coord[0m [1mdata_value[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  x_coord y_coord
          The coordinates of the matrix point.  An integer column and row value is
          required.

  data_value
          The value to which the matrix point is to be changed.  Depending on  the
          type  of  data  held  in  the DTI file, an integer or real data value is
          required.  The data type also determines the valid  range  of  the  data
          value.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The EDIT POINT command is used to change the value of a single matrix point to a
  specified value.

  The point must lie within the bounds of the DTI file data area.

  Note, that as with all DTI edit commands, the edit is performed immediately  and
  'in situ' on the current DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the EDIT and EDIT POINT commands:

  *** ERROR *** Specifying command EDIT
  Command qualifiers are AREA, LINE, or POINT

  *** ERROR *** Specifying command EDIT POINT
  No DTI file has been defined

  *** ERROR *** Specifying command EDIT POINT
  The coordinates of the point are out of range

  *** ERROR *** Specifying command EDIT POINT
  The data value is missing

  *** ERROR *** Specifying command EDIT POINT
  The data value is invalid for the DTI data type



  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-19
  EDIT POINT command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mEDIT[0m [1mPOINT[0m [1m34[0m [1m45[0m [1m345<CR>[0m
  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-20
  ENABLE BELL command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mBELL[0m

          Enables the output of an audible warning when an attempt is made to move
          the cursor outside the display area.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mENABLE[0m [1mBELL[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE BELL selects the output of an audible warning when an attempt is made  to
  move  the  screen cursor beyond the lefthand or righthand edge of the screen, or
  outside the bounds of the DTI data area.
  An explanatory warning message is displayed on the bottom line of the screen.

  By default the option is selected, and may be disabled using  the  DISABLE  BELL
  command.
  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are BELL or EDIT


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mENABLE[0m [1mBELL<CR>[0m
  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-21
  ENABLE EDIT command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mEDIT[0m

          Enables the option to edit matrix values using  the  EDIT  commands,  or
          interactively when in change mode.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mENABLE[0m [1mEDIT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE EDIT selects the option of editing matrix values.  By default editing  of
  the  matrix  is  disabled.   The  ENABLE EDIT command must therefore be given in
  order to use the various command line EDIT commands, or in order to edit  values
  when in keypad mode.
  If an attempt to edit the matrix is made  before  the  ENABLE  EDIT  command  is
  given, an error message is generated.

  The current status of the option may be examined using the SHOW DISPLAY command.
  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE
  Command qualifiers are BELL or EDIT


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mENABLE[0m [1mEDIT<CR>[0m
  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-22
  EXIT command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mEXIT[0m

          Terminates the program.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mEXIT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The EXIT command is used to exit from DTIEDIT.
  <CTRL/Z> (pressing the Ctrl and Z keys together) may also be used to  exit  from
  the program.

  If the values in the DTI file have been edited such that the minimum and maximum
  value  range  has  been  changed, the range values in the header of the DTI file
  will be updated before the file is closed.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the EXIT command:

  Updating minimum and maximum range values -  Please wait.


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mEXIT<CR>[0m

  $


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-23
  FILEIN command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mFILEIN[0m

          Selects and opens the input DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mFILEIN[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The specification for the input DTI file.
          Any part of the file  specification  not  supplied  is  taken  from  the
          default 'LSL$DTI:DTI.DTI'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The FILEIN command opens and maps into memory a DTI file.
  Details derived from the header of the file are displayed  on  the  terminal  to
  confirm that the file has been successfully opened.

  On reading a file, the values associated with the  ORIGIN  command  are  set  to
  column  1,  row  1,  and the data value range in the file is used to calculate a
  default display step interval.  The values associated with  the  LIMITS  command
  are set to the minimum and maximum data values contained in the header.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the FILEIN command:

  *** ERROR *** Specifying command FILEIN
  Input DTI filename is missing


  [1m--------------------------------------------------------------------------------[0m
  [1mExample:[0m

  DTIEDIT>[1mFILEIN[0m [1mTEST<CR>[0m

  LSL$DTI:TEST.DTI        
  Header: LSLA     Data: WORD

  Units are DTI Matrix Values

  Matrix Coverage    SW:    1     1    NE:   301   251
  Matrix Interval     E:    1           N:     1
  Value Range          :      0   to    851

  DTIEDIT>



  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-24
  HELP command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mHELP[0m

          Give help on a subject

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mHELP[0m [1mcommand[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  command

          The command on which help is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  A brief description is given  of  the  function  and  format  of  the  specified
  command.

  The information is extracted  from  the  DTIEDIT  section  of  the  MATRIX  help
  library, LSL$HELP:MATRIX.HLB.

  If no parameter is specified, a list of all the commands available in DTIEDIT is
  displayed.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  Where required, warning messages are output via the VMS LBR$OUTPUT_HELP utility.
  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mHELP[0m [1mFILEIN<CR>[0m

  DTIEDIT

       FILEIN

       The FILEIN command opens and maps into memory a DTI file.
       Details derived form the header of the file are displayed on the 
       terminal to confirm that the file has been successfully opened.

  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-25
  LIMITS command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mLIMITS[0m

          Defines lower and upper data display limits.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mLIMITS[0m [1mlower_value[0m [1mupper_value[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  lower_value upper_value
          The lower and upper data value limits.  Two integer values are required.
          Both values must lie within the file minimum and maximum data values.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The LIMITS command is used to define lower and upper data display limits.

  When the CHANGE command is given, any data value that lies below the lower limit
  is  shown  using  the character '-', while a data value above the upper limit is
  shown as the character '+'.

  By default the LIMITS values are set to the minimum and maximum data  values  in
  the  DTI  file,  when  the file is opened.  The LIMITS command is used to change
  these defaults, while the RESET LIMITS command may  be  used  to  reset  to  the
  default values.

  Note that if the data display range specified  with  the  LIMITS  command,  when
  taken  in  conjunction with the current STEP value, results in the generation of
  more than 26 step intervals, the STEP value is adjusted appropriately.

  After giving the LIMITS command, details of the current limits and step  values,
  are shown on the terminal.
  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the LIMITS command:

  *** ERROR *** Specifying command LIMITS
  Command requires 2 integer arguments

  *** ERROR *** Specifying command LIMITS
  Upper value must exceed lower value

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mLIMITS[0m [1m120[0m [1m550<CR>[0m

  Display Origin      :     1      1

  Data Display Limits :   120    550
  Data Display Step   :    50



  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-26
  LIMITS command                                                       5 June 1997


  Screen Width        :    80
  Warning Bell        :   Off

  Edit of Data Values :   Off

  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-27
  ORIGIN command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mORIGIN[0m

          Defines the display origin.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mORIGIN[0m [1mx_coord[0m [1my_coord[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  x_coord y_coord
          The coordinates of the matrix point that will be displayed at the bottom
          lefthand  corner  of  the  screen.   An  integer column and row value is
          required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ORIGIN command is used to define the origin of the display.  The  coordinate
  values  supplied  with  the  command  determine which area of the matrix will be
  displayed on the screen.  The specified matrix point will appear at  the  bottom
  lefthand  corner  of  the  screen  when the matrix is displayed using the CHANGE
  command.
  The screen cursor will automatically be positioned on this point.

  The coordinates supplied with the command must lie within the bounds of the  DTI
  file.

  The number of columns of data displayed is dependent on the size of  the  matrix
  and the current screen width defined using the SET SCREEN command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the ORIGIN command:

  *** ERROR *** Specifying command ORIGIN
  Command requires 2 integer arguments

  *** ERROR *** Specifying command ORIGIN
  No DTI file has been defined

  *** ERROR *** Specifying command ORIGIN
  The coordinates of the origin are out of range

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mORIGIN[0m [1m120[0m [1m50<CR>[0m
  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-28
  PRINT command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mPRINT[0m

          Outputs an area of the matrix in a classified form, to a printer or to a
          specified file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mPRINT[0m [1mnumber_columns[0m [1mnumber_rows[0m [1m[file-spec][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  number_columns
          The number of columns to output.  An integer value is required.

  number_rows
          The number of rows to output.  An integer value is required.

  file_spec
          An optional parameter specifying the  output  list  file.   If  no  file
          specification is supplied, a temporary file DTIEDIT.DAT will be created,
          which will be spooled to SYS$PRINT, and deleted once listed.   Any  file
          specification supplied will be parsed against the default DTIEDIT.DAT.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The PRINT command is used to output the whole or part of the DTI file, either to
  a  disk  file,  or to a printer on SYS$PRINT.  The data values are output in the
  same classified form as they would appear on the screen if the CHANGE command is
  given.

  The area output is determined by the current ORIGIN values, and by the parameter
  arguments.

  The number of columns output may not exceed 132.  The number of columns will  be
  truncated  if necessary.  There is no restriction on the number of rows that may
  be output.

  Current LIMITS and STEP values are used to determine the representation  of  the
  matrix values.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the PRINT command:

  *** ERROR *** Specifying command PRINT
  No DTI file has been defined

  *** ERROR *** Specifying command PRINT
  Number of columns exceeds 132
  Number of columns will be truncated

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-29
  PRINT command                                                        5 June 1997


  DTIEDIT>[1mPRINT[0m [1m100[0m [1m100<CR>[0m
  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-30
  RESET LIMITS command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mRESET[0m [1mLIMITS[0m

          Sets the lower and upper data display limits to the minimum and  maximum
          data values in the DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mRESET[0m [1mLIMITS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command RESET LIMITS is used to set  the  lower  and  upper  matrix  display
  limits  to  the minimum and maximum data values in the DTI file.  The command is
  generally used to return to the default values, when the lower and upper display
  values  have  been previously set using the LIMITS command, or to set the limits
  to be equal to new DTI minimum and maximum values.

  Note that if the data display range when taken in conjunction with  the  current
  STEP  value,  results in the generation of more than 26 step intervals, the STEP
  value is adjusted appropriately.

  After giving the RESET LIMITS command, details of the current  limits  and  step
  values, are shown on the terminal.
  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the RESET and RESET LIMITS commands:

  *** ERROR *** Specifying command RESET
  Command qualifiers are LIMITS, MINMAX or STEP

  *** ERROR *** Specifying command RESET LIMITS
  No DTI file has been defined



  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-31
  RESET LIMITS command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mRESET[0m [1mLIMITS<CR>[0m

  Display Origin      :     1      1

  Data Display Limits :   120    550
  Data Display Step   :    50

  Screen Width        :    80
  Warning Bell        :   Off

  Edit of Data Values :   Off


  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-32
  RESET MINMAX command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mRESET[0m [1mMINMAX[0m

          Determines the minimum and maximum data values in the DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mRESET[0m [1mMINMAX[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command RESET MINMAX is used to  determine  the  minimum  and  maximum  data
  values  in  the  DTI  file.   The  command  is generally used to recalculate the
  minimum and maximum range  following  a  series  of  edit  commands,  and  often
  preceding  a  RESET  LIMITS command.  The newly determined values are written to
  the header of the DTI file.

  Note, that if any edits are performed on the  DTI  file,  and  no  RESET  MINMAX
  command  is  given before the EXIT command is used, the minimum and maximum data
  values will be calculated before closing the DTI file.

  The message [1mDetermining[0m [1mminimum[0m [1mand[0m [1mmaximum[0m [1mvalues[0m [1m-[0m [1mplease[0m [1mwait[0m indicates  that
  the data values are being calculated.

  After giving the RESET MINMAX command, details from the DTI header are output to
  the terminal.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the RESET and RESET MINMAX commands:

  *** ERROR *** Specifying command RESET
  Command qualifiers are LIMITS, MINMAX or STEP

  *** ERROR *** Specifying command RESET MINMAX
  No DTI file has been defined

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mRESET[0m [1mMINMAX<CR>[0m

  LSL$DTI:TEST.DTI        
  Header: LSLA     Data: WORD

  Units are DTI Matrix Values

  Matrix Coverage    SW:    1     1    NE:   301   251
  Matrix Window      SW:    1     1    NE:   200   200
  Matrix Interval     E:    1           N:     1
  Value Range          :      0   to    851



  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-33
  RESET MINMAX command                                                 5 June 1997


  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-34
  RESET STEP command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mRESET[0m [1mSTEP[0m

          Calculates a default display step interval from the  current  lower  and
          upper limit values.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mRESET[0m [1mSTEP[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command RESET STEP is used to calculate a  default  display  step  interval.
  The  step  interval  is  calculated  using the the current lower and upper limit
  values.  The procedure involves divided the current limit range by 26.

  After giving the RESET STEP command, details of  the  current  limits  and  step
  values, are shown on the terminal.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the RESET and RESET STEP commands:

  *** ERROR *** Specifying command RESET
  Command qualifiers are LIMITS, MINMAX or STEP

  *** ERROR *** Specifying command RESET STEP
  No DTI file has been defined

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mRESET[0m [1mSTEP<CR>[0m

  Display Origin      :     1      1

  Data Display Limits :   120    550
  Data Display Step   :    50

  Screen Width        :    80
  Warning Bell        :   Off

  Edit of Data Values :   Off


  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-35
  RETURN command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mRETURN[0m

          Restores command input from an indirect command file to SYS$COMMAND.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mRETURN[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Restores command input from an indirect command file to SYS$COMMAND.

  A typical application is to use an indirect command file to set up a  number  of
  run time defaults for a flowline, and then return to input from the terminal for
  the run specific commands.  To do this RETURN must be the last  command  in  the
  indirect command file.

  A RETURN command is only valid if present in a command file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the RETURN command:

  *** ERROR *** Specifying command RETURN
  The RETURN command is only valid in a command file

  Returning to terminal input


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT> [1m@SETUP<CR>[0m
  DTIEDIT> ENABLE EDIT
  DTIEDIT> DISABLE BELL
  DTIEDIT> RETURN
  Returning to terminal input
  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-36
  SET SCREEN command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSET[0m [1mSCREEN[0m

          The SET SCREEN command sets the width of the terminal screen.   A  width
          of 80 or 132 characters may be selected.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mSET[0m [1mSCREEN[0m [1mwidth[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  width

          The screen width.  An integer value of 80 or 132 is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SET SCREEN command is to change the the width of  the  terminal  screen.   A
  width of 80 or 132 characters may be selected.  The width value is used when the
  matrix values are displayed on the screen using the CHANGE command.

  The current screen width may be examined using the SHOW DISPLAY command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SET and SET SCREEN commands:

  *** ERROR *** Specifying command SET
  Command qualifier is SCREEN

  *** ERROR *** Specifying command SET SCREEN
  Command requires an integer argument

  *** ERROR *** Specifying command SET SCREEN
  Valid screen widths are 80 or 132


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT> [1mSET[0m [1mSCREEN[0m [1m132<CR>[0m
  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-37
  SHOW DISPLAY command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mDISPLAY[0m

          Shows information on the parameters that control how the DTI data values
          will be displayed on the screen when the CHANGE command is given.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mDISPLAY[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command SHOW DISPLAY may be used  to  examine  the  current  status  of  the
  parameters that control how the DTI data values will be displayed on the screen.

  Information on the ORIGIN, LIMITS, and STEP, along with details  of  the  screen
  width is given.  The status of the BELL and EDIT options are shown.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the command SHOW:

  *** ERROR *** Specifying command SHOW
  Command qualifiers are DISPLAY or FILEIN


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mSHOW[0m [1mDISPLAY<CR>[0m

  Display Origin      :     1      1

  Data Display Limits :   120    550
  Data Display Step   :    50

  Screen Width        :    80
  Warning Bell        :   Off

  Edit of Data Values :   Off


  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-38
  SHOW FILEIN command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mFILEIN[0m

          Displays information extracted from the header of the input DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mFILEIN[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Details extracted from the header of the DTI file are displayed on the terminal.

  The header values are shown in the current units of measurement.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the commands SHOW and SHOW FILEIN:

  *** ERROR *** Specifying command SHOW
  Command qualifiers are DISPLAY, FILEIN

  *** WARNING *** The input DTI file is undefined


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mSHOW[0m [1mFILEIN<CR>[0m

  LSL$DTI:TEST.DTI        
  Header: LSLA     Data: WORD

  Units are DTI Matrix Values

  Matrix Coverage    SW:    1     1    NE:   301   251
  Matrix Window      SW:    1     1    NE:   200   200
  Matrix Interval     E:    1           N:     1
  Value Range          :      0   to    851

  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-39
  SPAWN command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSPAWN[0m

          The SPAWN command  enables  a  subprocess  to  be  created  from  within
          DTIEDIT.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mSPAWN[0m [1mcommand-line[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  command-line

          Specifies a DCL command string to be executed as if typed in response to
          a '$' prompt.  When the command completes, the subprocess terminates and
          control is returned to DTIEDIT.   The  command  line  cannot  exceed  80
          characters.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SPAWN command enables you to create a subprocess while within DTIEDIT.  When
  the subprocess terminates, control is returned to DTIEDIT.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SPAWN command:

  *** ERROR *** Specifying command SPAWN 
  Command requires a valid DCL command line

  *** ERROR *** Specifying command SPAWN 
  DCL command line cannot exceed 80 characters

  *** ERROR *** Unable to spawn command, returning to DTIEDIT


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT> [1mSPAWN[0m [1mDIRECTORY[0m [1mLSL$DTI:*.DTI<CR>[0m

  Directory DUA3:[LSL.DTI]

  TEST1.DTI;1              8/8       18-AUG-1987 07:56  [LSL,DAVEC]
  TEST2.DTI;1              7/8       18-AUG-1987 17:17  [LSL,DAVEC]
  TEST2.DTI;2              7/8       18-AUG-1987 17:34  [LSL,DAVEC]

  Total of 3 files, 22/24 blocks.

  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-40
  STEP command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSTEP[0m

          Defines the display step interval.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSTEP[0m [1mstep_interval[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  step_interval
          The display step interval.  A positive integer value is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command STEP is used to set  a  display  step  interval,  and  therefore  to
  classify  the  data  into  a series of value ranges.  When the CHANGE command is
  given a different letter will be used by used to display each step range.

  A default step interval is calculated when the DTI file is first opened, or when
  the  RESET  STEP command is given, using the lower and upper limit values.  This
  default may be changed using the STEP command.

  Note that if the step interval value, taken  in  conjunction  with  the  current
  lower  and upper display limit values, results in the generation of more than 26
  step intervals, the upper limits value is adjusted appropriately.

  After giving the STEP command, details of the current limits  and  step  values,
  are shown on the terminal.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the STEP command:

  *** ERROR *** Specifying command STEP
  Command requires an integer argument

  *** ERROR *** Specifying command STEP
  Command requires a positive integer argument



  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-41
  STEP command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mSTEP[0m [1m100<CR>[0m

  Display Origin      :     1      1

  Data Display Limits :   120    550
  Data Display Step   :   100

  Screen Width        :    80
  Warning Bell        :   Off

  Edit of Data Values :   Off


  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-42
  SUBSTITUTE command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSUBSTITUTE[0m

          Substitutes with a new value all matrix points having a specified value.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mSUBSTITUTE[0m [1m[[0m [1mAREA[0m [1mxmin[0m [1mymin[0m [1mxmax[0m [1mymax[0m [1m][0m [1mold_value[0m [1mnew_value[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  AREA
          An  optional  qualifier  that  enables  the  value  substitution  to  be
          restricted  to  a rectangular area defined by the parameters xmin, ymin,
          xmax and ymax.  If the qualifier is not given, substitution is performed
          on an area corresponding to the total matrix.

  xmin ymin
          The coordinates of the bottom left hand corner  of  the  rectangle.   An
          integer column and row value is required.

  xmax ymax
          The coordinates of top right hand corner of the rectangle.   An  integer
          column and row value is required.


  old_value
          The existing matrix value which is to be changed.  Depending on the type
          of data held in the DTI file, an integer or real data value is required.
          The data type also determines the valid range of the data value.

  new_value
          The matrix value which is to be substituted.  Depending on the  type  of
          data  held  in  the DTI file, an integer or real data value is required.
          The data type also determines the valid range of the data value.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SUBSTITUTE command is used to replace all occurrences of a matrix data value
  with  a new data value eg.  using the command SUBSTITUTE 4 24, all matrix points
  with a value of 4 are replaced by a value of 24.

  Using the AREA qualifier, substitution may be restricted to a rectangular  area.
  The  coordinates  of  the defining rectangle are supplied as command parameters,
  and must lie within the bounds of the DTI file data area.  If the AREA qualifier
  is not present, substitution is performed on the total DTI file.

  Note, that as with all DTI edit commands, the edit is performed immediately  and
  'in situ' on the current DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-43
  SUBSTITUTE command                                                   5 June 1997


  The following messages are  specific  to  the  SUBSTITUTE  and  SUBSTITUTE  AREA
  commands:

  *** ERROR *** Specifying command SUBSTITUTE
  No DTI file has been defined

  *** ERROR *** Specifying command SUBSTITUTE AREA
  The coordinates of the rectangle are out of range

  *** ERROR *** Specifying command SUBSTITUTE AREA
  The top righthand point must exceed the bottom lefthand point

  *** ERROR *** Specifying command SUBSTITUTE 
  The data value is invalid for the DTI data type

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT>[1mENABLE[0m [1mEDIT[0m [1m<CR>[0m
  DTIEDIT>[1mSUBSTITUTE[0m [1mAREA[0m [1m1[0m [1m1[0m [1m34[0m [1m45[0m [1m345[0m [1m23<CR>[0m
  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-44
  UNITS command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mUNITS[0m

          Specifies the units of measurement that will be used to  display  header
          details from the DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mUNITS[0m [1munits[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  units

          A keyword defining the measurement units, chosen from:

          MATRIX     Matrix grid interval units, i.e rows and columns
          METRES     Metre offsets from the south west corner of the DTM
          SECONDS    Latitude and Longitude in seconds of arc
          LATLONG    Latitude and Longitude in degrees, minutes and seconds
          PROJECTION Projection Record Units (eg. mms. on the source document)


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The UNITS command controls in what format details from the header of the DTI are
  displayed, when the SHOW FILEIN command is given.
  The command should be given after defining the input DTI file, since DTI  matrix
  units are always used by default when a file is opened.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the UNITS command:

  *** ERROR *** Specifying command UNITS
  Command qualifiers are MATRIX, METRES, SECONDS, LATLONG or PROJECTION

  *** ERROR *** Specifying command UNITS
  Command qualifier is invalid for the input file


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIEDIT> [1mUNITS[0m [1mMATRIX<CR>[0m
  DTIEDIT>


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-45
                                                                       5 June 1997







                                  [1mDTIEDIT examples[0m


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-46
  EXAMPLES                                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m



  $ DTIEDIT

  DTIEDIT>[1mFILEIN[0m [1mTEST[0m [1m<CR>[0m

  LSL$DTI:TEST.DTI        
  Header: LSLA     Data: WORD

  Units are DTI Matrix Values

  Matrix Coverage    SW:    1     1    NE:   301   251
  Matrix Window      SW:    1     1    NE:   200   200
  Matrix Interval     E:    1           N:     1
  Value Range          :      0   to    851

  DTIEDIT>[1mENABLE[0m [1mEDIT<CR>[0m
  DTIEDIT>[1mEDIT[0m [1mAREA[0m [1m1[0m [1m1[0m [1m50[0m [1m50[0m [1m50[0m [1m<CR>[0m
  DTIEDIT>[1mEDIT[0m [1mAREA[0m [1m30[0m [1m30[0m [1m40[0m [1m40[0m [1m200[0m [1m<CR>[0m
  DTIEDIT>[1mEDIT[0m [1mLINE[0m [1m1[0m [1m1[0m [1m10[0m [1m10[0m [1m100[0m [1m<CR>[0m
  DTIEDIT>[1mPRINT[0m [1m50[0m [1m50[0m [1m<CR>[0m
  DTIEDIT>[1mEXIT[0m [1m<CR>[0m
  Determining minimum and maximum values - please wait

  $

  In the example above command line mode is used to define the input DTI file;  to
  enable  the  editing of the file; to perform three edits on the matrix data, and
  to print the results of the edit on the lineprinter.

  The representation of 50 columns and 50 rows of the matrix, as it  would  appear
  on the lineprinter is shown below.


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-47
  EXAMPLES                                                             5 June 1997



  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAADDDDDDDDDDDAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAADDDDDDDDDDDAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAADDDDDDDDDDDAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAADDDDDDDDDDDAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAADDDDDDDDDDDAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAADDDDDDDDDDDAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAADDDDDDDDDDDAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAADDDDDDDDDDDAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAADDDDDDDDDDDAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAADDDDDDDDDDDAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAADDDDDDDDDDDAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  AABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
  BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
   
   
  DTI file: LSL$DTI:TEST.DTI      DTI window:  SW 1 1  NE 50 50
  Character Values: <space>=0 ,A = 1 to 50, Z=1251 to 1300, step=50


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-48
                                                                       5 June 1997







                                  [1mDTIEDIT[0m [1mmessages[0m


  MATRIX REFERENCE (3.7): DTIEDIT - DTI File Screen Editor               Page 3-49
  MESSAGES (OTHER)                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by  by Laser-Scan libraries.  In particular,
  messages may be generated by the DTI library or by the Laser-Scan  I/O  library,
  LSLLIB.   DTI  library messages are introduced by %DTI and are documented in the
  MATRIX Reference manual.  LSLLIB messages are introduced by  '%LSLLIB'  and  are
  generally  self-explanatory.   They  are  often  used  to explain the details of
  program generated errors.

  If the cause of the error cannot be traced  by  the  user,  and  Laser-Scan  are
  consulted, then the output file should be preserved to facilitate diagnosis.














                                     CHAPTER 4

                                  MODULE DTIBLEND





  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility          Page 4-1
                                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE     DTIBLEND[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m   None.  DTIBLEND is a new MATRIX utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTIBLEND is the MATRIX DTI file edge blend utility.  It takes as input
            two  DTI  files, usually containing terrain elevation models, and edge
            matches them to avoid value discontinuities at  the  matrix  adjoining
            edge.   Options  are  provided  to  hold  one  matrix  unchanged while
            smoothing the other to match it, or  to  smooth  both  matrices  to  a
            common  mean  along  the  edge.   An option is provided to read in IFF
            vector data for use as control to the smoothing process.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DTIBLEND

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

            None, DTIBLEND is command driven.


  [1m--------------------------------------------------------------------------------[0m
  [1mDTIBLEND[0m [1mCOMMAND[0m [1mDEFAULTS[0m

            On program startup, the following command defaults apply:

            BORDER       - 3.

            DIAGNOSTICS  - disabled.

            DIVIDEBY     - 1.0, i.e.  disabled.

            IN_SITU      - disabled.

            MULTIPLYBY   - 1.0, i.e.  disabled.

            NULL         - -DTILIB default for data-type.

            PME          - disabled.

            SMOOTH       - disabled.

            THRESHOLD    - disabled.

            TOFEET       - disabled.

            TOMETRES     - disabled.



  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility          Page 4-2
  DTIBLEND COMMAND DEFAULTS                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m


            [1m----------------------------------------------------------------------[0m
            [1mGeneral[0m

            DTIBLEND is the MATRIX DTI file edge blend utility.  It takes as input
            two  DTI  files, usually containing terrain elevation models, and edge
            matches them to avoid value discontinuities at  the  matrix  adjoining
            edge.

            Processing options are:

             o  hold one matrix unchanged while smoothing the other to  match  it,
                or

             o  smooth both matrices to a common mean along the edge.

             o  read in IFF vector data  for  use  as  control  to  the  smoothing
                process.

             o  process in_situ, i.e. open both input files  for  read  and  write
                access.   This option is useful when edge blending large DTI files
                when the user's virtual address quota is  inadequate  for  opening
                additional DTI files for output.

             o  override of default blend border width (3 posts).

             o  report changes that exceed a user specified threshold value and:

                1.  output editing directives to ROVER guidance files,

                2.  generate a listing file.




            [1m----------------------------------------------------------------------[0m
            [1mDTIBLEND[0m [1mand[0m [1mnull[0m [1mpost[0m [1mhandling[0m

            Provision for null post handling is made within  DTIBLEND.   Any  null
            post  values  found  within  the  blend  zone (of width defined by the
            BORDER command) will be omitted from the edge blend process.   If  the
            null value occurs at either or both ends of the blend profile no posts
            within that profile will be changed.  Messages will  be  sent  to  the
            terminal  or  to  the  optional listing file and ROVER guidance files,
            which will draw attention to any processing omissions caused  by  null
            post detection.


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility          Page 4-3
  DESCRIPTION                                                          5 June 1997


            [1m----------------------------------------------------------------------[0m
            [1mDTIBLEND[0m [1mtypical[0m [1mcommand[0m [1msequence[0m



            Detailed descriptions of the individual commands available  are  given
            below.

            A typical command sequence is:

  HOLD  TESTDATA1           - open LSL$DTI:TESTDATA1.DTI;0 for readonly
                              input. The edge of this file will be held
                              as control for the corresponding edge of the file
                              opened with the BLEND command.

  BLEND TESTDATA2 TESTDATA2__BLENDED
                            - open LSL$DTI:TESTDATA2.DTI;0 for readonly input.
                              This file will be copied to
                              LSL$DTI:TESTDATA2__BLENDED.DTI;0. The edge of this
                              copied file will then be brought into
                              vertical alignment with the corresponding
                              edge of the HOLD file LSL$DTI:TESTDATA1.DTI;0.

  IFF TEST__CONTROL.IFF      - open LSL$IF:TEST__CONTROL.IFF:0 for readonly 
                              input. The vector data in this file will be used 
                              to control the amount of change allowed in the edge 
                              blend process.

  BORDER 5                  - blend 5 posts in from the blend edge.

  GO                        - start processing


            This series of commands specifies that DTIBLEND is to edge  blend  two
            DTI  files:   LSL$DTI:TESTDATA1.DTI;0  as the control (unchanged) file
            and LSL$DTI:TESTDATA2.DTI;0 as the file which is to be blended to  fit
            it.

            Output is to be to a new DTI file; LSL$DTI:TESTDATA2_BLEND.DTI;0.

            When adjusting the BLEND file edge post values relative  to  the  HOLD
            file,  the edge blend process is to be further controlled by reference
            to vector data held in an IFF file LSL$IF:TEST_CONTROL.IFF:0.
  [1m--------------------------------------------------------------------------------[0m


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility          Page 4-4
                                                                       5 June 1997







                                 [1mDTIBLEND commands[0m



  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility          Page 4-5
  @ command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1m@[0m

          Take command input from the specified file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1m@[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The file to be opened and used for command input.

          Any parts of the file-spec not supplied for the @ command will be  taken
          from the default specification 'SYS$DISK:[].COM;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DTIBLEND offers the facility of command input from  an  indirect  command  file.
  The  '@'  character  preceding  a file-spec will cause DTIBLEND to open and read
  commands from the specified file until:

       1.  a  RETURN  command  is  detected  and  command  input  is  returned  to
           SYS$COMMAND.

       2.  end-of-file is detected.  This provokes an error  message  and  command
           input is returned to SYS$COMMAND.


  Nested command files are not supported (i.e. a command file  containing  an  '@'
  command),  although  sequential  '@'  commands  are  supported  when  read  from
  SYS$COMMAND.

  As an aid to batch log interpretation DTIBLEND will echo all commands read  from
  an indirect command file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the @ command:

  *** WARNING *** "@" must precede a file-spec

  *** WARNING *** Indirect file error - returning to terminal input

  *** ERROR *** Can't open indirect command file 'file-spec'


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility          Page 4-6
  @ command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTIBLEND<CR>[0m
  MATRIX module DTIBLEND of 18:30:39 18-FEB-88
  DTIBLEND> [1m@PRESETS<CR>[0m
  DTIBLEND> ENABLE DIAGNOSTICS
  DTIBLEND> BORDER 5
  DTIBLEND> RETURN
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility          Page 4-7
  ! command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1m![0m

          Treat all text to the right of the '!' as a comment.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1m![0m [1m[comment[0m [1mtext][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  comment text

          text that is to be treated as a comment and which will be excluded  from
          command interpretation.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  An exclamation mark is the standard MATRIX package comment delimiter.  All  text
  (and  numbers)  which  lie  to  the  right  of a '!' character are excluded from
  command interpretation.  Comments are useful for annotating  command  procedures
  used in batch processing etc_.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1m![0m [1ma[0m [1mcomment[0m [1mfor[0m [1mthe[0m [1msake[0m [1mof[0m [1mit<CR>[0m
  DTIBLEND> [1mBORDER[0m [1m2[0m [1m![0m  [1mjust[0m [1mblend[0m [1mthe[0m [1mvery[0m [1medge[0m [1mposts[0m [1monly<CR>[0m


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility          Page 4-8
  BLEND command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mBLEND[0m

          Specifies a DTI file that is to be opened and blended and optionally the
          name  of  the  output  file which is to receive the results of the blend
          processing.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mBLEND[0m [1mdti-file-spec[0m [1m[output-dti-file-spec][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m

  dti-file-spec

          The specification of the DTI file to be opened for blend input.

          If the optional IN_SITU option is enabled, this file will be opened  for
          both read and write and will be modified by the edge blend process.

          Any parts of the file-spec not supplied will be taken from  the  default
          file specification 'LSL$DTI:DTI.DTI;0'.

  output-dti-file-spec

          The specification of the DTI file to be opened for blend output.

          Any parts of the file-spec not supplied will be taken from  the  default
          file specification 'LSL$DTI:DTI.DTI;0'.

          If the optional  IN_SITU  option  is  enabled,  this  file-spec  is  not
          required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Specifies a DTI file that is to be opened and blended.  If the IN_SITU option is
  enabled, the DTI file will be opened for read and write (modify) access.  If the
  IN_SITU option is disabled  (default)  the  BLEND  command  must  be  given  two
  file-specification  arguments.   In this situation the file defined by the first
  file-spec is opened readonly as the input file and the  second  is  opened  with
  write access as the output file.

  If the user wishes to blend two DTI files to a common mean edge value two  BLEND
  commands should be used instead of one BLEND and one HOLD command.

  It is recommended that the IN_SITU processing option is not normally used, as it
  will  irrevocably  modify  the source input file (of which the user may not have
  another copy).  The IN_SITU option is, however, useful when edge blending  large
  DTI  files when the user's virtual address quota or disk space is inadequate for
  opening additional DTI files for output.

  At least one BLEND command  must  be  issued  before  the  GO  command  will  be
  accepted.


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility          Page 4-9
  BLEND command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m


  The following messages are specific to the BLEND command:

  *** ERROR *** Unable to interpret input file-spec

  *** ERROR *** Two BLEND commands have already been accepted!
                DTIBLEND requires either a HOLD command and a BLEND command
                or two BLEND commands

  *** ERROR *** You must specify a file-spec argument to the BLEND command

  *** ERROR *** You must specify two file-spec arguments to
                the BLEND command.
                For example BLEND SW301.DTI SW301OUT.DTI

  *** ERROR *** You must specify two file-spec arguments to
                the BLEND command if the IN__SITU option is disabled.

  *** ERROR *** Reading BLEND output file-spec

  *** ERROR *** Unable to interpret BLEND file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mBLEND[0m [1mSOIL[0m [1mSOIL2<CR>[0m


  File    :  LSL$DTI:SOIL.DTI;0
  Header  :  MIKE  Data:  REAL

  Units are DTI Matrix Values.

  Matrix Coverage   SW:       1       1          NE:       449     449
  Matrix Interval    E:       1.00                N:       1.00
  Value Range         :     -5.00 to  326421.00



  File    :  LSL$DTI:SOIL2.DTI;0
  Header  :  MIKE  Data:  REAL

  Units are DTI Matrix Values.

  Matrix Coverage   SW:       1       1          NE:       449     449
  Matrix Interval    E:       1.00                N:       1.00
  Value Range         :     -5.00 to  326421.00

  DTIBLEND> 


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-10
  BORDER command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mBORDER[0m

          Specifies the width (expressed matrix units) of the  blend  zone  within
          each DTI file opened for blend.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      BORDER[0m [1mwidth[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  width

          The width (expressed matrix units) of the blend  zone  within  each  DTI
          file opened for blend.  This must lie in the range 2 to 5.

          If the DTI files adjoin top to bottom width indicates the number of rows
          to  be  blended parallel to the adjoining edge.  If the DTI files adjoin
          side by side width  indicates  the  number  of  columns  to  be  blended
          parallel to the adjoining edge.

  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The value supplied for the BORDER command (expressed  matrix  units)  determines
  the  width  of the blend zone within each DTI file opened for blend.  If the DTI
  files adjoin top to bottom, BORDER width indicates the  number  of  rows  to  be
  blended  parallel  to the adjoining edge.  If the DTI files adjoin side by side,
  BORDER width indicates the number of columns  to  be  blended  parallel  to  the
  adjoining edge.

  The row or column that lies along the mutual join between the  2  DTI  files  is
  treated as part of the blend zone and is included in the BORDER width.  In other
  words, the blend zone width within each BLEND DTI file will  be  BORDER-1  times
  the  matrix  grid interval for that axis.  Thus using two blend commands and the
  default BORDER width of 3, and the DTI files adjoin top to bottom, the edge  row
  and the two adjacent rows in each DTI file will be modified.

  By default DTIBLEND applies a BORDER value of 3.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the BORDER command:

  *** WARNING *** You must specify an integer argument to the BORDER command 
                  For example BORDER 3

  *** ERROR *** Invalid border width.
                BORDER arguments must lie in the range 2 to 5

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mBORDER[0m [1m8<CR>[0m


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-11
  BORDER command                                                       5 June 1997


   [1mE[0mRROR  [1mI[0mnvalid border width.
                BORDER arguments must lie in the range 2 to 5
  DTIBLEND> [1mBORDER[0m [1m5<CR>[0m
  DTIBLEND> 


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-12
  DESELECT FC command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESELECT[0m [1mFC[0m

          Deselects specified IFF feature codes.   Any  IFF  features  having  the
          specified  feature  codes  will  be  excluded  as  control for the blend
          process.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      DESELECT[0m [1mFC[0m [1mfeature-code[,...][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  feature-code

          An IFF feature code which must lie in the range 0  to  32767.   Multiple
          feature codes may be specified separated by commas or spaces.  Ranges of
          feature codes may be specified by separating the range  start  and  stop
          values  by a colon, e.g.  DESELECT FC 2:6 will result in the deselection
          of feature codes 2,3,4,5 and 6.

          If an FRT file has been read into DTIBLEND any valid feature code  group
          names may be used as arguments to the DESELECT FC command.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DESELECT FC command complements the SELECT FC command.  DESELECT FC  enables
  the  user  to  prevent  DTIBLEND from reading in any IFF features which have the
  specified feature codes.

  On program startup all FCs are selected for input.

  Specific FC selections may then be made with the SELECT FC  command.   Only  the
  specified  FCs  will  be  used for input.  All FCs not explicitly specified in a
  SELECT FC command will be then excluded from input.

  ALL FC and layer selections are cancelled by the SELECT ALL command;  i.e.   all
  layers and FCs are reselected for input.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the DESELECT FC command:

  *** WARNING *** You must have read an FRT file to be able to use group names
  *** WARNING *** No groups have been defined in the FRT
  *** WARNING *** Illegal feature code 'integer'
  *** WARNING *** Bad group name 'group-name'

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mDESELECT[0m [1mFC[0m [1m6:9,WATER,126<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-13
  DESELECT LAYER command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESELECT[0m [1mLAYER[0m

          Deselects specified IFF layers.   Any  IFF  features  lying  within  the
          specified layers will be excluded as control for the blend process.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      DESELECT[0m [1mLAYER[0m [1mlayer[,...][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  layer

          An IFF layer number must lie in the range 0 to 32767.   Multiple  layers
          may be specified separated by commas or spaces.  Ranges of layers may be
          specified by separating the range start and stop values by a colon, e.g.
          DESELECT  LAYER 2:6 will result in the deselection of layers 2,3,4,5 and
          6.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The DESELECT LAYER command complements the SELECT LAYER command.  DESELECT LAYER
  enables  the user to prevent DTIBLEND from reading in any IFF features which lie
  within the specified layers.

  The DESELECT LAYER command complements the SELECT LAYER command.  DESELECT LAYER
  enables  the user to prevent DTIBLEND from reading in any IFF features which lie
  within the specified layers.

  On program startup all layers are selected for input.

  Specific layer selections may then be made with the SELECT FC command.  Only the
  specified layers will be used for input.  All layers not explicitly specified in
  SELECT LAYER commands will be then excluded from input.

  ALL FC and layer selections are cancelled by the SELECT ALL command;  i.e.   all
  layers and FCs are reselected for input.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the DESELECT LAYER command:

  *** WARNING *** Too many layer arguments in one command
  *** WARNING *** Illegal layer number 'integer'


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mDESELECT[0m [1mLAYER[0m [1m21:29,126<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-14
  DISABLE DIAGNOSTICS command                                          5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mDIAGNOSTICS[0m

          Disables a previous ENABLE DIAGNOSTICS command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mDISABLE[0m [1mDIAGNOSTICS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE DIAGNOSTICS allows the user to disable  a  previous  ENABLE  DIAGNOSTICS
  command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mENABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTIBLEND> [1mSHOW[0m [1mENABLE<CR>[0m
  DIAGNOSTICS .................................................. On
  DIVIDEBY ..................................................... Off
  INTEGER_HEIGHT ............................................... Off
  (Incoming IFF heights expected in type 3 AC entries)
  IN_SITU ...................................................... Off
  MULTIPLY ....................................................  Off
  PME .......................................................... Off
  SMOOTH ....................................................... Off
  TOFEET ....................................................... Off
  TOMETRES ..................................................... Off
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-15
  DISABLE DIVIDEBY command                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mDIVIDEBY[0m

          Disables a previous ENABLE DIVIDEBY command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      DISABLE[0m [1mDIVIDEBY[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE DIVIDEBY allows the user to disable a previous ENABLE DIVIDEBY command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mDISABLE[0m [1mDIVIDEBY<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-16
  DISABLE IN_SITU command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mIN_SITU[0m

          DISABLE IN_SITU cancels the effect of a previous ENABLE IN_SITU command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mENABLE[0m [1mIN_SITU[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  By default DTIBLEND requires an output file specification to be supplied for the
  BLEND  command.   It  then creates and opens this file to receive the results of
  the blend process.  Like a HOLD input DTI file, the input DTI file opened with a
  BLEND command is not altered in any way.

  ENABLE IN_SITU enables in-situ processing of the DTI file opened for BLEND.

  DISABLE IN_SITU cancels  the  effect  of  a  previous  ENABLE  IN_SITU  command.
  However,  any  DTI  input  files  that  have  already been specified using BLEND
  commands  when  INSITU  mode  was  enabled  will  remain  subject   to   in-situ
  modification.   DTIBLEND  issues  the  following  message when a DISABLE IN_SITU
  command is accepted:

  ****************************************************************************
  *                                                                          *
  *                            W A R N I N G                                 *
  *                                                                          *
  *   Any DTI input files that have already been specified using BLEND       *
  *   commands when IN_SITU mode was enabled will remain subject to in-situ  *
  *   modification                                                           *
  *                                                                          *
  ****************************************************************************

  [1m--------------------------------------------------------------------------------[0m
  [1mMessage:[0m

  See above for the warning message issued by the DISABLE IN_SITU command.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mDISABLE[0m [1mIN_SITU<CR>[0m

  ****************************************************************************
  *                                                                          *
  *                            W A R N I N G                                 *
  *                                                                          *
  *   Any DTI input files that have already been specified using BLEND       *
  *   commands when IN_SITU mode was enabled will remain subject to in-situ  *
  *   modification                                                           *
  *                                                                          *
  ****************************************************************************


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-17
  DISABLE INTEGER_HEIGHT command                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mINTEGER_HEIGHT[0m

          DISABLE  INTEGER_HEIGHT  disables  the  effect  of  a  previous   ENABLE
          INTEGER_HEIGHT command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      DISABLE[0m [1mINTEGER_HEIGHT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  In IFF files height values are transmitted via AC (Ancillary  Code)  or  ZS  (3D
  string) entries.  By default contour and spot height Z values are read from type
  3 ACs as floating point values.  By use of the  ENABLE  INTEGER_HEIGHT  command,
  integer heights may be read from type 2 ACs.

  The DISABLE INTEGER_HEIGHT command disables the  effect  of  a  previous  ENABLE
  INTEGER_HEIGHT  command  and  heights  will be read from type 3 (floating point)
  ACs.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mDISABLE[0m [1mINTEGER_HEIGHT<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-18
  DISABLE MULTIPLYBY command                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mMULTIPLYBY[0m

          Disables a previous ENABLE MULTIPLYBY command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      DISABLE[0m [1mMULTIPLYBY[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE MULTIPLYBY allows the user  to  disable  a  previous  ENABLE  MULTIPLYBY
  command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mDISABLE[0m [1mMULTIPLYBY<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-19
  DISABLE PME command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mPME[0m

          Disables a previous ENABLE PME command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m     [1mDISABLE[0m [1mPME[0m 



  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE PME allows the user to disable a previous ENABLE PME command.


  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  *** WARNING *** You are not using PME !


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mENABLE[0m [1mPME<CR>[0m
  DTIBLEND> [1mDISABLE[0m [1mPME<CR>[0m
  DTIBLEND>




  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-20
  DISABLE SMOOTH command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mSMOOTH[0m

          Cancels the effect of a previous ENABLE SMOOTH command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      DISABLE[0m [1mSMOOTH[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  By  default  standard  linear  interpolation  from  one  matrix  to  another  is
  performed, but an alternative action is to perform a smooth (gradual) feathering
  of one matrix to another.

  The ENABLE SMOOTH command enables the smooth feathering interpolation action  to
  be applied.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mDISABLE[0m [1mSMOOTH<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-21
  DISABLE TOFEET command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mTOFEET[0m

          Cancels the effect of a previous ENABLE TOFEET command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      DISABLE[0m [1mTOFEET[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  It is possible that different IFF input  files  may  have  heights  recorded  in
  different  measurement  systems.   The  DTI  file  heights  are  relative to one
  measurement system only.  Two preset height conversion  options  are  available:
  ENABLE TOMETRES and ENABLE TOFEET.

  The ENABLE TOFEET command enables the conversion of heights held in the IFF file
  in  metres  to  feet.   It  has the same effect as an explicit ENABLE MULTIPLYBY
  3.2808455 command.  For example, if the DTI file heights  are  in  feet,  it  is
  possible  to  read  in  one  IFF  control file with heights in feet with one IFF
  command and then use the ENABLE TOFEET command and read  in  another  file  with
  heights in metres, converting to feet during read-in.

  N.B.  DISABLE TOFEET will not cancel an  explicit  ENABLE  MULTIPLYBY  3.2808455
  command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mDISABLE[0m [1mTOFEET<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-22
  DISABLE TOMETRES command                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mTOMETRES[0m

          Cancels the effect of a previous ENABLE TOMETRES command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      DISABLE[0m [1mTOMETRES[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  It is possible that different IFF input  files  may  have  heights  recorded  in
  different  measurement systems.  The DTI file heights are relative to one system
  only.  Two height conversion options are available:  ENABLE  TOFEET  and  ENABLE
  TOMETRES.

  The ENABLE TOMETRES command enables the conversion of heights held  in  the  IFF
  file  in  feet to metres.  It has the same effect as an explicit ENABLE DIVIDEBY
  3.2808455 command.  For example, if the DTI file heights are in  metres,  it  is
  possible  to  read  in  one IFF control file with heights in metres with one IFF
  command and then use the ENABLE TOMETRES command and read in another  file  with
  heights in feet, converting to metres during read-in.

  N.B.  DISABLE TOMETRES will not cancel an  explicit  ENABLE  DIVIDEBY  3.2808455
  command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mDISABLE[0m [1mTOMETRES<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-23
  ENABLE DIAGNOSTICS command                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mDIAGNOSTICS[0m

          ENABLE DIAGNOSTICS allows the user to enable diagnostic printout.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mENABLE[0m [1mDIAGNOSTICS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE DIAGNOSTICS allows the user to enable diagnostic printout.

  On a heavily loaded computer it may  be  reassuring  to  ENABLE  DIAGNOSTICS  to
  indicate the progress of processing.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mENABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTIBLEND> [1mSHOW[0m [1mENABLE<CR>[0m
  DIAGNOSTICS .................................................. On
  DIVIDEBY ..................................................... Off
  INTEGER_HEIGHT ............................................... Off
  (Incoming IFF heights expected in type 3 AC entries)
  IN_SITU ...................................................... Off
  MULTIPLY ....................................................  Off
  PME .......................................................... Off
  SMOOTH ....................................................... Off
  TOFEET ....................................................... Off
  TOMETRES ..................................................... Off
  DTIBLEND> [1mDISABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTIBLEND> [1mSHOW[0m [1mENABLE<CR>[0m
  DIAGNOSTICS .................................................. Off
  DIVIDEBY ..................................................... Off
  INTEGER_HEIGHT ............................................... Off
  (Incoming IFF heights expected in type 3 AC entries)
  IN_SITU ...................................................... Off
  MULTIPLY ....................................................  Off
  PME .......................................................... Off
  SMOOTH ....................................................... Off
  TOFEET ....................................................... Off
  TOMETRES ..................................................... Off

  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-24
  ENABLE DIVIDEBY command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mDIVIDEBY[0m

          ENABLE DIVIDEBY allows the user to enable division  of  IFF  input  file
          heights by a specified floating point constant.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      ENABLE[0m [1mDIVIDEBY[0m [1mdenominator[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  denominator

          The value by which all IFF input file heights are to be divided.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE DIVIDEBY enables the  user  to  divide  all  incoming  heights  by  a
  specified  (floating  point) constant.  For example, the command ENABLE DIVIDEBY
  2.0 will cause all incoming heights to be divided by 2.0.   An  ENABLE  DIVIDEBY
  3.2808455 command has the same effect as an ENABLE TOMETRES command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the ENABLE DIVIDEBY command:

  *** WARNING *** You are already planning to multiply by 'constant'
                   ENABLE DIVIDEBY command now overrides ENABLE MULTIPLYBY command
  *** WARNING *** You must specify a value for DIVIDEBY

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mENABLE[0m [1mDIVIDEBY[0m [1m39.2<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-25
  ENABLE IN_SITU command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mIN_SITU[0m

          ENABLE IN_SITU enables in-situ processing of the  DTI  file  opened  for
          BLEND.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mENABLE[0m [1mIN_SITU[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  By default, DTIBLEND requires an output file specification to  be  supplied  for
  the  BLEND  command.  It then creates and opens this file to receive the results
  of the blend process.  Like a HOLD input DTI file, the  input  DTI  file  opened
  with a BLEND command is not altered in any way.

  ENABLE IN_SITU enables in-situ processing of the  DTI  file  opened  for  BLEND.
  ENABLE  IN_SITU  completely  changes  the way DTIBLEND treats the BLEND command.
  When the IN_SITU command is specified, DTIBLEND expects only one  DTI  file-spec
  argument  to  the BLEND command.  This DTI file is then opened for both read and
  write and the results of the blend process are written back into the same file.

  Because of the danger of modifying a unique input file in an irrevocable fashion
  using  the  ENABLE  IN_SITU  command,  DTIBLEND  issues  a  stern  warning after
  accepting the IN_SITU command:

  ****************************************************************************
  *                                                                          *
  *                            W A R N I N G                                 *
  *                                                                          *
  *  Use of the BLEND command with only one file-spec argument will result   *
  *   in the input file being overwritten. If you want the results of the    *
  *    edge blend process to be written to a new output file the BLEND       *
  *       command must be specified with two file-spec arguments.            *
  *                                                                          *
  ****************************************************************************


  [1m--------------------------------------------------------------------------------[0m
  [1mMessage:[0m

  The following warning message is specific to the ENABLE IN_SITU command:

  *** WARNING *** You are already using IN_SITU!


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-26
  ENABLE IN_SITU command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTIBLEND<CR>[0m
  MATRIX module DTIBLEND of 12:23:19  18-MAR-88
  DTIBLEND> [1mENABLE[0m [1mIN_SITU<CR>[0m


  ****************************************************************************
  *                                                                          *
  *                            W A R N I N G                                 *
  *                                                                          *
  *  Use of the BLEND command with only one file-spec argument will result   *
  *   in the input file being overwritten. If you want the results of the    *
  *    edge blend process to be written to a new output file the BLEND       *
  *       command must be specified with two file-spec arguments.            *
  *                                                                          *
  ****************************************************************************

  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-27
  ENABLE INTEGER_HEIGHT command                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mINTEGER_HEIGHT[0m

          Take feature heights from type 2 (integer) AC (Ancillary  Code)  entries
          in an IFF input file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      ENABLE[0m [1mINTEGER_HEIGHT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  In IFF files, height values are transmitted via AC (Ancillary Code)  or  ZS  (3D
  string) entries.  By default contour and spot height Z values are read from type
  3 ACs as floating point values.  By use of the  ENABLE  INTEGER_HEIGHT  command,
  integer heights may be read from type 2 ACs.

  ENABLE INTEGER_HEIGHT causes DTIBLEND to take heights from type 2  (integer)  AC
  (Ancillary Code) entries in an IFF input file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mENABLE[0m [1mINTEGER_HEIGHT<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-28
  ENABLE SMOOTH command                                                5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mSMOOTH[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      ENABLE[0m [1mSMOOTH[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  By  default  standard  linear  interpolation  from  one  matrix  to  another  is
  performed, but an alternative action is to perform a smooth (gradual) feathering
  of one matrix to another.

  The ENABLE SMOOTH command enables the smooth feathering interpolation action  to
  be applied.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mENABLE[0m [1mSMOOTH<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-29
  ENABLE TOFEET command                                                5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mTOFEET[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      ENABLE[0m [1mTOFEET[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  It is possible that different IFF input  files  may  have  heights  recorded  in
  different  measurement  systems.   The  DTI  file  heights  are  relative to one
  measurement system only.  Two preset height conversion  options  are  available:
  ENABLE TOMETRES and ENABLE TOFEET.

  The ENABLE TOFEET command enables the conversion of heights held in the IFF file
  in  metres  to  feet.   It  has the same effect as an explicit ENABLE MULTIPLYBY
  3.2808455 command.  For example, if the DTI file heights  are  in  feet,  it  is
  possible  to  read  in  one  IFF  control file with heights in feet with one IFF
  command and then use the ENABLE TOFEET command and read  in  another  file  with
  heights in metres, converting to feet during read-in.

  N.B.  DISABLE TOFEET will not cancel an  explicit  ENABLE  MULTIPLYBY  3.2808455
  command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mENABLE[0m [1mTOFEET<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-30
  ENABLE TOMETRES command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mTOMETRES[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      ENABLE[0m [1mTOMETRES[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  It is possible that different IFF input  files  may  have  heights  recorded  in
  different  measurement systems.  The DTI file heights are relative to one system
  only.  Two height conversion options are available:  ENABLE  TOFEET  and  ENABLE
  TOMETRES.

  The ENABLE TOMETRES command enables the conversion of heights held  in  the  IFF
  file  in  feet to metres.  It has the same effect as an explicit ENABLE DIVIDEBY
  3.2808455 command.  For example, if the DTI file heights are in  metres,  it  is
  possible  to  read  in  one IFF control file with heights in metres with one IFF
  command and then use the ENABLE TOMETRES command and read in another  file  with
  heights in feet, converting to metres during read-in.

  N.B.  DISABLE TOMETRES will not cancel an  explicit  ENABLE  DIVIDEBY  3.2808455
  command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mENABLE[0m [1mTOMETRES<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-31
  ENABLE PME command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mPME[0m

          ENABLE PME enables the PME performance monitor.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mENABLE[0m [1mPME[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE PME and DISABLE PME commands are reserved for Laser-Scan use.  PME is
  a code optimisation tool and should be invoked by LSL software personnel only.

  ENABLE PME causes the PME_INIT routine to be invoked.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessage:[0m

  The following warning message is specific to the ENABLE PME command:

  *** WARNING *** You are already using PME!

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTIBLEND<CR>[0m
  MATRIX module DTIBLEND of 12:23:19  18-MAR-88
  DTIBLEND> [1mENABLE[0m [1mPME<CR>[0m


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-32
  FRT command                                                          5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mFRT[0m

          Specifies an FRT file which contains feature code group definitions.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      FRT[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The specification of an FRT (Feature Representation Table) file required
          to define feature code groups.

          Missing parts from the FRT file-spec argument are taken from the default
          specification LSL$FRT:FRT.FRT;0.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The FRT command allows the user to specify an FRT file  which  contains  feature
  code  group definitions.  The availability of feature code groups simplifies the
  specification of complex feature code selections for blend process control.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the FRT command:

  *** ERROR *** reading FRT file-spec
  *** ERROR *** unable to open specified FRT

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mSELECT[0m [1mFC[0m [1m7,COAST<CR>[0m
  *** WARNING *** You must have read an FRT file to be able to use group names
  DTIBLEND> [1mFRT[0m [1mHOVER<CR>[0m
  FRT file LSL$FRT:HOVER.FRT;8 opened for read

  DTIBLEND> [1mSELECT[0m [1mFC[0m [1m7,COAST<CR>[0m

  DTIBLEND> [1mSELECT[0m [1mFC[0m [1m7,COAST<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-33
  GO command                                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mGO[0m

          Starts DTIBLEND processing.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mGO[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The GO command signifies the end of command interaction with the  user  and  DTI
  file processing begins.

  Before DTI file processing is begun, DTIBLEND checks that two  DTI  input  files
  have been specified using either BLEND or HOLD commands.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the GO command:

  *** WARNING *** You must specify 2 DTI files for input. Either use a
                  BLEND and a HOLD command or 2 BLEND commands

  Two DTI files must be supplied before submitting a GO command.

  *** ERROR *** Although abutting along a common horizontal axis, the input
                DTI files do not join across a common edge.

  *** ERROR *** Although abutting along a common vertical axis, the input
                DTI files do not join across a common edge.

  The DTI files have a common edge coordinate, but do not overlap along it.
  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTIBLEND<CR>[0m
  DTIBLEND> [1mGO<CR>[0m

  [1m***[0m [1mWARNING[0m [1m***[0m [1mYou[0m [1mmust[0m [1mspecify[0m [1m2[0m [1mDTI[0m [1mfiles[0m [1mfor[0m [1minput.[0m [1mEither[0m [1muse[0m [1ma[0m
  [1m                BLEND[0m [1mand[0m [1ma[0m [1mHOLD[0m [1mcommand[0m [1mor[0m [1m2[0m [1mBLEND[0m [1mcommands[0m
  [1mDTIBLEND>[0m [1mHOLD[0m [1mSW12I88<CR>[0m


  File    :  LSL$DTI:SW12I88.DTI;0
  Header  :  MIKE  Data:  REAL

  Units are DTI Matrix Values.

  Matrix Coverage   SW:       1       1          NE:       449     449
  Matrix Interval    E:       1.00                N:       1.00
  Value Range         :      0.00 to  326.00


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-34
  GO command                                                           5 June 1997




  DTIBLEND> [1mGO<CR>[0m




  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-35
  HELP command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mHELP[0m


          Give help on a subject


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m                [1mHELP[0m [1msubject[0m



  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m


  subject

          The subject on which help is required.


  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The HELP command looks the rest of the line up in the MATRIX HELP
  library. This library contains a brief summary of the operation of each
  command. 


  The information is looked up in the DTIBLEND section of the MATRIX
  help library, LSL$HELP:MATRIX.HLB. 



  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m


  Where required, warning messages are output via the VMS LBR$OUTPUT_HELP
  utility.


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mHELP[0m [1mENABLE[0m [1mPME<CR>[0m


  DTIBLEND

        ENABLE

           PME


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-36
  HELP command                                                         5 June 1997


     The ENABLE PME and DISABLE PME commands are reserved for Laser-Scan use.  PME
     is  a  code optimisation tool and should be invoked by LSL software personnel
     only.


     ENABLE PME causes the PME_INIT routine to be invoked.
  DTIBLEND>





  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-37
  HOLD command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mHOLD[0m


          Specifies a DTI file that is to be opened readonly to which
          the DTI file opened with the BLEND command will be blended.


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m   [1mHOLD[0m [1mdti-file-spec[0m 

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m

  dti-file-spec

          The specification of the DTI file to be opened for HOLD input.

          Any parts of the file-spec not supplied will be 
          taken from the default file specification 'LSL$DTI:DTI.DTI;0'.



  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Specifies a DTI file that is to be opened readonly.  It is the edge of this file
  which is held fixed, to which the DTI file opened with the BLEND command will be
  blended.

  If the user wishes to blend two DTI files to a common mean edge value, two BLEND
  commands should be used instead of one BLEND and one HOLD command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m


  The following messages are specific to the HOLD command:

  *** ERROR *** Unable to interpret input file-spec

  *** ERROR *** A HOLD command has already been accepted. If the HOLD
                command is used, the other DTI file must be opened using the BLEND
                command.

  *** ERROR *** Two BLEND commands have already been accepted. If the HOLD
                command is used, only one BLEND command can be specified.

  *** ERROR *** You must specify a file-spec argument to the HOLD command
                For example HOLD SW301.DTI

  *** ERROR *** reading DTI offset

  You must specify both the X and the Y origin offset
  DTI file 'file-spec' is now closed. Please respecify the HOLD command



  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-38
  HOLD command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mHOLD[0m [1mSW12I88<CR>[0m


  File    :  LSL$DTI:SW12I88.DTI;0
  Header  :  MIKE  Data:  REAL

  Units are DTI Matrix Values.

  Matrix Coverage   SW:       1       1          NE:       449     449
  Matrix Interval    E:       1.00                N:       1.00
  Value Range         :      0.00 to  326.00


  DTIBLEND> 


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-39
  IFF command                                                          5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mIFF[0m

          Specifies an IFF file that is to be opened and used as  control  to  the
          DTI file blend process.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      IFF[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m

  file-spec

          The specification of the file to be opened for data input.

          Any parts of the file-spec not supplied for the FILEIN command  will  be
          taken from the default specification 'LSL$IF:IFF.IFF;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The IFF command causes the specified IFF file to be opened and used as an  input
  file to DTIBLEND.

  DTIBLEND is designed to be compatible with the "new" type IFF  files  introduced
  in  conjunction  with  the  IMP (IFF Map Processing) package.  The origin offset
  entry in a type 2 MD (Map Descriptor) is used to offset coordinate values within
  an  input  IFF  file.  Although downwards compatible with "old" type IFF files a
  warning message is issued if an IFF file is found not to contain a set type 2 MD
  (Map Descriptor) entry.


                                      [1mHeights[0m

  In IFF files height values are transmitted via AC (Ancillary  Code)  or  ZS  (3D
  string) entries.  By default contour and spot height Z values are read from type
  3 ACs as floating point values.  By use of the  ENABLE  INTEGER_HEIGHT  command,
  integer heights may be read from type 2 ACs.

  Cliff lines are associated with two constant floating point height  values;  one
  for  the  terrain  to  the  left  of the cliffline (relative to the direction of
  digitising) and one for the height of the terrain to the right.  Clifflines  are
  not currently supported by DTIBLEND.

  More then one input file may be specified using a new IFF command for each file.
  Defaults  may  be changed between reading files.  This means that IFF files with
  different allocations of IFF entries for height  information  may  be  combined.
  Imperial  heights  may  be converted to metric on input with the ENABLE TOMETRES
  command.  The reverse is possible with  the  ENABLE  TOFEET  command.   Incoming
  heights  may  be  multiplied  or  divided  by a user specified constant with the
  ENABLE MULTIPLYBY and ENABLE DIVIDEBY commands respectively.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-40
  IFF command                                                          5 June 1997


  The following messages are specific to the IFF command:

  *** WARNING *** You must specify a file-spec argument to the IFF command
  *** ERROR *** Unable to interpret input file-spec

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mIFF[0m [1mDUA3:[DEMONSTRATION]IDAHO<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-41
  LIST command                                                         5 June 1997


  [1m------------------------------------------------------------------------------[0m
  [1mLIST[0m

          The LIST command specifies the name of a file which will contain  a  log
          of the DTIBLEND run.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m         [1mLIST[0m [1mfile_spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file_spec

          The specification of the log file.   Any  parts  of  the  file-spec  not
          supplied    will    be    taken    from    the   default   specification
          'SYS$DISK:[]DTIBLEND.LIS;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The LIST command specifies the name of a file which will contain a  log  of  the
  DTIBLEND run.

  The SHOW FILES command will display the name of  the  currently  specified  LIST
  file.

  The following is a typical example of a file created by DTIBLEND :

  ============================== D T I B L E N D ================================

  DTIBLEND log file created by TIM at  3-JUN-1988 15:04:24.96 using DTIBLEND


  Two files specified for blend:
  LSL$DTI:TOP1.DTI;0

  LSL$DTI:BOTTOM.DTI;0

  With a BORDER value of 3, all DTI z values are subject to change that
  lie within the rectangle defined by:
  SW corner:          0.000         196.000
  NE corner:        200.000         204.000

  In LSL$DTI:TOP1.DTI;0 this affects:
  Column 1 to column 101 and row 1 to row 3

  In LSL$DTI:BOTTOM.DTI;0 this affects:
  Column 1 to column 101 and row 101 to row 99

  IFF control is supplied by:

  LSL$DATA_ROOT:[USER.DATA]CONTROL.IFF;4

  Heights expected in type 3 ACs



  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-42
  LIST command                                                         5 June 1997


  IFF selections:

  Layers:
  0-32767

  Feature codes:
  0-32767

  ================================================================================

  --------------------------------------------------------------------------------
  IFF file #1 is LSL$DATA_ROOT:[USER.DATA]CONTROL.IFF;4
  File has no IFF HI entry.

  Two BLEND files specified - calculating mean values for the common edge


  ----------------------------------------------------------------------------

  Blending posts in DTI file LSL$DTI:TOP1.DTI;0


  ----------------------------------------------------------------------------

  Blending posts in DTI file LSL$DTI:BOTTOM.DTI;0



  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the LIST command:

  *** WARNING *** You must specify a file-spec argument to the LIST command

  *** ERROR *** You must specify a file-spec argument to the LIST command

  *** ERROR *** Unable to interpret input file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mExample:[0m

  DTIBLEND>[1mLIST[0m [1mJEMIMA.LIS<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-43
  NULL command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mNULL[0m

          Specifies the null value used  in  the  input  DTI  file  for  which  no
          calculated  value  is  available.   This null value overrides the DTILIB
          default null value for the DTI data-type.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mNULL[0m [1mnull_value[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  null_value

          The null value to be detected.  This must lie within a range appropriate
          to the input DTI file data type:

                    +-----------+-----------+--------------------+
                    |  Minimum  |  Maximum  |    DTI data type   |
                    +-----------+-----------+--------------------+
                    |  0        |     255   |   UNSIGNED BYTE    |
                    | -32768    |   32767   |   WORD INTEGER     |
                    | -2E31     |   2E31-1  |   LONG INTEGER     |
                    | -1.0E38   |   1.0E38  |   REAL*4           |
                    +-----------+-----------+--------------------+


  By default the DTILIB the DTILIB default null value for  the  DTI  data-type  is
  used.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Specifies the null value used in the input DTI  file  for  which  no  calculated
  value is available.  This null value overrides the DTILIB default null value for
  the DTI data-type.

  The null value can only be set after a DTI file has been input using the  FILEIN
  command, as the range of valid null values depends on the data type of the file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the NULL command:

  *** WARNING *** null value out of range for a byte type DTI file

  *** WARNING *** null value out of range for a word type DTI file

  *** WARNING *** null value out of range for a longword type DTI file

  *** WARNING *** null value out of range for a real type DTI file


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-44
  NULL command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mNULL[0m [1m0<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-45
  PAUSE command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mPAUSE[0m

          Pauses DTIBLEND execution.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mPAUSE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Pauses DTIBLEND execution and issues a prompt for a carriage return to  continue
  execution.    This  command  is  designed  for  use  in  software  demonstration
  situations.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mPAUSE<CR>[0m


  Press <RETURN> to continue[1m<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-46
  QUIT command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mQUIT[0m

          Quit from DTIBLEND.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mQUIT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The QUIT command causes DTIBLEND to exit immediately, closing the input file and
  closing and deleting any files already created for output.

  <CTRL/Z> (pressing the Ctrl and Z keys together) may also be used to  quit  from
  the program.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mQUIT<CR>[0m
   ELAPSED:  00:00:20.04 CPU:  0:00:04.71 BUFIO:  281 DIRIO:  46 FAULTS:  263
  _$


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-47
  RETURN command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mRETURN[0m

          Restores command input from an indirect file to SYS$COMMAND.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mRETURN[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Restores command input from an indirect file to SYS$COMMAND.

  A typical application is to allow the user to use an indirect  command  file  to
  set  up  those  run  time defaults which are constant within a flowline and then
  return to input from the  terminal  (or  batch  stream)  for  the  run  specific
  commands.   To  do  this RETURN must be the last command in the indirect command
  file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the RETURN command:

  RETURN command detected - returning to terminal input
  RETURN command ignored - command input is already from terminal

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1m@FLOW2<CR>[0m
  DTIBLEND> ENABLE DIAGNOSTICS
  DTIBLEND> RETURN
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-48
  ROVER command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mROVER[0m

          Specifies that a ROVER command file is to be created for each of the DTI
          files created (or modified in-situ) by the edge blend process.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mROVER[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Specifies that a ROVER command file is to be created for each of the  DTI  files
  created  (or  modified in-situ) by the edge blend process.  These ROVER guidance
  files receive ROVER commands indicating the positions of DTI  posts  which  have
  been  altered  by  the  blend  process  by more then the threshold value.  ROVER
  commands are also generated to indicate the position  of  blend  profiles  which
  could  not  be  processed  because they contained a null value at one or at both
  ends of the profile.

  The ROVER command does not take a file-spec argument.  This is because when  two
  BLEND commands are used, (in the case of blending the DTI files on both sides of
  the adjoining edge), two ROVER files are needed, one for each output DTI file.

  The  ROVER  files  are  instead  given  file   specifications   of   the   form:
  LSL$ROVERCMD:'blend-file-name'.RCM;0'.

  In addition to receiving the name of the DTI file to which it relates the  ROVER
  file  is  also given a standard header containing information about the DTIBLEND
  run which created it.  This header is of the form:

  MESSAGE 
  MESSAGE ---------------------------------------------------------------------
  MESSAGE 
  MESSAGE                R O V E R   C O M M A N D   F I L E
  MESSAGE 
  MESSAGE RCM file created by TIM at  3-JUN-1988 10:16:47.37 using DTIBLEND
  MESSAGE 
  MESSAGE Two files specified for blend:
  MESSAGE     LSL$DTI:LEFT1.DTI;0
  MESSAGE     LSL$DTI:RIGHT1.DTI;0
  MESSAGE 
  MESSAGE 
  MESSAGE The ROVER commands in this guidance file relate to changes made
  MESSAGE to LSL$DTI:LEFT1.DTI;0
  MESSAGE 
  MESSAGE These changes affect column 99 to column 101 and row
  MESSAGE 1 to row 201
  MESSAGE 
  MESSAGE ---------------------------------------------------------------------
  MESSAGE 


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-49
  ROVER command                                                        5 June 1997


  The ROVER command must be issued before the GO command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the ROVER command:

  *** ERROR *** Logical name LSL$ROVERCMD not set up

  *** WARNING *** You cannot specify a file-spec argument to the ROVER command
                  File-spec argument ignored. DTIBLEND will construct
                  ROVER command file-specs based on the input DTI
                  filenames. For further details see the MATRIX
                  Reference Manual


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mROVER[0m [1m<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-50
  SELECT ALL                                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSELECT[0m [1mALL[0m

          Resets all IFF feature selections made  with  the  SELECT  and  DESELECT
          commands.

  [1m--------------------------------------------------------------------------------[0m

  [1mFORMAT:      SELECT[0m [1mALL[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  _None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  This  command  resets  all  IFF  feature  input  selections.   If  features  are
  subsequently  selected  using  the  other  SELECT commands then all features are
  first implicitly deselected.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SELECT command.

  *** ERROR *** Specifying command SELECT
  Command qualifiers are ALL, FC or LAYER

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND>[1mSELECT[0m [1mALL[0m [1m<CR>[0m

            At this point all features are selected.

  DTIBLEND> [1mSELECT[0m [1mFC[0m [1m7:10,56:78<CR>[0m

            Here only features with the specified feature codes are selected

  DTIBLEND> [1mSELECT[0m [1mFC[0m [1m11:20<CR>[0m

            At this point the specified feature codes are added to  the  currently
            selected  features code, i.e.  features with FC 7-20 and 56-78 are now
            selected.
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-51
  SELECT FC command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSELECT[0m [1mFC[0m

          Selects IFF features with the specified feature codes for use as control
          for the blend process.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      SELECT[0m [1mFC[0m [1mfeature-code[,...][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  feature-code

          An IFF feature code which must lie in the range 0  to  32767.   Multiple
          feature codes may be specified separated by commas or spaces.  Ranges of
          feature codes may be specified by separating the range  start  and  stop
          values  by  a colon, e.g.  SELECT FC 2:6 will result in the selection of
          feature codes 2,3,4,5 and 6.

          If an FRT file has been read into DTIBLEND any valid feature code  group
          names may be used as arguments to the SELECT FC command.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SELECT FC command complements the DESELECT FC command.   SELECT  FC  enables
  the user to select any IFF features which have the specified feature codes.

  On program startup all FCs are selected for input.  IFF features which  are  not
  required  for input must be specifically excluded using the appropriate DESELECT
  FC and DESELECT LAYER commands.  For example, the command DESELECT FC 0:7 11:300
  302:32767 will leave only features with FCs 8,9,10, and 301 selected for input.

  The first SELECT FC command has the effect of deselecting  all  FCs  from  input
  except  those  explicitly  specified  as the arguments to the SELECT FC command.
  Subsequent SELECT FC commands have the effect of adding the specified FCs to the
  list of FCs selected for input.

  All layers and FCs may be reselected for input  by  specifying  the  SELECT  ALL
  command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the SELECT FC command:

  *** WARNING *** You must have read an FRT file to be able to use group names
  *** WARNING *** No groups have been defined in the FRT
  *** WARNING *** Illegal feature code 'integer'
  *** WARNING *** Bad group name 'group-name'


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-52
  SELECT FC command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mSELECT[0m [1mFC[0m [1m6:9,WATER,126<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-53
  SELECT LAYER command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSELECT[0m [1mLAYER[0m

          Selects IFF features which lie within the specified layers  for  use  as
          control for the blend process.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      SELECT[0m [1mLAYER[0m [1mlayer[,...][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  layer

          An IFF layer number must lie in the range 0 to 32767.   Multiple  layers
          may be specified separated by commas or spaces.  Ranges of layers may be
          specified by separating the range start and stop values by a colon, e.g.
          SELECT LAYER 2:6 will result in the selection of layers 2,3,4,5 and 6.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SELECT LAYER command complements the DESELECT LAYER command.   SELECT  LAYER
  enables  the  user  to  select  any  IFF features which are contained within the
  specified layers.

  By default DTIBLEND will input all features within an IFF  file,  regardless  of
  the layer in which they lie.

  On program startup all layers are selected for input.  IFF  features  which  are
  not  required  for  input  must  be  specifically excluded using the appropriate
  DESELECT FC and DESELECT LAYER commands.   For  example,  the  command  DESELECT
  LAYER  0:7  11:300  302:32767  will  leave only features which lie within layers
  8,9,10, and 301 selected for input.

  The first SELECT LAYER command has the effect of  deselecting  all  layers  from
  input  except  those  explicitly  specified as the arguments to the SELECT LAYER
  command.  Subsequent SELECT  LAYER  commands  have  the  effect  of  adding  the
  specified layers to the list of FCs selected for input.

  All layers and FCs may be reselected for input  by  specifying  the  SELECT  ALL
  command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the SELECT LAYER command:

  *** WARNING *** Too many layer arguments in one command
  *** WARNING *** Illegal layer number 'integer'


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-54
  SELECT LAYER command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mSELECT[0m [1mLAYER[0m [1m21:29,126<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-55
  SHOW command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m

          Shows current status of DTIBLEND defaults.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mSHOW[0m [1msubject[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  subject

          The subject that is to be displayed, chosen from:

          BORDER     ENABLE   FILES     NULL     SELECTIONS   THRESHOLD


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  SHOW enables the user to examine the current status of the DTIBLEND options  and
  parameters.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the SHOW command:

  *** ERROR *** Specifying command SHOW

  Available SHOW command qualifiers are:

  BORDER     ENABLE    FILES     NULL     SELECTIONS   THRESHOLD


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ DTIBLEND<CR>
  MATRIX module DTIBLEND of 18:08:43 26-FEB-88
  DTIBLEND> [1mSHOW[0m [1mBORDER<CR>[0m

  Blend border width ......................................... 3
  DTIBLEND> [1mQUIT<CR>[0m
   ELAPSED:    0 00:01:25.42  CPU: 0:00:01.30  BUFIO: 12  DIRIO: 10  FAULTS: 187 
  $



  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-56
  SHOW BORDER command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mBORDER[0m


          Shows current status of the BORDER parameter.


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m                [1mSHOW[0m [1mBORDER[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m


  SHOW BORDER enables the user to examine the current status of the DTIBLEND
  BORDER parameter.


  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ DTIBLEND<CR>
  MATRIX module DTIBLEND of 18:08:43 26-JAN-89
  DTIBLEND> [1mSHOW[0m [1mBORDER<CR>[0m

  Blend border width ......................................... 3
  DTIBLEND> [1mQUIT<CR>[0m
   ELAPSED:    0 00:01:25.42  CPU: 0:00:01.30  BUFIO: 12  DIRIO: 10  FAULTS: 187 
  $


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-57
  SHOW ENABLE command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mENABLE[0m

          Shows current status of DTIBLEND option settings.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mSHOW[0m [1mENABLE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  SHOW ENABLE  enables  the  user  to  examine  the  current  status  of  DTIBLEND
  processing options that are set or unset using the ENABLE and DISABLE commands.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ DTIBLEND<CR>
  MATRIX module DTIBLEND of 18:08:43 26-JAN-89
  DTIBLEND> [1mSHOW[0m [1mENABLE<CR>[0m
  DIAGNOSTICS .................................................. Off
  DIVIDEBY ..................................................... Off
  INTEGER_HEIGHT ............................................... Off
  (Incoming IFF heights expected in type 3 AC entries)
  IN_SITU ...................................................... Off
  MULTIPLY ....................................................  Off
  PME .......................................................... Off
  SMOOTH ....................................................... Off
  TOFEET ....................................................... Off
  TOMETRES ..................................................... Off
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-58
  SHOW FILES command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mFILES[0m

          Shows current DTIBLEND input, output and listing files.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      SHOW[0m [1mFILES[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  SHOW FILES enables the user to examine the current  status  of  DTIBLEND  input,
  output and listing files.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ DTIBLEND<CR>
  MATRIX module DTIBLEND of 19:41:50  8-FEB-89
  DTIBLEND> [1mSHOW[0m [1mFILES<CR>[0m

  BLEND file:
       Not yet specified

  HOLD file:
       None specified

  Output DTI file:
       Not yet specified

  IFF files:
       Not yet specified

  DTIBLEND> [1mQUIT<CR>[0m
   ELAPSED:    0 00:01:25.42  CPU: 0:00:01.30  BUFIO: 12  DIRIO: 10  FAULTS: 187 
  $


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-59
  SHOW NULL command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mNULL[0m

          Shows current DTIBLEND null value selection.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      SHOW[0m [1mNULL[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  SHOW NULL enables the user to examine the current DTIBLEND null value selection.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ DTIBLEND<CR>
  MATRIX module DTIBLEND of 19:41:50  8-FEB-89
  DTIBLEND> [1mSHOW[0m [1mNULL<CR>[0m

  Null value .................................................DTILIB default
  DTIBLEND> [1mQUIT<CR>[0m
   ELAPSED:    0 00:01:25.42  CPU: 0:00:01.30  BUFIO: 12  DIRIO: 10  FAULTS: 187 
  $


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-60
  SHOW SELECTIONS command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mSELECTIONS[0m

          Shows  current  status  of  DTIBLEND  layer  and  feature   code   input
          selections.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      SHOW[0m [1mSELECTIONS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Shows current status of DTIBLEND layer and feature code input selections.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTIBLEND<CR>[0m
  MATRIX module DTIBLEND of 13:53:27  3-FEB-89
  DTIBLEND> [1mSHOW[0m [1mSELECTIONS<CR>[0m
  Feature codes selected for input:
  0-32767
  Layers selected for input:
  0-32767
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-61
  SHOW THRESHOLD command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mTHRESHOLD[0m

          Shows current status of the THRESHOLD parameter.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mSHOW[0m [1mTHRESHOLD[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  SHOW THRESHOLD enables the user to examine the current status  of  the  DTIBLEND
  THRESHOLD parameter.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ DTIBLEND<CR>
  MATRIX module DTIBLEND of 18:08:43 26-JAN-89
  DTIBLEND> [1mSHOW[0m [1mTHRESHOLD<CR>[0m

  Threshold change value for messages ........................Unset
  DTIBLEND> [1mQUIT<CR>[0m
   ELAPSED:    0 00:01:25.42  CPU: 0:00:01.30  BUFIO: 12  DIRIO: 10  FAULTS: 187 
  $


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-62
  SPAWN command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSPAWN[0m

          The SPAWN command enables  you  to  create  a  subprocess  while  within
          DTIBLEND.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mSPAWN[0m [1mcommand-line[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  command-line

          Specifies a DCL command string to be executed as if typed in response to
          a '$' prompt.  When the command completes, the subprocess terminates and
          control is returned to DTIBLEND.  The command string  cannot  exceed  80
          characters.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SPAWN command enables you to create  a  subprocess  while  within  DTIBLEND.
  When the subprocess terminates control is returned to DTIBLEND.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the SPAWN command:

  *** WARNING *** SPAWN requires a valid DCL command line

  *** ERROR *** Unable to spawn command, returning to DTIBLEND

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mSPAWN[0m [1mDIRECTORY[0m [1m*_.DTI;*<CR>[0m

  Directory DUA3:[EXPERIMENT3.DTI]

  HUMUS.DTI;1               7/8       18-Oct-1987 17:07  [LSL,TIM]
  INFILTRATION.DTI;1        8/8       18-Oct-1987 07:56  [LSL,TIM]
  SOILS.DTI;2               7/8       18-Oct-1987 17:17  [LSL,TIM]

  Total of 3 files, 22/24 blocks.

  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-63
  THRESHOLD command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mTHRESHOLD[0m

          Specifies the maximum change in DTI post height  allowed  in  the  blend
          process before DTIBLEND outputs a message.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:      THRESHOLD[0m [1mdifference[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  difference

          The maximum change in DTI post  height  allowed  in  the  blend  process
          before DTIBLEND outputs a message.

  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The value supplied for the THRESHOLD  command  (expressed  in  DTI  file  height
  units)  determines  the  maximum  change in DTI post height allowed in the blend
  process before DTIBLEND outputs a messages to  SYS$OUTPUT  (if  DIAGNOSTICS  are
  enabled),  to  the  optional  listing  file  (see  the  LIST command) and to the
  optional ROVER guidance file (see the ROVER command).

  Unless the THRESHOLD command is used to set a threshold tolerance, DTIBLEND will
  not apply any threshold change tests.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the THRESHOLD command:

  *** WARNING *** You must specify a floating point argument to the THRESHOLD command 
                  For example THRESHOLD 4.2

  *** ERROR *** Invalid THRESHOLD value.
                The THRESHOLD argument must be positive

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mTHRESHOLD[0m [1m-8.3<CR>[0m
  *** ERROR *** Invalid THRESHOLD value.
                The THRESHOLD argument must be positive
  DTIBLEND> [1mBORDER[0m [1m5<CR>[0m
  DTIBLEND> 


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-64
  WAIT command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mWAIT[0m

          Suspend processing for the specified number of seconds.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mWAIT[0m [1mseconds[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  seconds

          The number of seconds for which DTIBLEND processing is to be suspended.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The WAIT command causes processing to be suspended for  a  specified  number  of
  seconds.   It is designed for use in software demonstration situations and is of
  no value in a production flowline.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning message is specific to the WAIT command:

  *** WARNING *** You must specify the number of seconds to wait

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIBLEND> [1mWAIT[0m [1m4<CR>[0m
  DTIBLEND>


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-65
                                                                       5 June 1997







                                 [1mDTIBLEND examples[0m


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-66
                                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m



  $ [1mDTIBLEND<CR>[0m
  DTMCREATE module DTIBLEND of 13:43:42  3-JUN-88
  DTIBLEND> [1mENABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTIBLEND> [1mBLEND[0m [1mLEFT[0m [1mLEFT1<CR>[0m

  Please enter the coordinates of the bottom left-hand corner
  of LSL$DTI:LEFT.DTI;0
  [1m0.0 0.0 <CR>[0m

  File    :  LSL$DTI:LEFT.DTI;0
  Header  :  MIKE  Data:  WORD

  Units are Metres

  Matrix Coverage   SW:       0.00       0.00    NE:     200.00     400.00
  Matrix Interval    E:       2.00                N:       2.00
  Value Range         :   110   to    418


  File    :  LSL$DTI:LEFT1.DTI;0
  Header  :  MIKE  Data:  WORD

  Units are Metres

  Matrix Coverage   SW:       0.00       0.00    NE:     200.00     400.00
  Matrix Interval    E:       2.00                N:       2.00
  Value Range         :   110   to    418

  DTIBLEND> [1mHOLD[0m [1mRIGHT<CR>[0m
  Please enter the coordinates of the bottom left-hand corner
  of LSL$DTI:RIGHT.DTI;0
  [1m200.0[0m [1m0.0<CR>[0m

  File    :  LSL$DTI:RIGHT.DTI;0
  Header  :  MIKE  Data:  WORD

  Units are Metres

  Matrix Coverage   SW:     200.00       0.00    NE:     400.00     400.00
  Matrix Interval    E:       2.00                N:       2.00
  Value Range         :    97   to    468

  DTIBLEND> [1mIFF[0m [1mCONTROL.IFF<CR>[0m

  IFF file LSL$DATA_ROOT:[USER.DATA]CONTROL.IFF;4 selected for read

  DTIBLEND> [1mROVER<CR>[0m
  DTIBLEND> [1mTHRESHOLD[0m [1m2<CR>[0m
  DTIBLEND> [1mGO<CR>[0m




  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-67
  EXAMPLES                                                             5 June 1997


  ---------------  B L E N D   O P T I O N S   S U M M A R Y   ----------

  LSL$DTI:RIGHT.DTI;0 is a HOLD file.

  The blend zone therefore lies entirely within the BLEND
  file LSL$DTI:LEFT1.DTI;0

  Using a BORDER value of 3, the blend zone lies between      196.000
  and   200.000 in X and     0.000 and   400.000 in Y, i.e. column 99 to
  column 101 and row 1 to row 201

  %DTIBLEND-I-RCMOPEN, ROVER guidance file LSL$ROVERCMD:LEFT1.RCM;0 opened for
  write
  %LSLLIB-I-IFFOPENED, LSL$DATA_ROOT:[USER.DATA]CONTROL.IFF;4 opened for read
  %DTIBLEND-I-NOIFFHI, file has no IFF HI entry

  Reading IFF control file LSL$DATA_ROOT:[USER.DATA]CONTROL.IFF;4

  ----------------------------------------------------------------------------

  Blending posts in DTI file LSL$DTI:LEFT1.DTI;0
  Null value detected at end of blend profile
  No blend will be performed on row 2
   ELAPSED:    0 00:04:22.66  CPU: 0:00:50.63  BUFIO: 24  DIRIO: 3151  FAULTS: 358


            This example illustrates the use of DTIBLEND for blending the edge  of
            one DTI file to the edge of another which is held fixed.

            For the purposes of the  example,  the  user  has  enabled  diagnostic
            message output by using the ENABLE DIAGNOSTICS command.

            The BLEND command is then used to specify the DTI file that is  to  be
            blended  along the blend edge and a DTI file to receive the results of
            the blend process.  Notice that the user has specified filenames  only
            as  arguments  to  the  BLEND  command.   Missing  parts  of  the file
            specifications are taken from the default  'LSL$DTI:DTI.DTI;0'.   This
            results  in  the  file LSL$DTI:LEFT.DTI;0 being opened readonly as the
            file which is to be blended, and LSL$DTI:LEFT1.DTI;0 as  the  file  to
            receive  the  results of blending LSL$DTI:LEFT.DTI;0.  As the readonly
            input file has a MIKE  type  header,  DTIBLEND  must  prompt  for  the
            coordinate  offset of the south west corner of the DTI file.  The user
            has typed in the coordinates  (0.0,0.0).   DTIBLEND  copies  both  the
            header and the data from the readonly input DTI file to the output DTI
            file LSL$DTI:LEFT1.DTI;0 in preparation  for  edge  blend  processing.
            The  input  DTI file is then closed as no further reference is made to
            it.   The  blend  process   will,   from   now   onwards,   refer   to
            LSL$DTI:LEFT1.DTI;0 only.

            The user has then specified a HOLD command.  The file defined  by  the
            file-spec  argument  to the BLEND command is opened for readonly input
            and will act as the fixed Z value edge for the blend process.  As  the
            hold  file  also  has  a  MIKE  type  header, DTIBLEND prompts for the
            coordinate offset of the south west corner of the file.  The user  has
            responded  with the coordinates (200.0, 0.0).  This means that looking
            at the HOLD and BLEND DTI file header reports which DTIBLEND issues on


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-68
  EXAMPLES                                                             5 June 1997


            opening  a  DTI  file,  the  two  DTI  files  LSL$DTI:LEFT1.DTI;0  and
            LSL$DTI:RIGHT.DTI;0 lie side by side.  The two files  share  a  common
            column  of  data which is column 101 in LSL$DTI:LEFT1.DTI and column 1
            in LSL$DTI:RIGHT.DTI;0.

            The user has next specified that control for the blend process  is  to
            be  taken  from the features in the IFF file LSL$IF:CONTROL.IFF;0.  As
            the user has specified no input feature selection with the SELECT  and
            DESELECT  commands  all  features  in the IFF file that lie within the
            blend zone will be read and used as control  for  the  blend  process.
            IFF  feature  heights,  where  not available from ZS or CB (Coordinate
            Block) Z coordinates, will by default  be  taken  from  a  type  3  AC
            (Ancillary Code) within the IFF feature.

            The user has next specified that  DTIBLEND  is  to  generate  a  ROVER
            guidance  file  which will contain ROVER editing commands to guide the
            user to any posts within the  output  DTI  file  (LSL$DTI:LEFT1.DTI;0)
            which have been changed by more than the specified threshold value, or
            which could not be changed because of the presence of a null value.

            The user has next specified the threshold value.  Any changes that are
            greater  than  this  value  will  be reported and commands sent to the
            ROVER guidance file.

            The user has then issued a GO command and the edge blend begins.

            After providing a blend option summary and opening the ROVER  guidance
            file, the IFF control file is opened and read.

            Apart from detecting a null  post  at  one  end  of  row  2,  DTIBLEND
            successfully performs the blend.  The IFF and DTI files are closed and
            DTIBLEND exits.  DCL symbol  $STATUS  is  set  to  SS$_NORMAL,  normal
            successful completion.


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-69
                                                                       5 June 1997







                                 [1mDTIBLEND messages[0m


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-70
  MESSAGES (INFORMATIONAL)                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  CONFLMDPAR, conflicting projection parameters in 'file-spec'

      [1mExplanation:[0m  If more than one IFF  file  is  specified  for  use  as  blend
      control,  DTIBLEND  takes pains to check that the type 2 IFF Map Descriptors
      are all set to common values for  projection,  measurement  units,  spheroid
      etc.   The  first  input  file  is  considered  to  have  the definitive Map
      Descriptor information.  This message indicates that the input files contain
      data relating to different projection parameters.

      [1mUser[0m [1maction:[0m  Use ITRANS to transform all the  input  files  into  a  common
      projection, measurement system etc.

  CONFLPROJ, conflicting map projection in 'file-spec'

      [1mExplanation:[0m  If more than one IFF  file  is  specified  for  use  as  blend
      control,  DTIBLEND  takes pains to check that the type 2 IFF Map Descriptors
      are all set to common values for  projection,  measurement  units,  spheroid
      etc.   The  first  input  file  is  considered  to  have  the definitive Map
      Descriptor information.  This message indicates that the input files contain
      data on different projections.

      [1mUser[0m [1maction:[0m  Use ITRANS to transform all the  input  files  into  a  common
      projection, measurement system etc.

  CONFLSPHERE, conflicting spheroid in 'file-spec'

      [1mExplanation:[0m  If more than one IFF  file  is  specified  for  use  as  blend
      control,  DTIBLEND  takes pains to check that the type 2 IFF Map Descriptors
      are all set to common values for  projection,  measurement  units,  spheroid
      etc.   The  first  input  file  is  considered  to  have  the definitive Map
      Descriptor information.  This message indicates that the input files contain
      data on different spheroids.

      [1mUser[0m [1maction:[0m  Use ITRANS to transform all the  input  files  into  a  common
      projection, measurement system etc.

  CONFLUNIT, conflicting map units in 'file-spec'

      [1mExplanation:[0m  If more than one IFF  file  is  specified  for  use  as  blend
      control,  DTIBLEND  takes pains to check that the type 2 IFF Map Descriptors
      are all set to common values for  projection,  measurement  units,  spheroid
      etc.   The  first  input  file  is  considered  to  have  the definitive Map
      Descriptor information.  This message indicates that the input files contain
      data in different measurement systems.

      [1mUser[0m [1maction:[0m  Use ITRANS to transform all the  input  files  into  a  common
      projection, measurement system etc.


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-71
  MESSAGES (INFORMATIONAL)                                             5 June 1997


  CONFLUSPHERE, conflicting user spheroid in 'file-spec'

      [1mExplanation:[0m  If more than one IFF  file  is  specified  for  use  as  blend
      control,  DTIBLEND  takes pains to check that the type 2 IFF Map Descriptors
      are all set to common values for  projection,  measurement  units,  spheroid
      etc.   The  first  input  file  is  considered  to  have  the definitive Map
      Descriptor information.  This message indicates that the input files contain
      data on different user defined spheroids.

      [1mUser[0m [1maction:[0m  Use ITRANS to transform all the  input  files  into  a  common
      projection, measurement system etc.

  DTIIFFPRJ, the DTI input files and IFF control have different projections

      [1mExplanation:[0m  DTIBLEND checks that the type 2 IFF Map Descriptors in the IFF
      control  files  define  the  same projection, units, spheroid etc as the DTI
      input file projection records.  The  IFF  and  DTI  data  appear  to  be  on
      different projections.

      [1mUser[0m [1maction:[0m  Use ITRANS and DTITRANS to transform all the input files  into
      a common projection, measurement system etc.

  DTIIFFPRJP, the DTI input files and IFF control have different projection
      parameters

      [1mExplanation:[0m  DTIBLEND checks that the type 2 IFF Map Descriptors in the IFF
      control  files  define  the  same projection, units, spheroid etc as the DTI
      input file projection  records.   The  IFF  and  DTI  data  appear  to  have
      different projection parameters.

      [1mUser[0m [1maction:[0m  Use ITRANS and DTITRANS to transform all the input files  into
      a common projection, measurement system etc.

  DTIIFFSPH, the DTI input files and IFF control have different spheroids

      [1mExplanation:[0m  DTIBLEND checks that the type 2 IFF Map Descriptors in the IFF
      control  files  define  the  same projection, units, spheroid etc as the DTI
      input file projection records.  The  IFF  and  DTI  data  appear  to  be  on
      different spheroids.

      [1mUser[0m [1maction:[0m  Use ITRANS and DTITRANS to transform all the input files  into
      a common projection, measurement system etc.

  DTIIFFUNI, the DTI input files and IFF control have different units

      [1mExplanation:[0m  DTIBLEND checks that the type 2 IFF Map Descriptors in the IFF
      control  files  define  the  same projection, units, spheroid etc as the DTI
      input file projection records.  The IFF and DTI  data  appear  to  be  using
      different units.

      [1mUser[0m [1maction:[0m  Use ITRANS and DTITRANS to transform all the input files  into
      a common projection, measurement system etc.


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-72
  MESSAGES (INFORMATIONAL)                                             5 June 1997


  DTIIFFUSPH, the DTI input files and IFF control have different user defined
      spheroids

      [1mExplanation:[0m  DTIBLEND checks that the type 2 IFF Map Descriptors in the IFF
      control  files  define  the  same projection, units, spheroid etc as the DTI
      input file projection records.  The  IFF  and  DTI  data  appear  to  be  on
      different user defined spheroids.

      [1mUser[0m [1maction:[0m  Use ITRANS and DTITRANS to transform all the input files  into
      a common projection, measurement system etc.

  FTIGN, feature ignored

      [1mExplanation:[0m  The IFF feature  specified  in  a  previous  message  will  be
      omitted from DTIBLEND input.

      [1mUser[0m [1maction:[0m  Check that omission of  the  specified  feature  will  not  be
      detrimental to the blend process.

  LSTOPEN, listing file 'file-spec' opened for write

      [1mExplanation:[0m  In response to the LIST command the specified listing file has
      been created and opened for write.

      [1mUser[0m [1maction:[0m  None.

  NOIFFHI, file has no IFF HI entry

      [1mExplanation:[0m  The input IFF file that  is  currently  open  is  of  the  old
      pre-IMP pattern and probably also lacks a type 2 map descriptor (for which a
      separate warning will be issued).

      [1mUser[0m [1maction:[0m  None.

  RCMOPEN, ROVER guidance file 'file-spec' opened for write

      [1mExplanation:[0m  In response to the ROVER command the specified ROVER  guidance
      file has been created and opened for write.

      [1mUser[0m [1maction:[0m  None.


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-73
  MESSAGES (WARNING)                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  CONFLMD, conflicting Map Descriptor information

      [1mExplanation:[0m  If more than one IFF  file  is  specified  for  use  as  blend
      control,  DTIBLEND  checks  that  the  type 2 Map Descriptors are all set to
      common values for projection, measurement units, spheroid  etc.   The  first
      input  file is considered to have the definitive Map Descriptor information.
      The accompanying messages will indicate what aspect of the Map Descriptor is
      at fault and in which file.

      [1mUser[0m [1maction:[0m  Use ITRANS to transform all the  input  files  into  a  common
      projection, measurement system, etc.  Re-run DTIBLEND.

  EQNFAIL, Equation solution failure

      [1mExplanation:[0m  DTIBLEND was unable  to  determine  the  equation  of  a  line
      defined by adjacent points in an IFF string.

      [1mUser[0m [1maction:[0m  DTIBLEND will  continue  to  process  the  remaining  relevant
      features  within  the  IFF  file.   If  this message appears very frequently
      examine the IFF underlay data within the blend zone.   Look  for  supimposed
      points  and  consider any possible effect of the IFF coordinate system being
      used.

  FTNOTAC, feature 'integer' ('integer') has no type %W'integer' AC

      [1mExplanation:[0m  The specified feature has no height AC of the specified type.

      [1mUser[0m [1maction:[0m  Check that omission of  the  specified  feature  will  not  be
      detrimental to the blend process.

  IFFCLIFF, Feature 'integer' ('integer') is a cliffline

      [1mExplanation:[0m  The specified IFF feature has type 80  and  81  AC  (Ancillary
      Code) entries which identify it as a cliffline.  DTIBLEND does not currently
      support clifflines as control to the edge blend process.

      [1mUser[0m [1maction:[0m  Check that omission of  the  specified  feature  will  not  be
      detrimental to the blend process.

  NOMD, no map descriptor found in 'file-spec'

      [1mExplanation:[0m  The specified IFF file does not have a map  descriptor  entry.
      This  is  most  irregular, and is probably the result of output from a badly
      written user routine or the mis-use of IPATCH in /WRITE mode.  DTIBLEND will
      attempt to continue.

      [1mUser[0m [1maction:[0m  Determine the cause of the input file corruption and  rectify.
      Check the DTIBLEND output files.


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-74
  MESSAGES (WARNING)                                                   5 June 1997


  NOV2MD, IFF map descriptor in 'file-spec' is not version 2

      [1mExplanation:[0m   DTIBLEND  expects  IFF  input  files  to  have  type  2   map
      descriptors  as  it  offers  IFF  file offsetting functionality based on the
      contents of the map descriptor.  DTIBLEND is downwards compatible  with  old
      pattern  IFF  files  which have type 1 map descriptors, but no origin offset
      facility is supported for the earlier pattern files.

      [1mUser[0m [1maction:[0m  If origin offsetting  is  required  use  ITRANS/DESCRIPTOR  to
      create a copy of the IFF file having a type 2 map descriptor.

  UNEXPACT, unexpected type 'integer' AC found in feature 'integer' ('integer')

      [1mExplanation:[0m  An AC (Ancillary Code) of the specified type has been found in
      the  specified  feature.  It will be ignored as DTIBLEND expects only type 2
      (integer height), type 3 (real height) or type 80 and 81 (cliffline) ACs.

      [1mUser[0m [1maction:[0m  None.

  UNSETMD, map descriptor in 'file-spec' is unset

      [1mExplanation:[0m  The Map Descriptor in the specified input file is unset.

      [1mUser[0m [1maction:[0m  If origin offsetting is required or  other  input  files  have
      characteristics   which   require   the   map  descriptor  to  be  set,  use
      ITRANS/DESCRIPTOR to set up the map descriptor.  Re-run DTIBLEND.


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-75
  MESSAGES (ERROR)                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  CLDTI, error closing DTI file 'file-spec'

      [1mExplanation:[0m  DTIBLEND is unable to close the specified DTI file.

      [1mUser[0m [1maction:[0m  The supplementary messages supplied  with  this  message  will
      enable  the  user  to  determine  the  cause of the problem.  If the problem
      persists notify your system manager.

  CLIFF, error closing IFF file 'file-spec'

      [1mExplanation:[0m  DTIBLEND is unable to close the specified IFF file.

      [1mUser[0m [1maction:[0m  The supplementary messages supplied  with  this  message  will
      enable  the  user  to  determine  the  cause of the problem.  If the problem
      persists notify your system manager.

  CLIND, error closing indirect command file 'file-spec'

      [1mExplanation:[0m  DTIBLEND is unable to close the indirect command file.

      [1mUser[0m [1maction:[0m  The supplementary messages supplied  with  this  message  will
      enable  the  user  to  determine  the  cause of the problem.  If the problem
      persists notify your system manager.

  CLLIT, error closing LITES2 file 'file-spec'

      [1mExplanation:[0m  DTIBLEND is unable to  close  the  specified  LITES2  guidance
      file.

      [1mUser[0m [1maction:[0m  The supplementary messages supplied  with  this  message  will
      enable  the  user  to determine the cause of the problem, e.g.  insufficient
      disk space for file allocation.  Notify your system manager.

  CLROV, error closing ROVER file 'file-spec'

      [1mExplanation:[0m  DTIBLEND is unable to close the specified ROVER guidance file.

      [1mUser[0m [1maction:[0m  The supplementary messages supplied  with  this  message  will
      enable  the  user  to determine the cause of the problem, e.g.  insufficient
      disk space for file allocation.  Notify your system manager.


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-76
  MESSAGES (ERROR)                                                     5 June 1997


  IFOUTBZ, IFF file 'file-spec' lies wholly outside the blend zone

      [1mExplanation:[0m  All the data within the specified IFF file lies outside of the
      blend zone and is therefore of no use as control for the edge blend process.

      [1mUser[0m [1maction:[0m  Check that the correct IFF file  was  specified  to  DTIBLEND.
      Also  check  that  the  origin offset in the IFF file MD (Map Descriptor) is
      correctly set.

  INVDTYP, invalid DTI data type for DTIBLEND

      [1mExplanation:[0m  DTIBLEND has discovered that an input DTI file has  data  type
      BIT or BYTE

      [1mUser[0m [1maction:[0m  Check that you are using the correct input DTI files.   If  so
      use the DTICONVERT utility to change the data type of the input DTI files to
      WORD, LONGWORD or REAL.

  MISMDTYP, mismatched input DTI file data types detected

      [1mExplanation:[0m   DTIBLEND  has  discovered  that  the  input  DTI  files  have
      different DTI data types.

      [1mUser[0m [1maction:[0m  Check that you are using the correct input DTI files.   If  so
      use  the  DTICONVERT utility to change the data type of one of the input DTI
      files.

  MISMHTYP, mismatched input DTI file header types detected

      [1mExplanation:[0m   DTIBLEND  has  discovered  that  the  input  DTI  files  have
      different DTI header types.

      [1mUser[0m [1maction:[0m  Check that you are using the correct input DTI files.   If  so
      use the DTICONVERT utility to change the header type of one of the input DTI
      files.

  MISMLAT, mismatched input DTI latitude steps

      [1mExplanation:[0m  DTIBLEND has discovered that the DTED  input  DTI  files  have
      different latitude steps between the rows.

      [1mUser[0m [1maction:[0m  Check that you are using the correct input DTI files.   If  so
      use the DTITRANS utility to change the latitude step of one of the input DTI
      files.

  MISMLON, mismatched input DTI longitude steps

      [1mExplanation:[0m  DTIBLEND has discovered that the DTED  input  DTI  files  have
      different longitude steps between the columns.

      [1mUser[0m [1maction:[0m  Check that you are using the correct input DTI files.   If  so
      use  the  DTITRANS  utility to change the longitude step of one of the input
      DTI files.


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-77
  MESSAGES (ERROR)                                                     5 June 1997


  MISMPJPAR, mismatched DTI projection parameters

      [1mExplanation:[0m   DTIBLEND  has  discovered  that  the  ALVY  input  DTI   file
      projection records define different projection parameters.

      [1mUser[0m [1maction:[0m  Check that you are using the correct input DTI files.   If  so
      use  the  DTITRANS utility to change the projection parameters of one of the
      input DTI files.

  MISMPRJ, mismatched DTI projections

      [1mExplanation:[0m   DTIBLEND  has  discovered  that  the  ALVY  input  DTI   file
      projection records define different projections

      [1mUser[0m [1maction:[0m  Check that you are using the correct input DTI files.   If  so
      use  the  DTITRANS  utility to change the projection of one of the input DTI
      files.

  MISMPRJR, mismatched input DTI file projection records

      [1mExplanation:[0m  DTIBLEND has read a projection recoed from one  of  the  input
      DTI files but is unable to do so from the other.

      [1mUser[0m [1maction:[0m  Use DTITRANS to insert the missing projection record.

  MISMSAMX, mismatched DTI projection record X sample interval

      [1mExplanation:[0m   DTIBLEND  has  discovered  that  the  ALVY  input  DTI   file
      projection records define different x sample intervals.

      [1mUser[0m [1maction:[0m  Check that you are using the correct input DTI files.   If  so
      use the DTITRANS utility to change the X sample interval of one of the input
      DTI files.

  MISMSAMY, mismatched DTI projection record Y sample interval

      [1mExplanation:[0m   DTIBLEND  has  discovered  that  the  ALVY  input  DTI   file
      projection records define different Y sample intervals

      [1mUser[0m [1maction:[0m  Check that you are using the correct input DTI files.   If  so
      use the DTITRANS utility to change the Y sample interval of one of the input
      DTI files.

  MISMSPH, mismatched DTI projection spheroid

      [1mExplanation:[0m   DTIBLEND  has  discovered  that  the  ALVY  input  DTI   file
      projection records define different spheroids.

      [1mUser[0m [1maction:[0m  Check that you are using the correct input DTI files.   If  so
      use  the  DTITRANS  utility  to  change the spheroid of one of the input DTI
      files.


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-78
  MESSAGES (ERROR)                                                     5 June 1997


  MISMUNI, mismatched DTI projection units

      [1mExplanation:[0m   DTIBLEND  has  discovered  that  the  ALVY  input  DTI   file
      projection records define different projection units.

      [1mUser[0m [1maction:[0m  Check that you are using the correct input DTI files.   If  so
      use  the DTITRANS utility to change the projection units of one of the input
      DTI files.

  MISMUSPH, mismatched DTI projection user defined spheroid

      [1mExplanation:[0m   DTIBLEND  has  discovered  that  the  ALVY  input  DTI   file
      projection records define different user defined spheroids.

      [1mUser[0m [1maction:[0m  Check that you are using the correct input DTI files.   If  so
      use  the  DTITRANS utility to change the user definrd spheroid of one of the
      input DTI files.

  MISMXST, mismatched input DTI x-steps

      [1mExplanation:[0m   DTIBLEND  has  discovered  that  the  input  DTI  files  have
      different x-steps between the columns.

      [1mUser[0m [1maction:[0m  Check that you are using the correct input DTI files.   If  so
      use  the  DTITRANS  or  DTIPATCH  utility to change the x-step of one of the
      input DTI files.

  MISMYST, mismatched input DTI y-steps

      [1mExplanation:[0m   DTIBLEND  has  discovered  that  the  input  DTI  files  have
      different y-steps between the rows.

      [1mUser[0m [1maction:[0m  Check that you are using the correct input DTI files.   If  so
      use  the  DTITRANS  or  DTIPATCH  utility to change the y-step of one of the
      input DTI files.

  OPNLST, error opening LIST file 'file-spec' for write'

      [1mExplanation:[0m  DTIBLEND has failed to open the specified LIST file.

      [1mUser[0m [1maction:[0m  The supplementary message given after this error  should  help
      you  to  decide what has gone wrong (e.g.  disk full, file protection error,
      etc.).  Correct this problem and then re-run DTIBLEND.

  OPNRCM, error opening ROVER file %S for write'

      [1mExplanation:[0m  DTIBLEND has failed to open the specified LIST file.

      [1mUser[0m [1maction:[0m  The supplementary message given after this error  should  help
      you  to  decide what has gone wrong (e.g.  disk full, file protection error,
      etc.).  Correct this problem and then re-run DTIBLEND.


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-79
  MESSAGES (ERROR)                                                     5 June 1997


  RDDTIPROJ, error reading projection record in 'file-spec'

      [1mExplanation:[0m  DTIBLEND has detected an error while  reading  the  projection
      record from the specified ALVY type DTI file.

      [1mUser[0m [1maction:[0m  The supplementary messages which accompany this message should
      help you determine the cause of the error.

  TOMNYIFTR, Too many IFF features lies within blend zone

      [1mExplanation:[0m  Too many IFF features lie within the blend  zone  for  use  as
      control to the blend process.

      [1mUser[0m [1maction:[0m  Reduce the number of features that lie within the  blend  zone
      by  using  DTIBLEND  two or more times, each time specifying IFF control for
      different sections of the blend zone.

  UNEXPEOF, unexpected end of IFF file 'file-spec'

      [1mExplanation:[0m  The specified input IFF file terminated before an IFF EJ entry
      was encountered.

      [1mUser[0m [1maction:[0m  Use the IMP utility IMEND to  correctly  terminate  the  file.
      Re-run  DTIBLEND  on  the  repaired  IFF  file.  If the problem persists try
      reading the file into LITES2 and then exit.  Re-run DTIBLEND.


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-80
  MESSAGES (FATAL)                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(FATAL)[0m

  These messages indicate a severe error in processing, or  some  form  of  system
  failure, which has caused the program to terminate.

  RETPOST, failed to return to blend file post

      [1mExplanation:[0m  DTIBLEND was unable to locate the current post  in  the  blend
      DTI file

      [1mUser[0m [1maction:[0m  The supplementary messages supplied  with  this  message  will
      enable  the  user  to  determine  the  cause of the problem.  If the problem
      persists please  save  all  the  data  files  used  and  submit  an  SPR  to
      Laser-Scan.


  MATRIX REFERENCE (3.7): DTIBLEND - DTI File Edge Blend Utility         Page 4-81
  MESSAGES (OTHER)                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages may be generated  by  the  DTILIB
  library  and by the Laser-Scan I/O library, LSLLIB.  DTILIB library messages are
  introduced by '%DTILIB' and are  documented  in  the  MATRIX  package  reference
  manual.   In most cases DTI errors will be due to a corrupt input file, and this
  should be the first area of investigation.  If the cause of the error cannot  be
  traced by the user, and Laser-Scan are consulted, then the output file should be
  preserved to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'
  and  are  generally  self-explanatory.   They are used to explain the details of
  program generated errors.














                                     CHAPTER 5

                                   MODULE DTITILE





  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility                Page 5-1
                                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE     DTITILE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m   PANACEA modules PANTILE and PANULL.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTITILE is a utility to merge together DTI files  or  to  create  void
            areas  in  a  DTI  file.   Up  to  eight DTI input files can be merged
            together in one DTITILE run.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DTITILE

  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            DTITILE is  command  driven.   Command  input  is  expected  when  the
            following prompt is issued:
             
            DTITILE>

  [1m--------------------------------------------------------------------------------[0m
  [1mDTITILE[0m [1mcommand[0m [1mdefaults[0m

            On program startup, the following command defaults apply:

            ABSOLUTE     - enabled.

            DIAGNOSTICS  - disabled.

            NULL         - once the first input DTI file  is  specified  the  null
                           will have one of the following:-

                           0 if BYTE type.
                           -32767 if WORD type.
                           80000000 Hex if LONG type.
                           -1.0E-38 if REAL type.

            NULL_CHECKING  - disabled.

            PME          - disabled.

            UNITS        - once a DTI file is specified appropriate default  UNITS
                           are setup.

            WINDOW       - None specified.


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility                Page 5-2
  DTITILE command defaults                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mGeneral[0m


            DTITILE is a command driven utility to merge up  to  eight  DTI  files
            into  a larger DTI output file, or to extract an area of interest from
            an input DTI file and write this to a separate DTI output  file.   The
            utility  also includes a facility to make areas void in the output DTI
            file.

            The DTI files always may be explicitly positioned with respect to  one
            another  using  the  ORIGIN  command.  However, if the DTI files to be
            tiled have absolute origin offset  information  set  up  in  the  file
            headers,  then  DTITILE calculates default origins to enable automatic
            positioning to take place.

            The output file derives its  header  information  primarily  from  the
            first  input  file  specified  with the FILEIN command.  Origin offset
            information is obtained from the most  southerly  and  westerly  input
            files,  or  from  any WINDOW specifications which have been applied to
            them.

            DTITILE will only accept input DTI files which  share  the  same  data
            type.   It is not possible, for example, to merge together a byte type
            DTI file with a real*4 type DTI file.  IF the second or subsequent DTI
            files  are  found  to  be  a  different  data  type  than  the  first,
            appropriate messages are issued.  The DTI file  will  be  closed  with
            control being returned to the command input prompt.

            DTITILE will give warning messages if input file header types or units
            types  do  not  match,  or if the X or Y grid intervals are different.
            Tiling may still however, be carried out.

  [1mTypical[0m [1mcommand[0m [1msequence[0m

            A typical command sequence is:

            FILEOUT LSL$DTI:FINAL      (output file is LSL$DTI:FINAL.DTI)
            FILEIN AREA1               (input file 1 is LSL$DTI:AREA1.DTI)
            ORIGIN 1 1                 (the SW corner of file 1 will correspond
                                       to position 1 1 in the output matrix)
            FILEIN AREA4               (input file 2 is LSL$DTI:AREA4.DTI)
            ORIGIN 200 200             (the SW corner of file 2 will correspond 
                                       to position 200 200 in the output matrix)
            FILEIN AREA6               (input file 3 is LSL$DTI:AREA6.DTI)
            WINDOW 100 100 200 200     (area of interest in file 3 is defined
                                       by SW 100x 100y and NE 200x 200y)
            ORIGIN 200 1               (the SW corner of the file 3 window will
                                       correspond to position 200 1 in the 
                                       output matrix)
            GO                         (start to process)


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility                Page 5-3
  DESCRIPTION                                                          5 June 1997


            This series of commands will create an output  file  LSL$DTI:FINAL.DTI
            consisting of data from the 3 input files.  Positioning is carried out
            explicitly with the ORIGIN command.  Note that in the case of  file  3
            only   the  data  within  the  specified  area  of  interest  will  be
            transferred to the output matrix.

            Areas in the output DTI file for which no data are available  will  be
            given a null height value.

  [1m--------------------------------------------------------------------------------[0m


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility                Page 5-4
                                                                       5 June 1997







                                 [1mDTITILE commands[0m



  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility                Page 5-5
  @ command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1m@[0m

          Take command input from the specified file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1m@file-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The file to be opened and used for command input.

          Any parts of the file-spec not supplied for the @ command will be  taken
          from the default specification 'SYS$DISK:[].COM;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DTITILE offers the facility of command input from an indirect command file.  The
  '@' character preceding a file-spec will cause DTITILE to open and read commands
  from the specified file until:

       1.  a  RETURN  command  is  detected  and  command  input  is  returned  to
           SYS$COMMAND.

       2.  end-of-file is detected.  This provokes an error  message  and  command
           input is returned to SYS$COMMAND.


  Nested command files are not supported (i.e. a command file  containing  an  '@'
  command),  although  sequential  '@'  commands  are  supported  when  read  from
  SYS$COMMAND.

  As an aid to batch log interpretation DTITILE will echo all commands  read  from
  an indirect command file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the @ command:

  *** WARNING *** "@" must precede a file-spec

  *** WARNING *** Indirect file error - returning to terminal input

  *** ERROR *** Can't open indirect command file 'file-spec'


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility                Page 5-6
  @ command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1m@PRESETS<CR>[0m
  DTITILE> ENABLE DIAGNOSTICS
  DTITILE> FILEIN AREA1
  DTI file LSL$DTI:AREA1.DTI;0 opened for read
  Header  :  LSLA  Data:  REAL

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    45    40
  Matrix Interval    E:     1         N:     1
  Value Range         :     -5.00 to  326421.00

  DTITILE> WINDOW 1 1 30 30
  DTITILE> FILEOUT AREA15
  DTITILE> SIZE 50 50
  DTITILE> RETURN
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility                Page 5-7
  ! command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1m![0m

          Treat all text to the right of the '!' as a comment.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1m![0m [1m[comment[0m [1mtext][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  comment text

          text that is to be treated as a comment and which will be excluded  from
          command interpretation.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  An exclamation mark is the standard MATRIX package comment delimiter.  All  text
  (and  numbers)  which  lie  to  the  right  of a '!' character are excluded from
  command interpretation.  Comments are useful for annotating  command  procedures
  used in batch processing etc.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1m![0m [1ma[0m [1mcomment[0m [1mfor[0m [1mthe[0m [1msake[0m [1mof[0m [1mit<CR>[0m
  DTITILE> [1mWINDOW[0m [1m0.0[0m [1m0.0[0m [1m900.0[0m [1m900.0<CR>[0m
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility                Page 5-8
  CANCEL VOID command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mCANCEL[0m [1mVOID[0m

          Cancels a previously specified void window.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mCANCEL[0m [1mVOID[0m [1mvoid_number[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  void_number

          The void number is an identifier assigned to the void window by the VOID
          command.  The void number is integer and must be in the range 1 to 10.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The CANCEL VOID command cancels a previously specified void window.  A  list  of
  currently defined void windows can be obtained using the SHOW VOIDS command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  *** ERROR *** Specifying the command CANCEL

  Available CANCEL command qualifiers are:

  VOID

  The following messages are specific to the CANCEL VOID command:

  *** ERROR *** Specifying the command CANCEL VOID
  Command requires void_number

  *** ERROR *** Specifying the command CANCEL VOID
  Void 'void_number' out of range
  Use command SHOW VOIDS to list defined voids

  *** ERROR *** Specifying the command CANCEL VOID
  Void 'void_number' not defined
  Use command SHOW VOIDS to list defined voids


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mSHOW[0m [1mVOIDS<CR>[0m
  Void number 1 in DTI matrix units 10 10 20 20
  Void number 2 in DTI matrix units 35 10 45 20
  Void number 3 in DTI matrix units 60 10 75 20
  DTITILE> [1mCANCEL[0m [1mVOID[0m [1m2<CR>[0m
  DTITILE> [1mSHOW[0m [1mVOIDS<CR>[0m
  Void number 1 in DTI matrix units 10 10 20 20
  Void number 2 not currently set


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility                Page 5-9
  CANCEL VOID command                                                  5 June 1997


  Void number 3 in DTI matrix units 60 10 75 20
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-10
  DISABLE ABSOLUTE command                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mABSOLUTE[0m

          Disables a previous ENABLE ABSOLUTE command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mDISABLE[0m [1mABSOLUTE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE ABSOLUTE  cancels  a  previous  ENABLE  ABSOLUTE  command.   If  DISABLE
  ABSOLUTE is given, then coordinate values required by the ORIGIN, WINDOW or VOID
  commands, supplied in metre or projection units, must be specified as an  offset
  from the SW corner of the matrix.
  By default values should be specified as absolute coordinates.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Available DISABLE command qualifiers are: 
  ABSOLUTE    DIAGNOSTICS     NULL_CHECKING     PME  


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mDISABLE[0m [1mABSOLUTE<CR>[0m
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-11
  DISABLE DIAGNOSTICS command                                          5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mDIAGNOSTICS[0m

          Disables a previous ENABLE DIAGNOSTICS command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mDISABLE[0m [1mDIAGNOSTICS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE DIAGNOSTICS allows the user to disable  a  previous  ENABLE  DIAGNOSTICS
  command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Available DISABLE command qualifiers are: 
  ABSOLUTE    DIAGNOSTICS     NULL_CHECKING     PME  


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mENABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTITILE> [1mDISABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-12
  DISABLE NULLCHECKING command                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mNULL_CHECKING[0m

          Disables a previous ENABLE NULL_CHECKING command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mDISABLE[0m [1mNULL_CHECKING[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE NULL_CHECKING allows the user to disable a previous ENABLE NULL_CHECKING
  command.

  If null checking is disabled, then during tiling, no checking  for  null  values
  overwriting  actual data posts, will take place.  Processing may consequently be
  quicker.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Available DISABLE command qualifiers are: 
  ABSOLUTE    DIAGNOSTICS     NULL_CHECKING     PME  


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mDISABLE[0m [1mNULL_CHECKING<CR>[0m
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-13
  DISABLE PME command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mPME[0m

          Disables a previous ENABLE PME command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mDISABLE[0m [1mPME[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE PME allows the user to disable a previous ENABLE PME command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages  are  specific  to  the  DISABLE  and  DISABLE  PME
  commands:

  *** ERROR *** Specifying command DISABLE
  Available DISABLE command qualifiers are: 
  ABSOLUTE    DIAGNOSTICS     NULL_CHECKING     PME  


  *** WARNING *** You are not using PME !

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mENABLE[0m [1mPME<CR>[0m
  DTITILE> [1mDISABLE[0m [1mPME<CR>[0m
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-14
  ENABLE ABSOLUTE command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mABSOLUTE[0m

          Selects the use of absolute coordinates values.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mENABLE[0m [1mABSOLUTE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  If ENABLE ABSOLUTE is given, then coordinate  values  required  by  the  WINDOW,
  ORIGIN  or  VOID  commands,  supplied  in  metre  or  projection  units, must be
  specified as absolute (rather than relative) coordinate values.

  For example if the projection indicates U.K.  National  Grid,  then  the  WINDOW
  values may be specified as 6 figure National Grid coordinates.
  By default window values should be specified as absolute coordinates.

  ENABLE ABSOLUTE also controls whether  DTITILE  attempts  to  calculate  default
  origins  for files based on the origin offset information held in the headers of
  the files.  This option can be disabled using the DISABLE ABSOLUTE command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE
  Available ENABLE command qualifiers are: 
  ABSOLUTE    DIAGNOSTICS     NULL_CHECKING     PME  


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mENABLE[0m [1mABSOLUTE<CR>[0m
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-15
  ENABLE DIAGNOSTICS command                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mDIAGNOSTICS[0m

          ENABLE DIAGNOSTICS allows the user to enable diagnostic printout.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mENABLE[0m [1mDIAGNOSTICS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE DIAGNOSTICS allows the user to enable diagnostic printout.

  Because DTITILE is usually used in a batch processing  environment,  by  default
  the  utility  produces minimal diagnostic printout.  If however, the user wishes
  to receive an indication of processing progress then diagnostic printout may  be
  selected with the ENABLE DIAGNOSTICS command.

  On a heavily loaded computer it may be reassuring to ENABLE DIAGNOSTICS for  the
  processing  stage  to  indicate  progress  through the input data.  Messages are
  issued indicating which input file is currently being  processed.   The  command
  also  enables  output  of  information on the window being applied if the WINDOW
  command had been invoked for the current input DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE
  Available ENABLE command qualifiers are: 
  ABSOLUTE    DIAGNOSTICS     NULL_CHECKING     PME  


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mENABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-16
  ENABLE NULL_CHECKING command                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mNULL_CHECKING[0m

          ENABLE NULL_CHECKING selects the option to check for null values.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mENABLE[0m [1mNULL_CHECKING[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Sometimes it may be necessary to tile files together in which null values in one
  file  overlap  valid data values in the other.  In this case it is not desirable
  that the null values should overwrite the actual data values in the output  file
  produced.  If the command ENABLE NULL_CHECKING is given, then DTITILE checks for
  null values to ensure this does not happen.

  Because extra checking is involved, processing time may be greater in this  mode
  of operation.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE
  Available ENABLE command qualifiers are: 
  ABSOLUTE    DIAGNOSTICS     NULL_CHECKING     PME  


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mENABLE[0m [1mNULL_CHECKING<CR>[0m
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-17
  ENABLE PME command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mPME[0m

          ENABLE PME enables the PME performance monitor.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mENABLE[0m [1mPME[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE PME and DISABLE PME commands are reserved for Laser-Scan use.  PME is
  a code optimisation tool and should be invoked by LSL software personnel only.

  ENABLE PME causes the PME_INIT routine to be invoked.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessage:[0m

  The following error messages are specific to the ENABLE and ENABLE PME commands:

  *** ERROR *** Specifying command ENABLE
  Available ENABLE command qualifiers are: 
  ABSOLUTE    DIAGNOSTICS     NULL_CHECKING     PME  


  *** WARNING *** You are already using PME!

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mENABLE[0m [1mPME<CR>[0m
  DTITILE>




  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-18
  FILEIN command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mFILEIN[0m


          Specifies a DTI file that is to be opened and used for data input.


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mFILEIN[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m

  file-spec

          The specification of the DTI file to be opened for data input.

          Any parts of the file-spec not supplied for the FILEIN command  will  be
          taken from the default file specification 'LSL$DTI:DTI.DTI;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The FILEIN command causes the specified file to be opened and used as  an  input
  file  to  DTITILE.   A  FILEIN  command  must  be issued before the WINDOW or GO
  commands will be accepted.

  An ORIGIN and a WINDOW command may be specified for each input DTI file,  before
  the next file is defined using the FILEIN command.

  If origin offset information is present in the  header  of  the  file,  and  the
  ENABLE  ABSOLUTE command has been given, then a default origin is calculated, to
  allow automatic positioning to take place.  Otherwise, the default  origin  will
  be the bottom left hand corner of the output DTI file.

  By default the window is the total extent of the input file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the FILEIN command:

  *** ERROR *** Specifying command FILEIN
  You must specify a file-spec argument to the FILEIN command

  *** ERROR *** Specifying command FILEIN
  You have already got eight DTI files open for input

  *** ERROR *** Specifying command FILEIN
  Unable to interpret input file-spec

  *** ERROR *** Specifying command FILEIN
  Failed while opening DTI file 'file spec' for input


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-19
  FILEIN command                                                       5 June 1997


  *** ERROR *** Specifying command FILEIN
  File 'file spec' data type 'type' invalid
  Only data types 1 2 3 or 4 allowed

  *** ERROR *** Specifying command FILEIN
  File 'file-spec' data type not compatible with first DTI file

  *** WARNING *** Header mismatch
  File 'file-spec' does not have the same header type as the first DTI file

  *** WARNING *** Units mismatch
  File 'file-spec' does not have the same units as the first DTI file

  *** WARNING *** Grid interval mismatch
  File 'file-spec' X and/or Y grid not compatible with first DTI file

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mFILEIN[0m [1mAREA1<CR>[0m
  DTI file LSL$DTI:AREA1.DTI;0 opened for read
  Header  :  LSLA  Data:  REAL

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    45    40
  Matrix Interval    E:     1         N:     1
  Value Range         :     -5.00 to  326421.00

  DTITILE>



  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-20
  FILEOUT command                                                      5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mFILEOUT[0m

          Specifies the file-spec of the DTI file which is to receive  the  merged
          DTI data.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mFILEOUT[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m

  file-spec


          The file-spec of the text file which is to receive the DTI data.

          Any parts of the file-spec not supplied for the FILEOUT command will  be
          taken from the default file specification 'LSL$DTI:DTI.DTI;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The FILEOUT command enables specification of the DTI file which  is  to  receive
  the merged DTI data.

  The FILEOUT command must be issued before the GO command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the FILEOUT command:


  *** ERROR *** You must specify a file-spec argument to the FILEOUT command

  *** ERROR *** Unable to interpret output file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mFILEOUT[0m [1mDUA3:[DEMONSTRATION]IDAHO<CR>[0m
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-21
  GO command                                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mGO[0m

          Merge the input files  together  and  put  the  results  into  the  file
          specified with the FILEOUT command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mGO[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Before the merge processing takes places, checks will be carried out  to  ensure
  that  certain  preconditions  hold.   The  following checks are performed by the
  command:-

       1. Test that at least one input DTI file has been opened  and  that  a  DTI
          output  filename has been specified.  An error message will be generated
          and the command will be terminated if the test fails.

       2. If the SIZE command has been executed check  that  the  origins  of  the
          input  DTI  files  lie  within the output DTI limits.  If the test fails
          then a warning message is output indicating that the offending input DTI
          file will not be processed.

       3. If the SIZE command has been executed check that  these  limits  are  at
          least  as  large  as the calculated limits from the input DTI files.  If
          the test fails the size is reset and a  warning  message  is  displayed.
          The command will continue processing.

  The command will create the DTI file specified  by  the  FILEOUT  command.   The
  format  of  the  new  DTI  file  will  be  the  same as the first input DTI file
  specified with the FILEIN command.  The data area will be initialised  with  the
  currently defined null value for the data type.

  Merging of the opened input files will proceed in the order in which  they  were
  specified.

  Upon successful completion of the GO command DTITILE is terminated.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the GO command:

  *** WARNING *** Origin values supplied exceed output file limits
  Input file 'file spec' will not be processed

  *** WARNING *** The supplied columns and/or rows via SIZE command is too small
  The output DTI files will be created with the calculated column and row values.


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-22
  GO command                                                           5 June 1997


  *** ERROR *** FILEIN command must be used to open the DTI file first

  *** ERROR *** FILEOUT command must be used to specify the output DTI file

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mFILEIN[0m [1mSOUTH<CR>[0m
  DTI file LSL$DTI:SOUTH.DTI;0 opened for read

  File    :  LSL$DTI:SOUTH.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   100   100
  Matrix Interval    E:     1         N:     1
  Value Range         :      189 to  326

  DTITILE> [1mFILEIN[0m [1mNORTH<CR>[0m
  DTI file LSL$DTI:NORTH.DTI;0 opened for read

  File    :  LSL$DTI:NORTH.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   100   100
  Matrix Interval    E:     1         N:     1
  Value Range         :      234 to  452

  DTITILE> [1mORIGIN[0m [1m1[0m [1m200<CR>[0m
  DTITILE> [1mFILEOUT[0m [1mFINAL<CR>[0m
  DTITILE> [1mGO<CR>[0m
   ELAPSED: 00:00:20.04  CPU: 0:00:04.71  BUFIO: 281  DIRIO: 46  FAULTS: 263 
  $




  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-23
  HELP command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mHELP[0m

          Give help on a subject

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mHELP[0m [1msubject[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  subject

          The subject on which help is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The HELP command looks the rest of the line up in the MATRIX HELP library.  This
  library contains a brief summary of the operation of each command.

  The information is looked up in the DTITILE section of the MATRIX help  library,
  LSL$HELP:MATRIX.HLB.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  Where required, warning messages are output via the VMS LBR$OUTPUT_HELP utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mHELP[0m [1mENABLE[0m [1mPME<CR>[0m

  DTITILE

        ENABLE

           PME

     The ENABLE PME and DISABLE PME commands are reserved for Laser-Scan use.  PME
     is  a  code optimisation tool and should be invoked by LSL software personnel
     only.

     ENABLE PME causes the PME_INIT routine to be invoked.
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-24
  NULL command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mNULL[0m

          Specifies the null value to be applied to posts in the output  DTI  file
          for which no input DTI value is available.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mNULL[0m [1mnull_value[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  null_value

          The null value to be applied.  This must lie within a range  appropriate
          to the first input DTI file data type and hence the output DTI file data
          type:

                    +-----------+-----------+--------------------+
                    |  Minimum  |  Maximum  |    DTI data type   |
                    +-----------+-----------+--------------------+
                    |    0      |   255     |   BYTE             |
                    | -32767    |   32767   |   WORD INTEGER     |
                    | -2E31     |   2E31-1  |   LONG INTEGER     |
                    | -1.0E38   |   1.0E38  |   REAL_*4          |
                    +-----------+-----------+--------------------+


  By default a value of 0 is used for BYTE type DTI files, -32767  for  WORD  type
  DTI files and 80000000 Hex for LONGWORD and -1.0E-38 for REAL type DTI files.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The NULL command specifies the null value to be applied to posts in  the  output
  DTI file for which no input DTI value is available.

  The current null value may be examined using the command SHOW NULL.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the NULL command:

  *** WARNING *** Null value out of range for a byte type DTI file
  Null value must be between 0 and 255
  Default value restored

  *** WARNING *** Null value out of range for a word type DTI file
  Null value must be between -32767 and 32767
  Default value restored

  *** WARNING *** Null value out of range for a longword type DTI file
  Null value must be between -2E31 and 2E31 - 1
  Default value restored


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-25
  NULL command                                                         5 June 1997


  *** WARNING *** Null value out of range for a real type DTI file
  Null value must be between -1.0E38 and 1.0E38
  Default value restored

  *** ERROR *** FILEIN command must be used to open the DTI file first

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mNULL[0m [1m0<CR>[0m
  DTITILE> [1mSHOW[0m [1mNULL<CR>[0m

  NULL:
  Current null byte value is 0

  DTITILE>



  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-26
  ORIGIN command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mORIGIN[0m

          Specifies the location within the output DTI file of the input DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mORIGIN[0m [1mxloc[0m [1myloc[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  xloc yloc

          The coordinate position within the output DTI file at which  the  bottom
          left hand (or south west) corner of the input DTI file will be located.

  The format of the command parameters is controlled by the UNITS command.

           UNITS MATRIX - Requires 2 integer values defining the origin  in  terms
           of column and row numbers

           UNITS METRES - Requires 2 real (floating  point)  values  defining  the
           origin  as metre offsets from the SW corner of the DTM.  By default, or
           if the ENABLE ABSOLUTE command has been given, the values are  absolute
           coordinates  (eg.   U.K.   National  Grid  coordinates); if the DISABLE
           ABSOLUTE command has been given, then the coordinates are offsets  from
           the SW corner of the matrix.

           UNITS SECONDS - Requires 2 real (floating point)  values  defining  the
           origin  in  seconds  of  arc.   The  values  are  supplied in the order
           latitude followed by longitude for the SW corner, and latitude followed
           by  longitude for the NE corner.  A negative latitude value indicates a
           position in the Southern Hemisphere, and a negative longitude  value  a
           point to the west of Greenwich.

           UNITS LATLONG - Requires 2 values defining the  absolute  latitude  and
           longitude position of the origin in the format DDD MM SS H where DDD is
           the number of degrees, MM is the number of minutes, SS is the number of
           seconds, and H is the hemisphere (N,S,E,W).  The values are supplied in
           the order latitude  followed  by  longitude  for  the  SW  corner,  and
           latitude followed by longitude for the NE corner.

           UNITS PROJECTION Requires 2 real (floating point) values  defining  the
           origin  in  projection  record  units.   By  default,  or if the ENABLE
           ABSOLUTE command has been given, the values are  absolute  coordinates;
           if  the  DISABLE  ABSOLUTE command has been given, then the coordinates
           are offsets from the SW corner of the matrix.


  Note that in all cases, the input values are adjusted to the nearest column  and
  row values.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-27
  ORIGIN command                                                       5 June 1997


  The command is used to define the location of the bottom  left  hand  (or  south
  west)  corner of the input DTI file within the output DTI file.  If ORIGIN is to
  be used it must be specified before another FILEIN command is executed.   ORIGIN
  command operates on the last opened input DTI file.

  If the command SIZE has been executed then the ORIGIN  command  parameters  must
  lie within the limits specified by the SIZE command.

  If origin offset information is present in the  header  of  the  file,  and  the
  ENABLE  absolute  command has been given, then a default origin is calculated to
  enable automatic positioning to take place.  Otherwise the default will  be  the
  bottom left hand corner of the output DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the ORIGIN command:


  *** ERROR *** FILEIN command must be used to open the DTI file first

  *** ERROR **** Specifying the DTI origin
  Unable to use supplied LATLONG values

  *** ERROR **** Specifying the DTI origin
  Command requires x,y coordinate for position in output

  *** ERROR **** Specifying the DTI origin
  Both integer values must be greater then 0

  *** ERROR **** Specifying the DTI origin
  Origin must not exceed supplied output matrix size
  Output matrix size 'ncol' columns and 'nrow' rows

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mFILEIN[0m [1mSWAREA<CR>[0m
  DTI file LSL$DTI:SWAREA.DTI;0 opened for read

  File    :  LSL$DTI:SWAREA.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    50    50
  Matrix Window     SW:     1     1  NE:    50    50
  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to    255

  DTITILE> [1mFILEIN[0m [1mNWAREA<CR>[0m
  DTI file LSL$DTI:NWAREA.DTI;0 opened for read

  File    :  LSL$DTI:NWAREA.DTI;0
  Header  :  LSLA  Data:  WORD



  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-28
  ORIGIN command                                                       5 June 1997


  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    50    40
  Matrix Window     SW:     1     1  NE:    50    40
  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to    255

  DTITILE> [1mORIGIN[0m [1m1[0m [1m51<CR>[0m
  DTITILE> [1mFILEIN[0m [1mNEAREA<CR>[0m
  DTI file LSL$DTI:NEAREA.DTI;0 opened for read

  File    :  LSL$DTI:NEAREA.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    45    40
  Matrix Window     SW:     1     1  NE:    45    40
  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to    255

  DTITILE> [1mORIGIN[0m [1m51[0m [1m51<CR>[0m
  DTITILE> [1mFILEIN[0m [1mSEAREA<CR>[0m
  DTI file LSL$DTI:SEAREA.DTI;0 opened for read

  File    :  LSL$DTI:SEAREA.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    45    50
  Matrix Window     SW:     1     1  NE:    45    50
  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to    255

  DTITILE> [1mORIGIN[0m [1m51[0m [1m1<CR>[0m
  DTITILE> [1mFILEOUT[0m [1mNEWAREA<CR>[0m
  DTITILE> [1mFILEOUT[0m [1mNSEWAREA<CR>[0m
  DTITILE> [1mGO<CR>[0m
   ELAPSED: 00:00:25.08  CPU: 0:00:06.43  BUFIO: 453  DIRIO: 75  FAULTS: 303 
  $


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-29
  PAUSE command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mPAUSE[0m

          Pauses DTITILE execution.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mPAUSE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Pauses DTITILE execution and issues a prompt for a carriage return  to  continue
  execution.    This  command  is  designed  for  use  in  software  demonstration
  situations.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mPAUSE<CR>[0m


  Press <RETURN> to continue[1m<CR>[0m
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-30
  QUIT command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mQUIT[0m

          Quit from DTITILE.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mQUIT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The QUIT command causes DTITILE to exit  immediately,  closing  any  opened  DTI
  files.

  <CTRL/Z> (pressing the Ctrl and Z keys together) may also be used to  quit  from
  the program.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mQUIT<CR>[0m
   ELAPSED:  00:00:20.04 CPU:  0:00:04.71 BUFIO:  281 DIRIO:  46 FAULTS:  263
  $


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-31
  RETURN command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mRETURN[0m

          Restores command input from an indirect file to SYS$COMMAND.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mRETURN[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Restores command input from an indirect file to SYS$COMMAND.

  A typical application is to allow the user to use an indirect  command  file  to
  set  up  those  run  time defaults which are constant within a flowline and then
  return to input from the  terminal  (or  batch  stream)  for  the  run  specific
  commands.   To  do  this RETURN must be the last command in the indirect command
  file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the RETURN command:

  RETURN command detected - returning to terminal input

  RETURN command ignored - command input is already from terminal

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1m@FLOW2<CR>[0m
  DTITILE> ENABLE DIAGNOSTICS
  DTITILE> RETURN
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-32
  SHOW ENABLE command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mENABLE[0m

          Shows the current status of those options that may be enabled  by  means
          of the ENABLE command, or disabled using the DISABLE command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mENABLE[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Displays the current status of all the DTITILE options that may  be  enabled  or
  disabled using the ENABLE and DISABLE commands.
  The name of the option is shown, followed by  either  the  word  ON  or  OFF  to
  indicate its current status.
  If the command SHOW ENABLE is used before any ENABLE or  DISABLE  commands  have
  been given, the default status of the options is displayed.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW
  Available SHOW command qualifiers are:
  ENABLE  FILES  NULL  SIZE  UNITS  VOIDS  


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE>[1mSHOW[0m [1mENABLE<CR>[0m

  Current status:

  ABSOLUTE         On        DIAGNOSTICS      Off        NULL_CHECKING      Off

  PME              Off

  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-33
  SHOW FILES command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mFILES[0m

          Extracts information from the headers of the input files and outputs  it
          to the screen.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mFILES[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Details extracted from the header of  all  input  files  are  displayed  on  the
  terminal.

  The header values are shown in  the  current  units  of  measurement.   This  is
  dependent  on  the header type of the input file, or may be set explicitly using
  the UNITS command.  By default or if the ENABLE ABSOLUTE command has been  given
  then  metre  or  projection  values are expressed in absolute values.  Otherwise
  they are displayed as offsets from the  SW  corner  of  the  matrix.   Currently
  selected windows are also displayed.

  The file specification of the currently selected output file is also shown.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW
  Available SHOW command qualifiers are:
  ENABLE  FILES  NULL  SIZE  UNITS  VOIDS  


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE>[1mSHOW[0m [1mFILES<CR>[0m
  File    :  LSL$DTI:TST.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    71    71
  Matrix Window     SW:     1     1  NE:    50    50
  Matrix Interval    E:     1         N:     1
  Value Range         :   139   to    192

  File    :  LSL$DTI:TST11.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-34
  SHOW FILES command                                                   5 June 1997



  Matrix Coverage   SW:     1     1  NE:    71    71
  Matrix Window     SW:    50    50  NE:    71    71
  Matrix Interval    E:     1         N:     1
  Value Range         :   134   to    297

  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-35
  SHOW NULL command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mNULL[0m

          Displays the currently specified null value.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mNULL[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The null value specified with the NULL command is displayed on the terminal.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW
  Available SHOW command qualifiers are:
  ENABLE  FILES  NULL  SIZE  UNITS  VOIDS  


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE>[1mSHOW[0m [1mNULL<CR>[0m
  Current null word value is -32767
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-36
  SHOW SIZE command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mSIZE[0m

          Displays the currently specified SIZE values.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mSIZE[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The current output file size value, specified with the SIZE command, are  output
  to the terminal.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW
  Available SHOW command qualifiers are:
  ENABLE  FILES  NULL  SIZE  UNITS  VOIDS  


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE>[1mSHOW[0m [1mSIZE<CR>[0m
  No user defined size for output DTI file
  size will be calculated from input DTI files
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-37
  SHOW UNITS command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mUNITS[0m

          Displays on the terminal the current units of measurement.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mUNITS[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Displays the current units of measurement which will  be  used  when  specifying
  coordinates with the ORIGIN, WINDOW or VOID commands.

  The UNITS command may be used to change the current units of measurement.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW
  Available SHOW command qualifiers are:
  ENABLE  FILES  NULL  SIZE  UNITS  VOIDS  


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE>[1mSHOW[0m [1mUNITS<CR>[0m
  Current units are Projection Units.
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-38
  SHOW VOIDS command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mVOIDS[0m

          Displays on the terminal the current void windows.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mVOIDS[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Displays the current void areas which are set null in the output file.

  The VOID command may be used to set up void areas.  By default or if the  ENABLE
  ABSOLUTE command has been given then metre or projection values are expressed in
  absolute values.  Otherwise they are displayed as offsets from the SW corner  of
  the matrix.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW
  Available SHOW command qualifiers are:
  ENABLE  FILES  NULL  SIZE  UNITS  VOIDS  


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE>[1mSHOW[0m [1mVOIDS<CR>[0m
  Void number 1 in DTI matrix units 10 100 120 150
  Void number 2 in Meters on the ground 500.00 450.00 650.00 500.00
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-39
  SIZE command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSIZE[0m

          Enables the user to specify  the  number  of  columns  and  rows  to  be
          generated in the output DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mSIZE[0m [1mncol[0m [1mnrow[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  ncol

  nrow

          The SIZE command expects 2 arguments; the first is the number of columns
          'x'  ,  the  second  the number of rows 'y'.  If one argument is omitted
          then the number of columns and rows are assumed equal.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DTITILE normally calculates the size of the output DTI file using input DTI file
  header  information  and  any  specified  WINDOW  and  ORIGIN  values.  For some
  applications it may be desirable to specifically define the size of  the  output
  matrix.  If the specified size exceeds the area covered by the merged DTI files,
  the current null value will be written to the unused parts  of  the  output  DTI
  file.   If the specified size is smaller than the area covered by the merged DTI
  files an error message is generated, and the file will be created at the correct
  size.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SIZE command:

  *** ERROR *** Specifying columns and rows 
  Command requires number of columns and number of rows

  *** ERROR *** SIZE arguments must be positive integers


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mFILEIN[0m [1mTST11<CR>[0m
  DTI file LSL$DTI:TST11.DTI;0 opened for read

  File    :  LSL$DTI:TST11.DTI;0
  Header  :  LSLA  Data:  BYTE

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   100   100
  Matrix Window     SW:     1     1  NE:   100   100


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-40
  SIZE command                                                         5 June 1997


  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to    255

  DTITILE> [1mUNITS[0m [1mMATRIX<CR>[0m
  DTITILE> [1mWINDOW[0m [1m41[0m [1m41[0m [1m100[0m [1m100<CR>[0m
  DTITILE> [1mSIZE[0m [1m101[0m [1m101<CR>[0m
  DTITILE> [1mFILEOUT[0m [1mTST12<CR>[0m
  DTITILE> [1mGO<CR>[0m
   ELAPSED: 00:00:20.04  CPU: 0:00:04.71  BUFIO: 281  DIRIO: 46  FAULTS: 263 
  $


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-41
  SPAWN command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSPAWN[0m

          The SPAWN command enables a subprocess to be  created  from  within  the
          DTITILE utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mSPAWN[0m [1mcommand-line[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  command-line

          Specifies a DCL command string to be executed as if typed in response to
          a '$' prompt.  When the command completes, the subprocess terminates and
          control is returned to DTITILE.   The  command  line  cannot  exceed  80
          characters.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SPAWN command enables you to create a subprocess while  within  the  DTITILE
  utility.  When the subprocess terminates, control is returned to DTITILE.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SPAWN command:

  *** ERROR *** Specifying command SPAWN 
  Command requires a valid DCL command line

  *** ERROR *** Unable to spawn command, returning to DTITILE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mSPAWN[0m [1mDIRECTORY[0m [1mLSL$DTI:*.DTI<CR>[0m

  Directory DUA3:[LSL.DTI]

  TEST1.DTI;1              8/8       18-AUG-1987 07:56  [LSL,DAVEC]
  TEST2.DTI;1              7/8       18-AUG-1987 17:17  [LSL,DAVEC]
  TEST2.DTI;2              7/8       18-AUG-1987 17:34  [LSL,DAVEC]

  Total of 3 files, 22/24 blocks.

  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-42
  UNITS command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mUNITS[0m

          Specifies the units of measurement that will be used  when  defining  an
          area  of  interest  in  the  input  DTI file using the WINDOW command or
          defining a void area using the VOID command.  The command also  controls
          the  units of measurement which will be used when displaying file header
          details.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mUNITS[0m [1munits[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  units

          A keyword defining the measurement units, chosen from:

                  MATRIX      Matrix grid interval units, i.e rows and columns
                  METRES      Metres on the ground
                  LATLONG     Latitude and Longitude 
                              (in degrees, minutes and seconds)
                  SECONDS     Seconds of arc
                  PROJECTION  Projection Record Units (eg. mms on the source document)


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The UNITS command enables the user to specify in what units  of  measurement  he
  wishes  to  define  an area of interest in an input DTM using the WINDOW VOID or
  ORIGIN commands.  The command also controls in what format data from the  header
  of the DTM are displayed.

  The UNITS command should be given after defining the  DTI  file  containing  the
  input  DTM, since an appropriate default units of measurement is set up whenever
  an input DTI file is opened.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the UNITS command:

  *** ERROR *** FILEIN command must be used to open the DTI file first

  *** ERROR *** Specifying command UNITS
  Command qualifiers are MATRIX,METRES,SECONDS,LATLONG or PROJECTION

  *** ERROR *** Specifying command UNITS
  Command qualifier is invalid for the input file

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mFILEIN[0m [1mTST11<CR>[0m


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-43
  UNITS command                                                        5 June 1997


  DTI file LSL$DTI:TST11.DTI;0 opened for read

  File    :  LSL$DTI:TST11.DTI;0
  Header  :  LSLA  Data:  BYTE

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   100   100
  Matrix Window     SW:     1     1  NE:   100   100
  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to    255

  DTITILE> [1mUNITS[0m [1mMATRIX<CR>[0m
  DTITILE> [1mWINDOW[0m [1m41[0m [1m41[0m [1m100[0m [1m100<CR>[0m
  DTITILE> 


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-44
  VOID command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mVOID[0m

          Specifies an area in the output DTI which is to be made void.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mVOID[0m [1mxmin[0m [1mymin[0m [1mxmax[0m [1mymax[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  xmin ymin

          The  coordinates  of  the  bottom  left  hand  corner  of  the  defining
          rectangle.


  xmax ymax

          The coordinates of the top right hand corner of the defining rectangle.

  The format of the command parameters is controlled by the UNITS command.

           UNITS MATRIX - Requires 4 integer  values  defining  the  rectangle  in
           terms of column and row numbers

           UNITS METRES - Requires 4 real (floating  point)  values  defining  the
           rectangle  as metre offsets from the SW corner of the DTM.  By default,
           or if the ENABLE ABSOLUTE  command  has  been  given,  the  values  are
           absolute  coordinates  (eg.   U.K.   National Grid coordinates); if the
           DISABLE ABSOLUTE command has  been  given,  then  the  coordinates  are
           offsets from the SW corner of the matrix.

           UNITS SECONDS - Requires 4 real (floating point)  values  defining  the
           absolute  position  of the rectangle in seconds of arc.  The values are
           supplied in the order latitude followed by longitude for the SW corner,
           and  latitude  followed  by  longitude  for  the NE corner.  A negative
           latitude value indicates a position in the Southern Hemisphere,  and  a
           negative longitude value a point to the west of Greenwich.

           UNITS LATLONG - Requires 4 values defining the  absolute  latitude  and
           longitude position of the rectangle in the format DDD MM SS H where DDD
           is the number of degrees, MM is the number of minutes, SS is the number
           of seconds, and H is the hemisphere (N,S,E,W).  The values are supplied
           in the order latitude followed by longitude  for  the  SW  corner,  and
           latitude followed by longitude for the NE corner.

           UNITS PROJECTION Requires 4 real (floating point) values  defining  the
           rectangle  in  projection  record  units.  By default, or if the ENABLE
           ABSOLUTE command has been given, the values are  absolute  coordinates;
           if  the  DISABLE  ABSOLUTE command has been given, then the coordinates
           are offsets from the SW corner of the matrix.



  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-45
  VOID command                                                         5 June 1997


  Note that in all cases, the input values are adjusted to the nearest column  and
  row values.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The VOID command is used to define the rectangular limits of areas in the output
  DTI which will be made void.  The area defined by the VOID command will be given
  a null height value.  The limits must be specified in the order bottom left hand
  (or south west) corner then top right hand (or north east) corner.

  The specified void window values should lie within the output DTI file x  and  y
  ranges.   A  maximum of 10 void windows may be specified during one execution of
  the module.  Void windows may be  redefined  by  first  using  the  CANCEL  VOID
  command and then re-specifying the VOID command.

  The VOID command can be used to restrict access to data in the output DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the VOID command:

  *** ERROR *** Specifying the VOID command
  You must use the FILEIN command to open an input DTI first

  *** ERROR *** Specifying DTI void arguments
  Command requires 2 x,y coordinate pairs (SW and NE)

  *** ERROR *** Specifying DTI void window
  Unable to use supplied LATLONG values

  *** ERROR *** Specifying the VOID command
  Command arguments invalid
  NE coordinates must exceed SW coordinates

  *** ERROR *** Specifying the VOID command
  Maximum number of voids exceeded
  Use SHOW VOID command followed by CANCEL VOID 'void_number' first


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mFILEIN[0m [1mTST20<CR>[0m
  DTI file LSL$DTI:TST20.DTI;0 opened for read

  File    :  LSL$DTI:TST20.DTI;0
  Header  :  LSLA  Data:  BYTE

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   500   500
  Matrix Window     SW:     1     1  NE:   500   500
  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to    255


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-46
  VOID command                                                         5 June 1997



  DTITILE> [1mVOID[0m [1m10[0m [1m100[0m [1m120[0m [1m150<CR>[0m
  Void number 1 has been specified in DTI matrix units
  DTITILE> [1mUNIT[0m [1mMETRES<CR>[0m
  DTITILE> [1mVOID[0m [1m500.0[0m [1m450.0[0m [1m650.0[0m [1m500.0<CR>[0m
  Void number 2 has been specified in Meters on the ground
  DTITILE> [1mSHOW[0m [1mVOID<CR>[0m
  Void number 1 in DTI matrix units 10 100 120 150
  Void number 2 in Meters on the ground 500.00 450.00 650.00 500.00

  DTITILE> 


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-47
  WAIT command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mWAIT[0m

          Suspend processing for the specified number of seconds.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mWAIT[0m [1mseconds[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  seconds

          The number of seconds for which DTITILE processing is to be suspended.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The WAIT command causes processing to be suspended for  a  specified  number  of
  seconds.   It is designed for use in software demonstration situations and is of
  no value in a production flowline.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning message is specific to the WAIT command:

  *** WARNING *** You must specify the number of seconds to wait

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mWAIT[0m [1m4<CR>[0m
  DTITILE>


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-48
  WINDOW command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mWINDOW[0m

          Specifies the limits of the data area to  be  extracted  from  an  input
          file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mWINDOW[0m [1mxmin[0m [1mymin[0m [1mxmax[0m [1mymax[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  xmin ymin

          The  coordinates  of  the  bottom  left  hand  corner  of  the  defining
          rectangle.


  xmax ymax

          The coordinates of top the right hand corner of the defining rectangle.

  The format of the command parameters is controlled by the UNITS command.

           UNITS MATRIX - Requires 4 integer  values  defining  the  rectangle  in
           terms of column and row numbers

           UNITS METRES - Requires 4 real (floating  point)  values  defining  the
           rectangle  as metre offsets from the SW corner of the DTM.  By default,
           or if the ENABLE ABSOLUTE  command  has  been  given,  the  values  are
           absolute  coordinates  (eg.   U.K.   National Grid coordinates); if the
           DISABLE ABSOLUTE command has  been  given,  then  the  coordinates  are
           offsets from the SW corner of the matrix.

           UNITS SECONDS - Requires 4 real (floating point)  values  defining  the
           absolute  position  of the rectangle in seconds of arc.  The values are
           supplied in the order latitude followed by longitude for the SW corner,
           and  latitude  followed  by  longitude  for  the NE corner.  A negative
           latitude value indicates a position in the Southern Hemisphere,  and  a
           negative longitude value a point to the west of Greenwich.

           UNITS LATLONG - Requires 4 values defining the  absolute  latitude  and
           longitude position of the rectangle in the format DDD MM SS H where DDD
           is the number of degrees, MM is the number of minutes, SS is the number
           of seconds, and H is the hemisphere (N,S,E,W).  The values are supplied
           in the order latitude followed by longitude  for  the  SW  corner,  and
           latitude followed by longitude for the NE corner.

           UNITS PROJECTION Requires 4 real (floating point) values  defining  the
           rectangle  in  projection  record  units.  By default, or if the ENABLE
           ABSOLUTE command has been given, the values are  absolute  coordinates;
           if  the  DISABLE  ABSOLUTE command has been given, then the coordinates
           are offsets from the SW corner of the matrix.



  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-49
  WINDOW command                                                       5 June 1997


  Note that in all cases, the input values are adjusted to the nearest column  and
  row values.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command is used to define the rectangular limits of the area of  data  which
  is  to  be  extracted  from  the  current  input  DTI  file.  The limits must be
  specified in the order bottom left hand (or south west) corner  then  top  right
  hand (or north east) corner.

  The specified window values should lie within the input DTI file x and y ranges.
  If necessary the window values will be truncated to fit the input DTI file x and
  y ranges.

  The WINDOW command can be used to clip data from the input DTI file.   If  input
  is  to  be from an entire DTI file then the WINDOW command may be omitted as the
  WINDOW extents will then, by default, be taken from the DTI file header.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the WINDOW command:

  *** WARNING **** Specified window exceeds matrix limits
  Window will be truncated to fit

  *** ERROR **** You must use the FILEIN command to open the DTI file first

  *** ERROR **** Specifying DTI window arguments
  Command requires 2 x,y coordinate pairs (SW and NE)

  *** ERROR **** Specifying DTI window 
  NE coordinates must exceed SW coordinates


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTITILE> [1mFILEIN[0m [1mTST<CR>[0m
  DTI file LSL$DTI:TST.DTI;0 opened for read

  File    :  LSL$DTI:TST.DTI;0
  Header  :  LSLA  Data:  BYTE

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   500   500
  Matrix Window     SW:     1     1  NE:   500   500
  Matrix Interval    E:     1         N:     1
  Value Range         :   139  to    345

  DTITILE> [1mWINDOW[0m [1m100[0m [1m1[0m [1m300[0m [1m400<CR>[0m
  DTITILE> [1mSHOW[0m [1mFILES<CR>[0m

  File    :  LSL$DTI:TST.DTI;0


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-50
  WINDOW command                                                       5 June 1997


  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   500   500
  Matrix Window     SW:   100     1  NE:   300   400
  Matrix Interval    E:     1         N:     1
  Value Range         :   139  to    345

  DTITILE> 


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-51
                                                                       5 June 1997







                                  [1mDTITILE examples[0m


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-52
                                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m



  $ DTITILE
  MATRIX module DTITILE of 17:24:53 23-MAR-88
  DTITILE> [1mFILEIN[0m [1mSWAREA<CR>[0m
  DTI file LSL$DTI:SWAREA.DTI;0 opened for read

  File    :  LSL$DTI:SWAREA.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    50    50
  Matrix Window     SW:     1     1  NE:    50    50
  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to    255

  DTITILE> [1mFILEIN[0m [1mNWAREA<CR>[0m
  DTI file LSL$DTI:NWAREA.DTI;0 opened for read

  File    :  LSL$DTI:NWAREA.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    50    40
  Matrix Window     SW:     1     1  NE:    50    40
  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to    255

  DTITILE> [1mORIGIN[0m [1m1[0m [1m51<CR>[0m
  DTITILE> [1mFILEIN[0m [1mNEAREA<CR>[0m
  DTI file LSL$DTI:NEAREA.DTI;0 opened for read

  File    :  LSL$DTI:NEAREA.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    45    40
  Matrix Window     SW:     1     1  NE:    45    40
  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to    255

  DTITILE> [1mORIGIN[0m [1m51[0m [1m51<CR>[0m
  DTITILE> [1mWINDOW[0m [1m1[0m [1m1[0m [1m40[0m [1m45<CR>[0m
   [1mW[0mARNING  [1mS[0mpecified window exceeds matrix limits
  Window will be truncated to fit

  DTITILE> [1mFILEIN[0m [1mSEAREA<CR>[0m
  DTI file LSL$DTI:SEAREA.DTI;0 opened for read

  File    :  LSL$DTI:SEAREA.DTI;0


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-53
  EXAMPLES                                                             5 June 1997


  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    45    50
  Matrix Window     SW:     1     1  NE:    45    50
  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to    255

  DTITILE> [1mORIGIN[0m [1m51[0m [1m1<CR>[0m
  DTITILE> [1mWINDOW[0m [1m1[0m [1m1[0m [1m40[0m [1m45<CR>[0m
  DTITILE> [1mFILEOUT[0m [1mNEWAREA<CR>[0m

  DTITILE> [1mGO<CR>[0m

  File    :  LSL$DTI:NEWAREA.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    90    90
  Matrix Window     SW:     1     1  NE:    90    90
  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to    255
   ELAPSED:    0 00:04:25.81  CPU: 0:00:01.75  BUFIO: 30  DIRIO: 15  FAULTS: 139 

  $


  The above is an example of using the DTITILE  utility  to  merge  together  four
  input  DTI files to make one larger output DTI file.  The first and second input
  DTI files opened, with the FILEIN command, are  used  in  their  entirety.   The
  third  and  fourth  input DTI files are windowed using the WINDOW command.  Note
  the use of the ORIGIN command to position the input DTI files on the output  DTI
  file.  On completion, header information on the output file is displayed and the
  DTITILE utility terminates.


  $ DTITILE

  MATRIX module DTITILE of 14:45:02  7-DEC-88
  DTITILE> [1mENABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTITILE> [1mFILEIN[0m [1mOS48E<CR>[0m

  File    :  LSL$DTI:os48e.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are metres

  Matrix Coverage   SW:  450000.00   80000.00    NE:  460000.00  100000.00
  Matrix Window     SW:  450000.00   80000.00    NE:  460000.00  100000.00
  Matrix Interval    E:      50.00                N:      50.00
  Value Range         :     0   to    235

  Default origin calculated from header offset
  DTITILE> [1mFILEIN[0m [1mOS48W<CR>[0m


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-54
  EXAMPLES                                                             5 June 1997



  File    :  LSL$DTI:os48w.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are metres

  Matrix Coverage   SW:  440000.00   80000.00    NE:  449950.00  100000.00
  Matrix Window     SW:  440000.00   80000.00    NE:  449950.00  100000.00
  Matrix Interval    E:      50.00                N:      50.00
  Value Range         :     0   to    214

  Default origin calculated from header offset
  DTITILE> [1mVOID[0m [1m445000[0m [1m85000[0m [1m455000[0m [1m90000<CR>[0m
  Void number 1 has been specified in Metres on the ground                       

  DTITILE> [1mSHOW[0m [1mVOID<CR>[0m

  Void number 1 in Metres on the ground  : 445000.0 85000.0 455000.0 90000.0

  DTITILE> [1mFILEOUT[0m [1mOS48WHOLE<CR>[0m
  DTITILE> [1mGO<CR>[0m

  Number of columns in output file .........    401
  Number of rows in output file    .........    401
  LSL$DTI:os48e.DTI;0 input DTI file currently being processed
  LSL$DTI:os48w.DTI;0 input DTI file currently being processed

  File    :  LSL$DTI:os48whole.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are metres

  Matrix Coverage   SW:  440000.00   80000.00    NE:  460000.00  100000.00
  Matrix Window     SW:  440000.00   80000.00    NE:  460000.00  100000.00
  Matrix Interval    E:      50.00                N:      50.00
  Value Range         :     0   to    235

   ELAPSED:    0 00:01:48.68  CPU: 0:00:02.10  BUFIO: 53  DIRIO: 217  FAULTS: 1147
  $

  The above example demonstrates a run of DTITILE with  automatic  positioning  of
  the  files  taking  place.   Because  the  two input files contain origin offset
  information in their headers, DTITILE calculates origins to ensure that the  two
  data  areas  are  correctly positioned with respect to one another in the output
  file.  A void area has also been specified in absolute coordinates.   This  area
  will be set to null values in the output file.


  MATRIX REFERENCE (3.7): DTITILE - DTI File Merge Utility               Page 5-55
                                                                       5 June 1997







                                  [1mDTITILE messages[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages  may  be  generated  by  the  DTI
  library  or  by  the  Laser-Scan  I/O library, LSLLIB.  DTI library messages are
  introduced by %DTI and are documented in the MATRIX  Reference  manual.   LSLLIB
  messages  are  introduced by '%LSLLIB' and are generally self-explanatory.  They
  are often used to explain the details of program generated errors.

  If the cause of the error cannot be traced  by  the  user,  and  Laser-Scan  are
  consulted, then the output file should be preserved to facilitate diagnosis.














                                     CHAPTER 6

                                 MODULE DTICOMBINE





  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility           Page 6-1
                                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE     DTICOMBINE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m   None.  DTICOMBINE is a new MATRIX utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTICOMBINE allows data values in multiple DTI files (maximum 8) to  be
            combined   according   to  a  user  specified  arithmetic  expression.
            DTICOMBINE creates an output DTI file containing  the  resulting  data
            values.

            Optionally,  only  data  values  that  lie  within  a  user  specified
            rectangular window within each input file will be processed.

            DTICOMBINE may be used to perform overlay operations and to  determine
            differences between DTI files.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DTICOMBINE

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

            None, DTICOMBINE is command driven.


  [1m--------------------------------------------------------------------------------[0m
  [1mDTICOMBINE[0m [1mcommand[0m [1mdefaults[0m

            On program startup, the following command defaults apply:

            ABSOLUTE      - enabled.

            CLASSIFICATION- disabled.

            DIAGNOSTICS   - disabled.

            PME           - disabled.

            OUTPUT        - INTERSECTION



  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility           Page 6-2
  DTICOMBINE command defaults                                          5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m


  [1m----------------------------------------------------------------------[0m
            [1mGeneral[0m

            DTICOMBINE allows data values in multiple DTI files (maximum 8) to  be
            combined   according   to  a  user  specified  arithmetic  expression.
            DTICOMBINE creates an output DTI file containing  the  resulting  data
            values.

            Optionally  only  data  values  that  lie  within  a  user   specified
            rectangular window may be processed.

            DTICOMBINE may be used to perform overlay operations and to  determine
            differences between DTI files.

            Classification of data can also be performed by DTICOMBINE.

            If diagnostic printout is enabled, the resulting messages are sent  to
            SYS$OUTPUT:.


  [1m----------------------------------------------------------------------[0m
            [1mDTICOMBINE[0m [1mand[0m [1mnull[0m [1mpost[0m [1mhandling[0m

            If a null post value is encountered in any of the input files, then  a
            corresponding  null  value  is  generated  in  the output file for any
            arithmetic expression (and a warning message generated  at  the  first
            null  occurrence).   However,  for MAX or MIN expressions, null values
            are simply ignored and a result obtained from the remaining values, if
            any  (and  a  similar  warning  message  generated  at  the first null
            occurrence).  Null values are recognised as the following for  various
            file data types:  -

            -32767 if WORD type.

            80000000 Hex if LONG type.

            -1.0E-38 if REAL type.

            0 is output as the null value for BYTE files.



  [1m----------------------------------------------------------------------[0m
            [1mDTICOMBINE[0m [1mtypical[0m [1mcommand[0m [1msequence[0m



            Detailed descriptions of the individual commands available  are  given
            below.


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility           Page 6-3
  DESCRIPTION                                                          5 June 1997


            A typical command sequence is:

  FILEA TESTDATA1           - input file A is LSL$DTI:TESTDATA1.DTI
  WINDOW 100 100 200 200    - area of interest in input file A is defined
                              by SW 100x 100y and NE 200x 200y matrix units
  FILEB TESTDATA2           - input file B is LSL$DTI:TESTDATA2.DTI. In the
                              absence of a WINDOW command following the
                              FILEB command, the whole DTI file will be used
  WORD=A*B                  - the expression defining the combination of
                              DTI file A and DTI file B. The result is to be
                              placed in a word type DTI file. (Not yet
                              specified).
  FILEOUT RESULT.DTI        - Specifies that LSL$DTI:RESULT.DTI is to be
                              used as the output file.
  GO                        - Create and open LSL$DTI:RESULT.DTI as output
                              file. Start to process. The size of the
                              file is determined by the size of the input
                              files or by a window command (if specified).
                              The type of file (DTED, LSLA etc.) is set to
                              that of the input file with the lowest
                              alphabetic identifier.


            This series of commands specifies that DTICOMBINE is  to  combine  two
            DTI     files:      LSL$DTI:TESTDATA1.DTI;0     as    file    A    and
            LSL$DTI:TESTDATA2.DTI;0 as file B.

            Output is to be to a new DTI file; LSL$DTI:RESULT.DTI;0.

            The WORD=A*B command specifies the expression defining how the 2 input
            files  are  to  be combined and that the results are to be stored in a
            DTI file as word (16 bit) integers.
  [1m--------------------------------------------------------------------------------[0m


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility           Page 6-4
                                                                       5 June 1997







                                [1mDTICOMBINE commands[0m



  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility           Page 6-5
  @ command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1m@[0m

          Take command input from the specified file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1m@[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The file to be opened and used for command input.

          Any parts of the file-spec not supplied for the @ command will be  taken
          from the default specification 'SYS$DISK:[].COM;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DTICOMBINE offers the facility of command input from an indirect  command  file.
  The  '@'  character preceding a file-spec will cause DTICOMBINE to open and read
  commands from the specified file until:

       1.  a  RETURN  command  is  detected  and  command  input  is  returned  to
           SYS$COMMAND.

       2.  end-of-file is detected.  This provokes an error  message  and  command
           input is returned to SYS$COMMAND.


  Nested command files are not supported (i.e. a command file  containing  an  '@'
  command),  although  sequential  '@'  commands  are  supported  when  read  from
  SYS$COMMAND.

  As an aid to batch log interpretation DTICOMBINE will  echo  all  commands  read
  from an indirect command file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the @ command:

  *** WARNING *** "@" must precede a file-spec

  *** WARNING *** Indirect file error - returning to terminal input

  *** ERROR *** Can't open indirect command file 'file-spec'


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility           Page 6-6
  @ command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTICOMBINE<CR>[0m
  MATRIX module DTICOMBINE of 18:30:39 18-FEB-88
  DTICOMBINE> [1m@PRESETS<CR>[0m
  DTICOMBINE> ENABLE DIAGNOSTICS
  DTICOMBINE> FILEA ISOTROPHIC1000.DTI
  DTICOMBINE> WINDOW 1 1 101 51
  DTICOMBINE> REAL=ABS((A*B)/(C**2))
  DTICOMBINE> RETURN
  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility           Page 6-7
  ! command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1m![0m

          Treat all text to the right of the '!' as a comment.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1m![0m [1m[comment[0m [1mtext][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  comment text

          text that is to be treated as a comment and which will be excluded  from
          command interpretation.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  An exclamation mark is the standard DTM package  comment  delimiter.   All  text
  (and  numbers)  which  lie  to  the  right  of a '!' character are excluded from
  command interpretation.  Comments are useful for annotating  command  procedures
  used in batch processing etc.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1m![0m [1ma[0m [1mcomment[0m [1mfor[0m [1mthe[0m [1msake[0m [1mof[0m [1mit<CR>[0m
  DTICOMBINE> [1mWINDOW[0m [1m1[0m [1m1[0m [1m200[0m [1m250<CR>[0m


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility           Page 6-8
  BYTE command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mBYTE[0m

          The BYTE command enables specification of the combination expression and
          instructs DTICOMBINE to place the results into a BYTE valued DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mBYTE[0m [1m=[0m [1mexpression[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  expression

          Specifies the arithmetic expression with which the input DTI  files  are
          to be combined.

          - See section 9 for the description of the format of the expressions


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The BYTE  command  enables  specification  of  the  combination  expression  and
  instructs DTICOMBINE to place the results into a BYTE valued DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the BYTE command:

  *** ERROR *** Byte underflow detected at post X = 'integer', Y = 'integer'

  *** ERROR *** Byte overflow detected at post X = 'integer', Y = 'integer'

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mBYTE=A*(B-C)<CR>[0m
  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility           Page 6-9
  CLASS command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mCLASS[0m

          Allows creation of new, or access to an old, class.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mCLASS[0m [1mclass-id[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  class-id

          The value to which output DTI data - which matches the members  of  this
          class - are set.

          The class-id can be a fixed or floating-point value.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The CLASS command enables the user to create or re-open a class -  depending  on
  whether the class already exists, or not.

  Once the class is open, all INCLUDE and EXCLUDE commands are  then  directed  to
  that class until a further CLASS or DISABLE CLASSIFICATION command is issued.

  Classification must be enabled before a CLASS command can be issued.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the CLASS command:

  *** WARNING *** CLASSIFICATION not ENABLEd

  *** WARNING *** Missing or illegal class number

  *** WARNING *** Maximum number of classifications exceeded

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTICOMBINE<CR>[0m
  MATRIX module DTICOMBINE of 10:41:45 29-FEB-88
  DTICOMBINE> [1mCLASS[0m [1m2.8[0m
  *** WARNING *** CLASSIFICATION not ENABLEd
  DTICOMBINE> [1mENABLE[0m [1mCLASSIFICATION[0m
  DTICOMBINE> [1mCLASS[0m [1m2[0m
  DTICOMBINE> [1mINCLUDE[0m [1m120,200:300[0m
  DTICOMBINE> [1mCLASS[0m [1m10[0m
  DTICOMBINE> [1mINCLUDE[0m [1mALL[0m
  DTICOMBINE> [1mSHOW[0m [1mCLASS[0m

  CLASS 2.0   120.0 >=200.0 <=300.0
  CLASS 10.0   All values


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-10
  CLASS command                                                        5 June 1997


  DTICOMBINE> 




  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-11
  CLOSE command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mCLOSE[0m


          Facilitates closure of a DTI file previously opened with a FILEx
          command.


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m                [1mCLOSE[0m [1mfile-id[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m


  file-id

          The symbolic identification of the DTI file to be closed.  For
          example, if the file to be closed was opened as file A in the
          combination
          expression by use of the FILEA command, its file-id is A.


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The CLOSE command enables the user to close a DTI file previously opened with  a
  FILEx command.

  An example application of the CLOSE command arises when an input file  has  been
  incorrectly  windowed  and  a  subsequent FILEx command issued.  The incorrectly
  windowed file may be closed with the CLOSE command  and  then  reopened  with  a
  FILEx command and the WINDOW respecified.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTICOMBINE<CR>[0m
  MATRIX module DTICOMBINE of 10:41:45 29-FEB-88
  DTICOMBINE> [1mFILEA[0m [1mSOILS<CR>[0m
  DTI file LSL$DTI:SOILS.DTI;0 opened for read

  File    :  LSL$DTI:SOILS.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   201   201
  Matrix Interval    E:     1         N:     1
  Value Range         :    97   to    468


  By default WINDOW commands for this file must be specified in DTI matrix units


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-12
  CLOSE command                                                        5 June 1997


  Use the UNITS command to change the default units

  DTICOMBINE> [1mFILEB[0m [1mWOODLAND<CR>[0m

  DTI file LSL$DTI:WOODLAND.DTI;0 opened for read

  File    :  LSL$DTI:WOODLAND.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   201   201
  Matrix Interval    E:     1         N:     1
  Value Range         :    9   to    1798


  By default WINDOW commands for this file must be specified in DTI matrix units
  Use the UNITS command to change the default units

  DTICOMBINE> [1mFILEA[0m [1mINFILTRATION<CR>[0m
   [1mW[0mARNING   [1mY[0mou have already got LSL$DTI:SOILS.DTI;0 open as file A

  DTICOMBINE> [1mCLOSE A<CR>[0m
  DTICOMBINE> [1mFILEA[0m [1mINFILTRATION<CR>[0m
  DTI file LSL$DTI:INFILTRATION.DTI;0 opened for read

  File    :  LSL$DTI:INFILTRATION.DTI;0
  Header  :  LSLA  Data:  REAL

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   201   201
  Matrix Window     SW:     1     1  NE:    51    51
  Matrix Interval    E:     1         N:     1
  Value Range         :    0.06  to    0.89


  By default WINDOW commands for this file must be specified in DTI matrix units
  Use the UNITS command to change the default units
  DTICOMBINE> [1mREAL=A/(B**1.39)<CR>[0m
  DTICOMBINE> 




  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-13
  DELETE command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDELETE[0m


          Deletes CLASSes.


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m                [1mDELETE[0m [1mclass-id[0m 

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m


  class-id

          The number of the CLASS to delete; if ALL specified then all the classes
          will be deleted.


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Deletes either all or specific CLASSes.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  *** WARNING *** No CLASS deleted

  *** ERROR *** Missing or illegal CLASS specified

  CLASS <n> deleted

  All CLASSes deleted

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mDELETE[0m [1m2<CR>[0m
  CLASS 2 deleted
  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-14
  DISABLE ABSOLUTE command                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mABSOLUTE[0m

          Disables a previous ENABLE ABSOLUTE command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mDISABLE[0m [1mABSOLUTE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE ABSOLUTE  cancels  a  previous  ENABLE  ABSOLUTE  command.   If  DISABLE
  ABSOLUTE  is  given,  then  coordinate  values  required  by the WINDOW command,
  supplied in metre or projection units, must be specified as an offset  from  the
  SW corner of the matrix.
  By default window values should be specified as absolute coordinates.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Available DISABLE command qualifiers are: 
  ABSOLUTE    DIAGNOSTICS     CLASSIFICATION     PME  


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mDISABLE[0m [1mABSOLUTE<CR>[0m
  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-15
  DISABLE CLASSIFICATION command                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mCLASSIFICATION[0m

          Disables a previous ENABLE CLASSIFICATION command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mDISABLE[0m [1mCLASSIFICATION[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0mNone

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE  CLASSIFICATION  allows  the  user  to   disable   a   previous   ENABLE
  CLASSIFICATION command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Available DISABLE command qualifiers are: 
  ABSOLUTE    DIAGNOSTICS     CLASSIFICATION     PME  


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mENABLE[0m [1mCLASSIFICATION<CR>[0m
  DTICOMBINE> [1mSHOW[0m [1mCLASS<CR>[0m

  *** WARNING *** No classes found
  DTICOMBINE> [1mDISABLE[0m [1mCLASSIFICATION<CR>[0m
  DTICOMBINE> [1mSHOW[0m [1mCLASS<CR>[0m

  Classification not enabled
  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-16
  DISABLE DIAGNOSTICS command                                          5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mDIAGNOSTICS[0m

          Disables a previous ENABLE DIAGNOSTICS command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mDISABLE[0m [1mDIAGNOSTICS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0mNone

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE DIAGNOSTICS allows the user to disable  a  previous  ENABLE  DIAGNOSTICS
  command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE
  Available DISABLE command qualifiers are: 
  ABSOLUTE     DIAGNOSTICS     CLASSIFICATION     PME


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mDISABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-17
  DISABLE PME command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mPME[0m

          Disables a previous ENABLE PME command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m                [1mDISABLE[0m [1mPME[0m 



  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE PME allows the user to disable a previous ENABLE PME command.


  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m


  The following messages are  specific to the DISABLE and DISABLE PME 
  commands:

  *** ERROR *** Specifying command DISABLE
  Available DISABLE command qualifiers are: 
  ABSOLUTE    DIAGNOSTICS     CLASSIFICATION     PME     


  *** WARNING *** You are not using PME !


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mENABLE[0m [1mPME<CR>[0m
  DTICOMBINE> [1mDISABLE[0m [1mPME<CR>[0m
  DTICOMBINE>



  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-18
  ENABLE ABSOLUTE command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mABSOLUTE[0m


          Selects the use of absolute coordinates values. 


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m                [1mENABLE[0m [1mABSOLUTE[0m 



  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  If ENABLE ABSOLUTE is given, then  coordinate  values  required  by  the  WINDOW
  command,  supplied  in  metre or projection units, must be specified as absolute
  (rather than relative) coordinate values.

  For example if the projection indicates U.K.  National  Grid,  then  the  WINDOW
  values may be specified as 6 figure National Grid coordinates.
  By default window values should be specified as absolute coordinates.

  This option can be disabled using the DISABLE ABSOLUTE command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE
  Available ENABLE command qualifiers are: 
  ABSOLUTE     DIAGNOSTICS     CLASSIFICATION     PME


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mENABLE[0m [1mCLASSIFICATION<CR>[0m
  DTICOMBINE> [1mSHOW[0m [1mCLASS<CR>[0m
  *** WARNING *** No classes found
  DTICOMBINE> [1mDISABLE[0m [1mCLASSIFICATION<CR>[0m
  DTICOMBINE> [1mSHOW[0m [1mCLASS<CR>[0m
  Classification not enabled
  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-19
  ENABLE CLASSIFICATION command                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mCLASSIFICATION[0m


          ENABLE CLASSIFICATION allows the user to enable classification of
          output data.


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m                [1mENABLE[0m [1mCLASSIFICATION[0m 



  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE CLASSIFICATION allows the user to enable classification of output data.

  Please see the CLASS command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE
  Available ENABLE command qualifiers are: 
  ABSOLUTE     DIAGNOSTICS     CLASSIFICATION     PME


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mENABLE[0m [1mCLASSIFICATION<CR>[0m
  DTICOMBINE> [1mSHOW[0m [1mCLASS<CR>[0m
  *** WARNING *** No classes found
  DTICOMBINE> [1mDISABLE[0m [1mCLASSIFICATION<CR>[0m
  DTICOMBINE> [1mSHOW[0m [1mCLASS<CR>[0m
  Classification not enabled
  DTICOMBINE>



  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-20
  ENABLE DIAGNOSTICS command                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mDIAGNOSTICS[0m


          ENABLE DIAGNOSTICS allows the user to enable diagnostic printout.


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m                [1mENABLE[0m [1mDIAGNOSTICS[0m 



  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE DIAGNOSTICS command is reserved for Laser-Scan use.  DIAGNOSTICS is a
  debugging tool and should be invoked by LSL software personnel only.

  DIAGNOSTICS allows a detailed listing of what the software is doing and helps to
  identify   possible  software  performance  inconsistencies.   This  causes  the
  execution of the software to be slower.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE
  Available ENABLE command qualifiers are: 
  ABSOLUTE     DIAGNOSTICS     CLASSIFICATION     PME


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mENABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTICOMBINE>




  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-21
  ENABLE PME command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mPME[0m


          ENABLE PME enables the PME performance monitor.


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m                [1mENABLE[0m [1mPME[0m 



  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0mNone.


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE PME and DISABLE PME commands are reserved for Laser-Scan use.
  PME is a code optimisation tool and should be invoked by LSL software personnel
  only. 


  ENABLE PME causes the PME_INIT routine to be invoked.



  [1m--------------------------------------------------------------------------------[0m
  [1mMessage:[0m


  The following messages are specific to the ENABLE and ENABLE PME commands:

  *** ERROR *** Specifying command ENABLE
  Available ENABLE command qualifiers are: 
  ABSOLUTE     DIAGNOSTICS     CLASSIFICATION     PME



  *** WARNING *** You are already using PME!


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTICOMBINE<CR>[0m
  MATRIX module DTICOMBINE of 12:23:19  18-MAR-88
  DTICOMBINE> [1mENABLE[0m [1mPME<CR>[0m




  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-22
  EXCLUDE command                                                      5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mEXCLUDE[0m


          The EXCLUDE command prevents the association of user-supplied values to 
          classes.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m                [1mEXCLUDE[0m [1marguments[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m


  arguments

          Specifies the value, or range of values, that are not to be matched-up 
          with the output DTI data.


                    EXCLUDE  <argument 1>,<argument 2>,....<argument n>

          [1mArgument[0m is an integer or floating point  constant  -  with  or  without
          qualifiers; or a range of constants - with or without qualifiers.

          [1mAvailable[0m [1mqualifiers:[0m

          :     range specifier

          >     greater than

          <     less than

          >=     greater than or equal to

          <=     less than or equal to

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The EXCLUDE command excludes a value, or range of values, from being included as
  a member of a currently open CLASS.

  For further explanation - please see the INCLUDE command (NB  the  only  way  in
  which  EXCLUDE  differs  from INCLUDE is in that EXCLUDE does not take the "ALL"
  qualifier).

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the EXCLUDE command:

  *** WARNING *** CLASSIFICATION not ENABLEd


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-23
  EXCLUDE command                                                      5 June 1997


  *** WARNING *** No class currently open - use command CLASS n first

  *** ERROR *** <string> ..multiple decimal-point

  *** ERROR *** <string> ..illegal use of decimal-point/sign

  *** ERROR *** <string> ..extra characters after valid expression

  *** ERROR *** <string> ..error reading number

  *** ERROR *** <string> ..number followed by another number

  *** ERROR *** <string> ..illegal range

  *** ERROR *** <string> ..illegal use of operator

  *** ERROR *** <string> ..incomplete "ALL" specified

  *** ERROR *** <string> ..illegal operators with "ALL" specifier

  *** ERROR *** <string> ..unrecognised qualifiers

  *** ERROR *** <string> ..illegal to specify "ALL" with EXCLUDE command

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mCLASS[0m [1m1[0m
  DTICOMBINE> [1mINCLUDE[0m [1m<20,150,>=400[0m
  DTICOMBINE> [1mSHOW[0m [1mCLASS[0m
  CLASS 1.0 <20.0 150.0 >=400.0
  DTICOMBINE> [1mEXCLUDE[0m [1m150[0m
  DTICOMBINE> [1mSHOW[0m [1mCLASS[0m
  CLASS 1.0 <20.0 >=400.0
  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-24
  FILEx command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mFILEx[0m

          Specifies a DTI file that is to be opened and used  for  data  input  as
          file 'x' in the combination expression.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mFILEx[0m [1mdti-file-spec   e.g. FILEA[0m [1mEXAMPLE.DTI;9[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m

  dti-file-spec

          The specification of the DTI file to be opened for data input.

          Any parts of the file-spec not supplied for the FILEx  command  will  be
          taken from the default file specification 'LSL$DTI:DTI.DTI;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The FILEx command causes the specified file to be opened and used as input  file
  'x' in the combination expression.

  FILEx commands must selected from the  range  FILEA  to  FILEH  inclusive;  i.e.
  FILEA, FILEB, FILEC, FILED, FILEE, FILEF, FILEG, FILEH.  A file may be specified
  for all 8 possible FILEx commands in this range within a single DTICOMBINE run.

  DTICOMBINE checks that a file has been opened for each of the operands A through
  H  in  the  user  defined  expression  before  a  GO  command  will be executed.
  Similarly, DTICOMBINE checks that all files specified with  FILEx  commands  are
  actually referenced within the user defined expression.

  A file that has been opened by mistake using a FILEx command may be closed again
  using the CLOSE command.

  At least one FILEx command must be issued before the WINDOW or GO commands  will
  be accepted.

  The output DTI file header type is taken from the input DTI file opened with the
  lowest  alphabetic  FILEx command.  Thus if the FILEx commands FILEC  TEST.DTI;0
  and FILEF  TEST2.DTI;8 are issued, the output file header  type  will  be  taken
  from the DTI file opened for input with the FILEC command.

  A FILEx command also sets the  context  for  the  WINDOW  command.   The  WINDOW
  command  will  only  be  accepted  after a FILEx command has been accepted.  The
  WINDOW command will relate to the file most recently opened with a FILEx command
  until  the  next  FILEx command is issued, where-upon context is switched to the
  latest input file.

  Appropriate default units of measurement are  set  up  for  the  WINDOW  command
  whenever an input DTI file is opened using a FILEx command.


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-25
  FILEx command                                                        5 June 1997


  The UNITS command should be given after opening the DTI  file,  but  before  the
  WINDOW  command,  should  the user wish to specify WINDOW command arguments in a
  different measurement system to the file-type default.

  If input file has been incorrectly  windowed  and  a  subsequent  FILEx  command
  issued,  all  is not lost.  The incorrectly windowed file may be closed with the
  CLOSE command and then reopened with a FILEx command and the WINDOW respecified.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m


  The following messages are specific to the FILEx commands:

  *** WARNING *** You must specify a file-spec argument to the FILEx command

  *** ERROR *** Unable to interpret input file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mFILEA[0m [1mSOIL<CR>[0m

  File    :  LSL$DTI:SOIL.DTI;0
  Header  :  LSLA  Data:  REAL

  Units are DTI Matrix Values.

  Matrix Coverage   SW:       1       1          NE:       449     449
  Matrix Interval    E:       1.00                N:       1.00
  Value Range         :     -5.00 to  326421.00
  DTICOMBINE> [1mWINDOW[0m [1m1[0m [1m1[0m [1m250[0m [1m250<CR>[0m
  DTICOMBINE> 


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-26
  FILEOUT command                                                      5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mFILEOUT[0m

          Specifies a DTI file that is to be opened and used for data output

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mFILEOUT[0m [1mdti-file-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m

  dti-file-spec

          The specification of the DTI file to be opened for data output.

          Any parts of the file-spec not supplied for the FILEOUT command will  be
          taken from the default file specification 'LSL$DTI:DTI.DTI;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The FILEOUT command causes the specified file to  be  opened  and  used  as  the
  output file in the combination expression.

  The output DTI file data type is taken from the keyword on the left hand side of
  the combination expression.  Possible data types are

        o  BYTE

        o  WORD

        o  REAL

        o  LONGWORD


  The output DTI file header type is taken from the input DTI file opened with the
  lowest  alphabetic  FILEx command.  Thus if the FILEx commands FILEC  TEST.DTI;0
  and FILEF  TEST2.DTI;8 are issued, the output file header  type  will  be  taken
  from the DTI file opened for input with the FILEC command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the FILEOUT command:

  *** WARNING *** You must specify a file-spec argument to the FILEOUT command

  *** ERROR *** Unable to interpret input file-spec

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> FILEOUT TEST5
  DTICOMBINE> GO



  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-27
  FILEOUT command                                                      5 June 1997


  Output file now open:

  File    :  LSL$DTI:TEST5.DTI
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   101   101
  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to      0

  25 columns of output DTI file complete
  50 columns of output DTI file complete
  75 columns of output DTI file complete
  100 columns of output DTI file complete
  101 columns of output DTI file complete
   ELAPSED:    0 00:00:14.18  CPU: 0:00:10.11  BUFIO: 14  DIRIO: 11  FAULTS: 165 
  $


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-28
  GO command                                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mGO[0m

          GO starts DTICOMBINE processing.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mGO[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The GO command creates and opens the output  file  specified  with  the  FILEOUT
  command and then sets DTICOMBINE processing in motion.

  Before the output file is opened, DTICOMBINE checks that the following condition
  are met:

        o  At least one input DTI file has been specified

        o  An output DTI file has been specified

        o  The combination expression has been specified

        o  All  operands  specified  in  the   combination   expression   have   a
           corresponding input DTI file

        o  All input DTI files have a corresponding  operand  in  the  combination
           expression


  The output DTI file header type is taken from the input DTI file opened with the
  lowest  alphabetic  FILEx command.  Thus if the FILEx commands FILEC  TEST.DTI;0
  and FILEF  TEST2.DTI;8 are issued, the output file header  type  will  be  taken
  from the DTI file opened for input with the FILEC command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessage:[0m

  The following messages are specific to the GO command:

  *** WARNING *** You must specify at least one input DTI file  before  processing
  can begin

  *** WARNING *** You must specify the expression defining  the  file  combination
  before processing can begin

  *** WARNING *** You must use the FILEOUT command to specify the output DTI  file
  before processing can begin

  *** ERROR *** File 'file-spec' open but not used in expression
  Use CLOSE 'x' command or respecify expression'


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-29
  GO command                                                           5 June 1997


  *** ERROR *** No file open for operand 'operand' in expression
  Use FILE'x' command to open appropriate file

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTICOMBINE<CR>[0m
  DTICOMBINE> FILEA POLYOVERSOILS<CR>
  DTI file LSL$DTI:POLYOVERSOILS.DTI;0 opened for read

  File    :  LSL$DTI:POLYOVERSOILS.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   101   101
  Matrix Interval    E:     1         N:     1
  Value Range         :    29   to   1020


  By default WINDOW commands for this file must be specified in DTI matrix units 
  Use the UNITS command to change the default units
  DTICOMBINE> FILEB POLYOVERSLOPES
  DTI file LSL$DTI:POLYOVERSLOPES.DTI;0 opened for read

  File    :  LSL$DTI:POLYOVERSLOPES.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   101   101
  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to   2000


  By default WINDOW commands for this file must be specified in DTI matrix units
  Use the UNITS command to change the default units
  DTICOMBINE> WORD=A-B
  DTICOMBINE> FILEOUT TEST5
  DTICOMBINE> GO

  Output file now open:

  File    :  LSL$DTI:TEST5.DTI
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   101   101
  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to      0

  25 columns of output DTI file complete
  50 columns of output DTI file complete
  75 columns of output DTI file complete
  100 columns of output DTI file complete


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-30
  GO command                                                           5 June 1997


  101 columns of output DTI file complete
   ELAPSED:    0 00:00:14.18  CPU: 0:00:10.11  BUFIO: 14  DIRIO: 11  FAULTS: 165 
  $


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-31
  HELP command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mHELP[0m

          Give help on a subject

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mHELP[0m [1msubject[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  subject

          The subject on which help is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The HELP command looks the rest of the line up in the MATRIX HELP library.  This
  library contains a brief summary of the operation of each command.

  The information is looked up in  the  DTICOMBINE  section  of  the  MATRIX  help
  library, LSL$HELP:MATRIX.HLB.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  Where required, warning messages are output via the VMS LBR$OUTPUT_HELP utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mHELP[0m [1mENABLE[0m [1mPME<CR>[0m

  DTICOMBINE

        ENABLE

           PME

     The ENABLE PME and DISABLE PME commands are reserved for Laser-Scan use.  PME
     is  a  code optimisation tool and should be invoked by LSL software personnel
     only.


     ENABLE PME causes the PME_INIT routine to be invoked.
  DTICOMBINE>



  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-32
  INCLUDE command                                                      5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mINCLUDE[0m


          The INCLUDE command allows association of user-supplied values to
          classes.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m                [1mINCLUDE[0m [1marguments[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m


  arguments

          Specifies the value, or range of values, that are to be matched-up with 
          the output DTI data.


                    INCLUDE  <argument 1>,<argument 2>,....<argument n>

          [1mArgument[0m is an integer or floating point  constant  -  with  or  without
          qualifiers; or a range of constants - with or without qualifiers; or the
          keyword [1mALL[0m

          [1mAvailable[0m [1mqualifiers:[0m

          :     range specifier

          >     greater than

          <     less than

          >=     greater than or equal to

          <=     less than or equal to

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The INCLUDE command enables a value, or range of values, to  be  included  as  a
  member of a currently open CLASS.

  On output of the DTI data, the data is compared against all the members  of  all
  the classes set-up, if there is a match then the DTI value is changed to that of
  the class-id, if there is no match to any of  the  class-members  then  the  DTI
  value is set to zero.

  Specifying ALL with INCLUDE causes all the DTI values that failed to  match  any
  members of any of the other classes to be set to the class-id of this class.  If
  more than one class has an INCLUDE ALL specification, then the class-id  of  the
  first - chronologically speaking - class, is used.


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-33
  INCLUDE command                                                      5 June 1997


  If no INCLUDE or EXCLUDE command is issued in association with a  CLASS  command
  then the effect is the same as if the INCLUDE ALL command was issued.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the INCLUDE command:

  *** WARNING *** CLASSIFICATION not ENABLEd

  *** WARNING *** No class currently open - use command CLASS n first

  *** ERROR *** <string> ..multiple decimal-point

  *** ERROR *** <string> ..illegal use of decimal-point/sign

  *** ERROR *** <string> ..extra characters after valid expression

  *** ERROR *** <string> ..error reading number

  *** ERROR *** <string> ..number followed by another number

  *** ERROR *** <string> ..illegal range

  *** ERROR *** <string> ..illegal use of operator

  *** ERROR *** <string> ..incomplete "ALL" specified

  *** ERROR *** <string> ..illegal operators with "ALL" specifier

  *** ERROR *** <string> ..unrecognised qualifiers

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mCLASS[0m [1m1[0m
  DTICOMBINE> [1mINCLUDE[0m [1m<20,150,>=400[0m
  DTICOMBINE> [1mSHOW[0m [1mCLASS[0m

  CLASS 1.0 <20.0 150.0 >=400.0
  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-34
  LONGWORD command                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mLONGWORD[0m

          The LONGWORD command enables specification of the combination expression
          and instructs DTICOMBINE to place the results into a LONGWORD valued DTI
          file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mLONGWORD[0m [1m=[0m [1mexpression[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  expression

          Specifies the arithmetic expression with which the input DTI  files  are
          to be combined.

          - See section 9 for the description of the format of the expressions


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The LONGWORD command enables specification of  the  combination  expression  and
  instructs DTICOMBINE to place the results into a LONGWORD valued DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the LONGWORD command:

  *** ERROR *** Longword underflow detected at post X = 'integer', Y = 'integer'

  *** ERROR *** Longword overflow detected at post X = 'integer', Y = 'integer'

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mLONGWORD=A*(B-C)<CR>[0m
  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-35
  OUTPUT INTERSECTION command                                          5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mOUTPUT[0m [1mINTERSECTION[0m

          Sets area from which data will be used to generate output file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mOUTPUT[0m [1mINTERSECTION[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Sets the area from which the data will be taken to create the output file to  be
  the common area of overlap between the open DTI files.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  When the GO command is issued, the areas covered by the files are  checked.   If
  all  the  files  do  not  overlap,  then the OUTPUT is set to UNION (see command
  OUTPUT UNION) and a warning message is issued.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mOUTPUT[0m [1mINTERSECTION<CR>[0m

  DTICOMBINE>

          
          +-----------------------+
          |/ / / / / / / / / / / /|
          | / / / / / / / / / / / |
          |/           / / / / / /|
          | /  FILE A   / / / / / |
          |/           / / / / / /|
          | / / / / / /+/-/-/-/-/-|---------------+               +----------+
          |/ / / / / / /\/\/\/\/\/\ \ \ \ \ \ \ \ |               |/\/\/\/\/\|
          | / / / / / /|/\/\/\/\/\|\ \ \ \ \ \ \ \|        \\     |\        /|
          |/ / / / / / /\/\/\/\/\/\ \ \ \ \ \ \ \ |    =====>>    |  OUTPUT  |
          | / / / / / /|/\/\/\/\/\|\ \ \ \ \ \ \ \|        //     |\        /|
          |/ / / / / / /\/\/\/\/\/\ \ \ \ \ \ \ \ |               |/\/\/\/\/\|
          | / / / / / /|/\/\/\/\/\|\ \ \ \ \ \ \ \|               |\/\/\/\/\/|
          +------------|\-\-\-\-\-+ \ \ \ \ \ \ \ |               +----------+
                       | \ \ \ \ \ \ \ \ \ \ \ \ \|
                       |\ \ \ \           \ \ \ \ |
                       | \ \ \ \  FILE B   \ \ \ \|
                       |\ \ \ \           \ \ \ \ |
                       | \ \ \ \ \ \ \ \ \ \ \ \ \|
                       +--------------------------+


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-36
  OUTPUT UNION command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mOUTPUT[0m [1mUNION[0m

          Sets area from which data will be used to generate output file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mOUTPUT[0m [1mUNION[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Sets the area from which the data will be taken to create the output file to  be
  the rectangle which contains all of the input DTI files.

  The rectangle is bounded by the extreme north-east and  south-west  corners  (in
  real world coordinates), of the active windows in the open DTI files.

  When the GO command is issued, areas of the input files which  fall  within  the
  UNION area but fall outside the active window areas are treated as NULL.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:none[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mOUTPUT[0m [1mUNION<CR>[0m
  DTICOMBINE>


                  . . . . . . . . . . . . . . . . . . . . . .
                  .+------+               +----------------+.
                  .|AAAAAA|               | C C C C C C C C|.
                  .|AAAAAA|   +-----------=-----+ C C C C C|.
                  .|AAAAAA|   |B B B B B B|BCBCB| C C C C C|.
                  .|AAAAAA|   |B B B B B B|BCBCB| C C C C C|.
                  .|AAAAAA|   |B B B B B B+-----=----------+.
                  .|AAAAAA|   |B B B B B B B B B|           .   //     BOUNDING
                  .|AAAAAA|   |B B B B B B B B B|           .  <<====  RECTANGLE
                  .+------+   |B B B B B B B B B|           .   \\      (UNION)
                  .           |B B B B B B B B B|           .
                  .       +---=-----------------=--------+  .
     NULL ---------->     | D |BDBDBDBDBDBDBDBDB| D   D  |  .
     AREA         .       |   +-----------------+        |  .
                  .       |D  D   D   D   D   D   D   D  |  .
                  .       +------------------------------+  .
                  . . . . . . . . . . . . . . . . . . . . . .


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-37
  PAUSE command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mPAUSE[0m

          Pauses DTICOMBINE execution.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mPAUSE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Pauses DTICOMBINE execution and  issues  a  prompt  for  a  carriage  return  to
  continue  execution.  This command is designed for use in software demonstration
  situations.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mPAUSE<CR>[0m


  Press <RETURN> to continue[1m<CR>[0m
  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-38
  QUIT command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mQUIT[0m

          Quit from DTICOMBINE.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mQUIT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The QUIT command causes DTICOMBINE to exit immediately, closing the  input  file
  and closing and deleting the output file.

  <CTRL/Z> (pressing the Ctrl and Z keys together) may also be used to  quit  from
  the program.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mQUIT<CR>[0m
   ELAPSED:  00:00:20.04 CPU:  0:00:04.71 BUFIO:  281 DIRIO:  46 FAULTS:  263
  $


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-39
  REAL command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mREAL[0m

          The REAL command enables specification of the combination expression and
          instructs DTICOMBINE to place the results into a REAL valued DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mREAL=expression[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  expression

          Specifies the arithmetic expression with which the input DTI  files  are
          to be combined.

          - See section 9 for the description of the format of the expressions

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The REAL  command  enables  specification  of  the  combination  expression  and
  instructs DTICOMBINE to place the results into a REAL valued DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mREAL=A*(B-C)<CR>[0m
  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-40
  RETURN command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mRETURN[0m

          Restores command input from an indirect file to SYS$COMMAND.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mRETURN[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Restores command input from an indirect file to SYS$COMMAND.

  A typical application is to allow the user to use an indirect  command  file  to
  set  up  those  run  time defaults which are constant within a flowline and then
  return to input from the  terminal  (or  batch  stream)  for  the  run  specific
  commands.   To  do  this RETURN must be the last command in the indirect command
  file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the RETURN command:

  RETURN command detected - returning to terminal input
  RETURN command ignored - command input is already from terminal

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1m@FLOW2<CR>[0m
  DTICOMBINE> RETURN
  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-41
  SHOW CLASSES command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mCLASSES[0m

          Shows the current ...

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mCLASSES[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m  ..

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW
  Available SHOW command qualifiers are:
  CLASSES, ENABLE, EXPRESSION, FILEA, FILEB, FILEC, FILED
  FILEE, FILEF, FILEG, FILEH, FILES, UNITS, OUTPUT


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE>[1mSHOW[0m [1mCLASSES<CR>[0m

  CLASS 2.0 120.0 >=200.0 <=300.0
  CLASS 10.0 All values
  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-42
  SHOW ENABLE command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mENABLE[0m

          Shows the current status of those options that may be enabled  by  means
          of the ENABLE command, or disabled using the DISABLE command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mENABLE[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Displays the current status of all the DTICOMBINE options that may be enabled or
  disabled using the ENABLE and DISABLE commands.
  The name of the option is shown, followed by  either  the  word  ON  or  OFF  to
  indicate its current status.
  If the command SHOW ENABLE is used before any ENABLE or  DISABLE  commands  have
  been given, the default status of the options is displayed.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW
  Available SHOW command qualifiers are:
  CLASSES, ENABLE, EXPRESSION, FILEA, FILEB, FILEC, FILED
  FILEE, FILEF, FILEG, FILEH, FILES, UNITS, OUTPUT


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE>[1mSHOW[0m [1mENABLE<CR>[0m

  Current status:

  ABSOLUTE         On        CLASSIFICATION   Off      DIAGNOSTICS      Off

  PME              Off

  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-43
  SHOW EXPRESSION command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mEXPRESSION[0m

          Shows the current combination expression.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mEXPRESSION[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  This command displays the current combination expression defined with the  BYTE,
  WORD, LONGWORD or REAL commands.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW
  Available SHOW command qualifiers are:
  CLASSES, ENABLE, EXPRESSION, FILEA, FILEB, FILEC, FILED
  FILEE, FILEF, FILEG, FILEH, FILES, UNITS, OUTPUT


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE>[1mSHOW[0m [1mEXPRESSION<CR>[0m
         WORD = A*5

  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-44
  SHOW FILEx command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mFILEx[0m

          Displays information extracted from the header of input DTI FILE 'x'.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mFILEx[0m
                   [1mSHOW[0m [1mFILES[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Details extracted from the header of FILE 'x' are displayed on the terminal.

  The header values are shown in  the  current  units  of  measurement.   This  is
  dependent  on  the header type of the input file, or may be set explicitly using
  the UNITS command.  By default or if the ENABLE ABSOLUTE command has been  given
  then  metre  or  projection  values are expressed in absolute values.  Otherwise
  they are displayed as offsets from the SW corner of the matrix.

  The SHOW FILES command displays the information for all the input files.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW
  Available SHOW command qualifiers are:
  CLASSES, ENABLE, EXPRESSION, FILEA, FILEB, FILEC, FILED
  FILEE, FILEF, FILEG, FILEH, FILES, UNITS, OUTPUT


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE>[1mSHOW[0m [1mFILES<CR>[0m
  FILEA:
  DTI file LSL$DTI:UHL1DATA.DTI;0 opened for read

  File    :  LSL$DTI:UHL1DATA.DTI;0
  Header  :  UHL1  Data:  WORD

  Units are Degrees, Minutes, Seconds

  Matrix Origin       :  52 00 00S   58 00 00W  
  Matrix Coverage   SW:  52 00 00S   58 00 00W   NE:  51 50 00S   57 39 20W  
  Matrix Interval    E:          2                N:          1
  Value Range         :     0   to    321


  By default WINDOW commands for this file must be specified in Latlong (degrees,


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-45
  SHOW FILEx command                                                   5 June 1997


  minutes and seconds)
  Use the UNITS command to change the default units

  FILEB:
  File B is undefined

  FILEC:
  File C is undefined

  FILED:
  File D is undefined

  FILEE:
  File E is undefined

  FILEF:
  File F is undefined

  FILEG:
  File G is undefined

  FILEH:
  File H is undefined

  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-46
  SHOW OUTPUT command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mOUTPUT[0m

          Displays on the terminal where the data for the output  file  will  come
          from .


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mOUTPUT[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Displays whether the data for the creation of the output file will come from the
  union  or  the  intersection  of the active window areas in the currently opened
  input files.

  The OUTPUT command may be used to change the output settings


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m
               

  DTICOMBINE>[1mSHOW[0m [1mOUTPUT<CR>[0m

  Output set to UNION of input files
  DTICOMBINE>



  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-47
  SHOW UNITS command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mUNITS[0m


          Displays on the terminal the current units of measurement.


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mUNITS[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

   Displays the current units of measurement which will be used when defining
  an area of interest in the input DTI file with the WINDOW command.


   The UNITS command may be used to change the current units of measurement.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m


  The following message is specific to the SHOW command:


  *** ERROR *** Specifying command SHOW
  Available SHOW command qualifiers are:
  CLASSES, ENABLE, EXPRESSION, FILEA, FILEB, FILEC, FILED
  FILEE, FILEF, FILEG, FILEH, FILES, UNITS, OUTPUT


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m
               

  DTICOMBINE>[1mSHOW[0m [1mUNITS<CR>[0m

  Current WINDOW units are Projection Units.
  DTICOMBINE>




  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-48
  SPAWN command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSPAWN[0m


          The SPAWN command enables you to create a subprocess while within
          DTICOMBINE. 

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m                [1mSPAWN[0m [1mcommand-line[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m


  command-line

          Specifies a DCL command string to be executed as if typed in response to
          a '$' prompt. When the command completes, the subprocess terminates and
          control
          is returned to DTICOMBINE. The command string cannot exceed 80
          characters. 

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SPAWN command enables you to create a subprocess while within DTICOMBINE.
  When the subprocess terminates control is returned to DTICOMBINE.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m


  The following warning messages are specific to the SPAWN command:

  *** WARNING *** SPAWN requires a valid DCL command line

   *** ERROR *** Unable to spawn command, returning to DTICOMBINE

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mSPAWN[0m [1mDIRECTORY[0m [1m*.DTI;*<CR>[0m

  Directory DUA3:[EXPERIMENT3.DTI]

  HUMUS.DTI;1               7/8       18-Oct-1987 17:07  [LSL,TIM]
  INFILTRATION.DTI;1        8/8       18-Oct-1987 07:56  [LSL,TIM]
  SOILS.DTI;2               7/8       18-Oct-1987 17:17  [LSL,TIM]

  Total of 3 files, 22/24 blocks.

  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-49
  UNITS command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mUNITS[0m

          Specifies the units of measurement that will be used  when  defining  an
          area  of  interest  in the input DTI FILE using the WINDOW command.  The
          command also controls the units of measurement which will be  used  when
          displaying file header details for the current DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mUNITS[0m [1munits[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  units

          A keyword defining the measurement units, chosen from:

                  MATRIX     Matrix grid interval units, i.e rows and columns
                  METRES     Metres on the ground
                  LATLONG    Latitude and Longitude 
                             (in degrees, minutes and seconds)
                  SECONDS    Seconds of arc
                  PROJECTION Projection Record Units (eg. mms on the source document)



  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The UNITS command specifies the units of measurement used to define an  area  of
  interest  in  the  input  DTI  file  using the WINDOW command.  The command also
  controls in what format details from the header of the file are displayed.

  Appropriate default units of measurement are  set  up  for  the  WINDOW  command
  whenever an input DTI file is opened using a FILEx command.

  The UNITS command should be given after opening the DTI  file,  but  before  the
  WINDOW  command,  should  the user wish to specify WINDOW command arguments in a
  different measurement system to the file-type default.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the UNITS command:

  *** ERROR *** Specifying command UNITS
  Command qualifiers are MATRIX, METRES, SECONDS, LATLONG or PROJECTION

  *** ERROR *** Specifying command UNITS
  Command qualifier is invalid for the input file


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-50
  WAIT command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mWAIT[0m

          Suspend processing for the specified number of seconds.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mWAIT[0m [1mseconds[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  seconds

          The  number  of  seconds  for  which  DTICOMBINE  processing  is  to  be
          suspended.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The WAIT command causes processing to be suspended for  a  specified  number  of
  seconds.   It is designed for use in software demonstration situations and is of
  no value in a production flowline.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning message is specific to the WAIT command:

  *** WARNING *** You must specify the number of seconds to wait

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mWAIT[0m [1m4<CR>[0m
  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-51
  WINDOW command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mWINDOW[0m

          Specifies the limits of the data area to be used from an input file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mWINDOW[0m [1mxmin[0m [1mymin[0m [1mxmax[0m [1mymax[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  xmin ymin

          The  coordinates  of  the  bottom  left  hand  corner  of  the  defining
          rectangle.


  xmax ymax

          The coordinates of top right hand corner of the defining rectangle.

          The format of the command parameters is controlled by the UNITS command.

              UNITS MATRIX - Requires 4 integer values defining the  rectangle  in
              terms of column and row numbers

              UNITS METRES - Requires 4 real (floating point) values defining  the
              rectangle  as  metre  offsets  from  the  SW  corner of the DTM.  By
              default, or if the ENABLE  ABSOLUTE  command  has  been  given,  the
              values   are   absolute   coordinates   (eg.   U.K.   National  Grid
              coordinates); if the DISABLE ABSOLUTE command has been  given,  then
              the coordinates are offsets from the SW corner of the matrix.

              UNITS SECONDS - Requires 4 real (floating point) values defining the
              absolute  position  of  the rectangle in seconds of arc.  The values
              are supplied in the order latitude followed by longitude for the  SW
              corner,  and  latitude  followed  by longitude for the NE corner.  A
              negative  latitude  value  indicates  a  position  in  the  Southern
              Hemisphere,  and  a  negative longitude value a point to the west of
              Greenwich.

              UNITS LATLONG - Requires 4 values defining the absolute latitude and
              longitude  position of the rectangle in the format DDD MM SS H where
              DDD is the number of degrees, MM is the number of minutes, SS is the
              number  of  seconds,  and H is the hemisphere (N,S,E,W).  The values
              are supplied in the order latitude followed by longitude for the  SW
              corner, and latitude followed by longitude for the NE corner.

              UNITS PROJECTION Requires 4 real (floating  point)  values  defining
              the  rectangle  in  projection  record units.  By default, or if the
              ENABLE ABSOLUTE command has been  given,  the  values  are  absolute
              coordinates;  if  the  DISABLE ABSOLUTE command has been given, then
              the coordinates are offsets from the SW corner of the matrix.



  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-52
  WINDOW command                                                       5 June 1997


          Note that in all cases, the input values are  adjusted  to  the  nearest
          column and row values.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command is used to define rectangular limits to  the  area  of  data  to  be
  checked  within  the  input DTI file.  The limits must be specified in the order
  bottom left hand (or south west) corner then top  right  hand  (or  north  east)
  corner.

  The specified window values must lie within the input DTI file x and y ranges.

  Appropriate default units of measurement are  set  up  for  the  WINDOW  command
  whenever  an  input DTI file is opened.  The UNITS command should be given after
  opening the DTI file, but before the WINDOW command, should  the  user  wish  to
  specify  WINDOW  command  arguments  in  a  different  measurement system to the
  file-type default.

  The WINDOW command can be used to clip data from the input DTI file.   If  input
  is  to  be from an entire DTI file then the WINDOW command may be omitted as the
  WINDOW extents will then, by default, be taken from the DTI file header.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the WINDOW command:


  *** ERROR **** FILEx command must be used to open the DTI file first

  *** ERROR **** Specifying DTI window arguments Command requires 2 x,y coordinate
  pairs (SW and NE)

  *** ERROR **** Specifying DTI window NE coordinates should exceed SW coordinates

  *** WARNING *** Specified window exceeds matrix limits Window will be  truncated
  to fit

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mWINDOW[0m [1m10[0m [1m10[0m [1m120[0m [1m120<CR>[0m
  DTICOMBINE>


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-53
  WORD command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mWORD[0m

          The WORD command enables specification of the combination expression and
          instructs DTICOMBINE to place the results into a WORD valued DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mWORD=expression[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  expression

          Specifies the arithmetic expression with which the input DTI  files  are
          to be combined.

          T.p 0;- See  section  9  for  the  description  of  the  format  of  the
          expressions


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The WORD  command  enables  specification  of  the  combination  expression  and
  instructs DTICOMBINE to place the results into a WORD valued DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the WORD command:

  *** ERROR *** Word underflow detected at post X = 'integer', Y = 'integer'

  *** ERROR *** Word overflow detected at post X = 'integer', Y = 'integer'

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTICOMBINE> [1mWORD=A*(B-C)<CR>[0m
  DTICOMBINE>
  [1m--------------------------------------------------------------------------------[0m


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-54
                                                                       5 June 1997







                                [1mDTICOMBINE[0m [1mexamples[0m



  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-55
  DTICOMBINE examples                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m


  $ [1mDTICOMBINE<CR>[0m
  MATRIX module DTICOMBINE of 15:27:43  9-MAR-88
  DTICOMBINE> [1m@XXX<CR>[0m
  Command input now being read from SYS$DISK:[]XXX.COM;0
  DTICOMBINE> FILEA POLYOVERSOILS<CR>
  DTI file LSL$DTI:POLYOVERSOILS.DTI;0 opened for read

  File    :  LSL$DTI:POLYOVERSOILS.DTI;0
  Header  :  LSLA Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   101   101
  Matrix Interval    E:     1         N:     1
  Value Range         :    29   to   1020


  By default WINDOW commands for this file must be specified in DTI matrix units 
  Use the UNITS command to change the default units
  DTICOMBINE> FILEB POLYOVERSLOPES
  DTI file LSL$DTI:POLYOVERSLOPES.DTI;0 opened for read

  File    :  LSL$DTI:POLYOVERSLOPES.DTI;0
  Header  :  LSLA Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   101   101
  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to   2000


  By default WINDOW commands for this file must be specified in DTI matrix units
  Use the UNITS command to change the default units
  DTICOMBINE> WORD=A-B
  DTICOMBINE> FILEOUT TEST5
  DTICOMBINE> GO

  Output file now open:

  File    :  LSL$DTI:TEST5.DTI
  Header  :  LSLA Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   101   101
  Matrix Interval    E:     1         N:     1
  Value Range         :     0   to      0

  25 columns of output DTI file complete
  50 columns of output DTI file complete
  75 columns of output DTI file complete


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-56
  EXAMPLES                                                             5 June 1997


  100 columns of output DTI file complete
  101 columns of output DTI file complete
   ELAPSED:    0 00:00:14.18  CPU: 0:00:10.11  BUFIO: 14  DIRIO: 11  FAULTS: 165 
  $

            This example shows the use of an indirect  command  file  for  command
            input.   In  response to the DTICOMBINE> prompt the user has specified
            the '@' command followed by a filename.   The  missing  parts  of  the
            file-spec  are  taken  from  the  default 'SYS$DISK:[].COM', i.e.  the
            user's current default device and directory.

            The already prepared command file XXX.COM is opened for read.

            The FILEA command specifies that  the  file  specified  by  the  FILEA
            file-spec argument is to be opened for read and used wherever variable
            A is encountered in the combination expression.

            DTICOMBINE successfully  opens  the  file  specified  as  file  A  and
            displays a summary of the file contents.

            A file for variable B in  the  expression  is  similarly  successfully
            opened using the FILEB command.

            The user wishes to use all the data in both matrix files and makes  no
            attempt  to specify sub-windows of the data using the UNITS and WINDOW
            commands.

            The expression is specified with the WORD command, indicating that the
            result of expression evaluation is to be placed in a WORD type DTI.

            The expression is a simple one!  Matrix B is to subtracted from matrix
            A.   The  characteristics  of the output file are taken from the input
            file specified with the lowest alphabetic FILEx command.  In this case
            the  output  file  is  going  to  take the characteristics of the file
            opened with the FILEA command:  LSL$DTI:POLYOVERSOILS.DTI;0.  In  this
            example the output file will have a 'LSLA' type header.

            The output file LSL$DTI:TEST5.DTI;0 is  specified  using  the  FILEOUT
            command.   It  will not be opened until the GO command is detected, as
            the user may CLOSE and reopen  another  input  file  with  the  lowest
            alphabetic    identifier,    thereby    altering   the   output   file
            characteristics!

            The  ENABLE  DIAGNOSTICS  command  will  cause  DTICOMBINE  to  output
            diagnostic  messages indicating processing progress through the output
            DTI file.

            The GO command starts DTICOMBINE processing.

            The  run  completed  successfully.   DCL  symbol  $STATUS  is  set  to
            SS$NORMAL.


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-57
                                                                       5 June 1997







                                     MESSAGES



  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-58
  MESSAGES                                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m

  DTICOMBINE produces no messages of the %DTICOMBINE-severity-mnemonic variety  of
  it's   own.   All  the  DTICOMBINE  messages  are  of  the  more  conversational
  *** WARNING *** and *** ERROR *** variety, as all  are  directly  or  indirectly
  attributable to the effects of commands the user has specified.

  In addition to the above messages which  are  generated  by  DTICOMBINE  itself,
  other messages may be produced by the command line interpreter and by Laser-Scan
  libraries.  In particular, messages may be generated by the DTI library  and  by
  the  Laser-Scan  I/O  library,  LSLLIB.   DTI library messages are introduced by
  '%DTI' and are documented in the DTI library users' guide.  In  most  cases  DTI
  errors will be due to a corrupt input file, and this should be the first area of
  investigation.  If the cause of the error cannot be  traced  by  the  user,  and
  Laser-Scan are consulted, then the output file should be preserved to facilitate
  diagnosis.  LSLLIB messages  are  introduced  by  '%LSLLIB'  and  are  generally
  self-explanatory.   They  are  used  to explain the details of program generated
  errors.


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-59
                                                                       5 June 1997







                                    [1mEXPRESSIONS[0m



  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-60
  EXPRESSION SYNTAX                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSYNTAX[0m


  An expression is a mathematically correct combination of:
                         Operands, Operators and Functions


  [1mOperands:[0m

  An operand is an integer or floating point constant, or a variable  chosen  from
  the  set  A through H.  The letter chosen to symbolise the variable should match
  that selected when opening the corresponding DTI input file.

  Operands may take the form of sub-expressions.  These are expressions which  are
  surrounded by parentheses and are contained in an expression.

  E.g.

      1.  a+(cos(b)*sin(3*d)) is an expression and

      2.  (cos(b)*sin(3*d)) is a sub-expression of the expression.


  Sub-expressions are evaluated by DTICOMBINE and their return values are  treated
  as operands within the expression.


  [1mOperators[0m [1mare[0m [1mchosen[0m [1mfrom[0m [1mthe[0m [1mset:[0m
   
    Arithmetic operators:
          unary minus             -               e.g.    - A
          addition                +               e.g.    A + B
          subtraction             -               e.g.    A - 3
          division                /               e.g.    A / 2
          multiplication          *               e.g.    A * 3
          exponentiation          **              e.g.    A **1.2

     Bitwise operators:
          bitwise AND             &               e.g.    A & 127
          bitwise OR              |               e.g.    A | B
          bitwise NOT             ~               e.g.    ~ A
          bitwise XOR             ^               e.g.    A ^ B

     Logical operators:
          logical AND             &&              e.g.    ( A > 1 ) && B
          logical OR              ||              e.g.    (A<3) || (B>20)
          logical NOT             ~~              e.g.    ~~(A = 4)
          logical XOR             ^^              e.g.    (A = 3)^^(B < 3)

     Relational operators:
          less than               <               e.g.    A < 3
          greater than            >               e.g.    D > 4
          equal to                =               e.g.    A = B
          not equal to            <>              e.g.    A <> 6.7
          less than or equal to   <=              e.g.    C <= A


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-61
  EXPRESSION SYNTAX                                                    5 June 1997


          greater or equal to     >=              e.g.    B >= (10*A)

  [1mFunctions[0m [1mavailable[0m [1mare:[0m

          absolute                ABS             e.g.    ABS(A)
          nearest integer         NINT            e.g.    NINT(3.1415927)
          arc cosine              ACOS            e.g.    ACOS(.32)
          arc sine                ASIN            e.g.    ASIN(A)
          arc tangent             ATAN            e.g.    ATAN(B/A)
          cosine                  COS             e.g.    COS(90)
          sine                    SIN             e.g.    SIN(D)
          tangent                 TAN             e.g.    TAN(A/B)
          maximum                 MAX             e.g.    MAX(A,B,C,D,E,F)
          minimum                 MIN             e.g.    MIN(2,D,B)
          conditional             IF              e.g.    IF(A>3,A,B)


                                [1mNotes[0m [1mon[0m [1mexpressions[0m


          1.  The exponentiation operator  '**'  may  be  used  to  obtain
              square roots
                                   e.g. 4 ** 0.5 = 2

          2.  Numbers are interpreted in decimal radix.

          3.  Expressions are  evaluated  using  precedence  (see  section
              9.2).

          4.  All calculations are performed using REAL*4 arithmetic.

              If the result of the expression is to be written to a  BYTE,
              WORD  integer  or LONGWORD integer DTI file, real to integer
              conversion is performed at the end of expression evaluation.
              Integer truncation is applied

                              e.g. BYTE = 3.0 / 2.0 is 1 .

              Data overflow  and  underflow  checking  of  the  result  is
              performed before writing to the DTI file.

          5.  The IF function takes 3 arguments:

              1.  A logical expression.

              2.  An  expression  which  is  evaluated  if   the   logical
                  expression is evaluated to TRUE.

              3.  An  expression  which  is  evaluated  if   the   logical
                  expression is evaluated to FALSE.


          6.  The MAX and MIN functions take  lists  as  their  arguments,
              where  a  list  consists  of a variable number of arguments,
              separated by commas and enclosed in parentheses.


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-62
  PRECEDENCE IN EXPRESSIONS                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mPRECEDENCE[0m


  The list below shows the order of precedence in  descending  order  as  used  by
  DTICOMBINE while evaluating expressions:

            unary minus , functions
            exponentiation
            multiplication, division
            addition, subtraction
            relational operators
            binary and logical NOT
            binary and logical AND
            binary and logical OR
            binary and logical XOR
            operand separator (comma)
            parentheses

  Operators of equal precedence are evaluated from left to right.  Parentheses '('
  and ')' may be used to force the order of evaluation.


  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-63
  INTERPRETATION OF TRUTH VALUES                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mTruth[0m [1mValues[0m [1mIn[0m [1mExpressions[0m


  When an expression contains logical operators, the operands of the operation are
  interpreted by DTICOMBINE as having logical values - either TRUE or FALSE.

  If a numeric operand is used in a logical operation, then  any  non-zero  values
  are  interpreted  as having the logical value TRUE, while zero is interpreted as
  having the logical value of false.

  The result of the expression is

       1.  -1 if the result of the operation was TRUE

       2.  0 if the result of the operation was FALSE



  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-64
  EXAMPLE EXPRESSIONS                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples[0m


  For the purpose of these examples, The values of the variables A  through  to  H
  are set to be 1,2,3,4,5,6,7,8 respectively.


                   Expression            result
            -          -A                   -1
            +          A+B                   3
            -          D-3                   1
            /          7/G                   1
            *          2*3                   6
            **         3**C                 27
            &          12 & C                0
            |          13 | G               15
            ~          ~ C               65533
            ^          57 ^ 19              42
            &&         2 && A                0
            ||         34 || G              -1
            ~~         ~~ A                  0
            ^^         A ^^ 6               -1
            <          A < O.5               0
            >          D > C                -1
            =          A = 1                -1
            <>         B <> 2                0
            <=         A <= G               -1
            >=         G >= 243              0
            ABS        ABS(-3.45)            3.45
            ACOS       ACOS(.23)            76.7029
            ASIN       ASIN(.90)            64.1580
            ATAN       ATAN(-.456)         -24.5129
            COS        COS(H)                 .9922
            SIN        SIN(B)                 .0349
            TAN        TAN(34)                .67450
            MAX        MAX( A,B,3,78,H)     78    
            MIN        MIN(3,2,B)            2    
            IF         IF( A<B, D-E,H**5)   -1
            NINT       NINT(5.342)           5

  Examples of parentheses used to force evaluation order

       without parentheses    2*6+3               15
       with parentheses      2*(6+3)               18

  some examples of expressions involving sub-expressions:

       MAX( ACOS(.23) , IF(A<B,B-A,A-B),2*G)
       IF( A&&B , IF(A<B,C, IF(B=A,B,34) ), 9)




  MATRIX REFERENCE (3.7): DTICOMBINE - DTI File Combine Utility          Page 6-65
                                                                       5 June 1997


                                     [1mUSER[0m [1mNOTES[0m

















                                     CHAPTER 7

                                  MODULE DTIROTATE





  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility           Page 7-1
                                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE     DTIROTATE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m   PANACEA module FLIPPANT.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTIROTATE is a utility to mirror and/or rotate a DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DTIROTATE

  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            DTIROTATE is command driven.   Command  input  is  expected  when  the
            following prompt is issued:
             
            DTIROTATE>
  [1m--------------------------------------------------------------------------------[0m


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility           Page 7-2
  DTIROTATE command defaults                                           5 June 1997


  [1mDTIROTATE[0m [1mcommand[0m [1mdefaults[0m

            On program startup, the following command defaults apply:

            DIAGNOSTICS  - disabled.

            MIRROR       - disabled.

            PME          - disabled.

            ROTATE       - enabled.

            DTIROTATE is currently not allowed for BIT data type  DTI  files.   To
            process  a  BIT  file, use the MATRIX utility DTICONVERT to convert to
            another format, and convert back to BIT if required.


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility           Page 7-3
  DTIROTATE command defaults                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mGeneral[0m



            DTIROTATE is a command driven utility to mirror and/or  rotate  a  DTI
            file.   The  utility  provides  for  eight  possible  combinations  of
            mirroring and/or rotation achieved with the four mirror states and the
            two rotation states.

                     --------------------------------------------------
                     | Mirror states          | Rotation states       |
                     --------------------------------------------------
                     | DISABLE MIRROR         | DISABLE ROTATE        |
                     | ENABLE MIRROR BOTH     | ENABLE ROTATE         |
                     | ENABLE MIRROR X        |                       |
                     | ENABLE MIRROR Y        |                       |
                     --------------------------------------------------


  [1mOperation[0m [1mstates[0m

            The eight combinations of mirror and rotate operations  are  described
            below.   The first combination is invalid.  All other combinations are
            valid.  To help understand the action  of  each  valid  combination  a
            diagram  has been included.  Where a mirror action and a rotate action
            are both enabled an intermediate state is drawn.  It should  be  noted
            that the mirror action is always performed before the rotate action.

        1.  Combination of [1mDISABLE[0m [1mMIRROR[0m and [1mDISABLE[0m [1mROTATE.[0m

            The combination of DISABLE MIRROR and DISABLE ROTATE would  result  in
            an  identical  output  DTI  file and therefore serves no purpose.  The
            DTIROTATE utility will allow this combination to be specified  without
            error.  However, if the GO command (processing command) is issued with
            this combination an error message will be displayed with control being
            returned to the user via the command prompt.


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility           Page 7-4
  DESCRIPTION                                                          5 June 1997


        2.  Combination of [1mDISABLE[0m [1mMIRROR[0m and [1mENABLE[0m [1mROTATE[0m.

            DTI file will be rotated clockwise through 90 degrees.

                             ROTATE enabled

                  INPUT DTI        >>    OUTPUT DTI
            ---------------------     ----------------
            |  3 |  6 |  9 | 12 |     |  1 |  2 |  3 |  
            ---------------------     ----------------
            |  2 |  5 |  8 | 11 |     |  4 |  5 |  6 |
            ---------------------     ----------------
            |  1 |  4 |  7 | 10 |     |  7 |  8 |  9 |
            ---------------------     ----------------
                                      | 10 | 11 | 12 |
                                      ----------------


        3.  Combination of [1mENABLE[0m [1mMIRROR[0m [1mX[0m and [1mDISABLE[0m [1mROTATE.[0m

            DTI file will be mirrored about the x axis.

                            MIRROR X enabled

                  INPUT DTI        >>      OUTPUT DTI
            ---------------------     ---------------------
            |  3 |  6 |  9 | 12 |     |  1 |  4 |  7 | 10 |  
            ---------------------     ---------------------
            |  2 |  5 |  8 | 11 |     |  2 |  5 |  8 | 11 |
            ---------------------     ---------------------
            |  1 |  4 |  7 | 10 |     |  3 |  6 |  9 | 12 |
            ---------------------     ---------------------
                                          

        4.  Combination of [1mENABLE[0m [1mMIRROR[0m [1mX[0m and [1mENABLE[0m [1mROTATE.[0m

            The DTI file will be mirrored about the x axis, then rotated clockwise
            through 90 degrees.

                            MIRROR X enabled           ROTATE enabled

                  INPUT DTI        >>  intermediate state    >>    OUTPUT DTI
            ---------------------     ---------------------     ----------------
            |  3 |  6 |  9 | 12 |     |  1 |  4 |  7 | 10 |     |  3 |  2 |  1 |  
            ---------------------     ---------------------     ----------------
            |  2 |  5 |  8 | 11 |     |  2 |  5 |  8 | 11 |     |  6 |  5 |  4 |
            ---------------------     ---------------------     ----------------
            |  1 |  4 |  7 | 10 |     |  3 |  6 |  9 | 12 |     |  9 |  8 |  7 |
            ---------------------     ---------------------     ----------------
                                                                | 12 | 11 | 10 |
                                                                ----------------




  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility           Page 7-5
  DESCRIPTION                                                          5 June 1997


        5.  Combination of [1mENABLE[0m [1mMIRROR[0m [1mY[0m and [1mDISABLE[0m [1mROTATE.[0m

            DTI file will be mirrored about the y axis.

                            MIRROR Y enabled

                  INPUT DTI        >>      OUTPUT DTI
            ---------------------     ---------------------
            |  3 |  6 |  9 | 12 |     | 12 |  9 |  6 |  3 |  
            ---------------------     ---------------------
            |  2 |  5 |  8 | 11 |     | 11 |  8 |  5 |  2 |
            ---------------------     ---------------------
            |  1 |  4 |  7 | 10 |     | 10 |  7 |  4 |  1 |
            ---------------------     ---------------------
                                          

        6.  Combination of [1mENABLE[0m [1mMIRROR[0m [1mY[0m and [1mENABLE[0m [1mROTATE.[0m

            The DTI file will be mirrored about the y axis, then rotated clockwise
            through 90 degrees.

                            MIRROR Y enabled           ROTATE enabled

                  INPUT DTI        >>  intermediate state    >>    OUTPUT DTI
            ---------------------     ---------------------     ----------------
            |  3 |  6 |  9 | 12 |     | 12 |  9 |  6 |  3 |     | 10 | 11 | 12 |  
            ---------------------     ---------------------     ----------------
            |  2 |  5 |  8 | 11 |     | 11 |  8 |  5 |  2 |     |  7 |  8 |  9 |
            ---------------------     ---------------------     ----------------
            |  1 |  4 |  7 | 10 |     | 10 |  7 |  4 |  1 |     |  4 |  5 |  6 |
            ---------------------     ---------------------     ----------------
                                                                |  1 |  2 |  3 |
                                                                ----------------



        7.  Combination of [1mENABLE[0m [1mMIRROR[0m [1mBOTH[0m and [1mDISABLE[0m [1mROTATE.[0m

            DTI file will be mirrored about both axes.

                            MIRROR BOTH enabled

                  INPUT DTI        >>      OUTPUT DTI
            ---------------------     ---------------------
            |  3 |  6 |  9 | 12 |     | 10 |  7 |  4 |  1 |  
            ---------------------     ---------------------
            |  2 |  5 |  8 | 11 |     | 11 |  8 |  5 |  2 |
            ---------------------     ---------------------
            |  1 |  4 |  7 | 10 |     | 12 |  9 |  6 |  3 |
            ---------------------     ---------------------
                                          


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility           Page 7-6
  DESCRIPTION                                                          5 June 1997


        8.  Combination of [1mENABLE[0m [1mMIRROR[0m [1mBOTH[0m and [1mENABLE[0m [1mROTATE.[0m

            The DTI file will be mirrored about both axes, then rotated  clockwise
            through 90 degrees.

                            MIRROR BOTH enabled           ROTATE enabled

                  INPUT DTI        >>  intermediate state    >>    OUTPUT DTI
            ---------------------     ---------------------     ----------------
            |  3 |  6 |  9 | 12 |     | 10 |  7 |  4 |  1 |     | 12 | 11 | 10 |  
            ---------------------     ---------------------     ----------------
            |  2 |  5 |  8 | 11 |     | 11 |  8 |  5 |  2 |     |  9 |  8 |  7 |
            ---------------------     ---------------------     ----------------
            |  1 |  4 |  7 | 10 |     | 12 |  9 |  6 |  3 |     |  6 |  5 |  4 |
            ---------------------     ---------------------     ----------------
                                                                |  3 |  2 |  1 |
                                                                ----------------



  [1mTypical[0m [1mCommand[0m [1mSequence[0m

            A typical command sequence is:

            FILEIN AREA1               (input file 1 is LSL$DTI:AREA1.DTI)
            FILEOUT AREA1_R180         (output file is LSL$DTI:AREA1_R180.DTI)
            DISABLE ROTATE             (disable 90 degree clockwise rotation)
            ENABLE MIRROR BOTH         (enables mirroring about both x and y axes)
            GO                         (start to process)



            This series of commands will mirror the input DTI about the  x  and  y
            axes.   This  would  have  the  same  effect  as rotating the DTI file
            through 180 degrees.

  [1m--------------------------------------------------------------------------------[0m

  [1m--------------------------------------------------------------------------------[0m


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility           Page 7-7
                                                                       5 June 1997







                                [1mDTIROTATE commands[0m



  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility           Page 7-8
  @ command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1m@[0m

          Take command input from the specified file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1m@file-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The file to be opened and used for command input.

          Any parts of the file-spec not supplied for the @ command will be  taken
          from the default specification 'SYS$DISK:[].COM;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DTIROTATE offers the facility of command input from an  indirect  command  file.
  The  '@'  character  preceding a file-spec will cause DTIROTATE to open and read
  commands from the specified file until:

       1.  a  RETURN  command  is  detected  and  command  input  is  returned  to
           SYS$COMMAND.

       2.  end-of-file is detected.  This provokes an error  message  and  command
           input is returned to SYS$COMMAND.


  Nested command files are not supported (i.e. a command file  containing  an  '@'
  command),  although  sequential  '@'  commands  are  supported  when  read  from
  SYS$COMMAND.

  As an aid to batch log interpretation DTIROTATE will echo all commands read from
  an indirect command file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the @ command:

  *** WARNING *** "@" must precede a file-spec

  *** WARNING *** Indirect file error - returning to terminal input

  *** ERROR *** Can't open indirect command file 'file-spec'


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility           Page 7-9
  @ command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1m@PRESETS<CR>[0m
  DTIROTATE> ENABLE DIAGNOSTICS
  DTIROTATE> ENABLE MIRROR X
  DTIROTATE> DISABLE ROTATE
  DTIROTATE> FILEIN AREA1

  DTI file LSL$DTI:AREA1.DTI;0 opened for read

  File    :  LSL$DTI:AREA1.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   201   201
  Matrix Interval    E:     1         N:     1
  Value Range         :    97   to    468
  DTIROTATE> FILEOUT AREA1_X
  DTIROTATE> RETURN
  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-10
  ! command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1m![0m

          Treat all text to the right of the '!' as a comment.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1m![0m [1m[comment[0m [1mtext][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  comment text

          text that is to be treated as a comment and which will be excluded  from
          command interpretation.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  An exclamation mark is the standard MATRIX package comment delimiter.  All  text
  (and  numbers)  which  lie  to  the  right  of a '!' character are excluded from
  command interpretation.  Comments are useful for annotating  command  procedures
  used in batch processing etc.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1m![0m [1ma[0m [1mcomment[0m [1mfor[0m [1mthe[0m [1msake[0m [1mof[0m [1mit<CR>[0m
  DTIROTATE> [1mENABLE[0m [1mMIRROR[0m [1mBOTH<CR>[0m
  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-11
  DISABLE DIAGNOSTICS command                                          5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mDIAGNOSTICS[0m

          Disables a previous ENABLE DIAGNOSTICS command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mDISABLE[0m [1mDIAGNOSTICS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE DIAGNOSTICS allows the user to disable  a  previous  ENABLE  DIAGNOSTICS
  command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE

  Available DISABLE qualifiers are :
  DIAGNOSTICS  MIRROR  PME  ROTATE

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mENABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTIROTATE> [1mDISABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-12
  DISABLE MIRROR command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mMIRROR[0m

          Disables a previous ENABLE MIRROR command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mDISABLE[0m [1mMIRROR[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE MIRROR allows the user to disable a previous ENABLE MIRROR command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE

  Available DISABLE qualifiers are :
  DIAGNOSTICS  MIRROR  PME  ROTATE

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mENABLE[0m [1mMIRROR[0m [1mY<CR>[0m
  DTIROTATE> [1mDISABLE[0m [1mMIRROR<CR>[0m
  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-13
  DISABLE PME command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mPME[0m

          Disables a previous ENABLE PME command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mDISABLE[0m [1mPME[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE PME allows the user to disable a previous ENABLE PME command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the DISABLE and DISABLE PME commands:

  *** ERROR *** Specifying command DISABLE

  Available DISABLE qualifiers are :
  DIAGNOSTICS  MIRROR  PME  ROTATE

  *** WARNING *** You are not using PME !

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mENABLE[0m [1mPME<CR>[0m
  DTIROTATE> [1mDISABLE[0m [1mPME<CR>[0m
  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-14
  DISABLE ROTATE command                                               5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mROTATE[0m

          Disables a previous ENABLE ROTATE command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mDISABLE[0m [1mROTATE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE ROTATE allows the user to disable a previous ENABLE ROTATE command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE

  Available DISABLE qualifiers are :
  DIAGNOSTICS  MIRROR  PME  ROTATE

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mENABLE[0m [1mROTATE<CR>[0m
  DTIROTATE> [1mDISABLE[0m [1mROTATE<CR>[0m
  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-15
  ENABLE DIAGNOSTICS command                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mDIAGNOSTICS[0m

          ENABLE DIAGNOSTICS allows the user to enable diagnostic printout.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mENABLE[0m [1mDIAGNOSTICS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE DIAGNOSTICS allows the user to enable diagnostic printout.

  Because it is usually  used  in  a  batch  processing  environment,  by  default
  DTIROTATE  produces minimal diagnostic printout.  If however, the user wishes to
  receive an  indication  of  processing  progress,  diagnostic  printout  may  be
  selected with the ENABLE DIAGNOSTICS command.

  On a heavily loaded computer it may be reassuring to ENABLE DIAGNOSTICS for  the
  processing stage to indicate progress through the input data.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE

  Available ENABLE qualifiers are :
  DIAGNOSTICS  MIRROR  PME  ROTATE

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mENABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-16
  ENABLE MIRROR BOTH command                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mMIRROR[0m [1mBOTH[0m

          Enables mirroring about both axes.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mENABLE[0m [1mMIRROR[0m [1mBOTH[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE MIRROR BOTH will mirror the output DTI about both the x and the  y  axes.
  This  has  the  effect  of  180  degree rotation.  This command if used with the
  ENABLE ROTATE command would produce an  output  DTI  with  270  degree  rotation
  (-90).

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are is specific to the ENABLE and ENABLE MIRROR commands:

  *** ERROR *** Specifying command ENABLE

  Available ENABLE qualifiers are :
  DIAGNOSTICS  MIRROR  PME  ROTATE

  *** ERROR *** Specifying the command ENABLE MIRROR

  Available ENABLE MIRROR sub-command qualifiers are:

  BOTH  X  Y

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mDISABLE[0m [1mROTATE<CR>[0m
  DTIROTATE> [1mENABLE[0m [1mMIRROR[0m [1mBOTH<CR>[0m
  DTIROTATE> [1mSHOW[0m [1mPARAMETERS<CR>[0m
  PARAMETERS:
  MIRROR BOTH enabled  ROTATE disabled
  File will be mirrored about both axes 

         INPUT DTI        >>       OUTPUT DTI
   ---------------------       ---------------------
   |  3 |  6 |  9 | 12 |       | 10 |  7 |  4 |  1 |  
   ---------------------       ---------------------
   |  2 |  5 |  8 | 11 |       | 11 |  8 |  5 |  2 |  
   ---------------------       ---------------------
   |  1 |  4 |  7 | 10 |       | 12 |  9 |  6 |  3 |  
   ---------------------       ---------------------

  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-17
  ENABLE MIRROR X command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mMIRROR[0m [1mX[0m

          Enables mirroring about the x axis.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mENABLE[0m [1mMIRROR[0m [1mX[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE MIRROR X will mirror the output DTI about the x axis.  This  command  can
  be  used  with  the ENABLE ROTATE command.  The rotate action is performed after
  the mirror action.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are is specific to the ENABLE and ENABLE MIRROR commands:

  *** ERROR *** Specifying command ENABLE

  Available ENABLE qualifiers are :
  DIAGNOSTICS  MIRROR  PME  ROTATE

  *** ERROR *** Specifying the command ENABLE MIRROR

  Available ENABLE MIRROR sub-command qualifiers are:

  BOTH  X  Y

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mDISABLE[0m [1mROTATE<CR>[0m
  DTIROTATE> [1mENABLE[0m [1mMIRROR[0m [1mX<CR>[0m
  DTIROTATE> [1mSHOW[0m [1mPARAMETERS<CR>[0m
  PARAMETERS:
  MIRROR X enabled  ROTATE disabled
  File will be mirrored about the x axis 

         INPUT DTI        >>       OUTPUT DTI
   ---------------------       ---------------------
   |  3 |  6 |  9 | 12 |       |  1 |  4 |  7 | 10 |  
   ---------------------       ---------------------
   |  2 |  5 |  8 | 11 |       |  2 |  5 |  8 | 11 |  
   ---------------------       ---------------------
   |  1 |  4 |  7 | 10 |       |  3 |  6 |  9 | 12 |  
   ---------------------       ---------------------

  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-18
  ENABLE MIRROR Y command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mMIRROR[0m [1mY[0m

          Enables mirroring about the y axis.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mENABLE[0m [1mMIRROR[0m [1mY[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE MIRROR Y will mirror the output DTI about the y axis.  This  command  can
  be  used  with  the ENABLE ROTATE command.  The rotate action is performed after
  the mirror action.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are is specific to the ENABLE and ENABLE MIRROR commands:

  *** ERROR *** Specifying command ENABLE

  Available ENABLE qualifiers are :
  DIAGNOSTICS  MIRROR  PME  ROTATE

  *** ERROR *** Specifying the command ENABLE MIRROR

  Available ENABLE MIRROR sub-command qualifiers are:

  BOTH  X  Y

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mDISABLE[0m [1mROTATE<CR>[0m
  DTIROTATE> [1mENABLE[0m [1mMIRROR[0m [1mY<CR>[0m
  DTIROTATE> [1mSHOW[0m [1mPARAMETERS<CR>[0m
  PARAMETERS:
  MIRROR Y enabled  ROTATE disabled
  File will be mirrored about the y axis 

         INPUT DTI        >>       OUTPUT DTI
   ---------------------       ---------------------
   |  3 |  6 |  9 | 12 |       | 12 |  9 |  6 |  3 |  
   ---------------------       ---------------------
   |  2 |  5 |  8 | 11 |       | 11 |  8 |  5 |  2 |  
   ---------------------       ---------------------
   |  1 |  4 |  7 | 10 |       | 10 |  7 |  4 |  1 |  
   ---------------------       ---------------------

  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-19
  ENABLE PME command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mPME[0m

          ENABLE PME enables the PME performance monitor.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mENABLE[0m [1mPME[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE PME and DISABLE PME commands are reserved for Laser-Scan use.  PME is
  a code optimisation tool and should be invoked by LSL software personnel only.

  ENABLE PME causes the PME_INIT routine to be invoked.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessage:[0m  The following messages are specific  to  the  ENABLE  and  ENABLE  PME
  commands:

  *** ERROR *** Specifying command ENABLE

  Available ENABLE qualifiers are :
  DIAGNOSTICS  MIRROR  PME  ROTATE

  *** WARNING *** You are already using PME!

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mENABLE[0m [1mPME<CR>[0m
  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-20
  ENABLE ROTATE command                                                5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mROTATE[0m

          Rotate the DTI data clockwise through 90 degrees.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mENABLE[0m [1mROTATE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE ROTATE will rotate the DTI data clockwise through 90 degrees.  The ENABLE
  ROTATE command can be used with any of the ENABLE MIRROR commands.

  In all cases the rotate action is performed after the mirror action.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m  The following message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE

  Available ENABLE qualifiers are :
  DIAGNOSTICS  MIRROR  PME  ROTATE

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mENABLE[0m [1mROTATE[0m [1m<CR>[0m
  DTIROTATE> [1mSHOW[0m [1mPARAMETERS<CR>[0m
  PARAMETERS: MIRROR disabled ROTATE enabled file will be rotated clockwise
  through 90 degrees 

         INPUT DTI         >>     OUTPUT DTI
   ---------------------       ----------------  
   |  3 |  6 |  9 | 12 |       |  1 |  2 |  3 | 
   ---------------------       ----------------  
   |  2 |  5 |  8 | 11 |       |  4 |  5 |  6 |  
   ---------------------       ----------------  
   |  1 |  4 |  7 | 10 |       |  7 |  8 |  9 | 
   ---------------------       ----------------
                               | 10 | 11 | 12 |
                               ----------------


  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-21
  FILEIN command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mFILEIN[0m

          Specifies a DTI file that is to be opened and used for data input.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mFILEIN[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m

  file-spec

          The specification of the DTI file to be opened for data input.

          Any parts of the file-spec not supplied for the FILEIN command  will  be
          taken from the default file specification 'LSL$DTI:DTI.DTI;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The FILEIN command causes the specified DTI file to be opened for read only  and
  used  as an input file to DTIROTATE.  A FILEIN command must be issued before the
  GO command will be accepted.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the FILEIN command:

  *** WARNING *** Specifying command FILEIN
  You must specify a file-spec argument to the FILEIN command

  *** ERROR *** Specifying command FILEIN
  You must specify a file-spec argument to the FILEIN command

  *** ERROR *** Specifying command FILEIN
  Unable to interpret input file-spec

  *** ERROR *** Specifying command FILEIN
  Failed while opening DTI file 'file spec' for input

  *** ERROR *** Specifying command FILEIN
  File 'file spec' data type 'type' invalid
  Only data types 1 2 3 or 4 allowed

  *** ERROR *** Specifying command FILEIN
  File 'file spec' data type not compatible with first DTI file

  *** ERROR *** Specifying command FILEIN
  BIT data is not suitable for DTIROTATE

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mFILEIN[0m [1mAREA1<CR>[0m


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-22
  FILEIN command                                                       5 June 1997


  DTI file LSL$DTI:AREA1.DTI;0 opened for read

  File    :  LSL$DTI:AREA1.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   201   201
  Matrix Interval    E:     1         N:     1
  Value Range         :    97   to    468

  DTIROTATE>



  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-23
  FILEOUT command                                                      5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mFILEOUT[0m

          Specifies the file-spec of the DTI file which is to receive the  rotated
          DTI data.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mFILEOUT[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m

  file-spec

          The file-spec of the text file which is to receive the DTI data.

          Any parts of the file-spec not supplied for the FILEOUT command will  be
          taken from the default file specification 'LSL$DTI:DTI.DTI;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The FILEOUT command enables specification of the DTI file which  is  to  receive
  the rotated DTI data.

  The FILEOUT command must be issued before the GO command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the FILEOUT command:

  *** WARNING *** You must specify a file-spec argument to the FILEOUT command

  *** ERROR *** You must specify a file-spec argument to the FILEOUT command

  *** ERROR *** Unable to interpret output file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mFILEOUT[0m [1mDUA3:[DEMONSTRATION]IDAHO_ROTATE90<CR>[0m
  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-24
  GO command                                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mGO[0m

          Process the input DTI file and carry  out  the  required  mirror  and/or
          rotate operations.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mGO[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m  None

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Before the mirror and/or rotate processing takes places, checks will be  carried
  out  to  ensure  that  certain  preconditions  hold.   The  following checks are
  performed by this command:-

       1. Test that the input DTI file has been  opened  and  that  a  DTI  output
          filename has been specified.  An error message will be generated and the
          command will be terminated if the test fails.

       2. Test whether the invalid combination DISABLE MIRROR and  DISABLE  ROTATE
          has  been  specified.   This  condition  will result in an error message
          being generated and the command being terminated.

  The command will create a new DTI file as specified by the FILEOUT command.  The
  format  of  the  new  DTI  file  will  be  the  same as the first input DTI file
  specified with the FILEIN command.

  Mirroring and/or rotation will be  performed  according  to  rotate  and  mirror
  states.

  Upon successful completion of the GO command DTIROTATE is terminated.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the GO command:

  *** ERROR *** Specifying the command GO
  No input DTI file specified               >> Execute the FILEIN command

  *** ERROR *** Specifying the command GO
  No output DTI file specified              >> Execute the FILEOUT command

  *** ERROR *** Specifying the command GO
  Both MIRROR and ROTATE are disabled
  This combination would result in an identical output file
  Processing has been aborted
   

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-25
  GO command                                                           5 June 1997


  DTIROTATE> [1mFILEIN[0m [1mNORMAL<CR>[0m
  DTI file LSL$DTI:NORMAL.DTI;0 opened for read
  DTIROTATE> [1mFILEOUT[0m [1mROTATED<CR>[0m
  DTIROTATE> [1mGO<CR>[0m
   ELAPSED: 00:00:20.04  CPU: 0:00:04.71  BUFIO: 281  DIRIO: 46  FAULTS: 263 
  $




  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-26
  HELP command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mHELP[0m

          Give help on a subject

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mHELP[0m [1msubject[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  subject

          The subject on which help is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The HELP command looks the rest of the line up in the MATRIX HELP library.  This
  library contains a brief summary of the operation of each command.

  The information is looked up  in  the  DTIROTATE  section  of  the  MATRIX  help
  library, LSL$HELP:MATRIX.HLB.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  Where required, warning messages are output via the VMS LBR$OUTPUT_HELP utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mHELP[0m [1mENABLE[0m [1mPME<CR>[0m

  DTIROTATE

        ENABLE

           PME

     The ENABLE PME and DISABLE PME commands are reserved for Laser-Scan use.  PME
     is  a  code optimisation tool and should be invoked by LSL software personnel
     only.

     ENABLE PME causes the PME_INIT routine to be invoked.
  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-27
  PAUSE command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mPAUSE[0m

          Pauses DTIROTATE execution.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mPAUSE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Pauses DTIROTATE execution and issues a prompt for a carriage return to continue
  execution.    This  command  is  designed  for  use  in  software  demonstration
  situations.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mPAUSE<CR>[0m


  Press <RETURN> to continue[1m<CR>[0m
  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-28
  QUIT command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mQUIT[0m

          Quit from DTIROTATE.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mQUIT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The QUIT command causes DTIROTATE to exit immediately, closing  any  opened  DTI
  files.

  <CTRL/Z> (pressing the Ctrl and Z keys together) may also be used to  quit  from
  the program.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mQUIT<CR>[0m
   ELAPSED:  00:00:20.04 CPU:  0:00:04.71 BUFIO:  281 DIRIO:  46 FAULTS:  263
  $


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-29
  RETURN command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mRETURN[0m

          Restores command input from an indirect file to SYS$COMMAND.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mRETURN[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Restores command input from an indirect file to SYS$COMMAND.

  A typical application is to allow the user to use an indirect  command  file  to
  set  up  those  run  time defaults which are constant within a flowline and then
  return to input from the  terminal  (or  batch  stream)  for  the  run  specific
  commands.   To  do  this RETURN must be the last command in the indirect command
  file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the RETURN command:

  RETURN command detected - returning to terminal input

  RETURN command ignored - command input is already from terminal

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1m@FLOW2<CR>[0m
  DTIROTATE> ENABLE DIAGNOSTICS
  DTIROTATE> RETURN
  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-30
  SHOW ENABLE command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mENABLE[0m

          Shows the current status of those options that may be enabled  by  means
          of the ENABLE command, or disabled using the DISABLE command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mENABLE[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Displays the current status of all the DTIROTATE options that may be enabled  or
  disabled using the ENABLE and DISABLE commands.
  The name of the option is shown, followed by  either  the  word  ON  or  OFF  to
  indicate its current status.
  If the command SHOW ENABLE is used before any ENABLE or  DISABLE  commands  have
  been given, the default status of the options is displayed.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW
  Available SHOW command qualifiers are:
  ENABLE, FILES, PARAMETERS, PME


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE>[1mSHOW[0m [1mENABLE<CR>[0m

  Current status:

  DIAGNOSTICS       On        MIRROR BOTH      Off      MIRROR X        Off

  MIRROR Y          Off       PME              Off      ROTATE          On

  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-31
  SHOW FILES command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mFILES[0m

          Displays information about the input and output files.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mFILES[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Details extracted from the header  of  the  input  file  are  displayed  on  the
  terminal.

  The name of the output file is also displayed if it has been specified.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW
  Available SHOW command qualifiers are:
  ENABLE, FILES, PARAMETERS


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE>[1mSHOW[0m [1mFILES<CR>[0m
  DTI file LSL$DTI:UHL1DATA.DTI;0 opened for read

  File    :  LSL$DTI:UHL1DATA.DTI;0
  Header  :  UHL1  Data:  WORD

  File    :  LSL$DTI:TEST5.DTI
  Header  :  LSLA Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   101   101
  Matrix Interval    E:     1         N:     1
  Value Range         :     1   to      400

  DTI file LSL$DTI:AREA1_R180.DTI;0 selected for output

  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-32
  SHOW PARAMETERS command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mPARAMETERS[0m

          Displays the current DTIROTATE parameters.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mPARAMETERS[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The current DTIROTATE parameters are displayed.  A schematic  diagram  is  shown
  which  indicates  the matrix which will result after the GO command is specified
  with the current parameters.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW
  Available SHOW command qualifiers are:
  ENABLE, FILES, PARAMETERS


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE>[1mSHOW[0m [1mPARAMETERS<CR>[0m
  PARAMETERS:
  MIRROR disabled ROTATE enabled 
  File will be rotated clockwise through 90 deg 

         INPUT DTI         >>     OUTPUT DTI
   ---------------------       ----------------  
   |  3 |  6 |  9 | 12 |       |  1 |  2 |  3 | 
   ---------------------       ----------------  
   |  2 |  5 |  8 | 11 |       |  4 |  5 |  6 |  
   ---------------------       ----------------  
   |  1 |  4 |  7 | 10 |       |  7 |  8 |  9 | 
   ---------------------       ----------------
                               | 10 | 11 | 12 |
                               ----------------

  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-33
  SPAWN command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSPAWN[0m

          The SPAWN command enables a subprocess to be  created  from  within  the
          DTIROTATE utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mSPAWN[0m [1mcommand-line[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  command-line

          Specifies a DCL command string to be executed as if typed in response to
          a '$' prompt.  When the command completes, the subprocess terminates and
          control is returned to DTIROTATE.  The command  line  cannot  exceed  80
          characters.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The SPAWN command enables you to create a subprocess while within the  DTIROTATE
  utility.  When the subprocess terminates, control is returned to DTIROTATE.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the SPAWN command:

  *** ERROR *** Specifying command SPAWN 
  Command requires a valid DCL command line

  *** ERROR *** Unable to spawn command, returning to DTIROTATE


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mSPAWN[0m [1mDIRECTORY[0m [1mLSL$DTI:*.DTI<CR>[0m

  Directory DUA3:[LSL.DTI]

  TEST1.DTI;1              8/8       18-AUG-1987 07:56  [LSL,DAVEC]
  TEST2.DTI;1              7/8       18-AUG-1987 17:17  [LSL,DAVEC]
  TEST2.DTI;2              7/8       18-AUG-1987 17:34  [LSL,DAVEC]

  Total of 3 files, 22/24 blocks.

  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-34
  WAIT command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mWAIT[0m

          Suspend processing for the specified number of seconds.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m [1mWAIT[0m [1mseconds[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  seconds

          The number of seconds for which DTIROTATE processing is to be suspended.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The WAIT command causes processing to be suspended for  a  specified  number  of
  seconds.   It is designed for use in software demonstration situations and is of
  no value in a production flowline.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning message is specific to the WAIT command:

  *** WARNING *** You must specify the number of seconds to wait

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTIROTATE> [1mWAIT[0m [1m4<CR>[0m
  DTIROTATE>


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-35
                                                                       5 June 1997







                                 [1mDTIROTATE examples[0m


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-36
  EXAMPLES                                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m



  $ DTIROTATE
  MATRIX module DTIROTATE of 15:43:39 25-MAR-88
  DTIROTATE> [1mFILEIN[0m [1mWEEPY2<CR>[0m
  DTI file LSL$DTI:WEEPY2.DTI;0 opened for read

  File    :  LSL$DTI:WEEPY2.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:   201   201
  Matrix Interval    E:     1         N:     1
  Value Range         :    97   to    468
  DTIROTATE> [1mFILEOUT[0m [1mWEEPY2_X_Y<CR>[0m
  DTIROTATE> [1mSHOW[0m [1mPARAMETERS<CR>[0m
  PARAMETERS:
  MIRROR disabled  ROTATE enabled
  File will be rotated clockwise through 90 deg

         INPUT DTI         >>     OUTPUT DTI
   ---------------------       ----------------
   |  3 |  6 |  9 | 12 |       |  1 |  2 |  3 |
   ---------------------       ----------------
   |  2 |  5 |  8 | 11 |       |  4 |  5 |  6 |
   ---------------------       ----------------
   |  1 |  4 |  7 | 10 |       |  7 |  8 |  9 |
   ---------------------       ----------------
                               | 10 | 11 | 12 |
                               ----------------

  DTIROTATE> [1mDISABLE[0m [1mROTATE<CR>[0m
  DTIROTATE> [1mENABLE[0m [1mMIRROR[0m [1mBOTH<CR>[0m
  DTIROTATE> [1mSHOW[0m [1mPARAMETERS<CR>[0m
  PARAMETERS:
  MIRROR BOTH enabled  ROTATE disabled
  File will be mirrored about both axes 

         INPUT DTI         >>     OUTPUT DTI
   ---------------------       ---------------------
   |  3 |  6 |  9 | 12 |       | 10 |  7 |  4 |  1 |
   ---------------------       ---------------------
   |  2 |  5 |  8 | 11 |       | 11 |  8 |  5 |  2 |
   ---------------------       ---------------------
   |  1 |  4 |  7 | 10 |       | 12 |  9 |  6 |  3 |
   ---------------------       ---------------------

  DTIROTATE> [1mGO<CR>[0m
   ELAPSED:    0 00:01:36.42  CPU: 0:00:05.04  BUFIO: 16  DIRIO: 142  FAULTS: 463 
  $


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-37
  EXAMPLES                                                             5 June 1997


  The above is an example of using the DTIROTATE utility  to  rotate  a  DTI  file
  through  180 degrees.  The input DTI file is opened using the FILEIN command and
  output DTI file specified  using  the  FILEOUT  command.   The  SHOW  PARAMETERS
  command  is  then  used  to  determine  the  state  of  the  DTIROTATE  operator
  parameters.  The picture reveals  that  the  required  operation  would  not  be
  performed.   The  DISABLE ROTATE and ENABLE MIRROR BOTH commands are given.  The
  SHOW PARAMETERS command  is  once  again  given  to  confirm  that  the  desired
  operation  would  now  be  performed.   The  GO command is then issued to do the
  processing.  On completion the DTIROTATE utility terminates.


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-38
                                                                       5 June 1997







                                 [1mDTIROTATE messages[0m


  MATRIX REFERENCE (3.7): DTIROTATE - DTI File Rotation Utility          Page 7-39
  MESSAGES (OTHER)                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages  may  be  generated  by  the  DTI
  library  or  by  the  Laser-Scan  I/O library, LSLLIB.  DTI library messages are
  introduced by %DTI and are documented in the MATRIX  Reference  manual.   LSLLIB
  messages  are  introduced by '%LSLLIB' and are generally self-explanatory.  They
  are often used to explain the details of program generated errors.

  If the cause of the error cannot be traced  by  the  user,  and  Laser-Scan  are
  consulted, then the output file should be preserved to facilitate diagnosis.














                                     CHAPTER 8

                                  MODULE DTI2TEXT





  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion          Page 8-1
                                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE     DTI2TEXT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m   None.  DTI2TEXT is a completely new MATRIX utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTI2TEXT is a utility to convert DTI  input  files  into  text  output
            files.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DTI2TEXT

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m

            None, DTI2TEXT is command driven.


  [1m--------------------------------------------------------------------------------[0m
  [1mDTI2TEXT[0m [1mcommand[0m [1mdefaults[0m

            On program startup, the following command defaults apply:

            ABSOLUTE     - enabled.

            DIAGNOSTICS  - disabled.

            NINT         - disabled.

            PME          - disabled.

            UNITS        - once a DTI file is specified, if it is  TED4  or  UHL1,
                           DTI type is LATLONG, other DTI types have default units
                           MATRIX.

            FORMAT       - 8I10 for integer and BYTE, 6I12 for  longword  integer,
                           8F10.3 for reals and 40I2 for BIT output.

            NULL         - once a first input DTI file is specified the null  will
                           have one of the following:-
                           0 if BYTE or BIT type.
                           -32767 if WORD type.
                           80000000 Hex if LONG type.
                           -1.0E-38 if REAL type.

            WINDOW       - None specified



  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion          Page 8-2
  DTI2TEXT command defaults                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m


  [1mGeneral[0m



            DTI2TEXT is a command driven utility which  converts  the  data  in  a
            specified  DTI  file to a text format and outputs that data in records
            to a text file.

            DTI2TEXT converts the DTI file, or window within the  specified  file,
            to  text output format a column at a time.  Each column of values from
            the input file is split into a series of records of  default  or  user
            defined  format  in  order of increasing row position.  Each record is
            written as a single line to the output file.  A column may thus extend
            over  several  lines  of  the  output file.  The final record for each
            column may only be partially filled if the number of values in  it  is
            not  exactly  divisible  by  the  number of fields in each text output
            record.  Each record or line must be of less than  255  characters  in
            length (see description of FORMAT command).

            Note that DTI2TEXT is not intended to  provide  a  spatially  accurate
            representation  of  a  DTI  file - ie.  each DTI [1mcolumn[0m is output as a
            series of [1mrows[0m in the text file.  The MATRIX  module  DTIEDIT  may  be
            used to produce a textual 'picture' of a DTI file.

            A single session in DTI2TEXT may involve the conversion of  more  than
            one  DTI  file  to a corresponding text file.  When each conversion is
            completed, all the conditions set up to  govern  it,  apart  from  the
            files  involved  and  any  window  specified  in  the input file, will
            persist to any subsequent conversions unless explicitly altered  using
            the relevant commands.

            Detailed descriptions of the individual commands available  are  given
            below.
  [1m--------------------------------------------------------------------------------[0m


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion          Page 8-3
                                                                       5 June 1997







                                 [1mDTI2TEXT commands[0m



  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion          Page 8-4
  @ command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1m@[0m

          Take command input from the specified file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1m@file-spec<CR>[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  file-spec

          The file to be opened and used for command input.

          Any parts of the file-spec not supplied for the @ command will be  taken
          from the default specification 'SYS$DISK:[].COM;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DTI2TEXT offers the facility of command input from  an  indirect  command  file.
  The  '@'  character  preceding  a file-spec will cause DTI2TEXT to open and read
  commands from the specified file until:

       1.  a  RETURN  command  is  detected  and  command  input  is  returned  to
           SYS$COMMAND.

       2.  end-of-file is detected.  This provokes an error  message  and  command
           input is returned to SYS$COMMAND.


  Nested command files are not supported (i.e. a command file  containing  an  '@'
  command),  although  sequential  '@'  commands  are  supported  when  read  from
  SYS$COMMAND.

  As an aid to batch log interpretation DTI2TEXT will echo all commands read  from
  an indirect command file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the @ command:

  *** WARNING *** "@" must precede a file-spec

  *** WARNING *** Indirect file error - returning to terminal input

  *** ERROR *** Can't open indirect command file 'file-spec'


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion          Page 8-5
  @ command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTI2TEXT<CR>[0m
  MATRIX module DTI2TEXT of 13:30:39 18-OCT-87
  DTI2TEXT> [1m@PRESETS<CR>[0m
  DTI2TEXT> ENABLE DIAGNOSTICS
  DTI2TEXT> ENABLE NINT
  DTI2TEXT> FILEIN READATA
  DTI2TEXT> FILEOUT REALDATA.TXT
  DTI2TEXT> UNITS METRES
  DTI2TEXT> WINDOW 1 1 100 50
  DTI2TEXT> RETURN
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion          Page 8-6
  ! command                                                            5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1m![0m

          Treat all text to the right of the '!' as a comment.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1m![0m [1m[comment[0m [1mtext][0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  comment text

          text that is to be treated as a comment and which will be excluded  from
          command interpretation.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  An exclamation mark is the standard DTM package  comment  delimiter.   All  text
  (and  numbers)  which  lie  to  the  right  of a '!' character are excluded from
  command interpretation.  Comments are useful for annotating  command  procedures
  used in batch processing etc.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1m![0m [1ma[0m [1mcomment[0m [1mfor[0m [1mthe[0m [1msake[0m [1mof[0m [1mit<CR>[0m
  DTI2TEXT> [1mWINDOW[0m [1m0.0[0m [1m0.0[0m [1m900.0[0m [1m900.0<CR>[0m


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion          Page 8-7
  DISABLE ABSOLUTE command                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mABSOLUTE[0m

          Disables a previous ENABLE ABSOLUTE command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mDISABLE[0m [1mABSOLUTE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE ABSOLUTE  cancels  a  previous  ENABLE  ABSOLUTE  command.   If  DISABLE
  ABSOLUTE  is  given,  then  coordinate  values  required  by  the WINDOW command
  supplied in metre or projection units, must be specified as an offset  from  the
  SW corner of the matrix.
  By default window values should be specified as absolute coordinates.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE

  Available DISABLE qualifiers are :
  DIAGNOSTICS    NINT    PME     ABSOLUTE

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mDISABLE[0m [1mABSOLUTE<CR>[0m
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion          Page 8-8
  DISABLE DIAGNOSTICS command                                          5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mDIAGNOSTICS[0m

          Disables a previous ENABLE DIAGNOSTICS command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mDISABLE[0m [1mDIAGNOSTICS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE DIAGNOSTICS allows the user to disable  a  previous  ENABLE  DIAGNOSTICS
  command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE

  Available DISABLE qualifiers are :
  DIAGNOSTICS    NINT    PME     ABSOLUTE

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mDISABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion          Page 8-9
  DISABLE NINT command                                                 5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mNINT[0m

          Disables a previous ENABLE NINT command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mDISABLE[0m [1mNINT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE NINT allows the user to disable a previous ENABLE NINT command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the DISABLE command:

  *** ERROR *** Specifying command DISABLE

  Available DISABLE qualifiers are :
  DIAGNOSTICS    NINT    PME     ABSOLUTE

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mENABLE[0m [1mNINT<CR>[0m
  DTI2TEXT> [1mDISABLE[0m [1mNINT<CR>[0m
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-10
  DISABLE PME command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDISABLE[0m [1mPME[0m

          Disables a previous ENABLE PME command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mDISABLE[0m [1mPME[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  DISABLE PME allows the user to disable a previous ENABLE PME command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the DISABLE and DISABLE PME commands:

  *** ERROR *** Specifying command DISABLE

  Available DISABLE qualifiers are :
  DIAGNOSTICS    NINT    PME     ABSOLUTE

  *** WARNING *** You are not using PME !

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mENABLE[0m [1mPME<CR>[0m
  DTI2TEXT> [1mDISABLE[0m [1mPME<CR>[0m
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-11
  ENABLE ABSOLUTE command                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mABSOLUTE[0m

          Selects the use of absolute coordinates values.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mENABLE[0m [1mABSOLUTE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  If ENABLE ABSOLUTE is given, then  coordinate  values  required  by  the  WINDOW
  command,  supplied  in  metre or projection units, must be specified as absolute
  (rather than relative) coordinate values.

  For example if the projection indicates U.K.  National  Grid,  then  the  WINDOW
  values may be specified as 6 figure National Grid coordinates.
  By default window values should be specified as absolute coordinates.

  This option can be disabled using the DISABLE ABSOLUTE command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE

  Available ENABLE qualifiers are :
  DIAGNOSTICS    NINT    PME     ABSOLUTE

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mENABLE[0m [1mABSOLUTE<CR>[0m
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-12
  ENABLE DIAGNOSTICS command                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mDIAGNOSTICS[0m

          ENABLE DIAGNOSTICS allows the user to enable diagnostic printout.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mENABLE[0m [1mDIAGNOSTICS[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0mNone.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE DIAGNOSTICS allows the user to enable diagnostic printout.

  Because it is usually  used  in  a  batch  processing  environment,  by  default
  DTI2TEXT  produces  minimal diagnostic printout.  If however, the user wishes to
  receive indications of processing progress and of the  effect  of  windowing  on
  data  input,  diagnostic  printout  may  be selected with the ENABLE DIAGNOSTICS
  command.

  On a heavily loaded computer it may be reassuring to ENABLE DIAGNOSTICS for  the
  conversion  stage  of  DTI2TEXT processing to indicate progress through the data
  set.  A message indicating the current  column  being  converted  is  issued  at
  approximately each one tenth of the way through the DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE

  Available ENABLE qualifiers are :
  DIAGNOSTICS    NINT    PME     ABSOLUTE

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mENABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-13
  ENABLE NINT command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mNINT[0m

          ENABLE NINT allows the user to enable the rounding of real data  in  the
          DTI file to the nearest integer prior to output to the text file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mENABLE[0m [1mNINT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  ENABLE NINT allows the user to enable the conversion of any real data in the DTI
  file  to  integer  data by rounding to the nearest integer.  The rounded numbers
  will then be output in the same way as integer data from an integer DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error message is specific to the ENABLE command:

  *** ERROR *** Specifying command ENABLE

  Available ENABLE qualifiers are :
  DIAGNOSTICS    NINT    PME     ABSOLUTE

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mENABLE[0m [1mNINT<CR>[0m
  DTI2TEXT> [1mFILEIN[0m [1mREALDATA<CR>[0m
  DTI2TEXT> [1mFILEOUT[0m [1mROUNDED<CR>[0m
  DTI2TEXT> [1mGO<CR>[0m
  DTI2TEXT> [1mDISABLE[0m [1mNINT<CR>[0m
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-14
  ENABLE PME command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mENABLE[0m [1mPME[0m

          ENABLE PME enables the PME performance monitor.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mENABLE[0m [1mPME[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The ENABLE PME and DISABLE PME commands are reserved for Laser-Scan use.  PME is
  a code optimisation tool and should be invoked by LSL software personnel only.

  ENABLE PME causes the PME_INIT routine to be invoked.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessage:[0m

  The following messages are specific to the ENABLE and ENABLE PME commands:

  *** ERROR *** Specifying command ENABLE

  Available ENABLE qualifiers are :
  DIAGNOSTICS    NINT    PME     ABSOLUTE

  *** WARNING *** You are already using PME!

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  $ [1mDTI2TEXT<CR>[0m
  MATRIX module DTI2TEXT of 13:30:39  18-OCT-87
  DTI2TEXT> [1mENABLE[0m [1mPME<CR>[0m




  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-15
  FILEIN command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mFILEIN[0m


          Specifies a DTI file that is to be opened and used for data input.


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m   [1mFILEIN[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m

  file-spec

          The specification of the DTI file to be opened for data input.


          Any parts of the file-spec not supplied for the FILEIN command will be 
          taken from the default file specification 'LSL$DTI:DTI.DTI;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The FILEIN command causes the specified file to be opened and 
  used as an input file to DTI2TEXT. A FILEIN command must be issued before
  the WINDOW or GO commands will be accepted.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m


  The following messages are specific to the FILEIN command:

  *** WARNING *** You must specify a file-spec argument to the FILEIN command
  *** ERROR *** Unable to interpret input file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mFILEIN[0m [1mREAL<CR>[0m
  DTI file LSL$DTI:REAL.DTI;0 opened for read

  File    :  LSL$DTI:REAL.DTI;0
  Header  :  LSLA  Data:  REAL

  Units are Metres

  Matrix Coverage   SW:       0.00       0.00    NE:      49.00      49.00
  Matrix Interval    E:       1.00                N:       1.00
  Value Range         :     -5.00 to  326421.00
  DTI2TEXT>



  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-16
  FILEOUT command                                                      5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mFILEOUT[0m

          Specifies the file-spec of the text file which is  to  receive  the  DTI
          data.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mFILEOUT[0m [1mfile-spec[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS:[0m

  file-spec


          The file-spec of the text file which is to receive the DTI data.

          Any parts of the file-spec not supplied for the FILEOUT command will  be
          taken from the default '.DAT;0'.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The FILEOUT command enables specification of the text file which is  to  receive
  the data.

  The FILEOUT command must be issued before the GO command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the FILEOUT command:

  *** WARNING *** You must specify a file-spec argument to the FILEOUT command
  *** ERROR *** Unable to interpret output file-spec
  *** ERROR *** in opening output file
  *** ERROR *** in selecting output file
  *** ERROR *** Not possible to open file


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mFILEOUT[0m [1mDUA3:[DEMONSTRATION]IDAHO<CR>[0m
  Text output file 'file-spec' opened
  DTI2TEXT>




  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-17
  FORMAT command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m


          Allows the user to specify a format for the text output file records.


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m                 [1mFORMAT[0m [1mformat[0m



  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m


  format

          The format in which output is required.


  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The FORMAT command allows the user to specify a format for the text 
  output file records (one record per line of the file) in terms of a FORTRAN 
  like format definition. 


  The syntax of the format definition is :


       <number of fields> ["F"|"I"] <field width> ["." number of decimal 
  places]


  The format definition will be parsed at the time it is input. It will be 
  checked to make sure that it is compatible with the data in the DTI file, in 
  terms of whether it is real or integer and whether it is wide enough to 
  accommodate the longest number in the file, when the GO command is issued. 
  The maximum record length allowed is 256 characters.


  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m


  Current format is 'format'
  Enter new format, or press <return> to invoke default (10F8.3 or 10I8).
  New format, eg 12F6.2 or 8I10 ? 


  *** ERROR *** Error reading format



  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-18
  FORMAT command                                                       5 June 1997


  *** ERROR *** Illegal user defined format 'format', default 
  format reinstated


  With indirect file input:


  *** ERROR *** Must specify format with format command

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mFORMAT[0m [1m20I4<CR>[0m
  DTI2TEXT> [1mSHOW[0m [1mFORMAT<CR>[0m
  Current user defined format (20I4)
  DTI2TEXT>




  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-19
  GO command                                                           5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mGO[0m


          Carry out the conversion from the specified DTI input file to the 
          specified text output file according to the conditions set up with any
          other 
          commands issued prior to the GO command.


  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mGO[0m 


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None



  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  This will carry out the conversion from a previously specified DTI input 
  file to a previously specified text output file under the conditions set up 
  using any other commands, for example to specify a diagnostic printout or 
  rounding of real input data to the nearest integer.


  Before the conversion takes places, checks will be carried out to ensure 
  that certain preconditions hold. For example that the input and output files 
  have been opened, and that any user defined or default format is compatible 
  with the data range and type in the DTI file.


  A single session with DTI2TEXT may involve a number of successive 
  conversions of different DTI files. In such cases, all the conditions set up 
  to govern one conversion will persist when it is complete, with the exceptions 
  of the files specified and any window defined within the input file. 

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m


   Messages connected with checking the format :

   *** ERROR *** Require real format for real data

   *** ERROR *** Require integer format for rounded real data

   *** ERROR *** Require integer format for integer data

   *** ERROR *** Text field format too narrow, please redefine



  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-20
  GO command                                                           5 June 1997


  Other messages

   *** ERROR *** Please check that text output file is open

   *** ERROR *** Please check that DTI input file is open

   *** ERROR *** Error in selecting output file 'file-spec'

   *** ERROR *** Error reading column 'integer' of DTI file 'file-spec'

   *** ERROR *** Error closing text output file 'file-spec'

   *** ERROR *** Error closing DTI input file 'file-spec'

   *** ERROR *** Unrecognised datatype in DTI file

   *** ERROR *** Cannot write line to output file 'file-spec'


  In addition to these there are the diagnostic printout messages which 
  will be given if diagnostics are enabled. These consist of the file 
  specifications of the input and output files, the header details of the DTI 
  file, and messages indicating which group of columns, of those being 
  processed, has been reached by the conversion command.



  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mFILEIN[0m [1mTST[0m
  DTI2TEXT> [1mFILEOUT[0m [1mTST[0m
  DTI2TEXT> [1mGO<CR>[0m

  Converting from DTI file LSL$DTI:TST.DTI;0 to text file TST.DAT.

  Details of input DTI file :


  File    :  LSL$DTI:TST.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    71    71
  Matrix Window     SW:     1     1  NE:    50    50
  Matrix Interval    E:     1         N:     1
  Value Range         :   139   to    192


     Converting columns          1 to          4
     Converting columns          5 to          8
     Converting columns          9 to         12
     Converting columns         13 to         16
     Converting columns         17 to         20
     Converting columns         21 to         24


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-21
  GO command                                                           5 June 1997


     Converting columns         25 to         28
     Converting columns         29 to         32
     Converting columns         33 to         36
     Converting columns         37 to         40
     Converting columns         41 to         44
     Converting columns         45 to         48
     Converting columns         49 to         50
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-22
  HELP command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mHELP[0m

          Give help on a subject

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mHELP[0m [1msubject[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  subject

          The subject on which help is required.

  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The HELP command looks the rest of the line up in the MATRIX HELP library.  This
  library contains a brief summary of the operation of each command.

  The information is looked up in the DTI2TEXT section of the MATRIX help library,
  LSL$HELP:MATRIX.HLB.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  Where required, warning messages are output via the VMS LBR$OUTPUT_HELP utility.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mHELP[0m [1mENABLE[0m [1mNINT<CR>[0m

  DTI2TEXT

        ENABLE

           NINT

     When a DTI file containing real data is to be converted to a  text  file,  it
     may  be  required  that  the  data is rounded to the nearest integer and then
     output.  The ENABLE NINT command causes this to be done is  issued  prior  to
     the GO command.
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-23
  NULL command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mNULL[0m

          Allows specification of null post value to be substituted in the  output
          text file in place of standard null values found in the input DTI file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mNULL[0m [1mvalue[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  value

          The new null value which will be output to the text file.  This must lie
          within a range appropriate to the input DTI file data type:

                    +-----------+-----------+--------------------+
                    |  Minimum  |  Maximum  |    DTI data type   |
                    +-----------+-----------+--------------------+
                    |    0      |   255     |   BYTE             |
                    | -32767    |   32767   |   WORD INTEGER     |
                    | -2E31     |   2E31-1  |   LONG INTEGER     |
                    | -1.0E38   |   1.0E38  |   REAL_*4          |
                    +-----------+-----------+--------------------+


  By default a value of 0 is used for BYTE type DTI files, -32767  for  WORD  type
  DTI files and 80000000 Hex for LONGWORD and -1.0E-38 for REAL type DTI files.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Causes all occurrences of the standard null value in DTI files to be replaced by
  the  user  specified  null  value in the output file.  Just entering the command
  with no value parameter causes the standard null value to be restored.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  Default value restored

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mNULL[0m [1m-1<CR>[0m
  Null value set to -1
  DTI2TEXT> [1mNULL<CR>[0m
  Default value restored
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-24
  PAUSE command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mPAUSE[0m

          Pauses DTI2TEXT execution.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mPAUSE[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Pauses DTI2TEXT execution and issues a prompt for a carriage return to  continue
  execution.    This  command  is  designed  for  use  in  software  demonstration
  situations.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mPAUSE<CR>[0m


  Press <RETURN> to continue[1m<CR>[0m
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-25
  QUIT command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mQUIT[0m

          Quit from DTI2TEXT.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mQUIT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDescription:[0m

  The QUIT command causes DTI2TEXT to exit immediately, closing the input file and
  closing and deleting the output file.

  <CTRL/Z> (pressing the Ctrl and Z keys together) may also be used to  quit  from
  the program.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mQUIT<CR>[0m
   ELAPSED:  00:00:20.04 CPU:  0:00:04.71 BUFIO:  281 DIRIO:  46 FAULTS:  263
  $


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-26
  RETURN command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mRETURN[0m

          Restores command input from an indirect file to SYS$COMMAND.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mRETURN[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Restores command input from an indirect file to SYS$COMMAND.

  A typical application is to allow the user to use an indirect  command  file  to
  set  up  those  run  time defaults which are constant within a flowline and then
  return to input from the  terminal  (or  batch  stream)  for  the  run  specific
  commands.   To  do  this RETURN must be the last command in the indirect command
  file.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following messages are specific to the RETURN command:

  RETURN command detected - returning to terminal input
  RETURN command ignored - command input is already from terminal

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1m@FLOW2<CR>[0m
  DTI2TEXT> ENABLE DIAGNOSTICS
  DTI2TEXT> RETURN
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-27
  SHOW ENABLE command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mENABLE[0m

          Shows the current status of those options that may be enabled  by  means
          of the ENABLE command, or disabled using the DISABLE command.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mENABLE[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Displays the current status of all the DTI2TEXT options that may be  enabled  or
  disabled using the ENABLE and DISABLE commands.
  The name of the option is shown, followed by  either  the  word  ON  or  OFF  to
  indicate its current status.
  If the command SHOW ENABLE is used before any ENABLE or  DISABLE  commands  have
  been given, the default status of the options is displayed.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW

  Available SHOW command qualifiers are:

  ENABLE     FILES    FORMAT    NULL    UNITS


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT>[1mSHOW[0m [1mENABLE<CR>[0m

  Current status:

  ABSOLUTE         On        DIAGNOSTICS      On       NINT             Off

  PME              Off

  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-28
  SHOW FILES command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mFILES[0m

          Displays information about the input and output files.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mFILES[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Details extracted from the header  of  the  input  file  are  displayed  on  the
  terminal.

  The name of the output file is also displayed if it has been specified.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW

  Available SHOW command qualifiers are:

  ENABLE     FILES    FORMAT    NULL    UNITS


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT>[1mSHOW[0m [1mFILES<CR>[0m

  File    :  LSL$DTI:TST.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    71    71
  Matrix Window     SW:     1     1  NE:    50    50
  Matrix Interval    E:     1         N:     1
  Value Range         :   139   to    192


  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-29
  SHOW FORMAT command                                                  5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mFORMAT[0m

          Displays the current output format string.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mFORMAT[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  This command is  used  to  display  the  currently  selected  format  string  as
  specified with the FORMAT command.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW

  Available SHOW command qualifiers are:

  ENABLE     FILES    FORMAT    NULL    UNITS


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT>[1mSHOW[0m [1mFORMAT<CR>[0m
  Current user defined format (20I4)

  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-30
  SHOW NULL command                                                    5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mNULL[0m

          Displays the current null value.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mNULL[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The null value specified with the NULL command is displayed on the terminal.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW

  Available SHOW command qualifiers are:

  ENABLE     FILES    FORMAT    NULL    UNITS


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT>[1mSHOW[0m [1mNULL<CR>[0m
  Current null word value is -32767

  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-31
  SHOW UNITS command                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mSHOW[0m [1mUNITS[0m

          Displays on the terminal the current units of measurement.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m          [1mSHOW[0m [1mUNITS[0m


  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m None.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  Displays the current units of measurement which will be used  when  defining  an
  area of interest in the input DTI file with the WINDOW command.

  The UNITS command may be used to change the current units of measurement.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following message is specific to the SHOW command:

  *** ERROR *** Specifying command SHOW

  Available SHOW command qualifiers are:

  ENABLE     FILES    FORMAT    NULL    UNITS


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT>[1mSHOW[0m [1mUNITS<CR>[0m
  Current WINDOW units are Projection Units.
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-32
  UNITS command                                                        5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mUNITS[0m

          Specifies the units of measurement that will be used  when  defining  an
          area of interest in the input DTM using the WINDOW command.  The command
          also  controls  the  units  of  measurement  which  will  be  used  when
          displaying file header details.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mUNITS[0m [1munits[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  units

          A keyword defining the measurement units, chosen from:

                  MATRIX     Matrix grid interval units, i.e rows and columns
                  METRES     Metres on the ground
                  LATLONG    Latitude and Longitude 
                             (in degrees, minutes and seconds)
                  SECONDS    Seconds of arc
                  PROJECTION Projection Record Units (eg. mms on the source document)

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The UNITS command enables the user to specify in what units  of  measurement  he
  wishes  to define an area of interest in the input DTM using the WINDOW command.
  The command also controls in what format details from the header of the DTM  are
  given.
  The command should be given after defining the DTI  file  containing  the  input
  DTM,  since  an  appropriate  default units of measurement is set up whenever an
  input DTI file is opened.

  The UNITS command should be given after opening the DTI  file,  but  before  the
  WINDOW  command,  should  the user wish to specify WINDOW command arguments in a
  different measurement system to the file-type default.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following error messages are specific to the UNITS command:
  *** ERROR *** Specifying command UNITS
  Command qualifiers are MATRIX, METRES, SECONDS, LATLONG or PROJECTION

  *** ERROR *** Specifying command UNITS
  Command qualifier is invalid for the input file


  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mUNITS[0m [1mMATRIX<CR>[0m
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-33
  WAIT command                                                         5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mWAIT[0m

          Suspend processing for the specified number of seconds.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mWAIT[0m [1mseconds[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  seconds

          The number (integer) of seconds for which DTI2TEXT processing is  to  be
          suspended.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The WAIT command causes processing to be suspended for  a  specified  number  of
  seconds.   It is designed for use in software demonstration situations and is of
  no value in a production flowline.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning message is specific to the WAIT command:

  *** WARNING *** You must specify the number of seconds to wait

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mWAIT[0m [1m4<CR>[0m
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-34
  WINDOW command                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mWINDOW[0m

          Specifies the limits of the data area to be converted to text format.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT:[0m  [1mWINDOW[0m [1mxmin[0m [1mymin[0m [1mxmax[0m [1mymax[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mCommand[0m [1mparameters:[0m

  xmin ymin

          The  coordinates  of  the  bottom  left  hand  corner  of  the  defining
          rectangle.


  xmax ymax

          The coordinates of top right hand corner of the defining rectangle.

          The format of the command parameters is controlled by the UNITS command.

              UNITS MATRIX - Requires 4 integer values defining the  rectangle  in
              terms of column and row numbers

              UNITS METRES - Requires 4 real (floating point) values defining  the
              rectangle  as  metre  offsets  from  the  SW  corner of the DTM.  By
              default, or if the ENABLE  ABSOLUTE  command  has  been  given,  the
              values   are   absolute   coordinates   (eg.   U.K.   National  Grid
              coordinates); if the DISABLE ABSOLUTE command has been  given,  then
              the coordinates are offsets from the SW corner of the matrix.

              UNITS SECONDS - Requires 4 real (floating point) values defining the
              absolute  position  of  the rectangle in seconds of arc.  The values
              are supplied in the order latitude followed by longitude for the  SW
              corner,  and  latitude  followed  by longitude for the NE corner.  A
              negative  latitude  value  indicates  a  position  in  the  Southern
              Hemisphere,  and  a  negative longitude value a point to the west of
              Greenwich.

              UNITS LATLONG - Requires 4 values defining the absolute latitude and
              longitude  position of the rectangle in the format DDD MM SS H where
              DDD is the number of degrees, MM is the number of minutes, SS is the
              number  of  seconds,  and H is the hemisphere (N,S,E,W).  The values
              are supplied in the order latitude followed by longitude for the  SW
              corner, and latitude followed by longitude for the NE corner.

              UNITS PROJECTION Requires 4 real (floating  point)  values  defining
              the  rectangle  in  projection  record units.  By default, or if the
              ENABLE ABSOLUTE command has been  given,  the  values  are  absolute
              coordinates;  if  the  DISABLE ABSOLUTE command has been given, then
              the coordinates are offsets from the SW corner of the matrix.



  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-35
  WINDOW command                                                       5 June 1997


          Note that in all cases, the input values are  adjusted  to  the  nearest
          column and row values.

          If the command is given from the table menu, or the  command  WINDOW  is
          given  without  any arguments, you will be asked to supply the values in
          response to explanatory prompts.

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION:[0m

  The command is used to define rectangular limits to  the  area  of  data  to  be
  converted  to  text.  The limits must be specified in the order bottom left hand
  (or south west) corner then top right hand (or north east) corner.

  The WINDOW command can be used to clip data from the input DTI file.   If  input
  is  to  be from an entire DTI file then the WINDOW command may be omitted as the
  WINDOW extents will then, by default, be taken from the DTI file header.

  [1m--------------------------------------------------------------------------------[0m
  [1mMessages:[0m

  The following warning messages are specific to the WINDOW command:


  *** ERROR **** Specifying DTI window Command requires 2 x,y coordinate pairs (SW
  and NE)

  *** ERROR **** Specifying DTI window NE coordinates should exceed SW coordinates

  *** WARNING *** Specified window exceeds matrix limits Window will be  truncated
  to fit

  [1m--------------------------------------------------------------------------------[0m
  [1mExamples:[0m

  DTI2TEXT> [1mWINDOW[0m [1m0.0[0m [1m0.0[0m [1m120.0[0m [1m120.0<CR>[0m
  DTI2TEXT>


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-36
                                                                       5 June 1997







                                 [1mDTI2TEXT examples[0m


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-37
                                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m



  $ DTI2TEXT
  DTI2TEXT> [1mENABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTI2TEXT> [1mFILEIN[0m [1mTST<CR>[0m
  DTI file LSL$DTI:TST.DTI;0 opened for read

  File    :  LSL$DTI:TST.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are Metres

  Matrix Coverage   SW:       0.00       0.00    NE:      70.00      70.00
  Matrix Interval    E:       1.00                N:       1.00
  Value Range         :   139   to    192

  DTI2TEXT> [1mFILEOUT[0m [1mTST<CR>[0m
  Text output file TST.DAT opened
  DTI2TEXT> [1mUNITS[0m [1mMATRIX<CR>[0m
  DTI2TEXT> [1mWINDOW[0m [1m1[0m [1m1[0m [1m50[0m [1m50<CR>[0m
  DTI2TEXT> [1mSHOW[0m [1mFILES<CR>[0m

  File    :  LSL$DTI:TST.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    71    71
  Matrix Window     SW:     1     1  NE:    50    50
  Matrix Interval    E:     1         N:     1
  Value Range         :   139   to    192

  Text File TST.DAT selected for output.

  DTI2TEXT> [1mFORMAT[0m [1m20I4<CR>[0m
  DTI2TEXT> [1mSHOW[0m [1mFORMAT<CR>[0m
  Current user defined format (20I4)
  DTI2TEXT> [1mGO<CR>[0m

  Converting from DTI file LSL$DTI:TST.DTI;0 to text file TST.DAT.

  Details of input DTI file :


  File    :  LSL$DTI:TST.DTI;0
  Header  :  LSLA  Data:  WORD

  Units are DTI Matrix Values

  Matrix Coverage   SW:     1     1  NE:    71    71
  Matrix Window     SW:     1     1  NE:    50    50
  Matrix Interval    E:     1         N:     1
  Value Range         :   139   to    192


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-38
  EXAMPLES                                                             5 June 1997




     Converting columns 1 to 4
     Converting columns 5 to 8
     Converting columns 9 to 12
     Converting columns 13 to 16
     Converting columns 17 to 20
     Converting columns 21 to 24
     Converting columns 25 to 28
     Converting columns 29 to 32
     Converting columns 33 to 36
     Converting columns 37 to 40
     Converting columns 41 to 44
     Converting columns 45 to 48
     Converting columns 49 to 50
  DTI2TEXT>

  This example shows a typical COMMAND sequence for DTI2TEXT

  Diagnostic printout is enabled with the ENABLE DIAGNOSTICS command.

  The input DTI file (TST.DTI) and the output text file  (DTI.DAT)  are  specified
  using the FILEIN and FILEOUT commands respectively.

  The units are then set to those of the matrix of the DTI file, and a  window  in
  the  input  DTI file to be converted is specified with the window command.  SHOW
  FILES illustrates that the specified window has been set.

  Next, a user defined format is entered using the FORMAT command, and its  effect
  checked using SHOW FORMAT.

  Finally, the actual conversion is started by the  GO  command.   The  diagnostic
  printout  gives  details  of  the  files  involved  and  of  the progress of the
  conversion through the columns which are to be processed.

  The DTI2TEXT prompt returns after the conversion is complete,  so  that  further
  commands to process other files may be issued.


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-39
  EXAMPLES                                                             5 June 1997


  $ [1mDTI2TEXT<CR>[0m
  DTI2TEXT> ENABLE DIAGNOSTICS<CR>
  DTI2TEXT> [1mFILEIN[0m [1mUHL1<CR>[0m1

  DTI file LSL$DTI:UHL1.DTI;0 opened for read

  File    :  LSL$DTI:UHL1.DTI;0
  Header  :  UHL1  Data:  WORD

  Units are degrees, minutes, seconds

  Matrix Origin       :  52 00 00S   58 00 00W  
  Matrix Coverage   SW:  52 00 00S   58 00 00W   NE:  51 50 00S   57 39 20W  
  Matrix Window     SW:  52 00 00S   58 00 00W   NE:  51 50 00S   57 39 20W  
  Matrix Interval    E:          2                N:          1
  Value Range         :     0   to    321

  DTI2TEXT> [1mFILEOUT[0m [1mUHL1<CR>[0m
  Text output file UHL1.DAT opened
  DTI2TEXT> [1mGO<CR>[0m

  Converting from DTI file LSL$DTI:UHL1.DTI;0 to text file UHL1.DAT.

  Details of input DTI file :


  File    :  LSL$DTI:UHL1.DTI;0
  Header  :  UHL1  Data:  WORD

  Units are degrees, minutes, seconds

  Matrix Origin       :  52 00 00S   58 00 00W  
  Matrix Coverage   SW:  52 00 00S   58 00 00W   NE:  51 50 00S   57 39 20W  
  Matrix Window     SW:  52 00 00S   58 00 00W   NE:  51 50 00S   57 39 20W  
  Matrix Interval    E:          2                N:          1
  Value Range         :     0   to    321


     Converting columns 1 to 62
     Converting columns 63 to 124
     Converting columns 125 to 186
     Converting columns 187 to 248
     Converting columns 249 to 310
     Converting columns 311 to 372
     Converting columns 373 to 434
     Converting columns 435 to 496
     Converting columns 497 to 558
     Converting columns 559 to 620
     Converting columns 621 to 621
  DTI2TEXT> [1mSHOW[0m [1mFILES<CR>[0m

  DTI input file not yet specified
  Text output file not yet specified

  DTI2TEXT> [1mSHOW[0m [1mENABLE<CR>[0m



  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-40
  EXAMPLES                                                             5 June 1997


  Current status:
   
  ABSOLUTE          On       DIAGNOSTICS       On       NINT             Off       
  PME              Off       

  DTI2TEXT>

  The example above illustrates the conversion of a DTI file of integer word  data
  to  a  text  file with the diagnostic printout enabled.  The SHOW FILES and SHOW
  ENABLE commands after the conversion has completed demonstrates that  the  input
  and  output  files  have  been  closed,  but  that the other conditions, such as
  whether diagnostics are enabled, or whether rounding  to  integers  is  enabled,
  still  hold  for  any  subsequent  conversions  carried  out  in this session of
  DTI2TEXT.  Any window specified is reset when the DTI file  is  closed,  and  so
  must be reentered after each FILEIN command.


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-41
  EXAMPLES                                                             5 June 1997


      .
      .
      .
      .
  DTI2TEXT> [1mFILEIN[0m [1mREAL<CR>[0m
  DTI file LSL$DTI:REAL.DTI;0 opened for read

  File    :  LSL$DTI:REAL.DTI;0
  Header  :  LSLA Data:  REAL

  Units are DTI matrix values

  Matrix Coverage   SW:     1     1  NE:    50    50
  Matrix Window     SW:     1     1  NE:    50    50
  Matrix Interval    E:     1         N:     1
  Value Range         :     -5.00 to  326421.00

  DTI2TEXT> [1mFILEOUT[0m [1mREAL<CR>[0m
  Text output file REAL.DAT opened
  DTI2TEXT> [1mENABLE[0m [1mDIAGNOSTICS<CR>[0m
  DTI2TEXT> [1mENABLE[0m [1mNINT<CR>[0m
  DTI2TEXT> [1mFORMAT[0m [1m20I4<CR>[0m
  DTI2TEXT> [1mGO<CR>[0m
  *** ERROR *** Text field format too narrow, please redefine 
  DTI2TEXT> FORMAT<CR>

  Current format is (20I4)
  Enter new format, or press <return> to invoke default (10F8.3 or 10I8).
  New format, eg 12F6.2 or 8I10 ? [1m<CR>[0m
  DTI2TEXT> [1mGO<CR>[0m

  Converting from DTI file LSL$DTI:REAL.DTI;0 to text file REAL.DAT.

  Details of input DTI file :


  File    :  LSL$DTI:REAL.DTI;0
  Header  :  LSLA  Data:  REAL

  Units are DTI matrix values

  Matrix Coverage   SW:     1     1  NE:    50    50
  Matrix Window     SW:     1     1  NE:    50    50
  Matrix Interval    E:     1         N:     1
  Value Range         :     -5.00 to  326421.00


     Converting columns 1 to 4
     Converting columns 5 to 8
     Converting columns 9 to 12
     Converting columns 13 to 16
     Converting columns 17 to 20
     Converting columns 21 to 24
     Converting columns 25 to 28
     Converting columns 29 to 32
     Converting columns 33 to 36


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-42
  EXAMPLES                                                             5 June 1997


     Converting columns 37 to 40
     Converting columns 41 to 44
     Converting columns 45 to 48
     Converting columns 49 to 50
  DTI2TEXT> [1mQUIT<CR>[0m
   ELAPSED:    0 00:15:20.28  CPU: 0:01:08.46  BUFIO: 348  DIRIO: 1481  FAULTS:
  232 
  $

  In this example, a DTI file of real data is converted to  a  text  output  file.
  The  ENABLE NINT command means that the data in the text file will be rounded to
  the nearest integer.  FORMAT  is  used  first  to  set  up  a  format  which  is
  subsequently  rejected  when  GO  is  issued.   It is then used to reinstate the
  default output formats.


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-43
                                                                       5 June 1997







                                 [1mDTI2TEXT messages[0m


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-44
  MESSAGES (ERROR)                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  CLDTI, error closing DTI file

      [1mExplanation:[0m  DTI2TEXT is unable to close the input DTI file.

      [1mUser[0m [1maction:[0m  The supplementary messages supplied  with  this  message  will
      enable  the  user  to  determine  the  cause of the problem.  If the problem
      persists notify your system manager.

  CLIND, error closing indirect command file

      [1mExplanation:[0m  DTI2TEXT is unable to close the indirect command file.

      [1mUser[0m [1maction:[0m  The supplementary messages supplied  with  this  message  will
      enable  the  user  to  determine  the  cause of the problem.  If the problem
      persists notify your system manager.

  CLTXT, error closing output text file

      [1mExplanation:[0m  DTI2TEXT is unable to close the output text file.

      [1mUser[0m [1maction:[0m  The supplementary messages supplied  with  this  message  will
      enable  the  user  to determine the cause of the problem, e.g.  insufficient
      disk space for file allocation.  If the problem persists, notify your system
      manager.

  UNRECDT, the data type of the DTI file is not recognised

      [1mExplanation:[0m  DTI2TEXT does not recognise the data in the DTI file as  being
      of one of the expected types (real, longword, word, byte or bit).

      [1mUser[0m [1maction:[0m  The DTI file header may be corrupted, so examine the file with
      the DTIPATCH utility.

  WRREC, error writing record to output text file

      [1mExplanation:[0m  DTI2TEXT is unable to write the current record string  to  the
      output text file.

      [1mUser[0m [1maction:[0m  The supplementary messages supplied  with  this  message  will
      enable  the  user  to  determine  the  cause of the problem.  If the problem
      persists notify your system manager.


  MATRIX REFERENCE (3.7): DTI2TEXT - DTI to Text File Conversion         Page 8-45
  MESSAGES (OTHER)                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages may be generated  by  the  DTILIB
  library  and by the Laser-Scan I/O library, LSLLIB.  DTILIB library messages are
  introduced by '%DTILIB' and are  documented  in  the  MATRIX  package  reference
  manual.   In most cases DTI errors will be due to a corrupt input file, and this
  should be the first area of investigation.  If the cause of the error cannot  be
  traced by the user, and Laser-Scan are consulted, then the output file should be
  preserved to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'
  and  are  generally  self-explanatory.   They are used to explain the details of
  program generated errors.














                                     CHAPTER 9

                                 MODULE DTICONVERT





  MATRIX REFERENCE (3.7): DTICONVERT - DTI Header and Data Conversion     Page 9-1
                                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE    DTICONVERT[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  DTICONVERT is a new utility

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTICONVERT is a module to convert between different style  DTI  header
            and  data  formats.   Header  and  data conversions may be carried out
            separately, or as a combined operation.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DTICONVERT

  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            DTICONVERT  requires  no  command  line   qualifiers,   but   requests
            information  from  the  user  about  the input and output DTI files in
            response to a series of prompts.

  [1m--------------------------------------------------------------------------------[0m


  MATRIX REFERENCE (3.7): DTICONVERT - DTI Header and Data Conversion     Page 9-2
  PROMPTS                                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mGENERAL[0m

  [1m--------------------------------------------------------------------------------[0m
          DTICONVERT is a module to convert between different style DTI header and
          data   formats.    Header  and  data  conversions  may  be  carried  out
          separately, or as a combined operation.

          The module preserves the original (input) DTI file by always creating  a
          new output file with the requested header and data structure.

          The module recognises LSLA, UHL1, TED4, and the historical MIKE and ALVY
          header  structures  in  the  case  of the input DTI file, and allows the
          creation of an output file with a LSLA,  UHL1  or  TED4  header  format.
          Data  conversion  is  performed  on  BIT,  BYTE, WORD, LONGWORD and REAL
          formats.  Full details of the format of the different DTI  headers,  and
          the  structure of the data area, are to be found in the DTILIB Reference
          Manual.

  [1m--------------------------------------------------------------------------------[0m
          [1mDTICONVERT[0m [1mOPERATION[0m

          DTICONVERT requires no command line qualifiers, but requests information
          from  the  user  about  the  input and output DTI files in response to a
          series of prompts.  The following sequence of prompts are output by  the
          module:

                  Input Filename >

                  Output Filename >

                  Output Header Type >

                  Header Size (Default = n ) >       Only for output DTI files with 
                                                     a LSLA style header.

                  Output Data Type >


  [1m--------------------------------------------------------------------------------[0m
          [1mINPUT[0m [1mFILENAME[0m [1mPROMPT[0m

          In response to the prompt 'Input Filename >' you should supply the  name
          of the DTI file you wish to convert.

          The input filename is parsed against the default 'LSL$DTI:DTI.DTI;0'.

          If the file is found and successfully opened, confirmation is output  to
          the  terminal  by  printing  details from the file header.  Included are
          details of the style of header, and data type.


  MATRIX REFERENCE (3.7): DTICONVERT - DTI Header and Data Conversion     Page 9-3
  DESCRIPTION                                                          5 June 1997


          If the file is not found or cannot  be  opened,  an  explanatory  system
          error  will  be  generated,  and  you will be requested to enter another
          input filename.

  [1m--------------------------------------------------------------------------------[0m
          [1mOUTPUT[0m [1mFILENAME[0m [1mPROMPT[0m

          In response to the prompt 'Output Filename >' you should supply the name
          of  the DTI file you wish to create.  This file is created with a header
          structure specified in response to the 'Output Header  Type  >'  prompt,
          and  with  data from the input file held in the format specified via the
          'Output Data Type >' prompt.

          The output filename is parsed against the default 'LSL$DTI:DTI.DTI;0'.

  [1m--------------------------------------------------------------------------------[0m
          [1mOUTPUT[0m [1mHEADER[0m [1mTYPE[0m [1mPROMPT[0m

          In response to the prompt 'Output Header Type >'  you  should  type  the
          name of a valid DTI header identifier.

          The three options are:

          1.  LSLA - Creates a DTI file with a LSLA style header.  The LSLA header
              record  is  of  variable  length, so if this option is selected, you
              will be additionally prompted for a header length value.

          2.  UHL1 - Creates a DMA Change 2 style DTI file with a DTED UHL1 header
              record.

          3.  TED4 - Creates a DMA Change 3 or 4 style DTI file with DTED DSI  and
              ACC header records.

          When output is to a file with the same style of header as the input, the
          header  record  of  the original file is copied to the output.  In other
          cases, a blank header will be created  in  the  output  DTI  file.   For
          example,  if  the  input file has a LSLA style header and output is to a
          file with a TED4 header, blank DSI and ACC records are  created  in  the
          output, and any header information recorded in the input file is lost.

          In all cases, the header variables that are common to  all  DTI  headers
          (ie.   x,y  data extent, x,y grid intervals and minimum and maximum data
          values) are copied from the original file to the output file.

  [1m--------------------------------------------------------------------------------[0m
          [1mHEADER[0m [1mSIZE[0m [1mPROMPT[0m

          If conversion is to a file with an LSLA  style  of  header,  the  prompt
          'Header  Size (Default = n) >' is output.  In response you should type a
          value that defines the length of the header in bytes.

          A default value 'n' is always supplied, and may be accepted by  pressing
          Return  in response to the prompt.  If the input DTI file has an LSLA or
          the now historical ALVY style header, the default value is the  same  as
          the input file header length; in other cases the default value is set to
          the minimum LSLA header length of 32.


  MATRIX REFERENCE (3.7): DTICONVERT - DTI Header and Data Conversion     Page 9-4
  DESCRIPTION                                                          5 June 1997


          The supplied value should be in the range 1 to 32734.

  [1m--------------------------------------------------------------------------------[0m
          [1mOUTPUT[0m [1mDATA[0m [1mTYPE[0m [1mPROMPT[0m

          In response to the prompt 'Output Data Type >' you should type the  name
          of a valid DTI data format.

          The four options are:

          1.  BIT - The data is stored as a bit with a value of 0 or 1.

          2.  BYTE - The data is stored as an 8 bit byte.  It is  conventional  to
              treat the byte value as unsigned, so that it may have a value in the
              range 0 through 255.

          3.  WORD - The data is stored as a 16 bit integer  (INTEGER[1m2[0m).   A  data
              value can have a value in the range -32,768 through 32,767

          4.  LONG - The data is stored as a 32 bit integer  (INTEGER[1m4[0m).   A  data
              value   can  have  a  value  in  the  range  -2,147,483,648  through
              2,147,483,647

          5.  REAL - The data is stored as a single-precision 32 bit real (REAL[1m4[0m).
              A  data  value  can have a value in the range .29 times 10 raised to
              the power of -38 through 1.7 times 10 raised to the power of 38.

          If a data value in the input DTI file is too large or too  small  to  be
          stored  in  the  output  DTI  file,  the input value is truncated by the
          program to the lower or upper value limits.  For example, if a value  of
          340  stored  as  a  WORD  is  converted to a BYTE data value, it will be
          represented by a value of 255 in the output file.   Similarly  an  input
          WORD  data  value  of -10 will be converted to a BYTE data value of 0 in
          the output file.

          When converting from REAL to a BIT, BYTE, WORD or LONGWORD  format,  the
          real value is first converted to the nearest integer, and then truncated
          as necessary.

          When converting to REAL format all data values are floated.

                                            NOTE


                  BIT DTI files are only supported by  a  limited  set  of
                  programs  (DTICONVERT, DTITRANS/DESCRIPTOR, DTIPATCH and
                  LITES2), and only for storage and display.  For any sort
                  of   processing   of   BIT   datatype   files,  such  as
                  transformation, combination etc.,  the  data  should  be
                  converted  to  BYTE  datatype  using  DTICONVERT.   This
                  restriction arises from the fact  that  a  byte  is  the
                  smallest  data  unit capable of independent manipulation
                  by the VAX computer architecture.



  MATRIX REFERENCE (3.7): DTICONVERT - DTI Header and Data Conversion     Page 9-5
  DESCRIPTION                                                          5 June 1997


  [1m--------------------------------------------------------------------------------[0m
          [1mINITIATING[0m [1mCONVERSION[0m

          The conversion of the input DTI file starts as soon as a valid  response
          is received as answer to the prompt 'Output Data Type >'.

          The success of the conversion operation is indicated by printing  header
          details of the output DTI file, and by the termination of the module.

  [1m--------------------------------------------------------------------------------[0m














                                     CHAPTER 10

                                  MODULE DTIPATCH





  MATRIX REFERENCE (3.7): DTIPATCH - DTI File Header Editor              Page 10-1
                                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE    DTIPATCH[0m

  [1m--------------------------------------------------------------------------------[0m
  [1mREPLACES[0m  MATRIX module DPATCH

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTIPATCH enables values in the header of a DTI file to be examined and
            edited.   Currently  only  the  first part of the DTI header, which is
            common to all types of DTI files, and the data order values present in
            a LSLA type header, may be edited.  Using the module it is possible to
            edit the fields that define the size of the matrix (number of  columns
            and rows), the matrix x and y grid intervals and the matrix data range
            (minimum and maximum data values), and for LSLA type  files  the  data
            order corner and direction values.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DTIPATCH

  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            DTIPATCH is a prompt driven program.  Command  input  is  expected  in
            response to the different DTIPATCH screen prompts.

  [1m--------------------------------------------------------------------------------[0m


  MATRIX REFERENCE (3.7): DTIPATCH - DTI File Header Editor              Page 10-2
  PROMPTS                                                              5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m

  [1m--------------------------------------------------------------------------------[0m
          [1mGENERAL[0m

          DTIPATCH enables values in the header of a Digital Terrain  Image  (DTI)
          file to be examined and edited.

          The first part of the DTI header, which is common to all  types  of  DTI
          file  headers  may  be  edited.   The  fields in this part of the header
          define the the size of the matrix (number  of  columns  and  rows),  the
          matrix  x  and  y  grid intervals and the matrix data range (minimum and
          maximum data values).  In addition for a DTI  files  with  a  LSLA  type
          header,  the values defining the arrangement of the data within the file
          (ie data order corner and direction values) may be edited.

          All modules in the Laser Scan packages DTMCREATE, MATRIX and  TVES  that
          utilise DTI files, will normally correctly set the header values on file
          creation or closure.  It is envisaged therefore, that DTIPATCH will only
          be  used  in  the  event  of  the  corruption of the DTI header.  If the
          frequent use of DTIPATCH is found to be required, it is indication of  a
          serious  problem  in  either  a  Laser Scan package module, or a utility
          developed by a customer.  In  the  former  case  Laser  Scan  should  be
          informed of the problem.

          When using DTIPATCH, the user should be aware  of  the  consequences  of
          changing  the  header values.  In particular, if the matrix x and y size
          values are incorrectly set, then it may not be possible for  Laser  Scan
          modules  to  open  the  file,  since  data extent consistency checks are
          performed by the DTI input /  output  library  DTILIB.   No  consistency
          checks, other than whether the data minimum and maximum values are valid
          for the type of data held in the file, and that data  order  values  are
          within range, are carried out by the module itself.

  [1m--------------------------------------------------------------------------------[0m
          [1mDTIPATCH[0m [1mPROMPTS[0m

          DTIPATCH requires no command line qualifiers, but  requests  input  from
          the  user in response to a series of prompts.  The following sequence of
          prompts are output by the module:

                  Enter DTI Filename     >

                  Corner of Data Origin  >        LSLA type header only

                  Data Direction         >        LSLA type header only

                  Number of Columns      >

                  Number of Rows         >

                  X Grid Interval        >

                  Y Grid Interval        >



  MATRIX REFERENCE (3.7): DTIPATCH - DTI File Header Editor              Page 10-3
  DTIPATCH PROMPTS                                                     5 June 1997


                  Minimum Data Value     >

                  Maximum Data Value     >

          <CTRL/Z> (pressing the Ctrl and Z keys  together)  may  be  supplied  in
          response  to  any  of  the  prompts  in order to quit from DTIPATCH.  If
          <CTRL/Z> is used, any input DTI file is closed, and the original  header
          values are preserved.

  [1m--------------------------------------------------------------------------------[0m
          [1mENTER[0m [1mDTI[0m [1mFILENAME[0m [1mPROMPT[0m

          In response to the prompt 'Enter DTI Filename >' you should  supply  the
          file specification of the DTI file you wish to edit.

          Any part of the file  specification  not  supplied  is  taken  from  the
          default 'LSL$DTI:DTI.DTI', although if no file specification is supplied
          you will be reprompted for a file name.

          If the file is found and successfully opened, the current header  values
          are  displayed on the screen.  The header values shown are the ones that
          may be edited using DTIPATCH.

  [1m--------------------------------------------------------------------------------[0m
          [1mCORNER[0m [1mOF[0m [1mDATA[0m [1mORIGIN[0m [1mPROMPT[0m

          In response to the prompt 'Corner of Data Origin >' you should enter  an
          integer value defining the corner where the data origin is located.

          Valid responses are 0 for SW, 1 for NW, 2 for NE and 3 for SE.

          If you wish to leave the value unchanged, then  press  <RETURN>  without
          entering a value.

  [1m--------------------------------------------------------------------------------[0m
          [1mDATA[0m [1mDIRECTION[0m [1mPROMPT[0m

          In response to the prompt 'Data Direction >' you should enter an integer
          value defining the direction in which the data is ordered in the file.

          Valid responses are 0 for clockwise, and 1 for anticlockwise.

          If you wish to leave the value unchanged, then  press  <RETURN>  without
          entering a value.

  [1m--------------------------------------------------------------------------------[0m
          [1mNUMBER[0m [1mOF[0m [1mCOLUMNS[0m [1mPROMPT[0m

          In response to the prompt 'Number of Columns  >'  you  should  enter  an
          integer value defining the x extent of the matrix.

          If you wish to leave the value unchanged, then  press  <RETURN>  without
          entering a value.


  MATRIX REFERENCE (3.7): DTIPATCH - DTI File Header Editor              Page 10-4
  DTIPATCH PROMPTS                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
          [1mNUMBER[0m [1mOF[0m [1mROWS[0m [1mPROMPT[0m

          In response to the prompt 'Number of Rows >' you should enter an integer
          value defining the y extent of the matrix.

          If you wish to leave the value unchanged, then  press  <RETURN>  without
          entering a value.

  [1m--------------------------------------------------------------------------------[0m
          [1mX[0m [1mGRID[0m [1mINTERVAL[0m [1mPROMPT[0m

          In response to the prompt 'X Grid Interval > you  should  enter  a  real
          (floating point) value defining the matrix x grid interval.  This is the
          width of the matrix columns.

          If you wish to leave the value unchanged, then  press  <RETURN>  without
          entering a value.

  [1m--------------------------------------------------------------------------------[0m
          [1mY[0m [1mGRID[0m [1mINTERVAL[0m [1mPROMPT[0m

          In response to the prompt 'Y Grid Interval > you  should  enter  a  real
          (floating point) value defining the matrix y grid interval.  This is the
          width of the matrix rows.

          If you wish to leave the value unchanged, then  press  <RETURN>  without
          entering a value.

  [1m--------------------------------------------------------------------------------[0m
          [1mMINIMUM[0m [1mDATA[0m [1mVALUE[0m [1mPROMPT[0m

          In response to the prompt 'Minimum Data  Value  >  you  should  enter  a
          number  defining  the  minimum data value in the file.  Depending on the
          type of data held in the file, a real or integer value is required.

          DTIPATCH will validate the number entered to ensure that in the case  of
          bit,  byte  or  word  data, the number is in a valid range.  If the file
          contains bit data, a value of either 0 or 1 is required; for byte data a
          value  in  the  range  0  through 255 is required, while for word data a
          value in the range -32768 to 32767 is required.

          If you wish to leave the value unchanged, then  press  <RETURN>  without
          entering a value.

  [1m--------------------------------------------------------------------------------[0m
          [1mMAXIMUM[0m [1mDATA[0m [1mVALUE[0m [1mPROMPT[0m

          In response to the prompt 'Maximum Data  Value  >  you  should  enter  a
          number  defining  the  maximum data value in the file.  Depending on the
          type of data held in the file, a real or integer value is required.

          DTIPATCH will validate the number entered to ensure that in the case  of
          bit,  byte  or  word  data, the number is in a valid range.  If the file
          contains bit data, a value of either 0 or 1 is required; for byte data a
          value  in  the  range  0  through 255 is required, while for word data a


  MATRIX REFERENCE (3.7): DTIPATCH - DTI File Header Editor              Page 10-5
  DTIPATCH PROMPTS                                                     5 June 1997


          value in the range -32768 to 32767 is required.

          If you wish to leave the value unchanged, then  press  <RETURN>  without
          entering a value.

          Following the input  of  a  response  to  this  final  prompt,  DTIPATCH
          displays  the  new  and old header values, and proceeds to write the new
          values to the file.


  MATRIX REFERENCE (3.7): DTIPATCH - DTI File Header Editor              Page 10-6
                                                                       5 June 1997







                                 [1mDTIPATCH examples[0m


  MATRIX REFERENCE (3.7): DTIPATCH - DTI File Header Editor              Page 10-7
  EXAMPLES                                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m



  $ DTIPATCH

                      DTIPATCH 

  This module allows the first part of the DTI header to be edited.
  You will be prompted for a filename, followed by a series of header
  values.
  To leave a header value unchanged, press RETURN

          ********************************************
          * WARNING - NO CONSISTENCY CHECKS ARE MADE *
          ********************************************

  Enter DTI filename > TEST<CR>

  Existing Header Values
  ------------------------------------
  Corner of Data Origin :       0 (SW)
  Data Direction        :       0 (clockwise)
  Number of Columns     :     301
  Number of Rows        :     251
  X Grid Interval       :     100.00
  Y Grid Interval       :     100.00
  Minimum Data Value    :       0
  Maximum Data Value    :     851

  Corner of Data Origin > <CR>
  Data Direction        > <CR>
  Number of Columns     > <CR>
  Number of Rows        > <CR>
  X Grid Interval       > 200<CR>
  Y Grid Interval       > 200<CR>
  Minimum Data Value    > <CR>
  Maximum Data Value    > <CR>

                       New Values     Old Values
  ---------------------------------------------------
  Corner of Data Origin :       0          0
  Data Direction        :       0          0
  Number of Columns     :     301        301
  Number of Rows        :     251        251
  X Grid Interval       :     200.00     100.00
  Y Grid Interval       :     200.00     100.00
  Minimum Data Value    :       0          0
  Maximum Data Value    :     851        851

  Writing new values to header now

  ELAPSED:    0 00:00:09.28  CPU: 0:00:00.69  BUFIO: 46  DIRIO: 4  FAULTS: 70 


  MATRIX REFERENCE (3.7): DTIPATCH - DTI File Header Editor              Page 10-8
                                                                       5 June 1997







                                 [1mDTIPATCH[0m [1mmessages[0m
  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by  by Laser-Scan libraries.  In particular,
  messages may be generated by the DTI library or by the Laser-Scan  I/O  library,
  LSLLIB.   DTI  library messages are introduced by %DTI and are documented in the
  MATRIX Reference manual.  LSLLIB messages are introduced by  '%LSLLIB'  and  are
  generally  self-explanatory.   They  are  often  used  to explain the details of
  program generated errors.

  If the cause of the error cannot be traced  by  the  user,  and  Laser-Scan  are
  consulted, then the output file should be preserved to facilitate diagnosis.














                                     CHAPTER 11

                                  MODULE DTITRANS





  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling    Page 11-1
                                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE[0m    DTITRANS

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTITRANS performs the following operations on raster data  held  in  a
            DTI format:

            1.  transforms data held in one map  projection  system  into  another
                projection system

            2.  transforms data held in a map projection system into Geographicals
                (latitude  and  longitude),  or  from  Geographicals (latitude and
                longitude) to a map projection system

            3.  transforms data using affine transformation parameters, determined
                by  the  IMAGEPROCESS (SATMAP) image orientation module, to create
                an image map

            4.  transforms data fom one coordinate  system  to  another,  allowing
                rotation, scaling, translation and shearing

            5.  resamples data to new x and y sample intervals without  projection
                change

            6.  allows a DTI projection record to be created and modified

            The module is applicable to all types of raster data, but is primarily
            used to transform satellite or digital terrain data.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DTITRANS DTI-input-file-spec DTI-output-file-spec

            [1mCommand[0m [1mQualifiers[0m                    [1mDefaults[0m

            /DESCRIPTOR                           None

            /FILE_TYPE                            /FILE_TYPE=LSLA (see text)

            /FOUR=control-file-spec               /FOUR='HERE:RECTIFY.DAT'

            /IFF=IFF-file-spec                    /IFF='LSL$IF:DTITRANS.IFF'

            /IMAGEMAP=Image-orientation-file      /IMAGEMAP='LSL$RCP:TRANSP.DAT'

            /[NO]LOG                              /NOLOG

            /PROJECTIVE=control-file-spec         /PROJECTIVE='RECTIFY.DAT'

            /[NO]PROMPT                           /NOPROMPT

            /RESAMPLE                             /RESAMPLE=LINEAR (see text)



  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling    Page 11-2
  FORMAT                                                               5 June 1997


            /[NO]ROUND_ORIGIN                     /NOROUND_ORIGIN

            /[NO]SHIFT                            /NOSHIFT

            /THREE=control-file-spec              /THREE='RECTIFY.DAT'

            /[NO]TRANSFORM                        /TRANSFORM 

            /TWO=control-file-spec                /TWO='RECTIFY.DAT'

            /[NO]WINDOW                           /NOWINDOW 


  [1m--------------------------------------------------------------------------------[0m
  [1mPROMPTS[0m

            _Input DTI File: DTI-input-file-spec
            _Output DTI File: DTI-output-file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS[0m

  DTI-input-file-spec

            Specifies the input DTI file.

            Any part of the file  specification  that  is  not  supplied  will  be
            completed from the default of "LSL$DTI:DTI.DTI;0"

  DTI-output-file-spec

            Specifies the name of the DTI file to be created.

            Any part of the file-spec that is not specified will be completed from
            the parsed input file-spec.

  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  DTITRANS cannot be used to convert data  from  one  spheroid  onto
                another

             o  /DESCRIPTOR cannot be present with any other qualifier except /LOG
                or /ROUND_ORIGIN

             o  /IMAGEMAP and /TRANSFORM is not allowed

             o  /IMAGEMAP and /SHIFT is not allowed

             o  /IMAGEMAP and /PROMPT is not allowed

             o  /IFF is only allowed with the qualifier /IMAGEMAP


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling    Page 11-3
  RESTRICTIONS                                                         5 June 1997


             o  any of /TWO or /THREE or /FOUR or /PROJECTIVE is not allowed  with
                any of /IMAGEMAP or /SHIFT or /TRANSFORM or /PROMPT or /FILE_TYPE

             o  DTITRANS will not  transform  data  in  the  BIT  format,  and  if
                required, DTICONVERT must be used to transform to another format.

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m


  /DESCRIPTOR

          - Selects the option to create and set the fields of  a  DTI  Projection
            record,  or  to modify an existing DTI Projection record.  This option
            is only valid if the input DTI file has a 'LSLA' header.

            If the input file does not contain a DTI Projection  record,  DTITRANS
            will insert a record by extending the size of the file header.  If the
            input file already contains a Projection record, the contents  of  the
            record  will  be  displayed,  and  may  be  edited.  In both cases the
            operations are performed 'in situ'.



  /FOUR=control-file-spec

          - Specifies that a four point transformation  will  be  carried  out  to
            rectify  an image from one coordinate system to another, using control
            points read from the specified ASCII file.

            The default specification for the control file is 'RECTIFY.DAT'.



  /FILE_TYPE

          - Determines what style of DTI file header is  created  by  the  module.
            The following options are available:

            /FILE_TYPE=LSLA (default) A DTI file with a 'LSLA' header, and with  a
            DTI  Projection  record  is created.  The format of the DTI Projection
            record is described below and in the DTILIB Reference Manual.

            /FILE_TYPE=TED4 A DTI file with a 'TED4' header and no DTI  Projection
            record  is  created.   If  the transformation is to Geographicals, the
            relevant fields in the DSI record are set by the module.  A blank  ACC
            record is created.

            /FILE_TYPE=UHL1 A DTI file with a 'UHL1' header and no DTI  Projection
            record  is  created.   If  the transformation is to Geographicals, the
            relevant fields in the UHL record are set by the module.

            For full details of the different DTI header structures, the  user  is
            referred to the DTILIB Reference Manual.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling    Page 11-4
  COMMAND QUALIFIERS                                                   5 June 1997


  /IFF=IFF-file-spec

          - Creates an IFF file containing  registration  marks  in  the  form  of
            border  and  grid  ticks that may be overlaid on the transformed image
            map.  The registration ticks are written to layer 0 of the  IFF  file,
            and are given a feature code of 0.  The grid ticks define a 1km grid.

            The   default   specification   for   the   output   IFF    file    is
            'LSL$IF:DTITRANS.IFF'

            This qualifier is only allowed if /IMAGEMAP has also been specified.



  /IMAGEMAP=image-orientation-file-spec

          - This option allows an image map to be generated  using  transformation
            parameters  determined  by the IMAGEPROCESS (SATMAP) image orientation
            module and read from the specified image orientation file.

            The   default   specification   for   the    orientation    file    is
            'LSL$RCP:TRANSP.DAT'.



  /LOG
  /NOLOG (default)

          - Generates a display on  SYS$OUTPUT  indicating  the  progress  of  the
            transformation and resampling operations.

            The default is /NOLOG.



  /PROJECTIVE=control-file-spec

          - Specifies that a projective transformation  will  be  carried  out  to
            rectify  an image from one coordinate system to another, using control
            points read from the specified ASCII file.

            The default specification for the control file is 'RECTIFY.DAT'.



  /PROMPT
  /NOPROMPT (default)

          - Forces the module to prompt for details of all  input  DTI  projection
            parameters,  irrespective  of  whether all or some of these parameters
            are available from the DTI header records.

            This  qualifier  is  generally  only  used  in  situations  where  the
            projection  information contained in the input DTI file is unset or is
            known to be unreliable.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling    Page 11-5
  COMMAND QUALIFIERS                                                   5 June 1997


  /RESAMPLE

          - Selects the algorithm to  be  used  when  resampling  the  input  data
            values.

            /RESAMPLE=NINT.  A Nearest Neighbour algorithm is used.  The value  of
            the node in the transformed DTI file is taken as the data value of the
            nearest node in the input DTI file.

            This algorithm is  useful  in  situations  were  it  is  important  to
            maintain  the  original  input matrix values, but has the disadvantage
            that in the process of rounding, a node may be offset by  up  to  half
            the  sample  interval.   This may be visually apparent when the output
            image is displayed.

            /RESAMPLE=LINEAR.  The value of the node in the transformed  DTI  file
            is  derived  from  the  nearest  four  nodes  in  the input file using
            bi-linear interpolation.

            The advantage of this method is that it  results  in  a  smooth  image
            without  the  problem  of image discontinuity exhibited by the nearest
            neighbour approach.  The default is /RESAMPLE=LINEAR



  /ROUND_ORIGIN
  /NOROUND_ORIGIN (default)

          - Forces the origin offset of the DTI file  to  be  a  multiple  of  the
            sampling interval.

            The default is /NOROUND_ORIGIN.



  /SHIFT
  /NOSHIFT (default)

          - Specifies that the module is to apply a constant x and y shift to  all
            coordinates  before  any  transformation  and/or resampling operation.
            The extent of the coordinate shift is defined by  the  user  when  the
            module prompts for projection data for the output DTI file.  The shift
            is achieved by modifying the local origin values  of  the  output  DTI
            file.

            This option is not valid when /IMAGEMAP has been selected.

            The default is /NOSHIFT



  /THREE=control-file-spec

          - Specifies that a three point transformation will  be  carried  out  to
            rectify  an image from one coordinate system to another, using control
            points read from the specified ASCII file.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling    Page 11-6
  COMMAND QUALIFIERS                                                   5 June 1997


            The default specification for the control file is 'RECTIFY.DAT'.



  /TRANSFORM (default)
  /NOTRANSFORM

          - Specifies that the module is to perform a projection change  operation
            on  the  input  DTI  file.   The  module  will  prompt  for  any input
            projection data that cannot be derived from the header records of  the
            input DTI file, and for output projection data.  The number and nature
            of  the  output  projection  parameters  varies  with   the   selected
            projection.

            /NOTRANSFORM specifies that the module  is  to  perform  a  resampling
            operation  on  the input DTI file, without any projection change.  The
            input DTI  file  may  be  resampled  to  either  a  coarser  or  finer
            resolution  grid.   If  /NOTRANSFORM is specified the user is prompted
            only for output sample values.

            This option is invalid when /IMAGEMAP has been selected.



  /TWO=control-file-spec

          - Specifies that a two point  transformation  will  be  carried  out  to
            rectify  an image from one coordinate system to another, using control
            points read from the specified ASCII file.

            The default specification for the control file is 'RECTIFY.DAT'.



  /WINDOW
  /NOWINDOW (default)

          - Causes the module to prompt the user for SW and  NE  coordinates  that
            define  a  rectangular  area  of interest in the input DTI file, and a
            rectangular area of interest in the output  file.   Only  those  nodes
            that  fall  within  the  defined  area  of interest are considered for
            transformation or resampling.

            The default is /NOWINDOW ie.  all the data values  in  the  input  DTI
            file are used.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling    Page 11-7
  COMMAND QUALIFIERS                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m


          o  [1mThe[0m [1mDTI[0m [1mProjection[0m [1mRecord.[0m

             DTI files output from DTITRANS are created by default with an  'LSLA'
             (LSL Type A) header and with a DTI Projection record.  The Projection
             record  contains  a  projection  and  spheroid  code  and  associated
             parameters,  and the coordinates of address (1,1) in the matrix.  The
             record is analogous to an IFF version 2 Map  Descriptor  (MD)  entry.
             The coding conventions adopted by the IMP module ITRANS are followed.

             The DTI Projection record holds the following information:

             1.  The units in which the data is recorded.

                 When the data in the DTI file is held in Geographicals the  units
                 may  be  in  radians, seconds of arc, degrees of arc or tenths of
                 seconds of arc.  Tenths of seconds of arc is the default.

                 When the data is recorded on a projection the units may be metres
                 (default) or feet.

                 The units codes recorded in the DTI Projection record are:

                         0 Unset
                         1 Feet 
                         2 Metres
                         3 Seconds of arc (only valid if projection is 100)
                         4 Degrees of arc (only valid if projection is 100)
                         5 Radians (only valid if projection is 100)
                       102 mm on the source document
                       104 thousands of an inch on source document
                       110 1/10 seconds of arc (only valid if projection is 100)


             2.  The x,y coordinate values of address (1,1) in the matrix.

                 The coordinate values are held in  the  units  specified  in  the
                 Projection  record.  The coordinates of other nodes in the matrix
                 may be determined using  these  values,  and  the  matrix  sample
                 interval values.

             3.  The sample interval in x and y.

                 The grid values are held in the units specified in the Projection
                 record.   The  x  and  y  grid  values  may be different, and are
                 constant for the entire matrix.

             4.  The spheroid that the data relates to.

                 All geographical data  is  ultimately  related  to  a  particular
                 spheroid.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling    Page 11-8
  DESCRIPTION                                                          5 June 1997


                 The spheroid is the geometrical model of the earth that was  used
                 when  the  original  survey was carried out.  It is not possible,
                 using DTITRANS, to convert data from one spheroid to another.

                 The spheroids supported by DTITRANS, and the code recorded in the
                 DTI Projection record are:

                        0 Clarke 1866
                        1 Clarke 1880
                        2 Bessel
                        3 New International 1967
                        4 International 1924 (Hayford 1909)
                        5 World Geodetic System 72 (WGS 72)
                        6 Everest
                        7 World Geodetic System 66 (WGS 66)
                        8 Geodetic Reference System 1980 (GRS 1980)
                        9 Airy
                       10 Modified Everest
                       11 Modified Airy
                       12 Walbeck
                       13 Southeast Asia
                       14 Australian National
                       15 Krassovsky
                       16 Hough
                       17 Mercury 1960
                       18 Modified Mercury 1968
                       19 Sphere of radius 6370997 M
                       20 Sphere of radius 6371229.3M
                       21 Clarke 1880 (IGN)
                       22 World Geodetic System 84 (WGS 84)
                      101 User specified spheroid

                 Appendix A of the IMP Reference  Manual  gives  full  details  of
                 these spheroids.

                 When a user specified spheroid is defined, then information about
                 the  length  of  the  semi-major  axis,  and  the  length  of the
                 semi-minor axis or eccentricity squared, is also recorded in  the
                 Projection record.

             5.  The projection that the data are on.

                 The projections that DTITRANS supports are:

                         0  Unset
                         1  Universal Transverse Mercator
                         2  State Plane Coordinates
                         3  Albers Conical Equal Area
                         4  Lambert Conformal Conic
                         5  Mercator
                         6  Polar Stereographic 
                         7  Polyconic
                         8  Equidistant Conic
                         9  Transverse Mercator
                        10* Stereographic
                        11* Lambert Azimuthal Equal Area


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling    Page 11-9
  DESCRIPTION                                                          5 June 1997


                        12* Azimuthal Equidistant
                        13* Gnomonic
                        14* Orthographic
                        15* General Vertical Near-Side Perspective
                        16* Sinusoidal
                        17* Equirectangular
                        18* Miller Cylindrical
                        19* Van der Grinten
                        20  Oblique Mercator (Hotine)
                        21* Oblique Mercator (Spherical)
                        22  Stereographic (UKSL formulae)
                        23  Cassini
                        24  Krovak
                        25  Bonne
                        26* Mollweide
                        27* Hammer-Aitoff
                        28* Winkel III
                        29* Modified-Stereographic 
                       100  Geographic  (ie. Latitude and Longitude)
                       101  UK national grid  (a special case of 9)

                 1) Those projections marked with a '*' are  only  defined  for  a
                 sphere, not a spheroid

                 2)  Data  can  be  held  in  geographicals  (ie.   Latitude   and
                 Longitude) by specifying projection code 100

             Currently the DTI Projection record is created and modified  only  by
             the  module  DTITRANS.   It  is  designed  to  reduce  the  amount of
             information  a  user  must  enter  when  carrying  out  a  series  of
             projection  changes  on  a  set  of data, and to enable the automatic
             registration of raster and vector geographic data.

             The Projection record is always appended on to the  end  of  any  DTI
             header information that may exist in an input 'LSLA' type DTI file.


          o  [1mCarrying[0m [1mout[0m [1mprojection[0m [1mtransformations.[0m

             DTITRANS will carry out a projection change unless the  /NOTRANSFORM,
             /DESCRIPTOR,  /IMAGEMAP,  /TWO,  /THREE, /FOUR or /PROJECTIVE options
             are selected.  Projection change  on  raster  data  involves  both  a
             coordinate transformation using parameters derived from the input and
             output projection values, and the calculation of the  data  value  at
             the  transformed  coordinate  position  by  resampling the input data
             values.

             In  order  to  calculate  the  size  of  the  output  DTI  file,  the
             transformation parameters are first applied directly to the 4 corners
             of the input matrix.  The minima  and  maxima  of  these  transformed
             coordinates  in  conjunction  with the output sample values determine
             the size of the output matrix.

             Subsequently   an   inverse   transformation   is    applied.     The
             transformation is applied to each point in the output matrix in order
             to determine its corresponding position in  the  input  matrix.   The


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-10
  DESCRIPTION                                                          5 June 1997


             value  of  the  transformed point is determined from the input matrix
             values using one of the resampling techniques  described  below.   If
             the  transformed point lies outside the input matrix, a null value is
             assigned to the point.  For DTI files holding byte data  this  is  0,
             while for all other data types a value of -32767 is used.

             The  resampling  options  available  in  the  program   are   nearest
             neighbour,  in which the value of the matrix point in the transformed
             image is taken as the value  of  the  nearest  matrix  point  in  the
             original  image,  and  bilinear  interpolation (default) in which the
             value of the transformed  matrix  point  is  taken  as  the  weighted
             average of the nearest 4 points in the input image.  The advantage of
             the nearest neighbour method is that it is simple to compute, and the
             value  from  the  original  image  is used without modification.  The
             disadvantage is that in the process of rounding the transformed value
             to  the  nearest  matrix  point, discontinuities that may be visually
             apparent in the output image may be introduced.  In contrast bilinear
             interpolation produces a smooth image without apparent discontinuity,
             but has the disadvantage that the input matrix  values  are  altered,
             and computation times are increased.


          o  [1mCarrying[0m [1mout[0m [1mplane[0m [1mtransformations.[0m

             When carrying out plane  transformations  on  data  in  a  DTI  file,
             DTITRANS  uses  an  ASCII  file  of  control points to define the two
             coordinate spaces.  Each control file  has  four  or  more  lines  of
             input/output points in the format XINPUT YINPUT XOUTPUT YOUTPUT.  The
             control file may contain blank lines and comment lines,  the  comment
             lines  are identified by a '!' or ';' as the first character and must
             appear on separate lines from the control points.  An example control
             file might be:


             !This is an example control file


             !and here is the first row of control points
             11567.009   45389.873   490000   280000
             ;and the second
             12896.7     88742.607   490000   281000

             !and the third and fourth, preceeded by a blank line.
             55468.886   46672.245   491000   280000
             56487.076   88921.502   491000   281000
             ;and that's the file
             [EOB]



             The plane transformation is similar to the projection transformation,
             the  difference  being,  that  instead  of  carrying out a projection
             calculation to determine the forward and backward  matrices,  one  of
             the following plane transformations is applied.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-11
  DESCRIPTION                                                          5 June 1997


             1.  If the /FOUR qualifier is given then DTITRANS uses the four  sets
                 of coordinates to compute the transformation

                                   X = a1 + a2*x + a3*y + a4*x*y
                                   Y = b1 + b2*x + b3*y + b4*x*y

                 This transformation will force the 4 input points to fit the four
                 output  points exactly, but it is not obvious how other points in
                 the file will be distorted.  It  is  thought  to  be  useful  for
                 correcting  paper  distortion,  as  when data is digitised from a
                 paper map based on known exact control points such  as  graticule
                 intersections.

                 This  transformation  is  called  the   "Extended   four   point"
                 transformation in other Laser-Scan programs.

                                               NOTE

                         This transformation breaks down if a rotation  of
                         exactly  45  degrees,  a scale change and a shift
                         are the only differences between the input points
                         and  the  output  points.   In  this case /TWO or
                         /THREE will give the required results.


             2.  The /PROJECTIVE qualifier uses the four sets  of  coordinates  to
                 compute the transformation

                             X = (a1*x + a2*y + a3) / (a7*x + a8*y +1)
                             Y = (a4*x + a5*y + a6) / (a7*x + a8*y +1)

                 This transformation uses a projective algorithm  and  will  force
                 the 4 input points to fit the four output points exactly.

             3.  The /THREE qualifier uses the four sets of coordinates to compute
                 the transformation

                                       X = a1 + a2*x + a3*y
                                       Y = b1 + b2*x + b3*y

                 This  transformation  is  sufficient  to  correct  for  rotation,
                 scaling, translation and shearing.  This means that shapes may be
                 altered,  but  in  a  predictable  way  (e.g.  a  square  may  be
                 transformed into a parallelogram).

                 This transformation is also known as the "Affine" transformation.

             4.  The /TWO qualifier uses the four sets of coordinates  to  compute
                 the transformation

                                       X = a1 + a2*x - a3*y
                                       Y = a4 + a3*x + a2*y

                 This  transformation  is  sufficient  to  correct  for  rotation,
                 scaling  and  translation  only.   This  means that the shapes of
                 features will not be altered.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-12
  DESCRIPTION                                                          5 June 1997


                 This transformation is called the "Orthogonal" transformation  in
                 other Laser-Scan programs.



             By default, a plane transformation will try  to  preserve  the  input
             file  resolution,  and  calculate an output grid pixel to account for
             any change in the relative sizes of the input and output  DTI  files.
             If  the  output DTI is required at a coarser or finer resolution, the
             user must give the  desired  sampling  when  prompted  with  the  new
             calculated grid sizes.

             Using the /THREE and /TWO qualifiers with four sets  of  coordinates,
             or  giving  more  than  four  control  points,  over  determines  the
             transformation, so a least squares solution is applied.   This  means
             that  the  final  coordinates  of  the control points may be slightly
             different from  the  target  values.   Where  the  maximum  of  these
             discrepancies  is  greater  than  1/1000th of the range of the target
             control point values then the operator is asked if the transformation
             is to be accepted.



  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-13
  EXAMPLES                                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mEXAMPLES[0m



  $[1mDTITRANS<CR>[0m
  Input-DTI-file: [1mOS44000800<CR>[0m
  Output-DTI-file: [1mTEST<CR>[0m
   
  Existing Projection Data for source DTI file:
   
  Spheroid      :   9 (Airy)
  Projection    : 101 (UK national grid)
   
  Units         :   2 (metres)
  Local origin  :      440000.000 (Eastings)       80000.000 (Northings)
  Sample values :          50.000 (Eastings)          50.000 (Northings)
   
  Enter projection data for destination DTI file
   
  [1mE[0mnter projection code (101): [1m?<CR>[0m
   
  Allowable projections and their codes are:-
   
    0  Unset                             1  Universal Transverse Mercator 
    2  State Plane Coordinates           3  Albers Conical Equal Area     
    4  Lambert Conformal Conic           5  Mercator                      
    6  Polar Stereographic               7  Polyconic                     
    8  Equidistant Conic                 9  Transverse Mercator           
   10* Stereographic                    11* Lambert Azimuthal Equal Area  
   12* Azimuthal Equidistant            13* Gnomonic                      
   14* Orthographic                     15* General Vert Near-Side Persp  
   16* Sinusoidal                       17* Equirectangular               
   18* Miller Cylindrical               19* Van der Grinten               
   20  Oblique Mercator (Hotine)        21* Oblique Mercator (Spherical)  
   22  Stereographic (UKSL formulae)   100  Geographic  (ie Lat and Long) 
  101  UK national grid              
   
  Note: projections marked "*" are defined for the sphere, not the spheroid.
        If a spheroid is defined, then the sphere with the same surface area
        as the spheroid is used

  Enter projection code (101): [1m100<CR>[0m
                               (  Geographic  (ie Lat and Long))
   
   
  Enter unit code (110): [1m<CR>[0m
                         (1/10 seconds of arc)
   
  Define sample intervals as Latitude Longitude (0.0, 0.0): [1m10[0m [1m20<CR>[0m


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-14
  EXAMPLES                                                             5 June 1997


  Final Projection Data for output DTI file
   
   
  [1mS[0mpheroid      :   9 (Airy)
  Projection    : 100 (Geographic  (ie Lat and Long))
   
  Units         : 110 (1/10 seconds of arc)
  Local origin  :     1822177.245 (Latitude)      -51643.070 (Longitude)
  Sample values :          10.000 (Latitude)          20.000 (Longitude)

  ELAPSED:    0 00:02:49.94  CPU: 0:01:08.36  BUFIO: 67  DIRIO: 18  FAULTS: 516 
  $

            In this example DTITRANS was used  to  transform  data  held  in  U.K.
            National  Grid into Geographicals (Latitude and Longitude).  The input
            DTI file had a complete and valid Projection Record, so that there was
            no  need  to  prompt  for any projection information for the input DTI
            file.

            Since the input and output DTI files were not specified on  the  input
            command  line, DTITRANS prompts for the file specifications of the two
            files.

            The user is asked to enter projection information for the  output  DTI
            file.   Note  that  in response to the prompt "Enter projection code",
            the user has typed "?" in order to obtain  a  list  of  all  available
            projection  codes.   The user is prompted in addition for a unit code,
            and has accepted the default of 110 (1/10 seconds of arc) by  pressing
            [1m<CR>[0m,  and  for  the  output  sample  intervals in the selected units.
            Where possible sensible default values are supplied -  since  in  this
            case,  the units of the output DTI file were different to the input no
            defaults were supplied for the sample intervals.  Note the user is not
            required to enter the spheroid code for the output file since a change
            in spheroid is not allowed.  The user is also not prompted for a local
            origin  for the output file since this is worked out by the program as
            part of the transformation operation.

            On entering all the output projection data, confirmation is printed on
            the  terminal,  and  DTITRANS  proceeds  to transform and resample the
            input matrix.






  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-15
  EXAMPLES                                                             5 June 1997


   
  $[1mDTITRANS/LOG[0m [1mOS44000800[0m [1mMERCATOR<CR>[0m
   
  Existing Projection Data for source DTI file:
   
   
  Spheroid      :   9 (Airy)
  Projection    : 101 (UK national grid)
   
  Units         :   2 (metres)
  Local origin  :      440000.000 (Eastings)       80000.000 (Northings)
  Sample values :          50.000 (Eastings)          50.000 (Northings)
   
  Enter projection data for destination DTI file
   
  [1mE[0mnter projection code (101): [1m5<CR>[0m
                               (  Mercator)
   
   
  The Mercator projection requires the following
  additional information:-
   
     Latitude that has true scale
     in DDD MM SS.SS format (  0 00 00.000N): [1m49N<CR>[0m
     Longitude of the central meridian
     in DDD MM SS.SS format (  0 00 00.000E): [1m2W<CR>[0m
     Eastings of the origin of the projection (0.0): [1m<CR>[0m
     Northings of the origin of the projection (0.0): [1m<CR>[0m
   
  Enter unit code (2): [1m<CR>[0m
                       (metres)
   
  Define sample intervals as Eastings Northings (50.0, 50.0): [1m100[0m [1m100<CR>[0m
   
  Final Projection Data for output DTI file
   
   
  [1mS[0mpheroid      :   9 (Airy)
  Projection    :   5 (Mercator)
   
     Latitude of true scale                       :   49 00 00.000N
     Longitude of the central meridian            :    2 00 00.000W
     Eastings  of origin                          :           0.000
     Northings of origin                          :           0.000
   
  Units         :   2 (metres)
  Local origin  :       41372.472 (Eastings)     4285745.865 (Northings)
  Sample values :         100.000 (Eastings)         100.000 (Northings)
   
  +----------------------------------------------------------------+
  |                                                                |
  |          Transforming and Resampling Matrix Points             |
  |                                                                |
  +----------------------------------------------------------------+

  ELAPSED:    0 00:34:48.87  CPU: 0:00:29.39  BUFIO: 124  DIRIO: 4  FAULTS: 330 


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-16
  EXAMPLES                                                             5 June 1997



            In this example DTITRANS is used to transform data from one projection
            (UK National Grid) to another (Mercator).

            The input DTI file contained a complete and valid projection record so
            the user was not prompted for any input projection data.  The user was
            however asked to enter data for the output projection system.   Output
            to  a Mercator projection was selected.  This projection requires four
            additional pieces of  information.   Since  the  input  projection  is
            different from the target projection, defaults of 0.0 are supplied.

            The /LOG qualifier was present on the command line, so that details of
            the  processing  operation  are  displayed  on  the  terminal.  If the
            program is being run on a CRT an indication of the percentage complete
            will also be shown.





  $[1mDTITRANS/WINDOW[0m [1mOS44000800[0m [1mMERCATOR<CR>[0m
   
  Existing Projection Data for source DTI file:
   
   
  Spheroid      :   9 (Airy)
  Projection    : 101 (UK national grid)
   
  Units         :   2 (metres)
  Local origin  :      440000.000 (Eastings)       80000.000 (Northings)
  Sample values :          50.000 (Eastings)          50.000 (Northings)
   
  Define input window as Eastings Northings (440000.0, 80000.0, 460000.0, 
  100000.0):[1m440000.0[0m [1m80000.0[0m [1m450000.0[0m [1m90000.0<CR>[0m
   
  Enter projection data for destination DTI file
   
  [1mE[0mnter projection code (101): [1m5<CR>[0m
                               (  Mercator)
   
   
  The Mercator projection requires the following
  additional information:-
   
     Latitude that has true scale
     in DDD MM SS.SS format (  0 00 00.000N): [1m49N<CR>[0m
     Longitude of the central meridian
     in DDD MM SS.SS format (  0 00 00.000E): [1m2W<CR>[0m
     Eastings of the origin of the projection (0.0): [1m<CR>[0m
     Northings of the origin of the projection (0.0): [1m<CR>[0m
   
  Enter unit code (2): [1m<CR>[0m
                       (metres)
   
  Define sample intervals as Eastings Northings (50.0, 50.0): [1m<CR>[0m
   


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-17
  EXAMPLES                                                             5 June 1997


  Define output window as Eastings Northings (41372.472, 4285854.342, 51813.705,
  4296295.559): [1m<CR>[0m
   
  Final Projection Data for output DTI file
   
   
  [1mS[0mpheroid      :   9 (Airy)
  Projection    :   5 (Mercator)
   
     Latitude of true scale                       :   49 00 00.000N
     Longitude of the central meridian            :    2 00 00.000W
     Eastings  of origin                          :           0.000
     Northings of origin                          :           0.000
   
  Units         :   2 (metres)
  Local origin  :       41372.472 (Eastings)     4285854.342 (Northings)
  Sample values :          50.000 (Eastings)          50.000 (Northings)

  ELAPSED:    0 00:02:33.93  CPU: 0:00:40.55  BUFIO: 58  DIRIO: 7  FAULTS: 423 

            This example is similar to the previous example, with  DTITRANS  being
            used  to transform data from UK National Grid to Mercator, however the
            user has additionally selected the option to restrict processing to  a
            rectangular area of interest by means of the /WINDOW qualifier.  Since
            this qualifier was present the user is prompted for an input window in
            UK  National  Grid  coordinates, and an output window in metres in the
            Mercator Projection System.  In this instance, the user has chosen  to
            define  an input window that covers a quarter of the input matrix, and
            has not defined an output area of interest by accepting  the  supplied
            default   output   window  values.   The  output  window  values  were
            calculated by transforming the input window coordinates.





  $[1mDTITRANS/NOTRANSFORM/LOG[0m [1mOS44000800[0m [1mTEST<CR>[0m
   
  Existing Projection Data for source DTI file:
   
   
  Spheroid      :   9 (Airy)
  Projection    : 101 (UK national grid)
   
  Units         :   2 (metres)
  Local origin  :      440000.000 (Eastings)       80000.000 (Northings)
  Sample values :          50.000 (Eastings)          50.000 (Northings)


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-18
  EXAMPLES                                                             5 June 1997


   
  Enter projection data for destination DTI file
   
   
  [1mD[0mefine sample intervals as Eastings Northings (50.0, 50.0): [1m30.5[0m [1m60.5<CR>[0m

  +----------------------------------------------------------------+
  |                                                                |
  |                     Resampling Matrix Points                   |
  |                                                                |
  +----------------------------------------------------------------+

  ELAPSED:    0 00:01:27.50  CPU: 0:00:12.20  BUFIO: 105  DIRIO: 14  FAULTS: 341 

            In this example DTITRANS has been used to resample the input matrix to
            a  matrix with different sample interval values.  No transformation of
            the matrix coordinates will be performed.  The user is  only  prompted
            for   sample  interval  values  for  the  output  matrix.   Since  the
            resampling method was not specified using the /RESAMPLE qualifier, the
            default linear resampling method will be used.





  $[1mDTITRANS/DESCRIPTOR[0m [1mTEST1[0m
   
  Enter projection data for source DTI file
   
  [1mE[0mnter spheroid code (0): [1m9<CR>[0m
                           (Airy)
   
  Enter projection code (0): [1m101<CR>[0m
                             (  UK national grid)
   
   
  Enter unit code (2): [1m<CR>[0m
                       (metres)
   
  Define local origin as Eastings Northings (0.0, 0.0): [1m440000.0[0m [1m80000.0<CR>[0m
   
  Define sample intervals as Eastings Northings (50.0, 50.0): [1m<CR>[0m

  ELAPSED:    0 00:00:45.14  CPU: 0:00:00.47  BUFIO: 24  DIRIO: 4  FAULTS: 264 

            In this example DTITRANS was used to set up a Projection Record  in  a
            DTI  file that did not already contain one.  This file has a LSLA type
            header.  The user is prompted for all projection record values.   Note
            that  only  an  input  DTI  file  is  required  since the operation is
            performed 'in situ'.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-19
  EXAMPLES                                                             5 June 1997



  [1m$[0m [1mDTITRANS/LOG/IMAGEMAP=PARAMS.DAT/IFF=TEST[0m [1mSPOT[0m [1mSPOT_RECTIFIED[0m<CR>
   
  Enter projection data for destination DTI file
   
  [1mE[0mnter spheroid code (0): <CR>
                           (Clarke 1866)
   
  Enter projection code (0): <CR>
                             (  Unset)
   
   
  Enter unit code (2): <CR>
                       (metres)
   
  Define sample intervals as Eastings Northings (1.0, 1.0): 10 10<CR>
   
  Final Projection Data for output DTI file
   
   
  [1mS[0mpheroid      :   0 (Clarke 1866)
  Projection    :   0 (Unset)
   
  Units         :   2 (metres)
  Local origin  :      874031.932 (Eastings)     3170437.401 (Northings)
  Sample values :          10.000 (Eastings)          10.000 (Northings)

  %LSLLIB-I-IFFOPENED, LSL$DATAROOT:[LSL.IFF]TEST.IFF;2 opened for write
   
  +----------------------------------------------------------------+
  |                                                                |
  |          Transforming and Resampling Matrix Points             |
  |                                                                |
  +----------------------------------------------------------------+

  ELAPSED:    0 00:00:18.08  CPU: 0:00:01.34  BUFIO: 48  DIRIO: 54  FAULTS: 588 

            In this example the IMAGEMAP option has been selected.   The  original
            image  is  "SPOT.DTI"  and  the  transformed  and  resampled  image is
            "SPOT_RECTIFIED.DTI".  The  data  is  processed  using  transformation
            parameters defined in the file "PARAMS.DAT".  The option to produce an
            IFF registration file has been selected, along with the LOG option.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-20
  EXAMPLES                                                             5 June 1997



  [1m$[0m [1mDTITRANS/RESAMPLE=NINT/WINDOW/LOG/FOUR=SP9800_REC.DAT[0m [1mSP9800[0m [1mSP_OUT[0m<CR>

  MATRIX module DTITRANS of 15:49:23 20-JUL-90
   
  Define input window as Eastings Northings (0.0, 0.0, 1142.0, 1172.0): [1m<CR>[0m
   
  Enter projection data for destination DTI file
   
  [1mE[0mnter spheroid code (0): [1m9<CR>[0m
                           (Airy)
   
  Enter projection code (0): [1m101<CR>[0m
                             (  UK national grid)
   
   
  Enter unit code (2): [1m<CR>[0m
                       (metres)
   
  Define sample intervals as Eastings Northings (1.0, 1.0): [1m<CR>[0m
   
  Define output window as Eastings Northings (489883.717, 279861.507, 491098.795,
  281112.207): [1m490000[0m [1m280000[0m [1m491000[0m [1m281000[0m
   
  Final Projection Data for output DTI file
   
   
  [1mS[0mpheroid      :   9 (Airy)
  Projection    : 101 (UK national grid)
   
  Units         :   2 (metres)
  Local origin  :      490000.000 (Eastings)      280000.000 (Northings)
  Sample values :           1.000 (Eastings)           1.000 (Northings)
   
  +----------------------------------------------------------------+
  |                                                                |
  |          Transforming and Resampling Matrix Points             |
  |                                                                |
  +----------------------------------------------------------------+
  %100.00
         
  Total of 1002001 matrix points processed
   
  ELAPSED:  0 00:05:43.05  CPU: 0:04:31.64  BUFIO: 1055  DIRIO: 936  FAULTS: 3323 

            In this example the /FOUR qualifier has been chosen, this will take  a
            scannred  raster  DTI  image  and  transform it to a ground coordinate
            system, performing any necessary rotations, scaling and  translations.
            The  input  DTI  file  is  SP9800.DTI  and  the  output  DTI  file  is
            SP_OUT.DTI.  The control file, which contains the  control  points  is
            called SP9800_REC.DAT an example of which can be seen on page 11-10 in
            Carrying out a plane transformation.  The /TWO, /THREE and /PROJECTIVE
            qualifiers all operate simmilarly.  /WINDOW is used to clip the output
            DTI file.  The /LOG and /RESAMPLE qualifiers were also selected.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-21
                                                                       5 June 1997







                                 [1mDTITRANS messages[0m


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-22
  MESSAGES (SUCCESS)                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(SUCCESS)[0m

  These messages are used to indicate that the program has succeeded in performing
  some action, and do not require any user action.

  NORMAL, DTITRANS normal successful completion

      [1mExplanation:[0m  DTITRANS has terminated successfully, without encountering any
      errors.

      [1mUser[0m [1maction:[0m  None


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-23
  MESSAGES (INFORMATIONAL)                                             5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(INFORMATIONAL)[0m

  These messages give information only, and require no  immediate  action  by  the
  user.  They are used to provide information on the current state of the program,
  or to supply explanatory information in support of a warning or error message.

  NOOUTDTI, no output DTI file created

      [1mExplanation:[0m  The creation of an output DTI file is not required.

      [1mUser[0m [1maction:[0m  None

  NOPROCREQ, no transformation or resampling operation required

      [1mExplanation:[0m  DTITRANS has determined that no coordinate  transformation  or
      resampling  was  required.   This  is  because  the output DTI file would be
      identical to the input DTI file.

      [1mUser[0m [1maction:[0m  None


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-24
  MESSAGES (WARNING)                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(WARNING)[0m

  These messages are output when an error  has  occurred  that  can  be  corrected
  immediately by the user or that the program will attempt to overcome.

  BADMODSTOPT, 'integer' is an invalid option for modified-stereographic

      [1mExplanation:[0m  The modified-stereographic projection option code entered does
      not correspond to a valid projection code.

      [1mUser[0m [1maction:[0m  Enter '?' to obtain a list of valid codes, and  enter  one  of
      them.

  BADPRJSPH, 'string' projection must be on 'string' spheroid

      [1mExplanation:[0m  Certain projections are only defined for  specific  spheroids.
      For example, UK National Grid is always on an Airy Spheroid.  The projection
      code that has been specified is not valid with the specified sheroid.

      [1mUser[0m [1maction:[0m  Select another projectoin code, or if  the  sheroid  is  wrong
      either  rerun  DTITRANS  with  the /PROMPT qualifier which will give you the
      opportunity of redefining  the  input  spheroid,  or  more  permanently  use
      DTITRANS  with  the  /DESCRIPTOR qualifier to reset the projection values of
      the input DTI file.

  BADPROJCODE, 'integer' is an invalid projection code

      [1mExplanation:[0m  The projection code entered does not  correspond  to  a  valid
      projection code.

      [1mUser[0m [1maction:[0m  Enter '?' to obtain a list of valid codes, and  enter  one  of
      them.

  BADSAMPLE, invalid x or y sample value of 0 or less

      [1mExplanation:[0m  It is not possible to have  a  negative  sample  interval,  or
      sample interval of 0.

      [1mUser[0m [1maction:[0m  Reenter the sample values ensuring values greater than  0  are
      entered.

  BADSPHCODE, 'integer' is an invalid spheroid code

      [1mExplanation:[0m  The spheroid code entered  does  not  correspond  to  a  valid
      spheroid code.

      [1mUser[0m [1maction:[0m  Enter '?' to obtain a list of valid codes, and  enter  one  of
      them.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-25
  MESSAGES (WARNING)                                                   5 June 1997


  BADSPSZONE, 'integer' is an invalid SPS zone

      [1mExplanation:[0m  The zone number entered is not a valid state plane  projection
      system zone.

      [1mUser[0m [1maction:[0m  Enter '?' to obtain list of valid zone  numbers,  and  reenter
      the zone.

  BADUNITCODE, 'integer' is an invalid unit code

      [1mExplanation:[0m  The unit code entered does not  correspond  to  a  valid  unit
      code.

      [1mUser[0m [1maction:[0m  Enter '?' to obtain a list of valid codes, and  enter  one  of
      them.

  BADUTMZONE, 'integer' is an invalid UTM zone

      [1mExplanation:[0m  The zone number entered is not a valid UTM zone.

      [1mUser[0m [1maction:[0m  Enter '?' to obtain list of valid zone  numbers,  and  reenter
      the zone.

  EOF, program terminated prematurely by 'Z'

      [1mExplanation:[0m  The user has entered <CTRL/Z> when defining  a  projection  or
      associated   transformation   parameters.    This   causes  DTITRANS  to  be
      terminated.

      [1mUser[0m [1maction:[0m  None.

  ERRCPTS, residuals in 'string' transformation of 'real' 'real' in x and y
      ('string' units)

      [1mExplanation:[0m  Residuals from  the  chosen  transformation  are  larger  than
      recommended.

      [1mUser[0m [1maction:[0m  Decide whether or not to continue with these residuals.

  EXTRACPTS, extra input line found, ignoring all further lines

      [1mExplanation:[0m  Extra lines of control points have been found in  the  control
      file.  These will be ignored.

      [1mUser[0m [1maction:[0m  None

  ILLEGANGVAL, impossible value for component of angle

      [1mExplanation:[0m  An angle has been input with a value of one of its  components
      that is impossible (e.g.  minutes greater than 60) USERACTION

      [1mUser[0m [1maction:[0m


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-26
  MESSAGES (WARNING)                                                   5 June 1997


  ILLEGDECPT, only last component in angle may have decimal point

      [1mExplanation:[0m  An angle has been input where more then one of its  components
      has a decimal point.

      [1mUser[0m [1maction:[0m  Reenter the angle with correct value.

  ILLEGLAT, 'string' is an illegal latitude value

      [1mExplanation:[0m  A latitude value has  been  entered  with  an  absolute  value
      greater than 90 degrees.

      [1mUser[0m [1maction:[0m  Reenter the angle with correct value.

  ILLEGLONG, 'string' is an illegal longitude value

      [1mExplanation:[0m  A longitude value has been  entered  with  an  absolute  value
      greater than 180 degrees.

      [1mUser[0m [1maction:[0m  Reenter the angle with correct value.

  INVALLATS, cannot have projection along a line of latitude

      [1mExplanation:[0m  The input latitude of the first  point  on  the  central  line
      equals that of the second, this is invalid.

      [1mUser[0m [1maction:[0m  Reenter the two values, making sure that they are different.

  INVALRVAL, 'real' is an invalid value in this context

      [1mExplanation:[0m  Element of spheroid less than or equal to zero if x value,  or
      less than zero if y value.  These are not valid.

      [1mUser[0m [1maction:[0m  Reenter the values.

  INVALUNIT, 'integer' is an invalid unit code for projection

      [1mExplanation:[0m  Angular units can only be used when dealing with  geographical
      coordinates,  and  scalar  units  can  only  be  used  when  dealing  with a
      projection.

      [1mUser[0m [1maction:[0m  Enter '?' to obtain a list of valid codes, and  enter  one  of
      them.

  NOTRANSFORM, transform qualifier ignored

      [1mExplanation:[0m   The  /TRANSFORM  qualifier  (either  given   explicitly,   or
      defaulted  by  the  command  line  decoder)  has  been  given  with  another
      disallowed qualifier, and has been ignored.  Note that TRANSFORM  is  always
      defaulted by DTITRANS unless the /NOTRANSFORM qualifier is given.

      [1mUser[0m [1maction:[0m  Resupply the command line, with /NOTRANSFORM  or  without  the
      disallowed qualifier.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-27
  MESSAGES (WARNING)                                                   5 June 1997


  REENTER, reenter input values

      [1mExplanation:[0m  The values  entered  in  response  to  a  program  prompt  are
      invalid.  An accompanying error message will generally indicate the problem.

      [1mUser[0m [1maction:[0m  Reenter the values in response to the prompt.

  SIGNANDHEMI, sign and hemisphere present in angle

      [1mExplanation:[0m  Both a sign and hemisphere character were supplied.   This  is
      not valid.

      [1mUser[0m [1maction:[0m  Reenter the  angle  using  either  a  sign,  or  a  hemisphere
      character, but not both.

  UNEXPCH, unexpected character ''char'' found

      [1mExplanation:[0m  An unexpected character was found at  the  end  of  the  input
      line.

      [1mUser[0m [1maction:[0m  Reenter the input line checking the number of  parameters  and
      the spacing.

  UNEXPEOL, unexpected end of line

      [1mExplanation:[0m  An insufficient number of values were supplied in response  to
      the prompt.

      [1mUser[0m [1maction:[0m  Reenter the values, ensuring data for all required values  are
      supplied.

  WRNGHEM, wrong hemisphere

      [1mExplanation:[0m  A latitude value has been input when a longitude was  expected
      or vise versa.

      [1mUser[0m [1maction:[0m  Reenter the angle with correct hemisphere letter.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-28
  MESSAGES (ERROR)                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  BADCPTS, badly conditioned control points

      [1mExplanation:[0m  The control points are badly conditioned.

      [1mUser[0m [1maction:[0m  Check the continuity of the control points.

  BADQUAL, error while decoding DTITRANS command line

      [1mExplanation:[0m  An error has occurred when decoding the DTITRANS command line.
      The DCL error message will indicate the precise nature of the problem.

      [1mUser[0m [1maction:[0m  Check the format of the command line  qualifiers,  and  renter
      command line.

  BADCOMFILE, error reading command file

      [1mExplanation:[0m  An error has been encountered trying to read the control file.

      [1mUser[0m [1maction:[0m  Check the control file for any spurious characters.

  BITDATA, DTI file contains BIT data

      [1mExplanation:[0m  The DTI file contains BIT data, unsuitable for  transformation
      with DTITRANS.

      [1mUser[0m [1maction:[0m  Convert the data to another format with DTICONVERT, and  rerun
      DTITRANS.

  BKWDMATRIXERR, error forming backward transformation matrix

      [1mExplanation:[0m  The backward transformation matrix can not be  formed  due  to
      badly conditioned control points.

      [1mUser[0m [1maction:[0m  Check the continuity of the control points.

  CTRLFILEERR, error opening control file

      [1mExplanation:[0m  An error has been encountered while trying to open the control
      file.

      [1mUser[0m [1maction:[0m  Check the location and name of the control file.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-29
  MESSAGES (ERROR)                                                     5 June 1997


  CTRLUNEXPEOL, unexpected end of line found while reading the control file

      [1mExplanation:[0m  A line in the control file has too few control points on it.

      [1mUser[0m [1maction:[0m  Check the number of points and  the  spacing  in  the  control
      file.

  FWDMATRIXERR, error forming forward transformation matrix

      [1mExplanation:[0m  The forward transformation matrix  cannot  be  formed  due  to
      badly conditioned control points.

      [1mUser[0m [1maction:[0m  Check the continuity of the control points.

  INVPROJTRANS, invalid projection code for transformation

      [1mExplanation:[0m  The projection code set in the projection record of the  input
      DTI  file,  cannot  be  used  to perform a projection transfomation.  A code
      indicating an unset projection cannot be used.

      [1mUser[0m [1maction:[0m   Use  the  DESCRIPTOR  or  PROMPT  qualifiers  to  change  the
      projection code in the DTI Projection record.

  INVPROJVAL, invalid identifier found in the Projection Record

      [1mExplanation:[0m  The Spheroid, Projection or Units Identifier that  is  present
      in the DTI Projection Record was found to be invalid.

      [1mUser[0m [1maction:[0m  Rerun the program, but specify the  qualifier  PROMPT  on  the
      command line so that you will be prompted for new Projection Record values.

  INVUNTRANS, invalid unit code for transformation

      [1mExplanation:[0m  The units code set in the projection record of the  input  DTI
      file,  cannot  be  used to perform a projection transfomation.  Only a units
      code that refers to ground units can be used in projection transformation.

      [1mUser[0m [1maction:[0m  Use the DESCRIPTOR or PROMPT qualifiers to  change  the  units
      code in the DTI Projection record.

  MISSINGCPTS, missing line of control points

      [1mExplanation:[0m  The control file does not  contain  enough  lines  of  control
      points.  USERACTION

      [1mUser[0m [1maction:[0m

  NOTLSLAHEAD, not a LSLA type header

      [1mExplanation:[0m  Set up of the input DTI file projection record  was  requested
      by  means of the DESCRIPTOR qualifier, however the file does not have a LSLA
      type header.  Only a LSLA type file may contain a Projection Record.

      [1mUser[0m [1maction:[0m  Convert the header of the DTI file to a LSLA  type  using  the
      MATRIX module DTICONVERT, and then rerun DTITRANS to set up the header.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-30
  MESSAGES (ERROR)                                                     5 June 1997


  WGCTPERR, Projection tranformation error

      [1mExplanation:[0m  An error has been generated by the GCTPLIB library during  the
      projection transformation of a coordinate pair.

      [1mUser[0m [1maction:[0m  Submit a SPR to Laser-Scan along with  details  of  the  input
      parameters and the source DTI file, to allow investigation of the problem.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-31
  MESSAGES (FATAL)                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(FATAL)[0m

  These messages indicate a severe error in processing, or  some  form  of  system
  failure, which has caused the program to terminate.

  PROCESS, fatal error when processing DTI file

      [1mExplanation:[0m  A fatal  error  has  occurred  while  either  transforming  or
      resampling the matrix values.

      [1mUser[0m [1maction:[0m  Submit an SPR to Laser-Scan along with details  of  the  input
      parameters and the source DTI file, to allow investigation of the problem.

  READSATMAPFIL, fatal error trying to read SATMAP file

      [1mExplanation:[0m  An error has occurred while reading transformation  parameters
      from the SATMAP parameter file.

      [1mUser[0m [1maction:[0m  Ensure that the specified file is  a  valid  SATMAP  parameter
      file,  or  submit  an  SPR  to  Laser-Scan  along  with details of the input
      parameters and the source DTI file, to allow investigation of the problem.

  RESAMPLE, fatal error when calculating sample value

      [1mExplanation:[0m  A fatal error has occurred while resampling the matrix values.

      [1mUser[0m [1maction:[0m  Submit an SPR to Laser-Scan along with details  of  the  input
      parameters and the source DTI file, to allow investigation of the problem.

  SATMAPFILEERR, error trying to open SATMAP file

      [1mExplanation:[0m  DTITRANS was unable to open the SATMAP parameter file.

      [1mUser[0m [1maction:[0m  The accompanying error message will indicate the nature of the
      problem.


  MATRIX REFERENCE (3.7): DTITRANS - Projection Change and Resampling   Page 11-32
  MESSAGES (OTHER)                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages may be generated  by  the  DTILIB
  library  and by the Laser-Scan I/O library, LSLLIB.  DTILIB library messages are
  introduced by '%DTILIB' and are  documented  in  the  MATRIX  package  reference
  manual.   In most cases DTI errors will be due to a corrupt input file, and this
  should be the first area of investigation.  If the cause of the error cannot  be
  traced by the user, and Laser-Scan are consulted, then the output file should be
  preserved to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'
  and  are  generally  self-explanatory.   They are used to explain the details of
  program generated errors.














                                     CHAPTER 12

                                   MODULE DTILIB





  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library              Page 12-1
  INTRODUCTION                                                         5 June 1997


  [3mINTRODUCTION[0m

  The Digital Terrain Image (DTI) file is the means by which Laser Scan holds grid
  based data such as Digital Elevation Models (DEMs), intervisibility matrices and
  Remotely Sensed Imagery.  The structure of this file is described in Appendix  A
  at the end of this chapter.

  DTILIB provides a library of functions which enables an applications program  to
  access  DTI  files, and perform basic I/O operations on both the header and data
  areas.  The following groups of routines are provided within the library:


       1.  File Manipulation   - eg.  DTI file creation

       2.  DTI Utility         - eg.  print header details

       3.  Header Read         - eg.  read word from header

       4.  Header Write        - eg.  write word to header

       5.  Data Read           - eg.  read word from data area

       6.  Date Write          - eg.  write word to data area

       7.  Header Copy         - eg.  copy array of byte values to header

       8.  Data Copy           - eg.  copy array of word values to the data area

       9.  Data Initialise     - eg.  set all data values to 0



  The library allows up to 9 DTI files to be handled simultaneously.

  The library may be found in LSL$LIBRARY:DTILIB.OLB, and  its  associated  common
  blocks and parameter files in LSL$CMNDTI.

  It should be noted that the DTILIB functions utilise the memory mapping routines
  (eg.   VIO$OPEN_SEC) within Laser-Scan's library LSLLIB, along with other LSLLIB
  I/O functions.  An applications program that utilises DTILIB must  therefore  be
  linked  with  LSLLIB.   It  should  also be noted that DTI_LUNs specified in the
  range 1 to 9, are supplied to the LSLLIB memory mapping routines as luns 0 to 8.

  DTILIB is also available in sharable image form.  To  link  with  the  shareable
  images on VAX systems, specify LSL$LIBRARY:DTISHR/OPT on the link command lines.
  Specify LSL$LIBRARY:DTISHR_TV/OPT on the link  command  lines  on  AXP  systems.
  Linking  with  DTISHR  also  requires  that  the code be linked with LSLSHR, the
  sharable  image   version   of   LSLLIB.    This   may   be   done   by   adding
  LSL$LIBRARY:LSLSHR/OPT or LSL$LIBRARY:LSLSHR_TV/OPT to the link command lines on
  VAX and AXP systems respectively.



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library              Page 12-2
  INTRODUCTION                                                         5 June 1997


  A major advantage of DTISHR over DTILIB is that it can be linked with native AXP
  code,  eliminating  the need to use VEST (aka DECmigrate).  In order for the AXP
  linker to produce a correctly  working  executable,  it  is  necessary  to  link
  against  the supplied dummy versions of any AXP sharable images used.  The dummy
  versions are needed to correctly set up the  linkages  to  shared  data  (common
  blocks).   This  is  done  by temporarily changing the relevant logical names to
  point to the dummy images rather than the real ones.   The  following  DCL  file
  shows an example of this being done:

  $! Compile all source using /TIE
  $!
  $  FORTRAN/TIE DTISHR_TEST
  $!
  $! Redefine logical names to point to dummy sharable images. Done in /USER mode
  $! so that definitions revert to normal after the LINK instruction
  $!
  $  DEFINE/USER LSL$DTISHR_TV LSL$LIBRARY:DTISHR_DUMMY_AXP
  $  DEFINE/USER LSL$LSLSHR_TV LSL$LIBRARY:LSLSHR_DUMMY_AXP
  $!
  $! Link against sharable images using /NONATIVE_ONLY
  $!
  $  LINK  DTISHR_TEST, -
           LSL$LIBRARY:DTISHR_TV/OPT, -
           LSL$LIBRARY:LSLSHR_TV/OPT/NONATIVE_ONLY



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library              Page 12-3
  INTRODUCTION                                                         5 June 1997


  [3mFUNCTION[0m [3mRETURN[0m [3mCODES[0m   

  All DTILIB routines are declared as INTEGER*4 Functions,  and  return  an  error
  code,  which  may  be  looked up in the parameter file LSL$CMNDTI:DTILIBMSG.PAR.
  DTILIB error parameters have the prefix DTI__.

  All routines return DTI__NORMAL if  successful.   An  applications  program  may
  specifically  test  for  this  code,  or  simply  whether  the  return is .true.
  indicating success, or .false.  indicating failure.  In the event of failure the
  return  code  will  indicate the reason for failure.  The error code DTI__SYSERR
  indicates a system error.  In such cases the system error code will be  returned
  as a function argument.

  In order to access the function return message  list,  and  therefore  output  a
  message  associated with a return code using the LSLLIB facility LSL_PUTMSG, the
  routine DTI_INIT must be called by an applications program prior to  any  DTILIB
  routines.  It is conventional to call DTI_INIT at the point in the program where
  LSL_INIT is called.

  Examples showing the two ways in  which  the  return  code  can  be  tested  are
  provided below

  C       Open as read only a DTI file EXAMPLE on DTI_LUN 1 
          RETVAL = DTI_OPEN (1,'LSL$DTI:EXAMPLE.DTI;1',19,.FALSE.,ERROR)
  C
  C       Test for success, using DTI__NORMAL
          IF (RETVAL.NE.DTI__NORMAL) THEN
  C       
  C       Output error message
             CALL LSL_PUTMSG(RETVAL)
  C
  C       Test for system error, and output 
             IF(RETVAL.EQ.DTI__SYSERR)CALL LSL_PUTMSG(ERROR)
          ENDIF
  C
  C---------------------------------------------------------------------
  C       Alternatively......
  C       Open as read only a DTI file EXAMPLE on DTI_LUN 1 
          RETVAL = DTI_OPEN (1,'LSL$DTI:EXAMPLE.DTI;1',19,.FALSE.,ERROR)
  C
  C       Test for success
          IF (.NOT.RETVAL) THEN
  C       
  C       Output error message
             CALL LSL_PUTMSG(RETVAL)
  C
  C       Test for system error, and output 
             IF(RETVAL.EQ.DTI__SYSERR)CALL LSL_PUTMSG(ERROR)
          ENDIF
  C


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library              Page 12-4
  INTRODUCTION                                                         5 June 1997


  [3mDTIHDR[0m [3mCOMMON[0m [3mBLOCK[0m

  DTILIB routines communicate with an applications program either via the function
  arguments  and/or  via  the common block DTIHDR to be found in LSL$CMNDTI.  This
  common block contains information about each mapped file.   In  many  cases  the
  variables  in  the  common block may be modified by a program, although the user
  should be aware of possible consequences.  An asterisk is placed  against  those
  variables  that should generally NOT be modified by an applications program once
  set by the DTILIB functions DTI_OPEN, DTI_CREATE and DTI_EXTEND.


  C       DTILIB COMMON DTIHDR
  C-----------------------------------------------------------------------
  C       Maximum number of DTI files
          INTEGER*4       MAX_DTI                 
          PARAMETER       (MAX_DTI=9)
  C-----------------------------------------------------------------------
  C       Status of DTI LUNs
  C
      *   LOGICAL         DTILUN_INUSE(MAX_DTI)   !.true. if in use
  C                                               !.false. if free
      *   LOGICAL         READ_ONLY(MAX_DTI) !.true. if read only access
  C                                          !.false. if write access
  C-----------------------------------------------------------------------
  C       Mapped section details
  C
      *   INTEGER*4       SEC_ADDR(MAX_DTI) !addr. of start of mapped file
      *   INTEGER*4       SEC_SIZE(MAX_DTI) !size of mapped file(in bytes)
  C-----------------------------------------------------------------------
  C       DTI file specification details
  C
          CHARACTER*128   DTI_NAME(MAX_DTI)       !filename
          INTEGER*4       DTI_NAME_LENGTH(MAX_DTI)!length of filename
  C-----------------------------------------------------------------------
  C       DTI file header type identifier
  C
       *  INTEGER*4       HEADER_TYPE(MAX_DTI)    !1 for MIKE, 2 for UHL1,
  C                                               !3 for TED4, 4 for ALVY
  C                                               !5 for LSLA
  C-----------------------------------------------------------------------
  C       Byte offset of data area from start of mapped file.
  C       ie. length of DTI header
  C
       *  INTEGER*4       DATA_OFFSET(MAX_DTI)    !data offset (in bytes)
  C-----------------------------------------------------------------------
  C       Data type identifier
  C
       *  INTEGER*4       DATA_TYPE(MAX_DTI)      !1 for BYTE, 2 for WORD,
  C                                               !3 for LONGWORD,
  C                                               !4 for REAL, 5 for BIT
  C-----------------------------------------------------------------------
  C       Number of columns and rows
  C
       *  INTEGER*4       X_EXTENT(MAX_DTI) !matrix x size (no. of cols)
       *  INTEGER*4       Y_EXTENT(MAX_DTI) !matrix y size (no. of rows)


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library              Page 12-5
  INTRODUCTION                                                         5 June 1997


  C-----------------------------------------------------------------------
  C       Matrix x and y grid interval
  C
          REAL            X_GRID(MAX_DTI)    !x grid interval (metres)
          REAL            Y_GRID (MAX_DTI)   !y grid interval (metres)
  C-----------------------------------------------------------------------
  C       Minimum and maximum data value ranges
  C
          REAL            MIN_RVALUE(MAX_DTI)     !min real data value
          REAL            MAX_RVALUE(MAX_DTI)     !max real data value
          INTEGER*4       MIN_LVALUE(MAX_DTI)     !min longword data val
          INTEGER*4       MAX_LVALUE(MAX_DTI)     !max longword data val
          INTEGER*2       MIN_WVALUE(MAX_DTI)     !min byte/word data val
          INTEGER*2       MAX_WVALUE(MAX_DTI)     !max byte/word data val
  C-----------------------------------------------------------------------
  C       Projection record status.  Indicates whether a projection record
  C       was found on opening the DTI file.
  C       Projection record details are held in COMMON DTIPROJ
  C
          LOGICAL         HAD_PROJ_RECORD(MAX_DTI)
  C                                       !.true. if proj rec was present
  C                                       !.false. if no proj record
  C-----------------------------------------------------------------------
  C       Geographical (latitude longitude) information for DTED files.
  C       Values are recorded in .1 seconds of arc
  C
          INTEGER*4       LATREC(4,MAX_DTI)       !latitude and longitude 
          INTEGER*4       LONREC(4,MAX_DTI)       !values of the 4 corners
  C                                               !SW,NW,NE,SE
          INTEGER*4       LATORI(MAX_DTI)         !latitude origin 
          INTEGER*4       LONORI(MAX_DTI)         !longitude origin 
          INTEGER*4       LATINT(MAX_DTI)         !latitude grid interval 
          INTEGER*4       LONINT(MAX_DTI)         !longitude grid interval
  C-----------------------------------------------------------------------
  C       Absolute SW corner values for non DTED files
  C
          REAL            X_OFFSET(MAX_DTI)       !absolute position of
          REAL            Y_OFFSET(MAX_DTI)       !column 1, row 1 (metres)
  C-----------------------------------------------------------------------
  C       Current rectangular area of interest in the DTI file
  C       Specified in matrix units, and set up by applications program.
  C       
          INTEGER*4       DTI_WINDOW_SWX(MAX_DTI)!current area of interest
          INTEGER*4       DTI_WINDOW_SWY(MAX_DTI) !in the DTI file, 
          INTEGER*4       DTI_WINDOW_NEX(MAX_DTI) !specified
          INTEGER*4       DTI_WINDOW_NEY(MAX_DTI) !in matrix units
  C-----------------------------------------------------------------------
  C       Data order (ie. arrangement of data in the DTI file) 
  C
          INTEGER*4       DTI_ORDER_CORNER(MAX_DTI)
  C                                               !corner of data origin
  C                                               !0 = SW, 1 = NW
  C                                               !2 = NE, 3 = SE
          INTEGER*4       DTI_ORDER_DIRECTION(MAX_DTI)    
  C                                               !0 = clockwise
  C                                               !1 = anticlockwise


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library              Page 12-6
  INTRODUCTION                                                         5 June 1997


  C-----------------------------------------------------------------------
          COMMON/DTIHDR/  X_GRID,Y_GRID,MIN_RVALUE,MAX_RVALUE,
       &                  MIN_LVALUE,MAX_LVALUE,X_EXTENT,Y_EXTENT,
       &                  LATREC,LONREC,LATORI,LONORI,LATINT,LONINT,
       &                  SEC_ADDR,SEC_SIZE,DATA_OFFSET,
       &                  MIN_WVALUE,MAX_WVALUE,
       &                  HEADER_TYPE,DATA_TYPE,DTI_NAME,DTI_NAME_LENGTH,
       &                  DTILUN_INUSE,X_OFFSET,Y_OFFSET,
       &                  DTI_WINDOW_SWX,DTI_WINDOW_SWY,
       &                  DTI_WINDOW_NEX,DTI_WINDOW_NEY,
       &                  READ_ONLY,HAD_PROJ_RECORD,
       &                  DTI_ORDER_CORNER,DTI_ORDER_DIRECTION


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library              Page 12-7
  INTRODUCTION                                                         5 June 1997


  [3mDTIPROJ[0m [3mCOMMON[0m [3mBLOCK[0m

  A DTI file with a LSLA type header  may  optionally  contain  a  DTI  Projection
  Record.   The  Projection  Record  holds  information  about  the  spheroid  and
  projection system on which the data is recorded, along with data on the location
  of  the  SW  corner  of the matrix and the x and y grid intervals.  A Projection
  Record in a LSLA  header  record  is  recognised  by  means  of  the  identifier
  '[1mD[0mTIPROJ'.

  The DTILIB routines DTI_READ_PROJ_REC and  DTI_WRITE_PROJ_REC  are  provided  to
  read  and  write  the  Projection  Record, and transfer details between the file
  header and the DTILIB common block DTIPROJ.  The common block variables  may  be
  accessed and modified by an applications program.


  C       DTILIB COMMON block DTIPROJ
  C
  C       Holds details of the DTI Projection Record that may be
  C       optionally present as part of a LSLA (or the historical
  C       ALVY) style DTI header record.
  C       The common variables are filled out when a call to the
  C       DTILIB routine DTI_READ_PROJ_REC is made.
  C       They may be modified by an applications program, and
  C       written to a LSLA DTI file using DTI_WRITE_PROJ_REC.
  C       Note: the DTI Projection Record may be located anywhere
  C       in the header record, and is identified to the
  C       library routines by the keyword '*DTIPROJ'.
  C
  C----------------------------------------------------------------------
  C       DTIPROJ Parameters:
  C
          INTEGER*4       DTIPROJ_IDENT1
          PARAMETER       (DTIPROJ_IDENT1='*DTI')
          INTEGER*4       DTIPROJ_IDENT2
          PARAMETER       (DTIPROJ_IDENT2='PROJ')
  C       DTI Projection Record Identifier in two parts
  C       
          INTEGER*4       NUM_DTI
          PARAMETER       (NUM_DTI=9)
  C       Maximum number of DTI files
  C
          INTEGER*4       DTIPROJ_RECORD_LENGTH   
          PARAMETER       (DTIPROJ_RECORD_LENGTH=1600)
  C       Length of DTI Projection Record in bytes
  C
  C----------------------------------------------------------------------
  C
          INTEGER*4       DTIPROJ_RECORD_OFFSET(NUM_DTI)
  C       Byte offset of projection record
  C
          REAL*8          DTIPROJ_ORIGIN(2,NUM_DTI)
  C       x,y coordinates of matrix point (1,1)
  C
          REAL*4          DTIPROJ_SAMPLE(2,NUM_DTI)
  C       x,y grid sample values
  C


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library              Page 12-8
  INTRODUCTION                                                         5 June 1997


          INTEGER*4       DTIPROJ_UNITS(NUM_DTI)
  C       DTI units code:
  C       =   0 Unset
  C       =   1 Feet (assuming projection units are metres)
  C       =   2 Metres
  C       =   3 Seconds of arc (only valid if projection is 100)
  C       =   4 Degrees of arc (only valid if projection is 100)
  C       =   5 Radians (only valid if projection is 100)
  C       = 102 mm on the source document
  C       = 104 thousands of an inch on source document
  C       = 110 1/10 seconds of arc (only valid if projection is 100)
  C
          INTEGER*4       DTIPROJ_SPHEROID(NUM_DTI)
  C       DTI spheroid code:
  C       =  0 Clarke 1866
  C       =  1 Clarke 1880
  C       =  2 Bessel
  C       =  3 New International 1967
  C       =  4 International 1924 (Hayford 1909)
  C       =  5 World Geodetic System 72 (WGS 72)
  C       =  6 Everest
  C       =  7 World Geodetic System 66 (WGS 66)
  C       =  8 Geodetic Reference System 1980 (GRS 1980)
  C       =  9 Airy
  C       = 10 Modified Everest
  C       = 11 Modified Airy
  C       = 12 Walbeck
  C       = 13 Southeast Asia
  C       = 14 Australian National
  C       = 15 Krassovsky
  C       = 16 Hough
  C       = 17 Mercury 1960
  C       = 18 Modified Mercury 1968
  C       = 19 Sphere of radius 6370997 M
  C       = 20 Sphere of radius 6371229.3M
  C       = 21 Clarke 1880 IGN
  C       = 22 World Geodetic System 84 (WGS 84)
  C       =101 User specified spheroid 
  C
          INTEGER*4       DTIPROJ_PROJECTION(NUM_DTI)
  C       DTI projection code:
  C       =   0  Unset
  C       =   1  Universal Transverse Mercator
  C       =   2  State Plane Coordinates
  C       =   3  Albers Conical Equal Area
  C       =   4  Lambert Conformal Conic
  C       =   5  Mercator
  C       =   6  Polar Stereographic 
  C       =   7  Polyconic
  C       =   8  Equidistant Conic
  C       =   9  Transverse Mercator
  C       =  10* Stereographic
  C       =  11* Lambert Azimuthal Equal Area
  C       =  12* Azimuthal Equidistant
  C       =  13* Gnomonic
  C       =  14* Orthographic


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library              Page 12-9
  INTRODUCTION                                                         5 June 1997


  C       =  15* General Vertical Near-Side Perspective
  C       =  16* Sinusoidal
  C       =  17* Equirectangular
  C       =  18* Miller Cylindrical
  C       =  19* Van der Grinten
  C       =  20  Oblique Mercator (Hotine)
  C       =  21* Oblique Mercator (Spherical)
  C       = 100  Geographic  (ie Latitude and Longitude )
  C       = 101  UK national grid  (a special case of 9)
  C
          REAL*8          DTIPROJ_USER_SPHEROID(2,NUM_DTI)
  C       Details of user specified spheroid.
  C       The first real contains the semi-major axis 
  C       of the ellipse;
  C       The second real contains one of:
  C       1) 0.0 to specify a sphere rather than a spheroid
  C       2) the semi-minor axis
  C       3) the eccentricity squared
  C       Note: This system works because e**2 is less than
  C       1.0, while the semi-minor axis is greater than 1.
  C
          REAL*8          DTIPROJ_PROJ_PARAMS(15,NUM_DTI)
  C       Map projection definition parameters
  C       The values are dependent on the projection.
  C       See GCTPLIB documentation for the values required 
  C       for each projection listed above.
  C       No values need be given for projections 100 and 101.
  C
          COMMON/DTIPROJ/ 
       &                  DTIPROJ_RECORD_OFFSET,
       &                  DTIPROJ_ORIGIN,DTIPROJ_SAMPLE,
       &                  DTIPROJ_UNITS,DTIPROJ_SPHEROID,
       &                  DTIPROJ_PROJECTION,
       &                  DTIPROJ_USER_SPHEROID,
       &                  DTIPROJ_PROJ_PARAMS


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-10
  INTRODUCTION                                                         5 June 1997


  [3mDTILIB[0m [3mPARAMETER[0m [3mFILES[0m

  The following parameter files used by DTILIB are to be found in LSL$CMNDTI,  and
  may be utilised within an applications program.
  DTIPAR.PAR

  C File contains parameters used by DTILIB functions.
  C
  C-----------------------------------------------------------------
  C       Type Field parameters
  C
          INTEGER*4       MIKE_MAKE               !historical
          INTEGER*4       UHL1_MAKE               !historical
          INTEGER*4       TED4_MAKE
          INTEGER*4       ALVY_MAKE               !historical
          INTEGER*4       LSLA_MAKE
  C
          PARAMETER (MIKE_MAKE='MIKE')
          PARAMETER (UHL1_MAKE='UHL1')
          PARAMETER (TED4_MAKE='TED4')
          PARAMETER (ALVY_MAKE='ALVY')
          PARAMETER (LSLA_MAKE='LSLA')
  C
  C-----------------------------------------------------------------
  C       HEADER_TYPE parameters
  C
          INTEGER*4               DTI_MIKE        !historical
          INTEGER*4               DTI_UHL1        !historical
          INTEGER*4               DTI_TED4        
          INTEGER*4               DTI_ALVY        !historical
          INTEGER*4               DTI_LSLA
  C
          PARAMETER (DTI_MIKE = 1)        ! HEADER_TYPE for MIKE DTI
          PARAMETER (DTI_UHL1 = 2)        ! HEADER_TYPE for UHL1 DTI
          PARAMETER (DTI_TED4 = 3)        ! HEADER_TYPE for TED4 DTI
          PARAMETER (DTI_ALVY = 4)        ! HEADER_TYPE for ALVY DTI
          PARAMETER (DTI_LSLA = 5)        ! HEADER_TYPE for LSLA DTI
  C
  C-----------------------------------------------------------------
  C       DATA_TYPE parameters
  C
          INTEGER         DATA_BYTE
          INTEGER         DATA_WORD
          INTEGER         DATA_LONG
          INTEGER         DATA_REAL
          INTEGER         DATA_BIT
  C
          PARAMETER (DATA_BYTE = 1)
          PARAMETER (DATA_WORD = 2)
          PARAMETER (DATA_LONG = 3)
          PARAMETER (DATA_REAL = 4)
          PARAMETER (DATA_BIT  = 5)
  C
  C-----------------------------------------------------------------
  C       DTI null data values
          BYTE            DTI_NULL_BYTE


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-11
  INTRODUCTION                                                         5 June 1997


          INTEGER*2       DTI_NULL_WORD
          INTEGER*4       DTI_NULL_LONG
          REAL*4          DTI_NULL_REAL
  C
          PARAMETER (DTI_NULL_BYTE = 0)
          PARAMETER (DTI_NULL_WORD = -32767)
          PARAMETER (DTI_NULL_LONG = '80000000'X) 
          PARAMETER (DTI_NULL_REAL = -1.0E-38)
  C
  C----------------------------------------------------------------
  C       UNITS parameters
  C
          INTEGER*4       UNITS_DTI
          INTEGER*4       UNITS_MET
          INTEGER*4       UNITS_SEC
          INTEGER*4       UNITS_DEG
          INTEGER*4       UNITS_PROJ
  C
          PARAMETER (UNITS_DTI = 1)
          PARAMETER (UNITS_MET = 2)
          PARAMETER (UNITS_SEC = 3)
          PARAMETER (UNITS_DEG = 4)
          PARAMETER (UNITS_PROJ = 5)
  C
  C-----------------------------------------------------------------
  C       LSLA default header size
          INTEGER         DEFAULT_LSLA_HEADER
  C
          PARAMETER (DEFAULT_LSLA_HEADER = 32)
  C
  C       Maximum header size
          INTEGER         MAX_HEADER
  C
          PARAMETER (MAX_HEADER=65535)
  C-----------------------------------------------------------------
  C       
  C       Maximum DTI column and row sizes
          INTEGER         DTI_MAX_COLUMNS
          INTEGER         DTI_MAX_ROWS
  C
          PARAMETER (DTI_MAX_COLUMNS = 65535)
          PARAMETER (DTI_MAX_ROWS    = 65535)
  C---------------------------------------------------------------------
  C
  C       Corner of data origin parameters (DTI_ORDER_CORNER)
          INTEGER*4       DTI_ORDER_SW    
          INTEGER*4       DTI_ORDER_NW
          INTEGER*4       DTI_ORDER_NE
          INTEGER*4       DTI_ORDER_SE
  C
          PARAMETER (DTI_ORDER_SW = 0)
          PARAMETER (DTI_ORDER_NW = 1)
          PARAMETER (DTI_ORDER_NE = 2)
          PARAMETER (DTI_ORDER_SE = 3)
  C
  C       Data direction parameters (DTI_ORDER_DIRECTION)


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-12
  INTRODUCTION                                                         5 June 1997


          INTEGER*4       DTI_ORDER_CLOCKWISE
          INTEGER*4       DTI_ORDER_ANTICLOCKWISE
  C
          PARAMETER (DTI_ORDER_CLOCKWISE = 0)
          PARAMETER (DTI_ORDER_ANTICLOCKWISE = 1)



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-13
  INTRODUCTION                                                         5 June 1997


  DTIDEF.PAR

  C Parameter File Created 07OC86 for use by DTILIB.
  C File contains parameters defining the layout of DTI section files
  C All values are offsets in bytes from the start of the file
  C
  C***********************************************************************
  C DMA-type DTIs (for change 2 DTED).  These have a fixed length 
  C header of 256 bytes.
  C
          PARAMETER DTI_DMA_TYPE =   0    ! type field (UHL1)
          PARAMETER DTI_DMA_UHLSZ = 80    ! UHL field size
  C
  C things outside the UHL
          PARAMETER DTI_DMA_EEXT =  80    ! x data extent
          PARAMETER DTI_DMA_NEXT =  82    ! y data extent
          PARAMETER DTI_DMA_EINT =  84    ! x grid interval
          PARAMETER DTI_DMA_NINT =  88    ! y grid interval
          PARAMETER DTI_DMA_WMIN =  92    ! min byte or word data value
          PARAMETER DTI_DMA_WMAX =  94    ! max byte or word data value
  C
          PARAMETER DTI_DMA_LMIN =  96    ! min long or real data value
          PARAMETER DTI_DMA_LMAX =  100   ! max long or real data value
          PARAMETER DTI_DMA_DTYP =  104   ! data type
  C
          
          PARAMETER DTI_DMA_DATA = 256    ! data area
  C
  C***********************************************************************
  C PAN-type DTIs (sometimes known as MIKE type)
  C The header is of a fixed length of 256 bytes.
  C Now historical.
  C
          PARAMETER DTI_PAN_TYPE =   0    ! type field
          PARAMETER DTI_PAN_EEXT =   4    ! x data extent
          PARAMETER DTI_PAN_NEXT =   6    ! y data extent
          PARAMETER DTI_PAN_EINT =   8    ! x grid interval
          PARAMETER DTI_PAN_NINT =  12    ! y grid interval
          PARAMETER DTI_PAN_WMIN =  16    ! min byte or word data value
          PARAMETER DTI_PAN_WMAX =  18    ! max byte or word data value
  C
          PARAMETER DTI_PAN_LMIN =  20    ! min long or real data value
          PARAMETER DTI_PAN_LMAX =  24    ! max long or real data value
          PARAMETER DTI_PAN_DTYP =  28    ! data type
  C
          PARAMETER DTI_PAN_DATA = 256    ! start of data area
  C
  C***********************************************************************
  C DMA DTED change 3/4 type DTI. These start off like the MIKE type
  C but then have a DSI and an ACC block.  The header is of a fixed length
  C of 3584 bytes.
  C
          PARAMETER DTI_TED_TYPE =   0    ! type field (TED4)
          PARAMETER DTI_TED_EEXT =   4    ! x data extent
          PARAMETER DTI_TED_NEXT =   6    ! y data extent
          PARAMETER DTI_TED_EINT =   8    ! x grid interval


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-14
  INTRODUCTION                                                         5 June 1997


          PARAMETER DTI_TED_NINT =  12    ! y grid interval
          PARAMETER DTI_TED_WMIN =  16    ! min byte or word data value
          PARAMETER DTI_TED_WMAX =  18    ! max byte or word data value
  C
          PARAMETER DTI_TED_LMIN =  20    ! min long or real data value
          PARAMETER DTI_TED_LMAX =  24    ! max long or real data value
          PARAMETER DTI_TED_DTYP =  28    ! data type
  C
          PARAMETER DTI_TED_DSI  = 236    ! start of DSI record
          PARAMETER DTI_TED_ACC  = 884    ! start of ACC record
          PARAMETER DTI_TED_DATA =3584    ! start of data area
  C
          PARAMETER DTI_TED_DSISZ= 648    ! size of DSI record
          PARAMETER DTI_TED_ACCSZ=2700    ! size of ACC record
  C
  C***********************************************************************
  C ALVY type DTI files.  These start off like a MIKE type file, but
  C have a variable length header defined by a word (30-31) in the header
  C Now historical.
  C
          PARAMETER DTI_ALV_TYPE =   0    ! type field (ALVY)
          PARAMETER DTI_ALV_EEXT =   4    ! x data extent
          PARAMETER DTI_ALV_NEXT =   6    ! y data extent
          PARAMETER DTI_ALV_EINT =   8    ! x data interval
          PARAMETER DTI_ALV_NINT =  12    ! y data interval
          PARAMETER DTI_ALV_WMIN =  16    ! min byte or word data value
          PARAMETER DTI_ALV_WMAX =  18    ! max byte or word data value
  C
          PARAMETER DTI_ALV_LMIN =  20    ! min long or real data value
          PARAMETER DTI_ALV_LMAX =  24    ! max long or real data value
  C
          PARAMETER DTI_ALV_DTYP =  28    ! data type
          PARAMETER DTI_ALV_DATA =  30    ! location of unsigned word defining
                                          ! start of data area (ie. length of
  C                                       ! header in bytes)
  C
  C***********************************************************************
  C LSLA type DTI files.  These are identical to the historical ALVY
  C type file.  They have a variable length header defined by word (30-31) 
  C in the header
  C
          PARAMETER DTI_LSLA_TYPE =   0   ! type field (LSLA)
          PARAMETER DTI_LSLA_EEXT =   4   ! x data extent
          PARAMETER DTI_LSLA_NEXT =   6   ! y data extent
          PARAMETER DTI_LSLA_EINT =   8   ! x data interval
          PARAMETER DTI_LSLA_NINT =  12   ! y data interval
          PARAMETER DTI_LSLA_WMIN =  16   ! min byte or word data value
          PARAMETER DTI_LSLA_WMAX =  18   ! max byte or word data value
  C
          PARAMETER DTI_LSLA_LMIN =  20   ! min long or real data value
          PARAMETER DTI_LSLA_LMAX =  24   ! max long or real data value
  C
          PARAMETER DTI_LSLA_DTYP =  28   ! data type
          PARAMETER DTI_LSLA_DORD =  29   ! data order values
          PARAMETER DTI_LSLA_DATA =  30   ! location of unsigned word defining
                                          ! start of data area (ie. length of


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-15
  INTRODUCTION                                                         5 June 1997


  C                                       ! header in bytes)


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-16
  INTRODUCTION                                                         5 June 1997


  [3mDOCUMENTATION[0m [3mNOTATION[0m

  The following conventions have been followed:

       *   all arguments are fully declared for each routine

       *   the following input/output declarations are made:
           
           out - this variable will be written to by the routine
           in  - this variable is read by the routine - it is not written to
           i/o - this variable may be both read by the routine, and written to

       *   the following argument types are used:

           byte           -  this is a Fortran BYTE (8 bit variable)
           integer*2      -  this is a Fortran INTEGER*2 (16 bit variable)
           integer*4      -  this is a Fortran INTEGER*4 (32 bit variable)
           real           -  this is a Fortran REAL*4 variable
           real*8         -  this is a Fortran REAL*8 variable
           logical        -  this is a Fortran LOGICAL variable
           char           -  this is a Fortran CHARACTER variable
           *              -  this may be a byte, integer*2, integer*4 or 
                             real value depending on the type of data
                             held in the DTI file

       *   arguments are compulsory unless enclosed in square brackets
           In cases where a number of arguments are optional, then if
           one optional argument is supplied, the remaining optional
           arguments should also be present.



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-17
  LIBRARY INITIALISATION                                               5 June 1997


  [3mLIBRARY[0m [3mINITIALISATION[0m

  Before using any of the routines in DTILIB, the library should be initialised by
  a  call  to  DTI_INIT.   This routine ensures that DTILIB error messages will be
  available  to  applications  programs  via  a  call  to  LSL_PUTMSG,  and   also
  establishes  an  exit  handler  to  ensure  DTI  files are correctly unmapped on
  abnormal porgram exit.  The routine takes no arguments.

                          CALL DTI_INIT



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-18
  FILE MANIPULATION                                                    5 June 1997


  [3mFILE[0m [3mMANIPULATION[0m

  Routines to open, create, extend  and  close  DTI  files  are  provided.   These
  routines  interface  with  the routines in LSLLIB for mapping files into virtual
  memory.

  [3mDTI_OPEN[0m

  Opens an existing DTI file on the specified DTI_LUN; extracts header details and
  places these in common block DTIHDR.

  In addition for files with a LSLA header structure,  projection  record  details
  are  placed in common DTIPROJ.  Note that the DTIHDR variable HAD_PROJ_RECORD is
  used to indicate whether a projection record is present in the  file.   The  DTI
  file is mapped into virtual memory using the LSLLIB function VIO$OPEN_SEC.

          RETVAL = DTI_OPEN ( dti_lun, filename, filename_length, 
                              write, error, [report], [pge_flt_cluster] )


          dti_lun         integer*4       in      LUN on which the file is
                                                  to be opened.

          filename        char*128        in      DTI filename

          filename_length integer*4       in      length of filename

          write           logical         in      .t. - allow write access 
                                                  to file
                                                  .f. - open for read only

          error           integer*4       out     system error code

          report          logical         in      .t. - output warning message
                                                  if data origin and direction
                                                  values are not default (ie.
                                                  DTI_ORDER_CORNER = 0, and
                                                  DTI_ORDER_DIRECTION = 0)
                                                  .f. - no message is generated

          pge_flt_cluster integer*4       in      page fault cluster value to be
                                                  passed to VIO$OPEN_SEC to try 
                                                  to improve the performance of
                                                  programs reading large DTI 
                                                  files where the data access
                                                  goes against the natural order
                                                  of the data.
                                                  


  Function return codes:

       1.  DTI__NORMAL       DTI file successfully opened


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-19
  FILE MANIPULATION                                                    5 June 1997


       2.  DTI__BADLUN       DTILUN out of range (1:9)

       3.  DTI__NONSTDROR    Non standard (SW, clockwise) corner or orientation

       4.  DTI__UNEXPRESULTS Unexpected results very likely

       5.  DTI__LUNINUSE     A file is already opened on DTILUN

       6.  DTI__INVHEAD      Invalid header type found

       7.  DTI__INVORDER     Invalid data order values

       8.  DTI__INVFILESIZE  The number of blocks occupied by the file,  does  not
           correspond to the file size as determined by the header and data extent
           values

       9.  DTI__INVYEXTENT   Y extent of data area is invalid for bit  data  type.
           Y extent should be a multiple of 8.

      10.  DTI__SYSERR       System error while mapping the file, or  reading  the
           file header



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-20
  FILE MANIPULATION                                                    5 June 1997


  [3mDTI_CREATE[0m

  Routine to create a DTI file with the specified name on DTI_LUN.

  HEADER_TYPE determines with which type of header the file is  created.   In  the
  latest  implementation  of  DTILIB,  files  with a MIKE or ALVY header structure
  cannot be created using the library.  This change is upwards compatible - if  an
  attempt is made to create a file with a MIKE header structure (HEADER_TYPE = 1),
  the library will create a file with a LSLA header of length 32 bytes,  while  an
  attempt  to  create  a file with an ALVY header structure (HEADER_TYPE = 4) will
  result in a file with a LSLA header.

  For a LSLA header the optional argument HEADER_SIZE  defines  the  size  of  the
  header.   If  no  value  is  supplied, a file with a default header length of 32
  bytes will be created.  For all other types of headers (ie.  UHL1 and TED4)  the
  size of the header is fixed.

  DATA_TYPE determines the sort of data that will be stored in the data area.  and
  XSIZE  and YSIZE determines the size of the data area.  Note that if the file is
  created to hold bit data values, the y size value must be a multiple of 8.

  On opening the file, filename specification details are written to the  relevant
  common  DTIHDR  variables,  along  with  details  on the address and size of the
  memory mapped file.  Details on x and y data extent, data type, data offset  and
  header  type  are  written  to  the mapped file, and to common DTIHDR variables.
  Note that the x and y grid interval values must  be  set  up  in  common  by  an
  applications  program before calling DTI_CREATE if they are to be written to the
  header of the mapped file.

  The file is opened for write access.

          RETVAL = DTI_CREATE ( dti_lun,  filename, filename_length,
                              header_type, [header_size],
                              data_type, xsize, ysize, error )


          dti_lun         integer*4       in      LUN on which the file is
                                                  to be opened.

          filename        char*128        in      DTI filename

          filename_length integer*4       in      length of filename

          header_type     integer*4       in      1  - (see note above)
                                                  2  - create file with UHL1
                                                       header structure 
                                                  3  - create file with TED4
                                                       header structure
                                                  4 -  (see note above)
                                                  5  - create file with LSLA
                                                       header structure
                                  
          header_size     integer*4       in      optional argument defining
                                                  the size of a LSLA type
                                                  header.                 



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-21
  FILE MANIPULATION                                                    5 June 1997


          data_type       integer*4       in      defines the type of data
                                                  to be held in the file
                                                  1  - byte 
                                                  2  - word
                                                  3  - longword
                                                  4  - real
                                                  5  - bit                        
          
          xsize           integer*4       in      x extent of matrix
                                                  (number of columns)

          ysize           integer*4       in      y extent of matrix
                                                  (number of rows)

          error           integer*4       out     system error code

  Function return codes:

       1.  DTI__NORMAL       DTI file successfully created

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNINUSE     A file is already opened on DTI_LUN

       4.  DTI__INVHEAD      Invalid HEADER_TYPE value

       5.  DTI__INVDATA      Invalid DATA_TYPE value

       6.  DTI__BADEXTENT    X or Y data extent values is invalid

       7.  DTI__INVYEXTENT   Y extent of data area is invalid for bit  data  type.
           Y extent should be a multiple of 8.

       8.  DTI__SYSERR       System error while creating the mapped file



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-22
  FILE MANIPULATION                                                    5 June 1997


  [3mDTI_EXTEND_DATA[0m

  Routine to extend a currently mapped  DTI  file  by  increasing  the  number  of
  columns  and  rows in the matrix.  Note that if the file to be extended contains
  bit data values, the value associated with  the  argument  y_number  must  be  a
  multiple  of  8.   The additional columns and rows created in the matrix by this
  routine will be given an initial value of 0.

  The routine interfaces with the LSLLIB function VIO$EXTEND_SEC

  The file must have been opened or created with write access.

          RETVAL = DTI_EXTEND_DATA ( dti_lun, x_number, y_number, error )


          dti_lun         integer*4       in      LUN on which the file is
                                                  opened.

          x_number        integer*4       in      number of columns by which
                                                  to extend

          y_number        integer*4       in      number of rows by which 
                                                  to extend

          error           integer*4       out     system error code


  Function return codes:

       1.  DTI__NORMAL       DTI file successfully extended

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file is opened on DTI_LUN

       4.  DTI__READONLY     Only read access to the file is permitted

       5.  DTI__BADEXTENT    Cannot use values supplied for X_NUMBER or Y_NUMBER

       6.  DTI__SYSERR       System error while extending the mapped file



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-23
  FILE MANIPULATION                                                    5 June 1997


  [3mDTI_EXTEND_HEADER[0m

  Routine to extend a currently mapped DTI file by increasing the  length  of  the
  header  record.   This  operation is only permitted on a file with a LSLA header
  structure.  Note that the library routine  ensures  the  position  of  the  data
  values  in  the  mapped  file  are  correctly adjusted to accommodate the larger
  header.

  The routine interfaces with the LSLLIB function VIO$EXTEND_SEC

  The file must have been opened or created with write access.

          RETVAL = DTI_EXTEND_HEADER ( dti_lun, number_bytes, error )


          dti_lun         integer*4       in      LUN on which the file is
                                                  opened.

          number_bytes    integer*4       in      number of bytes by which 
                                                  to extend the header

          error           integer*4       out     system error code


  Function return codes:

       1.  DTI__NORMAL       DTI file successfully extended

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file is opened on DTI_LUN

       4.  DTI__READONLY     Only read access to the file is permitted

       5.  DTI__BADHEADER    The file opened on DTI_LUN is not a LSLA type file

       6.  DTI__BADHEADSIZE  Byte length of header is invalid

       7.  DTI__SYSERR       System error while extending the mapped file



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-24
  FILE MANIPULATION                                                    5 June 1997


  [3mDTI_CLOSE[0m

  Routine to close a currently opened DTI file, and free the DTI LUN  for  further
  use.  It interfaces with the LSLLIB routine VIO$CLOSE_SEC.

  If update is requested, header details in  common  DTIHDR  are  written  to  the
  mapped  file  before  closing.  If HAD_PROJ_RECORD is set to true for this file,
  the projection record of the mapped file is also updated before close, using the
  values in common DTIPROJ.

          RETVAL = DTI_CLOSE  ( dti_lun, update, clear_common, error )

          
          dti_lun         integer*4       in      LUN on which the file is
                                                  opened.

          update          logical         in      If .true. update the
                                                  header details of the 
                                                  mapped file before closing.
          
          clear_common    logical         in      If .true. clear the variables
                                                  in common DTIHDR and DTIPROJ
                                                  relating to this file.

          error           integer*4       out     system error code

  Function return codes:

       1.  DTI__NORMAL       DTI file successfully closed

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__READONLY     Update of the mapped file header was  requested,  but
           only read access to the file is permitted

       5.  DTI__SYSERR       System error while unmapping the file, or writing the
           DTI header record



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-25
  DTILIB UTILITIES                                                     5 June 1997


  [3mDTILIB[0m [3mUTILITIES[0m

  A number of utility programs are provided within DTILIB.

        o  DTI_NEXT_LUN is used to obtain the next free channel

        o  DTI_PRINT_HEADER is used to print  file  header  details  derived  from
           common DTIHDR

        o  DTI_PRINT_PROJECTION is used to print projection details  derived  from
           common DTIPROJ

        o  DTI_MINMAX_DATA is used to  determine  the  minimum  and  maximum  data
           values in the DTI file

        o  DTI_WINDOW_MINMAX is used to determine the  minimum  and  maximum  data
           value in a DTI window

        o  DTI_UNITS is used to set an approprite default units type, and to  test
           whether a units type is valid for a file

        o  DTI_MATRIX_TO_UNITS is used to  convert  coordinates  from  DTI  matrix
           units to specified units of measurement.

        o  DTI_UNITS_TO_MATRIX is used to convert  coordinates  in  the  specified
           units of measurement to DTI matrix units.

        o  DTI_WIN_MATRIX_TO_UNITS is used to convert window coordinates from  DTI
           matrix units to specified units of measurement.

        o  DTI_WIN_UNITS_TO_MATRIX is used to convert window  coordinates  in  the
           specified units of measurement to DTI matrix units.



  [3mDTI_NEXT_LUN[0m

  Routine to return the number of the next free DTI_LUN.

          RETVAL = DTI_NEXT_LUN ( dti_lun )


          dti_lun         integer*4       out     number of next free LUN

                                  
  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__NOFREELUN    No free LUN



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-26
  DTILIB UTILITIES                                                     5 June 1997


  [3mDTI_PRINT_HEADER[0m

  Routine to output header details  of  the  DTI  file  opened  on  the  specified
  DTI_LUN.   The details may be output in matrix units, metres or in the case of a
  DTI file with a TED4 or UHL1 header in degrees, minutes and seconds, or seconds.

  If the  DTIHDR  variables  DTI_WINDOW_SWX,  DTI_WINDOW_SWY,  DTI_WINDOW_NEX  and
  DTI_WINDOW_NEY  have been set up by an applications program, then details of the
  current DTI area of interest are included (see example below).

  The  optional  rotation  argument  is  necessary  to   calculate   the   correct
  geographical  coordinates  (in  metres, latlong, seconds or projection units) if
  the DTI file is rotated with respect to the geographical origin.  Note that  the
  rotation argument has no effect on DTI matrix coordinates.

          RETVAL = DTI_PRINT_HEADER ( dti_lun, units, [offset], [rotation] )

          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is opened

          units           integer*4       in      1 = matrix units
                                                  2 = metres
                                                  3 = seconds
                                                  4 = deg, min, sec
                                                  5 = projection units

          offset          logical*4       in      if .t. or the argument is not
                                                  supplied, absolute coordinate
                                                  values are output by adding 
                                                  X_OFFSET and Y_OFFSET
                                                  if .f. coordinate values 
                                                  relative to a matrix origin of
                                                  0,0 are output

          rotation        integer*4       in      0 - SW
                                                  1 - NW
                                                  2 - NE
                                                  3 - SE
                                                  If the argument is not
                                                  supplied, 0 is assumed.

  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADUNITS     UNITS out of range (1-4)

       5.  DTI__INVUNITS     UNITS value not valid for type of DTI


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-27
  DTILIB UTILITIES                                                     5 June 1997


       6.  DTI__BADROTATION  Unrecognised rotation type


  An example of how the header details are output is given below: 

  LSL$DTI:TEST.DTI        
  Header: TED4     Data: WORD

  Units are degrees, minutes, seconds

  Matrix Origin      SW:  56 36 00N   5 15 00W
  Matrix Coverage    SW:  56 36 00N   5 15 00W    NE:  56 58 12N   5 00 00W
  Matrix Window      SW:  56 36 00N   5 15 00W    NE:  56 40 00N   4 32 16W
  Matrix Interval     E:     2                     N:     1

  Value Range          :     0  to  1340



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-28
  DTILIB UTILITIES                                                     5 June 1997


  [3mDTI_PRINT_PROJECTION[0m

  Routine to print projection details derived from a Projection Record of the  DTI
  file  opened  on  DTILUN.   Note:   The  projection details are printed from the
  DTIPROJ common block, and not from the header of the mapped DTI file.

          RETVAL = DTI_PRINT_PROJECTION ( dti_lun )

          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is opened


  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN


  An example of how the projection record details are output is given below: 

  Spheroid      :   9 (Airy)
  Projection    : 101 (UK national grid)

  Units         :   2 (Metres)
  Local Origin  :      440000.000 (Eastings)     80000.000 (Northings)
  Sample values :          50.000 (Eastings)        50.000 (Northings)



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-29
  DTILIB UTILITIES                                                     5 June 1997


  [3mDTI_UNITS[0m

  Routine to test whether UNITS is valid for the file opened on DTILUN, or in  the
  case  where the UNITS argument is passed with a value of 0, to return a suitable
  default UNITS value.  If the passed UNITS value is not valid for the  DTI  file,
  the function returns the error code DTI__INVUNITS.

  The following rules are applied when testing the validity of UNITS:

        o  MATRIX - valid for all DTI files

        o  METRES - valid for UHL1 and TED4 files; LSLA files without a projection
           record,  and LSLA files with a projection record whose units entry does
           not indicate unset, feet, sheet mms.  or thousands of an inch.

        o  SECONDS - valid for  UHL1  and  TED4  files,  and  LSLA  files  with  a
           projection  record whose units indicate seconds, degrees, radians or .1
           seconds of arc.

        o  LATLONG - valid for  UHL1  and  TED4  files,  and  LSLA  files  with  a
           projection  record whose units indicate seconds, degrees, radians or .1
           seconds of arc.

        o  PROJECTION - valid for LSLA files with a projection record.

  The following rules are applied when returning a default UNITS value:

        o  MATRIX - LSLA files without a projection  record;  LSLA  files  with  a
           projection  record  with  a  units  entry  that indicates the units are
           unset, or historical MIKE or ALVY files.

        o  METRES -  LSLA  files  with  a  projection  record  whose  units  entry
           indicates metres

        o  LATLONG - UHL1 and TED4 files, LSLA  files  with  a  projection  record
           indicating the data is held as geographicals

        o  PROJECTION - LSLA files with a  projection  record  whose  units  entry
           indicates  the  data  is  held  as feet, sheet mms.  or thousands of an
           inch.


          RETVAL  = DTI_UNITS ( dti_lun, units )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          units           integer*4       i/o     0 = derive a default unit
                                                  type value (returned in units)
                                                  1 = matrix 
                                                  2 = metres
                                                  3 = seconds of arc
                                                  4 = latlong (degrees, minutes
                                                      and seconds)
                                                  5 = projection


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-30
  DTILIB UTILITIES                                                     5 June 1997



  Function return codes:

       1.  DTI__NORMAL       Success (units are valid)

       2.  DTI__INVUNITS     Units not valid for the DTI file

       3.  DTI__BADLUN       DTI_LUN out of range (1:9)

       4.  DTI__LUNUNUSED    No file opened on DTI_LUN

       5.  DTI__BADUNITS     Units value is invalid (not in range 0 to 5)



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-31
  DTILIB UTILITIES                                                     5 June 1997


  [3mDTI_MATRIX_TO_UNITS[0m

  Routine to convert DTI matrix column and row values to the  specified  units  of
  measurement.

  The  optional  rotation  argument  is  necessary  to   calculate   the   correct
  geographical  coordinates  (in  metres, latlong, seconds or projection units) if
  the DTI file is rotated with respect to the geographical origin.

  Note that if latlong units  are  specified  then  coordinates  are  returned  as
  seconds of arc.

          RETVAL  = DTI_MATRIX_TO_UNITS ( dti_lun, x_matrix, y_matrix, 
                                          units, [rotation], [offset], 
                                          x_coord, y_coord )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open
          x_matrix        real*4          in      x matrix coordinate (column)

          y_matrix        real*4          in      y matrix coordinate (row)

          units           integer*4       in      conversion units (ie. units 
                                                  of measurement of output
                                                  coordinates)                    
                                                  1 = matrix 
                                                  2 = metres
                                                  3 = seconds of arc
                                                  4 = latlong (degrees, minutes
                                                      and seconds)
                                                  5 = projection

          rotation        integer*4       in      0 - SW
                                                  1 - NW
                                                  2 - NE
                                                  3 - SE
                                                  If the argument is not
                                                  supplied, 0 is assumed.

          offset          logical*4       in      if .t. or the argument is not
                                                  supplied, absolute coordinate
                                                  values are output by adding 
                                                  X_OFFSET and Y_OFFSET
                                                  if .f. coordinate values 
                                                  relative to a matrix origin of
                                                  0,0 are output

          x_coord         real*8          out     x coordinate in specified units

          y_coord         real*8          out     y coordinate in specified units

  Function return codes:


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-32
  DTILIB UTILITIES                                                     5 June 1997


       1.  DTI__NORMAL       Success (units are valid)

       2.  DTI__INVUNITS     Units not valid for the DTI file

       3.  DTI__BADLUN       DTI_LUN out of range (1:9)

       4.  DTI__LUNUNUSED    No file opened on DTI_LUN

       5.  DTI__BADUNITS     Units value is invalid (not in range 0 to 5)

       6.  DTI__BADROTATION  Unrecognised rotation type



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-33
  DTILIB UTILITIES                                                     5 June 1997


  [3mDTI_UNITS_TO_MATRIX[0m

  Routine to convert x and y coordinates in the specified units of measurement  to
  DTI matrix row and column values.

  The optional rotation argument is necessary  to  calculate  the  correct  matrix
  coordinates if the DTI file is rotated with respect to the geographical origin.

  Note that if latlong units are specified then coordinates are assumed to  be  in
  seconds of arc.

          RETVAL  = DTI_UNITS_TO_MATRIX ( dti_lun, x_coord, y_coord, 
                                          units, [rotation], [offset], 
                                          x_matrix, y_matrix)


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          x_coord         real*8          in      x coordinate in specified units

          y_coord         real*8          in      y coordinate in specified units

          units           integer*4       in      1 = matrix 
                                                  2 = metres
                                                  3 = seconds of arc
                                                  4 = latlong (degrees, minutes
                                                      and seconds)
                                                  5 = projection

          rotation        integer*4       in      0 - SW
                                                  1 - NW
                                                  2 - NE
                                                  3 - SE
                                                  If the argument is not
                                                  supplied, 0 is assumed.

          offset          logical*4       in      if .t. or the argument is not
                                                  supplied, absolute coordinate
                                                  values are output by adding 
                                                  X_OFFSET and Y_OFFSET
                                                  if .f. coordinate values 
                                                  relative to a matrix origin of
                                                  0,0 are output

          x_matrix        real*4          out     x matrix coordinate (column)

          y_matrix        real*4          out     y matrix coordinate (row)

  Function return codes:

       1.  DTI__NORMAL       Success (units are valid)

       2.  DTI__INVUNITS     Units not valid for the DTI file


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-34
  DTILIB UTILITIES                                                     5 June 1997


       3.  DTI__BADLUN       DTI_LUN out of range (1:9)

       4.  DTI__LUNUNUSED    No file opened on DTI_LUN

       5.  DTI__BADUNITS     Units value is invalid (not in range 0 to 5)

       6.  DTI__BADROTATION  Unrecognised rotation type



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-35
  DTILIB UTILITIES                                                     5 June 1997


  [3mDTI_WIN_MATRIX_TO_UNITS[0m

  Routine to convert two  DTI  matrix  coordinates  defining  the  south-west  and
  north-east  coordinates  of  an  area  of  interest, into the specified units of
  measurement defining the same area.

  The  optional  rotation  argument  is  necessary  to   calculate   the   correct
  geographical  coordinates  (in  metres, latlong, seconds or projection units) if
  the DTI file is rotated with respect to the geographical origin.

  Note that if latlong units  are  specified  then  coordinates  are  returned  as
  seconds of arc.

          RETVAL  = DTI_WIN_MATRIX_TO_UNITS ( dti_lun, x_matrix_sw, y_matrix_sw, 
                                              x_matrix_ne, y_matrix_ne
                                              units, [rotation], [offset], 
                                              x_coord_sw, y_coord_sw 
                                              x_coord_ne, y_coord_ne )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          x_matrix_sw     integer*4       in      sw x matrix coordinate (column)
                                                  
          y_matrix_sw     integer*4       in      sw y matrix coordinate (row)

          x_matrix_ne     integer*4       in      ne x matrix coordinate (column)
                                                  
          y_matrix_ne     integer*4       in      ne y matrix coordinate (row)

          units           integer*4       in      1 = matrix 
                                                  2 = metres
                                                  3 = seconds of arc
                                                  4 = latlong (degrees, minutes
                                                      and seconds)
                                                  5 = projection

          rotation        integer*4       in      0 - SW
                                                  1 - NW
                                                  2 - NE
                                                  3 - SE
                                                  If the argument is not
                                                  supplied, 0 is assumed.

          offset          logical*4       in      if .t. or the argument is not
                                                  supplied, absolute coordinate
                                                  values are output by adding 
                                                  X_OFFSET and Y_OFFSET
                                                  if .f. coordinate values 
                                                  relative to a matrix origin of
                                                  0,0 are output

          x_coord_sw      real*8          out     sw x coordinate in 
                                                  specified units



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-36
  DTILIB UTILITIES                                                     5 June 1997


          y_coord_sw      real*8          out     sw y coordinate in 
                                                  specified units

          x_coord_ne      real*8          out     ne x coordinate in 
                                                  specified units

          y_coord_ne      real*8          out     ne y coordinate in 
                                                  specified units

  Function return codes:

       1.  DTI__NORMAL       Success (units are valid)

       2.  DTI__INVUNITS     Units not valid for the DTI file

       3.  DTI__BADLUN       DTI_LUN out of range (1:9)

       4.  DTI__LUNUNUSED    No file opened on DTI_LUN

       5.  DTI__BADUNITS     Units value is invalid (not in range 0 to 5)

       6.  DTI__BADROTATION  Unrecognised rotation type

       7.  DTI__BADWINDOW    Invalid window column and row values



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-37
  DTILIB UTILITIES                                                     5 June 1997


  [3mDTI_WIN_UNITS_TO_MATRIX[0m

  Routine to  convert  two  coordinates  in  the  specified  units,  defining  the
  south-west  and  north-east  coordinates  of an area of interest into DTI matrix
  coordinates defining the same area.

  The optional rotation argument is necessary  to  calculate  the  correct  matrix
  coordinates if the DTI file is rotated with respect to the geographical origin.

  Note that if latlong units are specified then coordinates are assumed to  be  in
  seconds of arc.
          RETVAL  = DTI_WIN_UNITS_TO_MATRIX ( dti_lun, x_coord_sw, y_coord_sw, 
                                              x_coord_ne, y_coord_ne
                                              units, [rotation], [offset], 
                                              x_matrix_sw, y_matrix_sw 
                                              x_matrix_ne, y_matrix_ne )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          x_coord_sw      real*8          in      sw x coordinate in 
                                                  specified units

          y_coord_sw      real*8          in      sw y coordinate in 
                                                  specified units

          x_coord_ne      real*8          in      ne x coordinate in 
                                                  specified units

          y_coord_ne      real*8          in      ne y coordinate in 
                                                  specified units

          units           integer*4       in      1 = matrix 
                                                  2 = metres
                                                  3 = seconds of arc
                                                  4 = latlong (degrees, minutes
                                                      and seconds)
                                                  5 = projection

          rotation        integer*4       in      0 - SW
                                                  1 - NW
                                                  2 - NE
                                                  3 - SE
                                                  If the argument is not
                                                  supplied, 0 is assumed.

          offset          logical*4       in      if .t. or the argument is not
                                                  supplied, absolute coordinate
                                                  values are output by adding 
                                                  X_OFFSET and Y_OFFSET
                                                  if .f. coordinate values 
                                                  relative to a matrix origin of
                                                  0,0 are output

          x_matrix_sw     integer*4       out     sw x matrix coordinate (column)


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-38
  DTILIB UTILITIES                                                     5 June 1997


                                                  
          y_matrix_sw     integer*4       out     sw y matrix coordinate (row)

          x_matrix_ne     integer*4       out     ne x matrix coordinate (column)
                                                  
          y_matrix_ne     integer*4       out     ne y matrix coordinate (row)

  Function return codes:

       1.  DTI__NORMAL       Success (units are valid)

       2.  DTI__INVUNITS     Units not valid for the DTI file

       3.  DTI__BADLUN       DTI_LUN out of range (1:9)

       4.  DTI__LUNUNUSED    No file opened on DTI_LUN

       5.  DTI__BADUNITS     Units value is invalid (not in range 0 to 5)

       6.  DTI__BADROTATION  Unrecognised rotation type

       7.  DTI__BADWINDOW    Invalid window column and row values



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-39
  DTILIB UTILITIES                                                     5 June 1997


  [3mDTI_MINMAX_DATA[0m

  Routine to scan the all nodes in the data area and  determine  the  minimum  and
  maximum data values.  The routine updates the relevant entries in DTIHDR, and if
  UPDATE is true, also writes the new values to the mapped DTI file.

          RETVAL  = DTI_MINMAX_DATA ( dti_lun, update, error )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          update          logical         in      If .true. update the minimum
                                                  and maximum data values in the 
                                                  header of mapped file. 

          error           integer*4       out     system error code


  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__READONLY     Update of the mapped file header was  requested,  but
           only read access to the file is permitted

       5.  DTI__SYSERR       System error while updating the file header



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-40
  DTILIB UTILITIES                                                     5 June 1997


  [3mDTI_WINDOW_MINMAX[0m

  Routine to scan all nodes in a DTI window (rectangular  area  of  interest)  and
  determine  the  minimum and maximum data values.  The window bottom lefthand and
  top righthand column and row values are extracted from the DTIHDR  common  block
  variables  DTI_WINDOW_SWX,  DTI_WINDOW_SWY,  DTI_WINDOW_NEX  and DTI_WINDOW_NEY.
  The minimum and maximum values are returned as function arguments.

          RETVAL  = DTI_WINDOW_MINMAX ( dti_lun, min_value, max_value )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          min_value       *               out     minimum data value


          max_value       *               out     maximum data value


  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADWINDOW    Window values in DTIHDR are invalid



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-41
  READ HEADER ROUTINES                                                 5 June 1997


  [3mREAD[0m [3mHEADER[0m [3mROUTINES[0m

  A series of functions to read values  from  the  header  of  the  DTI  file  are
  provided.   The  routines use a byte offset to point to the relevant location in
  the header.
  [3mDTI_READ_HEADER[0m

  Routine to read the header (x,y extent, grid intervals, minimum and maximum data
  values, header size, data type and if appropriate latitude and longitude values)
  of a DTI file.  The values are placed in  DTIHDR.   The  routine  is  called  by
  DTI_OPEN, but may also be called by an applications program.

          RETVAL  = DTI_READ_HEADER ( dti_lun, error )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          error           integer*4       out     system error code

  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__SYSERR       System error while reading from the DTI header



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-42
  READ HEADER ROUTINES                                                 5 June 1997


  [3mDTI_READ_PROJ_REC[0m

  Routine to read a DTI Projection Record.  This record may only be present in  an
  LSLA  type  DTI  header.   The start of the record is identified by means of the
  identifier '[1mD[0mTIPROJ'.  The routine  transfers  the  Projection  Record  details,
  include the record's byte offset to the DTILIB common block DTIPROJ.

          RETVAL = DTI_READ_PROJ_REC ( dti_lun, error )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          error           integer*4       out     system error code


  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADER    The file opened on DTI_LUN is not an LSLA type file

       5.  DTI__NOPROJREC    No projection record was found in the header

       6.  DTI__SYSERR       System error while reading from the DTI header



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-43
  READ HEADER ROUTINES                                                 5 June 1997


  [3mDTI_READ_DSI[0m

  Routine to read the DSI record of a  TED4  type  DTI  header,  and  extract  the
  latlong  origin and corner values, and grid intervals.  The values are placed in
  DTIHDR.  The routine is called by  DTI_OPEN,  but  may  also  be  called  by  an
  applications program.

          RETVAL  = DTI_READ_DSI ( dti_lun )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADER    The file opened on DTI_LUN is not a TED4 type file

       5.  DTI__BADDSI       DSI record did not conform to the usual format



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-44
  READ HEADER ROUTINES                                                 5 June 1997


  [3mDTI_READ_UHL[0m

  Routine to read the UHL record of a  UHL1  type  DTI  header,  and  extract  the
  latlong  corner  values,  and  grid intervals.  The values are placed in DTIHDR.
  The routine is called by DTI_OPEN, but may also be  called  by  an  applications
  program.

  Note that the routine sets the latlong origin values in DTIHDR to  be  equal  to
  the latlong S.W.  corner.

          RETVAL  = DTI_READ_UHL ( dti_lun )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADER    The file opened on DTI_LUN is not a UHL1 type file

       5.  DTI__BADUHL       The UHL record did not conform to the usual format



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-45
  READ HEADER ROUTINES                                                 5 June 1997


  [3mDTI_READ_BYTE_HEADER[0m

  Routine to read a byte value from the header area.

          RETVAL  = DTI_READ_BYTE_HEADER ( dti_lun, value, byte_offset, error )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           byte            out     value of byte

          byte_offset     integer*4       in      offset in header specified
                                                  in bytes

          error           integer*4       out     system error code

  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADOFF   Byte offset out of range (0:Header Size-1)

       5.  DTI__SYSERR       System error while reading from the DTI header record



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-46
  READ HEADER ROUTINES                                                 5 June 1997


  [3mDTI_READ_WORD_HEADER[0m

  Routine to read a word (INTEGER[1m2[0m) from the header area

          RETVAL  = DTI_READ_WORD_HEADER ( dti_lun, value, byte_offset, error )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           integer*2       out     value of word

          byte_offset     integer*4       in      offset in header specified
                                                  in bytes

          error           integer*4       out     system error code

  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADOFF   Byte offset out of range (0:Header Size-2)

       5.  DTI__SYSERR       System error while reading from the DTI header record



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-47
  READ HEADER ROUTINES                                                 5 June 1997


  [3mDTI_READ_LONG_HEADER[0m

  Routine to read a longword (INTEGER[1m4[0m) from the header area

          RETVAL  = DTI_READ_LONG_HEADER ( dti_lun, value, byte_offset, error )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           integer*4       out     value of longword

          byte_offset     integer*4       in      offset in header specified
                                                  in bytes

          error           integer*4       out     system error code

  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADOFF   Byte offset out of range (0:Header Size-4)

       5.  DTI__SYSERR       System error while reading from the DTI header record



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-48
  READ HEADER ROUTINES                                                 5 June 1997


  [3mDTI_READ_REAL_HEADER[0m

  Routine to read a real value from the header area

          RETVAL  = DTI_READ_REAL_HEADER ( dti_lun, value, byte_offset, error )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           real            out     value of real 

          byte_offset     integer*4       in      offset in header specified
                                                  in bytes

          error           integer*4       out     system error code

  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADOFF   Byte offset out of range (0:Header Size-4)

       5.  DTI__SYSERR       System error while reading from the DTI header record



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-49
  READ HEADER ROUTINES                                                 5 June 1997


  [3mDTI_READ_REAL8_HEADER[0m

  Routine to read a real value from the header area

          RETVAL  = DTI_READ_REAL8_HEADER ( dti_lun, value, byte_offset, error )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           real*8          out     value of real*8 

          byte_offset     integer*4       in      offset in header specified
                                                  in bytes

          error           integer*4       out     system error code

  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADOFF   Byte offset out of range (0:Header Size-8)

       5.  DTI__SYSERR       System error while reading from the DTI header record



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-50
  READ DATA ROUTINES                                                   5 June 1997


  [3mREAD[0m [3mDATA[0m [3mROUTINES[0m

  A series of functions to read values from the DTI data area are  provided.   The
  routines  are passed a x and y position defining the location of the value to be
  read.
  [3mDTI_READ_DATA[0m

  Generic routine to read a value from the data area.  The routine determines  the
  type  of  data  stored  in  the  file,  and calls the appropriate DTILIB reading
  routine (see below).

          RETVAL  = DTI_READ_DATA (dti_lun, value, x_position, y_position)
          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           *               out     data value

          x_position      integer*4       in      column 

          y_position      integer*4       in      row 


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__BADDATAPOS    The x and y position does not lie  within  the  data
           area



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-51
  READ DATA ROUTINES                                                   5 June 1997


  [3mDTI_READ_BIT_DATA[0m

  Routine to read a bit value from the data area.

          RETVAL  = DTI_READ_BIT_DATA ( dti_lun, value, x_position, y_position )
          

          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           byte            out     value of bit (0 or 1)

          x_position      integer*4       in      column 

          y_position      integer*4       in      row 


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain bit data

       5.  DTI__BADDATAPOS    The x and y position does not lie  within  the  data
           area



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-52
  READ DATA ROUTINES                                                   5 June 1997


  [3mDTI_READ_BYTE_DATA[0m

  Routine to read a byte value from the data area.

          RETVAL  = DTI_READ_BYTE_DATA ( dti_lun, value, x_position, y_position )
          

          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           byte            out     value of byte

          x_position      integer*4       in      column 

          y_position      integer*4       in      row 


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain byte data

       5.  DTI__BADDATAPOS    The x and y position does not lie  within  the  data
           area



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-53
  READ DATA ROUTINES                                                   5 June 1997


  [3mDTI_READ_WORD_DATA[0m

  Routine to read a word (INTEGER[1m2[0m) from the data area.

          RETVAL  = DTI_READ_WORD_DATA ( dti_lun, value, x_position, y_position )

          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           integer*2       out     value of word           

          x_position      integer*4       in      column

          y_position      integer*4       in      row


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain word data

       5.  DTI__BADDATAPOS    The x and y position does not lie  within  the  data
           area



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-54
  READ DATA ROUTINES                                                   5 June 1997


  [3mDTI_READ_LONG_DATA[0m

  Routine to read a longword (INTEGER[1m4[0m) from the data area.

          RETVAL  = DTI_READ_LONG_DATA ( dti_lun, value, x_position, y_position )
          

          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           integer*4       out     value of longword

          x_position      integer*4       in      column

          y_position      integer*4       in      row


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain longword data

       5.  DTI__BADDATAPOS    The x and y position does not lie  within  the  data
           area



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-55
  READ DATA ROUTINES                                                   5 June 1997


  [3mDTI_READ_REAL_DATA[0m

  Routine to read a real value from the data area.

          RETVAL  = DTI_READ_REAL_DATA ( dti_lun, value, x_position, y_position )

          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           real            out     real value              

          x_position      integer*4       in      column

          y_position      integer*4       in      row


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain real data

       5.  DTI__BADDATAPOS    The x and y position does not lie  within  the  data
           area



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-56
  WRITE HEADER ROUTINES                                                5 June 1997


  [3mWRITE[0m [3mHEADER[0m [3mROUTINES[0m

  A number of routines to write information to the header area of the DTI file are
  provided.
  [3mDTI_WRITE_HEADER[0m

  Routine to write the DTI header, consisting of header  type,  x,y  extent,  grid
  intervals,  minimum  and  maximum  data  values,  header size, data type, and if
  appropriate latitude and longitude values, to a mapped DTI file.  The values  to
  be  written  are  passed  via DTIHDR.  The routine is called by DTI_CLOSE if the
  option to update is selected, and may be called by an applications program.


          RETVAL = DTI_WRITE_HEADER ( dti_lun, error )
   

          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          error           integer*4       out     system error code


  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__READONLY     Only read access to the file is permitted

       5.  DTI__SYSERR       System error writing the header values to the file



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-57
  WRITE HEADER ROUTINES                                                5 June 1997


  [3mDTI_WRITE_PROJ_REC[0m

  Routine to write a DTI Projection Record.  This record may only be written to an
  LSLA  type  DTI  header.   The start of the record is identified by means of the
  identifier '[1mD[0mTIPROJ'.  The routine extracts Projection Record details  from  the
  DTILIB common block DTIPROJ.

  Note that if the optional argument BYTE_OFFSET is not supplied,  the  Projection
  Record   is   written   to   the   byte   offset   specified   in  the  variable
  DTIPROJ_RECORD_OFFSET.

          RETVAL = DTI_WRITE_PROJ_REC ( dti_lun, [byte_offset], error )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          byte_offset     integer*4       in      offset in header specified
                                                  in bytes

          error           integer*4       out     system error code


  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADER    The file opened on DTI_LUN is not a LSLA type file

       5.  DTI__BADHEADOFF   Byte offset out of range (0:Header Size-1)

       6.  DTI__HEADTOOSMALL The file header is too small  to  hold  a  Projection
           Record (ie.  Less than DEFAULT_LSLA_HEADER + DTIPROJ_RECORD_LENGTH)

       7.  DTI__READONLY     Only read access to the file is permitted



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-58
  WRITE HEADER ROUTINES                                                5 June 1997


  [3mDTI_WRITE_DSI[0m

  Routine to write the latlong origin and corner values, grid interval in  seconds
  and  data extent values, to the DSI record of a TED4 type DTI file.  The routine
  is called by DTI_WRITE_HEADER,  but  may  also  be  called  by  an  applications
  program.

          RETVAL  = DTI_WRITE_DSI ( dti_lun, error )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          error           integer*4       out     system error code


  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADER    The file opened on DTI_LUN is not a TED4 type file

       5.  DTI__READONLY     Only read access to the file is permitted

       6.  DTI__SYSERR       System error writing the header values to the file



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-59
  WRITE HEADER ROUTINES                                                5 June 1997


  [3mDTI_WRITE_UHL[0m

  Routine to write the latlong S.W.  corner values, and grid intervals to the  UHL
  record of a UHL1 type DTI file.

  The routine is called  by  DTI_WRITE_HEADER,  but  may  also  be  called  by  an
  applications program.

          RETVAL  = DTI_WRITE_UHL ( dti_lun, error )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          error           integer*4       out     system error code


  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADER    The file opened on DTI_LUN is not a UHL1 type file

       5.  DTI__READONLY     Only read access to the file is permitted

       6.  DTI__SYSERR       System error writing the header values to the file



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-60
  WRITE HEADER ROUTINES                                                5 June 1997


  [3mDTI_WRITE_BYTE_HEADER[0m

  Routine to write a byte value into the header area

          RETVAL  = DTI_WRITE_BYTE_HEADER ( dti_lun, value, byte_offset, error )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           byte            in      value of byte

          byte_offset     integer*4       in      offset in header specified
                                                  in bytes

          error           integer*4       out     system error code

  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADOFF   Byte offset out of range (0:Header Size-1)

       5.  DTI__READONLY     Only read access to the file is permitted

       6.  DTI__SYSERR       System error writing the header values to the file



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-61
  WRITE HEADER ROUTINES                                                5 June 1997


  [3mDTI_WRITE_WORD_HEADER[0m

  Routine to write a word (INTEGER[1m2[0m) into the header area

          RETVAL  = DTI_WRITE_WORD_HEADER ( dti_lun, value, byte_offset, error )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           integer*2       in      value of word

          byte_offset     integer*4       in      offset in header specified
                                                  in bytes

          error           integer*4       out     system error code

  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADOFF   Byte offset out of range (0:Header Size-2)

       5.  DTI__READONLY     Only read access to the file is permitted

       6.  DTI__SYSERR       System error writing the header values to the file



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-62
  WRITE HEADER ROUTINES                                                5 June 1997


  [3mDTI_WRITE_LONG_HEADER[0m

  Routine to write a longword (INTEGER[1m4[0m) into the header area

          RETVAL  = DTI_WRITE_LONG_HEADER ( dti_lun, value, byte_offset, error )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           integer*4       in      value of longword

          byte_offset     integer*4       in      offset in header specified
                                                  in bytes

          error           integer*4       out     system error code

  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADOFF   Byte offset out of range (0:Header Size-4)

       5.  DTI__READONLY     Only read access to the file is permitted

       6.  DTI__SYSERR       System error writing the header values to the file



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-63
  WRITE HEADER ROUTINES                                                5 June 1997


  [3mDTI_WRITE_REAL_HEADER[0m

  Routine to write a real value into the header area

          RETVAL  = DTI_WRITE_REAL_HEADER ( dti_lun, value, byte_offset, error )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           real            in      value of real

          byte_offset     integer*4       in      offset in header specified
                                                  in bytes

          error           integer*4       out     error number

  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADOFF   Byte offset out of range (0:Header Size-4)

       5.  DTI__READONLY     Only read access to the file is permitted

       6.  DTI__SYSERR       System error writing the header values to the file



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-64
  WRITE HEADER ROUTINES                                                5 June 1997


  [3mDTI_WRITE_REAL8_HEADER[0m

  Routine to write a real value into the header area

          RETVAL  = DTI_WRITE_REAL8_HEADER ( dti_lun, value, byte_offset, error )


          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           real*8          in      value of real*8

          byte_offset     integer*4       in      offset in header specified
                                                  in bytes

          error           integer*4       out     error number

  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADOFF   Byte offset out of range (0:Header Size-8)

       5.  DTI__READONLY     Only read access to the file is permitted

       6.  DTI__SYSERR       System error writing the header values to the file



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-65
  WRITE DATA ROUTINES                                                  5 June 1997


  [3mWRITE[0m [3mDATA[0m [3mROUTINES[0m

  Routines to write to the DTI data area are provided.  The routines are passed  a
  x and y data position defining the location at which to write.
  [3mDTI_WRITE_DATA[0m

  Generic routine to write a value to the data area.  The routine  determines  the
  type  of  data  stored  in  the  file,  and calls the appropriate DTILIB writing
  routine (see below).

          RETVAL  = DTI_WRITE_DATA ( dti_lun, value, x_position, y_position )

          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           *               in      data value

          x_position      integer*4       in      column

          y_position      integer*4       in      row


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__BADDATAPOS    The x and y position does not lie  within  the  data
           area

       5.  DTI__BADDATAVALUE  Data value is invalid for bit data.  A value of 0 or
           1 is required.

       6.  DTI__READONLY      Only read access to the file is permitted



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-66
  WRITE DATA ROUTINES                                                  5 June 1997


  [3mDTI_WRITE_BIT_DATA[0m

  Routine to write a bit value to the data area.

          RETVAL  = DTI_WRITE_BIT_DATA ( dti_lun, value, x_position, y_position )

          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           byte            in      bit value as byte (0 or 1)

          x_position      integer*4       in      column

          y_position      integer*4       in      row


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain bit data

       5.  DTI__BADDATAPOS    The x and y position does not lie  within  the  data
           area

       6.  DTI__BADDATAVALUE  Data value is invalid for bit data.  Value of 0 or 1
           required.

       7.  DTI__READONLY      Only read access to the file is permitted



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-67
  WRITE DATA ROUTINES                                                  5 June 1997


  [3mDTI_WRITE_BYTE_DATA[0m

  Routine to write a byte value to the data area.

          RETVAL  = DTI_WRITE_BYTE_DATA ( dti_lun, value, x_position, y_position )

          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           byte            in      byte value

          x_position      integer*4       in      column

          y_position      integer*4       in      row


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain byte data

       5.  DTI__BADDATAPOS    The x and y position does not lie  within  the  data
           area

       6.  DTI__READONLY      Only read access to the file is permitted



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-68
  WRITE DATA ROUTINES                                                  5 June 1997


  [3mDTI_WRITE_WORD_DATA[0m

  Routine to write a word (INTEGER[1m2[0m) to the data area.

          RETVAL  = DTI_WRITE_WORD_DATA ( dti_lun, value, x_position, y_position )

          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           integer*2       in      value of word

          x_position      integer*4       in      column

          y_position      integer*4       in      row

  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain word data

       5.  DTI__BADDATAPOS    The x and y position does not lie  within  the  data
           area

       6.  DTI__READONLY      Only read access to the file is permitted



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-69
  WRITE DATA ROUTINES                                                  5 June 1997


  [3mDTI_WRITE_LONG_DATA[0m

  Routine to write a longword (INTEGER[1m4[0m) to the data area.

          RETVAL  = DTI_WRITE_LONG_DATA ( dti_lun, value, x_position, y_position )

          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           integer*4       in      value of longword

          x_position      integer*4       in      column

          y_position      integer*4       in      row

  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain longword data

       5.  DTI__BADDATAPOS    The x and y position does not lie  within  the  data
           area

       6.  DTI__READONLY      Only read access to the file is permitted



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-70
  WRITE DATA ROUTINES                                                  5 June 1997


  [3mDTI_WRITE_REAL_DATA[0m

  Routine to write a real value to the data area.

          RETVAL  = WRITE_REAL_DATA ( dti_lun, value, x_position, y_position )

          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           real            in      value of real

          x_position      integer*4       in      column

          y_position      integer*4       in      row


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain real data

       5.  DTI__BADDATAPOS    The x and y position does not lie  within  the  data
           area

       6.  DTI__READONLY      Only read access to the file is permitted



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-71
  COPY HEADER FUNCTIONS                                                5 June 1997


  [3mCOPY[0m [3mHEADER[0m [3mFUNCTIONS[0m

  Routines to copy the header details from one mapped file to another mapped file,
  and to copy from a user byte array to the header area or from the header area to
  a user byte array are provided.
  [3mDTI_COPY_BYTE_HEADER[0m

  Function to transfer byte data from the DTI header area to a user byte array, or
  from a byte array to the DTI header area.

          RETVAL = DTI_COPY_BYTE_HEADER ( dti_lun, user_array, to,
                                        number_bytes, byte_offset, error )

          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          user_array      byte            i/o     user byte array 

          to              logical         in      .t. copy from user array
                                                  to header area
                                                  .f. copy from header area
                                                  to user array
                                                  
          number_bytes    integer*4       in      number of bytes to transfer

          byte_offset     integer*4       in      offset in header specified
                                                  in bytes

          error           integer*4       out     system error code

          
  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on DTI_LUN

       4.  DTI__BADHEADOFF   Byte offset out of range (0:Header Size-number_bytes)

       5.  DTI__SYSERR       System error writing  to  or  reading  from  the  DTI
           header

       6.  DTI__READONLY     Transfer to the DTI file was requested, but only read
           access to the file is permitted



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-72
  COPY HEADER FUNCTIONS                                                5 June 1997


  [3mDTI_COPY_HEADER[0m

  Function to copy part of the header of one mapped DTI file to another mapped DTI
  file.  The two files must have the same type of header structure.

  How much and which part of the header is copied  is  determined  by  the  header
  types.   If  both files have a UHL1 header then the UHL field is transferred; if
  both files have a DTED header then the DSI and ACC fields are  transferred,  and
  if  both  files  have  a  LSLA header then the free format part of the header is
  copied.  In addition for LSLA files, details  from  any  projection  record  are
  copied  from  the  input  to  the  output  file (and transferred to the relevant
  DTIPROJ variables), along with the data order values.

  NB.  The extent, grid and minimum and maximum data values contained in the first
  part  of the header are not copied by the function.  To transfer grid and minmax
  values from the source DTI file, to the destination DTI  file,  an  applications
  program  should  transfer  the  values  via  common DTIHDR and select the update
  option in DTI_CLOSE.

          RETVAL  = DTI_COPY_HEADER  ( from_dti_lun, to_dti_lun, error,
                                       [projection] )

          
          from_dti_lun    integer*4       in      LUN on which DTI file with
                                                  header to copy is opened

          to_dti_lun      integer*4       in      LUN on which DTI file to
                                                  receive header is opened

          error           integer*4       out     system error code

          projection      logical*4       in      if .t. or absent, copy
                                                  the projection record
                                                  information
                                                  if. f. don't transfer
                                                  projection record data

  Function return codes:

       1.  DTI__NORMAL       Success

       2.  DTI__BADLUN       DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED    No file opened on one of the specified LUNs

       4.  DTI__HEADMISMATCH The two files have different header structures

       5.  DTI__BADHEADSIZE  The size  of  the  header  opened  on  to_dti_lun  is
           smaller than the header of the file opened on from_dti_lun

       6.  DTI__SYSERR       System error occurred during read or write

       7.  DTI__READONLY     Only read access to the output file is permitted



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-73
  COPY DATA FUNCTIONS                                                  5 June 1997


  [3mCOPY[0m [3mDATA[0m [3mFUNCTIONS[0m

  A series of routines to allow an array of data to be written to the  data  area,
  or data to be transferred from the data area to a user array are provided.
  [3mDTI_COPY_DATA[0m

  Generic function to copy data values from the data area to a user array, or from
  a  user array to the data area.  The function determines the type of data stored
  in the file, and calls the appropriate data copying routines (see below).

          RETVAL  = DTI_COPY_DATA  ( dti_lun, user_array, to, 
                                     x_start, y_start, 
                                     x_number, y_number, error )
          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          user_array      *               i/o     user array 

          to              logical         in      .t. copy from user array
                                                  to data area
                                                  .f. copy from data area
                                                  to user array
                                                  
          x_start         integer*4       in      start column

          y_start         integer*4       in      start row

          x_number        integer*4       in      number of columns of data to
                                                  transfer

          y_number        integer*4       in      number of rows of data to
                                                  transfer

          error           integer*4       out     system error code


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__BADDATAPOS    x_start or y_start outside data area

       5.  DTI__BADDATAEXT    Rectangular area of interest does not lie within the
           data area

       6.  DTI__READONLY      Transfer to the DTI file  was  requested,  but  only
           read access to the file is permitted

       7.  DTI__SYSERR        System error occurred during read or write



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-74
  COPY DATA FUNCTIONS                                                  5 June 1997


  [3mDTI_COPY_BIT_DATA[0m

  Function to copy bit data from the DTI data area to a user byte array, or from a
  byte array to the DTI data area.  Note that for efficiency the routine will copy
  the bit data as a series of bytes, consisting of 8 bits.  For  this  reason  the
  function  must  be  supplied  with a y_start value that is a bit offset from the
  start of the data area that coincides with the start of a  byte  (eg.   1,9,17),
  and a y_number value that is a multiple of 8.  The same restrictions do no apply
  to the values associated with the arguments x_start and x_number.

          RETVAL  = DTI_COPY_BIT_DATA  ( dti_lun, user_array, to, 
                                        x_start, y_start, 
                                        x_number, y_number, error )
          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          user_array      byte            i/o     user byte array 

          to              logical         in      .t. copy from user array
                                                  to data area
                                                  .f. copy from data area
                                                  to user array
                                                  
          x_start         integer*4       in      start column

          y_start         integer*4       in      start row

          x_number        integer*4       in      number of columns of data to
                                                  transfer

          y_number        integer*4       in      number of rows of data to
                                                  transfer

          error           integer*4       out     system error code


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain bit data

       5.  DTI__BADDATAPOS    x_start or y_start outside data area

       6.  DTI__BADDATAEXT    Rectangular area of interest does not lie within the
           data area

       7.  DTI__INVYSTART     Y start is invalid for bit  data.   The  value  must
           represent a bit offset that coincides with a byte boundary.


  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-75
  COPY DATA FUNCTIONS                                                  5 June 1997


       8.  DTI__INVYEXTENT    Y  extent  is  invalid  for  bit  data.   The  value
           supplied with y_number should be a multiple of 8.

       9.  DTI__READONLY      Transfer to the DTI file  was  requested,  but  only
           read access to the file is permitted

      10.  DTI__SYSERR        System error occurred during read or write



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-76
  COPY DATA FUNCTIONS                                                  5 June 1997


  [3mDTI_COPY_BYTE_DATA[0m

  Function to copy byte data from the DTI data area to a user byte array, or  from
  a byte array to the DTI data area.

          RETVAL  = DTI_COPY_BYTE_DATA  ( dti_lun, user_array, to, 
                                        x_start, y_start, 
                                        x_number, y_number, error )
          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          user_array      byte            i/o     user byte array 

          to              logical         in      .t. copy from user array
                                                  to data area
                                                  .f. copy from data area
                                                  to user array
                                                  
          x_start         integer*4       in      start column

          y_start         integer*4       in      start row

          x_number        integer*4       in      number of columns of data to
                                                  transfer

          y_number        integer*4       in      number of rows of data to
                                                  transfer

          error           integer*4       out     system error code


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain byte data

       5.  DTI__BADDATAPOS    x_start or y_start outside data area

       6.  DTI__BADDATAEXT    Rectangular area of interest does not lie within the
           data area

       7.  DTI__READONLY      Transfer to the DTI file  was  requested,  but  only
           read access to the file is permitted

       8.  DTI__SYSERR        System error occurred during read or write



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-77
  COPY DATA FUNCTIONS                                                  5 June 1997


  [3mDTI_COPY_WORD_DATA[0m

  Function to copy word data (INTEGER[1m2[0m) from the DTI data  area  to  a  user  word
  array, or from a word array to the DTI data area.

          RETVAL  = DTI_COPY_WORD_DATA  ( dti_lun, user_array, to, 
                                        x_start, y_start,
                                        x_number, y_number, error )

          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          user_array      integer*2       i/o     user word array 

          to              logical         in      .t. copy from user array
                                                  to data area
                                                  .f. copy from data area
                                                  to user array
                                                  
          x_start         integer*4       in      start column

          y_start         integer*4       in      start row

          x_number        integer*4       in      number of columns of data to
                                                  transfer

          y_number        integer*4       in      number of rows of data to
                                                  transfer

          error           integer*4       out     system error code


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain word data

       5.  DTI__BADDATAPOS    x_start or y_start outside data area

       6.  DTI__BADDATAEXT    Rectangular area of interest does not lie within the
           data area

       7.  DTI__READONLY      Transfer to the DTI file  was  requested,  but  only
           read access to the file is permitted

       8.  DTI__SYSERR        System error occurred during read or write



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-78
  COPY DATA FUNCTIONS                                                  5 June 1997


  [3mDTI_COPY_LONG_DATA[0m

  Function to copy longword data (INTEGER[1m4[0m) from the  DTI  data  area  to  a  user
  longword array, or from a longword array to the DTI data area.

          RETVAL  = DTI_COPY_LONG_DATA  ( dti_lun, user_array, to, 
                                        x_start, y_start,
                                        x_number, y_number, error )

          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          user_array      integer*4       i/o     user longword array 

          to              logical         in      .t. copy from user array
                                                  to data area
                                                  .f. copy from data area
                                                  to user array
                                                  
          x_start         integer*4       in      start column

          y_start         integer*4       in      start row

          x_number        integer*4       in      number of columns of data to
                                                  transfer

          y_number        integer*4       in      number of rows of data to
                                                  transfer

          error           integer*4       out     system error code


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain longword data

       5.  DTI__BADDATAPOS    x_start or y_start outside data area

       6.  DTI__BADDATAEXT    Rectangular area of interest does not lie within the
           data area

       7.  DTI__READONLY      Transfer to the DTI file  was  requested,  but  only
           read access to the file is permitted

       8.  DTI__SYSERR        System error occurred during read or write



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-79
  COPY DATA FUNCTIONS                                                  5 June 1997


  [3mDTI_COPY_REAL_DATA[0m

  Function to copy real data from the DTI data area to a user real array, or  from
  a real array to the DTI data area.

          RETVAL  = DTI_COPY_REAL_DATA  ( dti_lun, user_array, to, 
                                        x_start, y_start,
                                        x_number, y_number, error )

          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open
          
          user_array      real            i/o     user real array 

          to              logical         in      .t. copy from user array
                                                  to data area
                                                  .f. copy from data area
                                                  to user array
                                                  
          x_start         integer*4       in      start column

          y_start         integer*4       in      start row

          x_number        integer*4       in      number of columns of data to
                                                  transfer

          y_number        integer*4       in      number of rows of data to
                                                  transfer

          error           integer*4       out     system error code


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain real data

       5.  DTI__BADDATAPOS    x_start or y_start outside data area

       6.  DTI__BADDATAEXT    Rectangular area of interest does not lie within the
           data area

       7.  DTI__READONLY      Transfer to the DTI file  was  requested,  but  only
           read access to the file is permitted

       8.  DTI__SYSERR        System error occurred during read or write



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-80
  INITIALISE DATA AREA                                                 5 June 1997


  [3mINITIALISE[0m [3mDATA[0m [3mAREA[0m

  A number of routines which enable the whole or part of the data area to  be  set
  to a particular value are provided.
  [3mDTI_INIT_DATA[0m

  Generic function to set a rectangular area in the DTI data area to  a  specified
  value.   The  routine  determines the type of data stored in the file, and calls
  the appropriate data initialisation routine (see below).

          RETVAL  = DTI_INIT_DATA ( dti_lun, value, 
                                    [x_position], [,y_position],
                                    [x_number], [y_number] )
          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           *               in      data value

          x_position      integer*4       in      start column

          y_position      integer*4       in      start row

          x_number        integer*4       in      number of columns

          y_number        integer*4       in      number of rows


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__BADATAPOS     Start column and row values do not  lie  within  the
           data area

       5.  DTI__BADDATAEXT    Rectangular area of interest does not lie within the
           data area

       6.  DTI__BADDATAVALUE  Data value is invalid for bit data.  A value of 0 or
           1 is required.

       7.  DTI__READONLY      Only read access to the file is permitted

       8.  DTI__MISSARGS      Some but not  all  of  the  optional  arguments  are
           present



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-81
  INITIALISE DATA AREA                                                 5 June 1997


  [3mDTI_INIT_BIT_DATA[0m

  Routine to set a rectangular area in the DTI data area to a specified bit value.
  If  the  optional  arguments  x_position,  y_position, x_number and y_number are
  missing, the whole of the data area is set to the supplied value.

          RETVAL  = DTI_INIT_BIT_DATA ( dti_lun, value, 
                                       [x_position], [y_position],
                                       [x_number], [y_number] )

          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           byte            in      bit value as byte (0 or 1)

          x_position      integer*4       in      start column

          y_position      integer*4       in      start row

          x_number        integer*4       in      number of columns

          y_number        integer*4       in      number of rows


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain bit data

       5.  DTI__BADATAPOS     Start column and row values do not  lie  within  the
           data area

       6.  DTI__BADDATAEXT    Rectangular area of interest does not lie within the
           data area

       7.  DTI__BADDATAVALUE  Data value is invalid for bit data.  A value of 0 or
           1 is required.

       8.  DTI__READONLY      Only read access to the file is permitted

       9.  DTI__MISSARGS      Some but not  all  of  the  optional  arguments  are
           present



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-82
  INITIALISE DATA AREA                                                 5 June 1997


  [3mDTI_INIT_BYTE_DATA[0m

  Routine to set a rectangular area in the DTI  data  area  to  a  specified  byte
  value.   If the optional arguments x_position, y_position, x_number and y_number
  are missing, the whole of the data area is set to the supplied value.

          RETVAL  = DTI_INIT_BYTE_DATA ( dti_lun, value, 
                                        [x_position], [y_position],
                                        [x_number], [y_number] )
          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           byte            in      byte value

          x_position      integer*4       in      start column

          y_position      integer*4       in      start row

          x_number        integer*4       in      number of columns

          y_number        integer*4       in      number of rows


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain byte data

       5.  DTI__BADATAPOS     Start column and row values do not  lie  within  the
           data area

       6.  DTI__BADDATAEXT    Rectangular area of interest does not lie within the
           data area

       7.  DTI__READONLY      Only read access to the file is permitted

       8.  DTI__MISSARGS      Some but not  all  of  the  optional  arguments  are
           present



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-83
  INITIALISE DATA AREA                                                 5 June 1997


  [3mDTI_INIT_WORD_DATA[0m

  Routine to set a rectangular area in the DTI  data  area  to  a  specified  word
  (INTEGER[1m2[0m)  value.   If  the optional arguments x_position, y_position, x_number
  and y_number are missing, the whole of the data area  is  set  to  the  supplied
  value.

          RETVAL  = DTI_INIT_WORD_DATA ( dti_lun, value, 
                                        [x_position], [y_position],
                                        [x_number], [y_number] )
          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           integer*2       in      word value

          x_position      integer*4       in      start column

          y_position      integer*4       in      start row

          x_number        integer*4       in      number of columns

          y_number        integer*4       in      number of rows


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain word data

       5.  DTI__BADATAPOS     Start column and row values do not  lie  within  the
           data area

       6.  DTI__BADDATAEXT    Rectangular area of interest does not lie within the
           data area

       7.  DTI__READONLY      Only read access to the file is permitted

       8.  DTI__MISSARGS      Some but not  all  of  the  optional  arguments  are
           present



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-84
  INITIALISE DATA AREA                                                 5 June 1997


  [3mDTI_INIT_LONG_DATA[0m

  Routine to set a rectangular area in the DTI data area to a  specified  longword
  (INTEGER[1m4[0m)  value.   If  the optional arguments x_position, y_position, x_number
  and y_number are missing, the whole of the data area  is  set  to  the  supplied
  value.

          RETVAL  = DTI_INIT_LONG_DATA ( dti_lun, value, 
                                        [x_position], [y_position],
                                        [x_number], [y_number] )
          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           integer*4       in      longword value

          x_position      integer*4       in      start column

          y_position      integer*4       in      start row

          x_number        integer*4       in      number of columns

          y_number        integer*4       in      number of rows


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain longword data

       5.  DTI__BADATAPOS     Start column and row values do not  lie  within  the
           data area

       6.  DTI__BADDATAEXT    Rectangular area of interest does not lie within the
           data area

       7.  DTI__READONLY      Only read access to the file is permitted

       8.  DTI__MISSARGS      Some but not  all  of  the  optional  arguments  are
           present



  MATRIX REFERENCE (3.7): DTILIB - DTI Applications Library             Page 12-85
  INITIALISE DATA AREA                                                 5 June 1997


  [3mDTI_INIT_REAL_DATA[0m

  Routine to set a rectangular area in the DTI  data  area  to  a  specified  real
  value.   If the optional arguments x_position, y_position, x_number and y_number
  are missing, the whole of the data area is set to the supplied value.

          RETVAL  = DTI_INIT_REAL_DATA ( dti_lun, value, 
                                        [x_position], [y_position],
                                        [x_number], [y_number] )
          
          dti_lun         integer*4       in      LUN on which the DTI file
                                                  is open

          value           real            in      real value

          x_position      integer*4       in      start column

          y_position      integer*4       in      start row

          x_number        integer*4       in      number of columns

          y_number        integer*4       in      number of rows


  Function return codes:

       1.  DTI__NORMAL        Success

       2.  DTI__BADLUN        DTI_LUN out of range (1:9)

       3.  DTI__LUNUNUSED     No file opened on DTI_LUN

       4.  DTI__DATAMISMATCH  The DTI file is not set up to contain real data

       5.  DTI__BADATAPOS     Start column and row values do not  lie  within  the
           data area

       6.  DTI__BADDATAEXT    Rectangular area of interest does not lie within the
           data area

       7.  DTI__READONLY      Only read access to the file is permitted

       8.  DTI__MISSARGS      Some but not  all  of  the  optional  arguments  are
           present















                                     CHAPTER 13

                                 MODULE DTIFROMTEXT





  MATRIX REFERENCE (3.7): DTIFROMTEXT - DTI from Text File Conversion    Page 13-1
                                                                       5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMODULE[0m    DTIFROMTEXT

  [1m--------------------------------------------------------------------------------[0m
  [1mFUNCTION[0m

            DTIFROMTEXT converts a text data file, in various formats, into a  DTI
            file.

  [1m--------------------------------------------------------------------------------[0m
  [1mFORMAT[0m

            $ DTIFROMTEXT input-file-spec output-DTI-file-spec


            [1mCommand[0m [1mQualifiers[0m                      [1mDefaults[0m


            /ANTICLOCKWISE                          /NOANTICLOCKWISE

            /BYTE                                   /NOBYTE

            /CLOCKWISE                              /CLOCKWISE

            /CUSTOMER                               /NOCUSTOMER

            /INDEX                                  /INDEX = 'TEXT.INDEX'

            /LONG                                   /NOLONG

            /NE                                     /NONE

            /NW                                     /NONW

            /REAL                                   /NOREAL

            /SE                                     /NOSE

            /SW                                     /SW

            /WORD                                   /WORD

            /XYZ                                    /NOXYZ

            /Z                                      /Z


  [1m--------------------------------------------------------------------------------[0m


  MATRIX REFERENCE (3.7): DTIFROMTEXT - DTI from Text File Conversion    Page 13-2
  PROMPTS                                                              5 June 1997


  [1mPROMPTS[0m

            Input File: input-file-spec
            Output DTI File: output-DTI-file-spec


  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mPARAMETERS[0m

  input-file-spec

            Specifies the input text file.

            Any part of the file  specification  that  is  not  supplied  will  be
            completed from the default of "TEXT.TXT;0"

  output-DTI-file-spec

            Specifies the name of the DTI file to be created.

            Any part of the file  specification  that  is  not  supplied  will  be
            completed from the default of "LSL$DTI:DTI.DTI"

  [1m--------------------------------------------------------------------------------[0m
  [1mCOMMAND[0m [1mQUALIFIERS[0m


  /ANTICLOCKWISE

          - Specifies that the output DTI file represents data in an anticlockwise
            direction.

  /BYTE

          - Specifies that the output DTI file should be created with byte data.

  /CLOCKWISE

          - Specifies that the output DTI file  represents  data  in  a  clockwise
            direction, and is the default output style.

  /CUSTOMER = Customer-format

          - This is an optional qualifier  specifying  a  pre-defined  translation
            from  a  particular input text file format giving output to a specific
            DTI file style, without further qualifiers being necessary apart  from
            /INDEX to provide the origin offset.  At present /CUSTOMER = AUSLIG or
            /CUSTOMER = MOBILE are the only supported options.


  MATRIX REFERENCE (3.7): DTIFROMTEXT - DTI from Text File Conversion    Page 13-3
  COMMAND QUALIFIERS                                                   5 June 1997


  /INDEX = index-file-spec

          - Specifies the index file holding a single line containing the DTI  x,y
            origin  offset  (for  the  projection record), the x,y DTI extents (in
            number of pixels) and the x,y DTI pixel sizes.

            The default specification for the index file is 'TEXT.INDEX'

            The index may contain comment lines prefixed with a '!' character.

            This qualifier is necessary if the input text file is not one  of  the
            pre-defined  customer  formats (ie.  AUSLIG or MOBILE).  If a customer
            format is specified the /INDEX qualifier may be used  to  specify  the
            DTI file origin offset.

  /LONG

          - Specifies that the output DTI file should be  created  with  long-word
            data.

  /NE

          - Specifies that the output DTI file represents data with  a  north-east
            corner.

  /NW

          - Specifies that the output DTI file represents data with  a  north-west
            corner.

  /REAL

          - Specifies that the output DTI file should be created with real data.

  /SE

          - Specifies that the output DTI file represents data with  a  south-east
            corner.

  /SW

          - Specifies that the output DTI file represents data with  a  south-west
            corner, and is the default output style.

  /XYZ

          - Specifies that the text data contains x, y and z data.

  /WORD

          - Specifies that the output DTI file should be created with  word  data,
            and is the default output data type.


  MATRIX REFERENCE (3.7): DTIFROMTEXT - DTI from Text File Conversion    Page 13-4
  COMMAND QUALIFIERS                                                   5 June 1997


  /Z

          - Specifies that the text data contains z data only, and is the  default
            input style.

  [1m--------------------------------------------------------------------------------[0m
  [1mRESTRICTIONS[0m


             o  /CLOCKWISE and /ANTICLOCKWISE are not allowed

             o  /Z and /XYZ are not allowed

             o  Only one of /SW, /SE, /NW or /NE is permitted

             o  Only one of /BYTE, /LONG, /WORD or /REAL is permitted

             o  Only one customer format may be specified

  [1m--------------------------------------------------------------------------------[0m
  [1mDESCRIPTION[0m

  [1mThe[0m [1mText[0m [1mto[0m [1mDTI[0m [1mTranslation.[0m

  The translation of text file to DTI is defined primarily by specifying an  index
  file  via  the  /INDEX  = index-file-spec qualifier.  The index file is a single
  line ASCII file providing, in order, the DTI x,y origin,  the  x,y  DTI  extents
  (number of pixels) and the x,y DTI pixel sizes.

  The input text data is read and the contents written to  the  DTI  file  in  the
  standard DTI order, ie.  starting at the SW corner and proceeding in a clockwise
  direction (in the increasing y direction, repeated for successive columns).  The
  qualifiers /BYTE, /LONG, /REAL or /WORD may be used to set up a different output
  data format, the default being to output word data.

  The qualifiers /CLOCKWISE, /ANTICLOCKWISE, /SW, /SE, /NW or /NE may be  used  to
  set the DTI header to the correct values if this default setup is not a suitable
  representation for the subsequent use of the DTI file.

  The text data may be simple free format z values,  or  x,y,z  value  records  on
  separate  lines, this latter option being selected with the /XYZ qualifier.  The
  default is to read just z height values.  (The text data  may  represent  height
  (z),  or  any  other  numeric  attribute such as vegetation type, slope, clutter
  category, colour etc.  For simplicity in this document it is referred to as z.)

  [1mThe[0m [1mDTI[0m [1mProjection[0m [1mRecord.[0m

  DTI files output from DTIFROMTEXT are created with an 'LSLA' (LSL type A) header
  with  a  DTI Projection record.  The Projection record contains unset projection
  and spheroid codes and associated parameters.

  The coordinates of address (1,1) of the matrix are taken from  the  /INDEX  file
  (or  the first x,y,z record) and written to the DTI header and projection origin
  offset fields.

  The MATRIX utilities DTIPATCH or DTITRANS/DESCRIPTOR may be used to  change  the


  MATRIX REFERENCE (3.7): DTIFROMTEXT - DTI from Text File Conversion    Page 13-5
  DESCRIPTION                                                          5 June 1997


  output  DTI  file  header  entries  as  an  alternative  to  using  the relevant
  qualifiers when running DTIFROMTEXT.


  [1mThe[0m [1mPre-defined[0m [1mCustomer[0m [1mFormats.[0m

  At present there are two supported pre-defined  formats  that  may  be  read  by
  DTIFROMTEXT  specified  by  the  /CUSTOMER  =  customer-name  qualifier.   These
  customer-names  are  AUSLIG  (to  translate  AUSMAP  data  from  the  Australian
  Surveying  and Land Information Group) and MOBILE (to translate data from Mobile
  Systems UK Ltd.).

  The first format (AUSLIG) expects  an  ASCII  file  of  x,y,z  values  with  one
  coordinate triple per line starting at the SW corner and increasing in longitude
  for a particular latitude value, followed by the next latitude valueS moving  up
  the file.  These x,y coordinate values represent the positions in degrees in the
  order lat, long with positive latitude values down from the  equator,  resulting
  in  a  DTI corner and direction of SW and anticlockwise.  The index qualifier is
  not required as the origin offset is contained in the first data record, and the
  DTI  extents  and pixel sizes are known to the program (ie.  101 x 101 values of
  0.005 degree size pixels on a geographic projection).

  The second format (MOBILE) uses a binary file containing just the height  values
  representing a DTI file with order and direction of NW and clockwise.  Again the
  index file is not required except to give the origin offset as the  DTI  extents
  and  pixel sizes are known to the program (ie.  320 x 320 values of 1.0 degree x
  40 minute size pixels on a geographic projection).


  [1m--------------------------------------------------------------------------------[0m


  MATRIX REFERENCE (3.7): DTIFROMTEXT - DTI from Text File Conversion    Page 13-6
  MESSAGES (SUCCESS)                                                   5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(SUCCESS)[0m

  These messages are used to indicate that the program has succeeded in performing
  some action, and do not require any user action.

  NORMAL, successful function return

      [1mExplanation:[0m  This message is used internally by the program  for  debugging
      purposes and will not normally appear to users.

      [1mUser[0m [1maction:[0m  None.


  MATRIX REFERENCE (3.7): DTIFROMTEXT - DTI from Text File Conversion    Page 13-7
  MESSAGES (ERROR)                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(ERROR)[0m

  These messages indicate an error in processing which will cause the  program  to
  terminate.   The  most  likely  causes  are a corrupt or otherwise invalid input
  file, or an error related to command line processing and file manipulation.

  BADDATAVALUE, Bad data value in data file

      [1mExplanation:[0m  There was an incorrect value in the input text data.

      [1mUser[0m [1maction:[0m  Check the input data file.

  INDEXFILERR, Error reading index file

      [1mExplanation:[0m  There was an error reading the index file.   Further  messages
      give more information.

      [1mUser[0m [1maction:[0m  Check that the index file exists and contains sensible data.

  INDEXOPNERR, Error opening index file

      [1mExplanation:[0m  There was an error opening the index file.   Further  messages
      give more information.

      [1mUser[0m [1maction:[0m  Check that the index file exists.

  NOINDEXFILE, No index file

      [1mExplanation:[0m  There was no index file given.

      [1mUser[0m [1maction:[0m  Give one.

  TEXTEOFERR, Unexpected end of data file

      [1mExplanation:[0m  There was insufficient input text data.

      [1mUser[0m [1maction:[0m  Check the input data file.

  TEXTFILERR, Error reading text file

      [1mExplanation:[0m  There was an error reading the text  file.   Further  messages
      give more information.

      [1mUser[0m [1maction:[0m  Check that the text file exists and contains sensible data.

  TEXTOPNERR, Error opening text file

      [1mExplanation:[0m  There was an error opening the text  file.   Further  messages
      give more information.

      [1mUser[0m [1maction:[0m  Check that the text file exists.


  MATRIX REFERENCE (3.7): DTIFROMTEXT - DTI from Text File Conversion    Page 13-8
  MESSAGES (OTHER)                                                     5 June 1997


  [1m--------------------------------------------------------------------------------[0m
  [1mMESSAGES[0m [1m(OTHER)[0m

  In addition to the above messages which are generated  by  the  program  itself,
  other  messages  may  be  produced  by the command line interpreter (CLI) and by
  Laser-Scan libraries.  In particular, messages may be generated  by  the  DTILIB
  library  and by the Laser-Scan I/O library, LSLLIB.  DTILIB library messages are
  introduced by '%DTILIB' and are  documented  in  the  MATRIX  package  reference
  manual.   In most cases DTI errors will be due to a corrupt input file, and this
  should be the first area of investigation.  If the cause of the error cannot  be
  traced by the user, and Laser-Scan are consulted, then the output file should be
  preserved to facilitate diagnosis.  LSLLIB messages are introduced by  '%LSLLIB'
  and  are  generally  self-explanatory.   They are used to explain the details of
  program generated errors.














                                     APPENDIX A




  [3mDTI[0m [3mFORMAT[0m [3mFILES[0m

  A DTI (Digital Terrain Image) file is the means by which  Laser-Scan  hold  grid
  based geographic data, and in particular elevation data in the form of a DEM.

  DTI files derive their name from 'Digital Terrain  Image  Section.'  In  essence
  they  are  images  suitable  for  mapping into a program's virtual memory space.
  Once mapped into memory the data may  be  treated  as  an  array,  and  accessed
  rapidly  by  application  programs.   DTILIB  provides  routines to perform this
  memory mapping and basic i/o operations.

  A DTI file consists of a header and data area.  For most types of DTI  file  the
  header is of a fixed length (but see LSLA type file below), and the data area is
  of a variable length.


                                                                          Page A-2
  DTI HEADER                                                           5 June 1997


  [3mDTI[0m [3mHEADER[0m

  The information contained  in  the  header  allows  an  application  program  to
  determine  the  dimensionality  of  the  matrix, the ground unit values, and the
  location of the matrix on the earth's surface.  In the context  of  a  DEM,  the
  structure of the header will vary with the source of the elevation data.

  DTILIB provides two routines specifically to read the DTI  header  values.   The
  first,  DTI_READ_HEADER,  reads the header record for all DTI files and puts the
  values  into  DTIHDR.CMN.   The  second,  DTI_READ_PROJ_REC,  reads   the   LSLA
  projection  record  if  present,  and  puts  any  values  into DTIPROJ.CMN.  The
  presence of the projection record is  indicated  by  HAD_PROJ_RECORD(DTILUN)  in
  DTIHDR.CMN, with its details held in DTIPROJ.CMN.

  5 different header structures may be distinguished, and identified by  means  of
  the header type identifier held in the first 4 bytes of the DTI file:

       1.         UHL1    DTED Change 2

       2.         TED4    DTED Change 3/4

       3.         MIKE    (historical) Output from the PANACEA modelling package

       4.         ALVY    (historical) ALVEY project file

       5.         LSLA    Laser-Scan Type A header format

  In the latest implementation of DTILIB, the MIKE and ALVY header formats are now
  treated  as  historical.   The  LSLA  header  replaces  both  these formats.  If
  projection information is required to be stored in the header of the DTI file  a
  LSLA header format should be used.

  The following tables describe the length, offset and content of  fields  in  the
  different DTI headers.  The length and offset values are specified in bytes.


                                                                          Page A-3
  DTI HEADER                                                           5 June 1997


  [3mUHL1[0m [3mTYPE[0m [3mDTI[0m [3mFILES[0m

  UHL1 DTI files are derived from DMA-format files (DTED Change 2).  The header of
  these  images  is a direct copy of the character data from the UHL1 block at the
  start of the original tape file.

      Field length   Field offset          Description   

           4              0                Header Type Identifier = UHL1
          76              4                UHL Record

           2             80                X Data Extent
           2             82                Y Data Extent 
           4             84                X Grid Interval
           4             88                Y Grid Interval
           2             92                Minimum Byte or Word Data Value
           2             94                Maximum Byte or Word Data Value

           4             96                Minimum Long or Real Data Value
           4            100                Maximum Long or Real Data Value        
           2            104                Data Type Identifier

         150            106                Unused

                        256++              Data Area

  [3mTED4[0m [3mTYPE[0m [3mDTI[0m [3mFILES[0m

  TED4 DTI files are derived from DMA-format files (DTED Change 3/4).  This format
  does not retain the UHL1 record since all the information in it is duplicated in
  the DSI and ACC records.  These latter records are stored  as  on  the  original
  tape.

      Field length   Field offset          Description   
          
           4              0                Header Type Identifier = TED4

           2              4                X Data Extent
           2              6                Y Data Extent 
           4              8                X Grid Interval
           4             12                Y Grid Interval
           2             16                Minimum Byte or Word Data Value
           2             18                Maximum Byte or Word Data Value

           4             20                Minimum Long or Real Data Value
           4             24                Maximum Long or Real Data Value        
           2             28                Data Type Identifier

         206             30                Unused

         648            236                DSI Record
        2700            884                ACC record

                       3584++              Data Area


                                                                          Page A-4
  DTI HEADER                                                           5 June 1997


  [3mMIKE[0m [3mTYPE[0m [3mDTI[0m [3mFILES[0m

  MIKE DTI files are derived from the PANACEA terrain  model  generation  package.
  These  type  of  files are now historical.  The current implementation of DTILIB
  will read MIKE files, but will prevent DTI files with a MIKE header  from  being
  created.

      Field length   Field offset          Description   
          
           4              0                Header Type Identifier = MIKE

           2              4                X Data Extent
           2              6                Y Data Extent 
           4              8                X Grid Interval
           4             12                Y Grid Interval
           2             16                Minimum Byte or Word Data Value
           2             18                Maximum Byte or Word Data Value

           4             20                Minimum Long or Real Data Value
           4             24                Maximum Long or Real Data Value        
           2             28                Data Type Identifier

         226             30                Unused

                        256++              Data Area

  [3mALVY[0m [3mTYPE[0m [3mDTI[0m [3mFILES[0m

  ALVY DTI files vary from other DTI files in  having  a  variable  length  header
  record.   The  length of the record is defined by a header length field (at byte
  offset 30) in the header.  These type of files are now historical.  The  current
  implementation of DTILIB will read ALVY files, but will prevent DTI files with a
  ALVY header from being created.

      Field length   Field offset          Description   
          
           4              0                Header Type Identifier = ALVY

           2              4                X Data Extent
           2              6                Y Data Extent 
           4              8                X Grid Interval
           4             12                Y Grid Interval
           2             16                Minimum Byte or Word Data Value
           2             18                Maximum Byte or Word Data Value

           4             20                Minimum Long or Real Data Value
           4             24                Maximum Long or Real Data Value        
           2             28                Data Type Identifier
           2             30                Unsigned Word Defining Start of
                                           Data Area (ie. Length of Header)



                                                                          Page A-5
  DTI HEADER                                                           5 June 1997


  [3mLSLA[0m [3mTYPE[0m [3mDTI[0m [3mFILES[0m

  LSLA DTI files vary from other DTI files in  having  a  variable  length  header
  record.   The  length of the record is defined by a header length field (at byte
  offset 30) in the header.  These types  of  files  are  now  generated  in  most
  situations by Laser-Scan utilities.

      Field length   Field offset          Description   
          
           4              0                Header Type Identifier = LSLA

           2              4                X Data Extent
           2              6                Y Data Extent 
           4              8                X Grid Interval
           4             12                Y Grid Interval
           2             16                Minimum Byte or Word Data Value
           2             18                Maximum Byte or Word Data Value

           4             20                Minimum Long or Real Data Value
           4             24                Maximum Long or Real Data Value        
           1             28                Data Type Identifier
           1             29                Data Order Values (Corner of
                                           Origin and Direction)
           2             30                Unsigned Word Defining Start of
                                           Data Area (ie. Length of Header)



                                                                          Page A-6
  DTI DATA AREA                                                        5 June 1997


  [3mDTI[0m [3mDATA[0m [3mAREA[0m

  The structure of the data area is common to all types of DTI files.  The size of
  the data area is defined by means of the east and north extent values in the DTI
  header.  The data  values  are  currently  held  as  bit  (binary),  byte,  word
  (INTEGER*2),  longword  (INTEGER*4)  or  real.   This may be determined from the
  header data type identifier.


  The first data value encountered in the data array is the south-west DTM  value.
  The  final  data value is the north-east DTM value.  Intervening data values are
  organised on a column basis, with the southernmost value of  the  column  always
  being encountered first.


          s(1,1),s(1,2)..., s(1,n), s(2,1),... ..., s(e,1), ..., s(e,n) 


          where:  's' is the sample   s(1,1)= SW corner of the grid
                  'n' is the north extent
                  'e' is the east extent




          _________________________
          |       |       |       |
          |   3   |   6   |   9   |
          |       |       |       |
          -------------------------
          |       |       |       |
          |   2   |   5   |   8   |
          |       |       |       |
          -------------------------
          |       |       |       |
          |   1   |   4   |   7   |
          |       |       |       |
          -------------------------





  Index                                                     Page Index-1


                                  INDEX



  ALVY DTI files, A-4                   ENABLE DIAGNOSTICS command,
  ALVY Header format, A-4                   8-12
                                        ENABLE NINT command, 8-13
                                        ENABLE PME command, 8-14
  Digital Terrain Image Files, 12-1,    EXAMPLES, 8-36
      A-1                               FILEIN command, 8-15
  DTI Data Format, A-6                  FILEOUT command, 8-16
  DTI Files, 12-1, A-1                  FORMAT, 8-1
  DTI Header Format, A-2                FORMAT command, 8-17
  DTI Projection Record, 12-7           FUNCTION, 8-1
  DTI2TEXT, 8-1                         GO command, 8-19
    ! command, 8-6                      HELP command, 8-22
    @ command, 8-4                      MESSAGES, 8-43
    command defaults, 8-1               NULL command, 8-23
    COMMAND QUALIFIERS, 8-1             PAUSE command, 8-24
    commands, 8-3                       QUIT command, 8-25
      !, 8-6                            RETURN command, 8-26
      @, 8-4                            SHOW ENABLE command, 8-27
      DISABLE ABSOLUTE, 8-7             SHOW FILES command, 8-28
      DISABLE DIAGNOSTICS, 8-8          SHOW FORMAT command, 8-29
      DISABLE NINT, 8-9                 SHOW NULL command, 8-30
      DISABLE PME, 8-10                 SHOW UNITS command, 8-31
      ENABLE ABSOLUTE, 8-11             UNITS command, 8-32
      ENABLE DIAGNOSTICS, 8-12          WAIT command, 8-33
      ENABLE NINT, 8-13                 WINDOW command, 8-34
      ENABLE PME, 8-14                DTIBLEND, 4-1
      FILEIN, 8-15                      BLEND command, 4-8
      FILEOUT, 8-16                     BORDER command, 4-10
      FORMAT, 8-17                      ! command, 4-7
      GO, 8-19                          @ command, 4-5
      HELP, 8-22                        COMMAND DEFAULTS, 4-1
      NULL, 8-23                        COMMAND QUALIFIERS, 4-1
      PAUSE, 8-24                       commands, 4-4
      QUIT, 8-25                          !, 4-7
      RETURN, 8-26                        @, 4-5
      SHOW ENABLE, 8-27                   BLEND, 4-8
      SHOW FILES, 8-28                    BORDER, 4-10
      SHOW FORMAT, 8-29                   DESELECT, 4-12 to 4-13
      SHOW NULL, 8-30                     DESELECT FC, 4-12
      SHOW UNITS, 8-31                    DESELECT LAYER, 4-13
      UNITS, 8-32                         DISABLE DIAGNOSTICS, 4-14
      WAIT, 8-33                          DISABLE DIVIDEBY, 4-15
      WINDOW, 8-34                        DISABLE IN_SITU, 4-16
    DESCRIPTION, 8-2                      DISABLE INTEGER_HEIGHT, 4-17
      General, 8-2                        DISABLE MULTIPLYBY, 4-18
    DISABLE ABSOLUTE command, 8-7         DISABLE PME, 4-19
    DISABLE DIAGNOSTICS command,          DISABLE SMOOTH, 4-20
        8-8                               DISABLE TOFEET, 4-21
    DISABLE NINT command, 8-9             DISABLE TOMETRES, 4-22
    DISABLE PME command, 8-10             ENABLE DIAGNOSTICS, 4-23
    ENABLE ABSOLUTE command, 8-11         ENABLE DIVIDEBY, 4-24


  Index                                                     Page Index-2


      ENABLE IN_SITU, 4-25              ENABLE TOFEET command, 4-29
      ENABLE INTEGER_HEIGHT, 4-27       ENABLE TOMETRES command, 4-30
      ENABLE PME, 4-31                  EXAMPLES, 4-65
      ENABLE SMOOTH, 4-28               FORMAT, 4-1
      ENABLE TOFEET, 4-29               FRT command, 4-32
      ENABLE TOMETRES, 4-30             FUNCTION, 4-1
      FRT, 4-32                         GO command, 4-33
      GO, 4-33                          HELP command, 4-35
      HELP, 4-35                        HOLD command, 4-37
      HOLD, 4-37                        IFF command, 4-39
      IFF, 4-39                         LIST command, 4-41
      LIST, 4-41                        MESSAGES, 4-69
      NULL, 4-43                        NULL command, 4-43
      PAUSE, 4-45                       PAUSE command, 4-45
      QUIT, 4-46                        QUIT command, 4-46
      RETURN, 4-47                      RETURN command, 4-47
      ROVER, 4-48                       ROVER command, 4-48
      SELECT, 4-51, 4-53                SELECT ALL command, 4-50
      SELECT FC, 4-51                   SELECT command, 4-51, 4-53
      SELECT LAYER, 4-53                SHOW BORDER command, 4-56
      SHOW, 4-55                        SHOW command, 4-55
      SHOW BORDER, 4-56                 SHOW ENABLE command, 4-57
      SHOW ENABLE, 4-57                 SHOW FILES command, 4-58
      SHOW FILES, 4-58                  SHOW NULL command, 4-59
      SHOW NULL, 4-59                   SHOW SELECTIONS command, 4-60
      SHOW SELECTIONS, 4-60             SHOW THRESHOLD command, 4-61
      SHOW THRESHOLD, 4-61              SPAWN command, 4-62
      SPAWN, 4-62                       THRESHOLD command, 4-63
      THRESHOLD, 4-63                   WAIT command, 4-64
      WAIT, 4-64                      DTIBLEND Commands
    DESCRIPTION, 4-2                    SELECT ALL, 4-50
      General, 4-2                    DTICOMBINE, 6-1
      Null Post Handling, 4-2           BYTE command, 6-8
      Typical Command Sequence, 4-3     CLASS command, 6-9
    DESELECT command, 4-12 to 4-13      CLOSE command, 6-11
    DISABLE DIAGNOSTICS command,        ! command, 6-7
        4-14                            @ command, 6-5
    DISABLE DIVIDEBY command, 4-15      command defaults, 6-1
    DISABLE IN_SITU command, 4-16       COMMAND QUALIFIERS, 6-1
    DISABLE INTEGER_HEIGHT command,     commands, 6-4
        4-17                              !, 6-7
    DISABLE MULTIPLYBY command,           @, 6-5
        4-18                              BYTE, 6-8
    DISABLE PME command, 4-19             CLASS, 6-9
    DISABLE SMOOTH command, 4-20          CLOSE, 6-11
    DISABLE TOFEET command, 4-21          DELETE, 6-13
    DISABLE TOMETRES command, 4-22        DISABLE ABSOLUTE, 6-14
    ENABLE DIAGNOSTICS command,           DISABLE CLASSIFICATION, 6-15
        4-23                              DISABLE DIAGNOSTICS, 6-16
    ENABLE DIVIDEBY command, 4-24         DISABLE PME, 6-17
    ENABLE IN_SITU command, 4-25          ENABLE ABSOLUTE, 6-18
    ENABLE INTEGER_HEIGHT command,        ENABLE CLASSIFICATION, 6-19
        4-27                              ENABLE DIAGNOSTICS, 6-20
    ENABLE PME command, 4-31              ENABLE PME, 6-21
    ENABLE SMOOTH command, 4-28           EXCLUDE, 6-22


  Index                                                     Page Index-3


      FILEOUT, 6-26                     QUIT command, 6-38
      FILEx, 6-24                       REAL command, 6-39
      GO, 6-28                          REPLACES, 6-1
      HELP, 6-31                        RETURN command, 6-40
      INCLUDE, 6-32                     SHOW CLASSES command, 6-41
      LONGWORD, 6-34                    SHOW ENABLE command, 6-42
      OUTPUT, 6-35 to 6-36              SHOW EXPRESSION command, 6-43
      PAUSE, 6-37                       SHOW FILEx command, 6-44
      QUIT, 6-38                        SHOW OUTPUT command, 6-46
      REAL, 6-39                        SHOW UNITS command, 6-47
      RETURN, 6-40                      SPAWN command, 6-48
      SHOW CLASSES, 6-41                UNITS command, 6-49
      SHOW ENABLE, 6-42                 WAIT command, 6-50
      SHOW EXPRESSION, 6-43             WINDOW command, 6-51
      SHOW FILEx, 6-44                  WORD command, 6-53
      SHOW OUTPUT, 6-46               DTICONVERT, 9-1
      SHOW UNITS, 6-47                  DESCRIPTION, 9-2
      SPAWN, 6-48                         General, 9-2
      UNITS, 6-49                         Header Size Prompt, 9-3
      WAIT, 6-50                          Initiating Conversion, 9-5
      WINDOW, 6-51                        Input Filename Prompt, 9-2
      WORD, 6-53                          Operation, 9-2
    DELETE command, 6-13                  Output Data Type Prompt, 9-4
    DESCRIPTION, 6-2                      Output Filename Prompt, 9-3
      General, 6-2                        Output Header Type Prompt,
      Null Post Handling, 6-2                 9-3
      Typical command sequence, 6-2       Prompts, 9-2
    DISABLE ABSOLUTE command, 6-14      FORMAT, 9-1
    DISABLE CLASSIFICATION command,     FUNCTION, 9-1
        6-15                            PROMPTS, 9-1
    DISABLE DIAGNOSTICS command,          Header Size, 9-3
        6-16                              Input Filename, 9-2
    DISABLE PME command, 6-17             Output Data Type, 9-4
    ENABLE ABSOLUTE command, 6-18         Output Filename, 9-3
    ENABLE CLASSIFICATION command,        Output Header Type, 9-3
        6-19                            REPLACES, 9-1
    ENABLE DIAGNOSTICS command,       DTIEDIT, 3-1
        6-20                            CHANGE command, 3-10
    ENABLE PME command, 6-21            ! command, 3-9
    EXAMPLES, 6-54                      COMMANDS, 3-6
    EXCLUDE command, 6-22               commands
    EXPRESSIONS, 6-59                     !, 3-9
    FILEOUT command, 6-26                 @, 3-7
    FILEx command, 6-24                   CHANGE, 3-10
    FORMAT, 6-1                           DISABLE BELL, 3-12
    FUNCTION, 6-1                         DISABLE EDIT, 3-13
    GO command, 6-28                      EDIT AREA, 3-14
    HELP command, 6-31                    EDIT LINE, 3-16
    INCLUDE command, 6-32                 EDIT POINT, 3-18
    LONGWORD command, 6-34                ENABLE BELL, 3-20
    MESSAGES, 6-57                        ENABLE EDIT, 3-21
    OUTPUT INTERSECTION command,          EXIT, 3-22
        6-35                              FILEIN, 3-23
    OUTPUT UNION command, 6-36            HELP, 3-24
    PAUSE command, 6-37                   LIMITS, 3-25


  Index                                                     Page Index-4


      ORIGIN, 3-27                        /INDEX, 13-1, 13-3
      PRINT, 3-28                         /LONG, 13-1, 13-3
      RESET LIMITS, 3-30                  /NE, 13-1, 13-3
      RESET MINMAX, 3-32                  /NW, 13-1, 13-3
      RESET STEP, 3-34                    /REAL, 13-1, 13-3
      RETURN, 3-35                        /SE, 13-1, 13-3
      SET SCREEN, 3-36                    /SW, 13-1, 13-3
      SHOW DISPLAY, 3-37                  /WORD, 13-1, 13-3
      SHOW FILEIN, 3-38                   /XYZ, 13-1, 13-3
      SPAWN, 3-39                         /Z, 13-1, 13-4
      STEP, 3-40                        DESCRIPTION, 13-4
      SUBSTITUTE, 3-42                    Customer formats, 13-5
      UNITS, 3-44                         DTI Projection Record, 13-4
    DESCRIPTION, 3-2                      Text to DTI Translation, 13-4
      Command Line Mode, 3-2            FORMAT, 13-1
      General, 3-2                      FUNCTION, 13-1
      Keypad Mode, 3-3                  PROMPTS, 13-2
    DISABLE BELL command, 3-12          RESTRICTIONS, 13-4
    DISABLE command, 3-13             DTILIB, 12-1
    EDIT AREA command, 3-14             ALVY DTI files, A-4
    EDIT LINE command, 3-16             ALVY Header format, A-4
    EDIT POINT command, 3-18            Common Blocks, 12-4
    ENABLE BELL command, 3-20           Copy Data Routines, 12-73
    ENABLE EDIT command, 3-21           Copy Header Routines, 12-71
    EXAMPLES, 3-45                      Digital Terrain Image Files,
    EXIT command, 3-22                      12-1, A-1
    FILEIN command, 3-23                Documentation Notation, 12-16
    FORMAT, 3-1                         DTI Data Format, A-6
    FUNCTION, 3-1                       DTI Files, 12-1, A-1
    HELP command, 3-24                  DTI Header Format, A-2
    LIMITS command, 3-25                DTI Projection Record, 12-7
    MESSAGES, 3-48                      DTI__NORMAL, 12-3
    ORIGIN command, 3-27                DTI__SYSERR, 12-3
    PRINT command, 3-28                 DTI_CLOSE, 12-24
    PROMPTS, 3-1                        DTI_COPY_BIT_DATA, 12-74
    RESET LIMITS command, 3-30          DTI_COPY_BYTE_DATA, 12-76
    RESET MINMAX command, 3-32          DTI_COPY_BYTE_HEADER, 12-71
    RESET STEP command, 3-34            DTI_COPY_DATA, 12-73
    RETURN command, 3-35                DTI_COPY_HEADER, 12-72
    SET SCREEN command, 3-36            DTI_COPY_LONG_DATA, 12-78
    SHOW DISPLAY command, 3-37          DTI_COPY_REAL_DATA, 12-79
    SHOW FILEIN command, 3-38           DTI_COPY_WORD_DATA, 12-77
    SPAWN command, 3-39                 DTI_CREATE, 12-20
    STEP command, 3-40                  DTI_EXTEND_DATA, 12-22
    SUBSTITUTE command, 3-42            DTI_EXTEND_HEADER, 12-23
    UNITS command, 3-44                 DTI_INIT, 12-3, 12-17
  DTIEDIT @ command, 3-7                DTI_INIT_BIT_DATA, 12-81
  DTIFROMTEXT, 13-1                     DTI_INIT_BYTE_DATA, 12-82
    COMMAND PARAMETERS, 13-2            DTI_INIT_DATA, 12-80
    COMMAND QUALIFIERS, 13-2            DTI_INIT_LONG_DATA, 12-84
    command qualifiers, 13-1            DTI_INIT_REAL_DATA, 12-85
      /ANTICLOCKWISE, 13-1 to 13-2      DTI_INIT_WORD_DATA, 12-83
      /BYTE, 13-1 to 13-2               DTI_MATRIX_TO_UNITS, 12-31
      /CLOCKWISE, 13-1 to 13-2          DTI_MINMAX_DATA, 12-39
      /CUSTOMER, 13-1 to 13-2           DTI_NEXT_LUN, 12-25


  Index                                                     Page Index-5


    DTI_OPEN, 12-18                     Read Header Routines, 12-41
    DTI_PRINT_HEADER, 12-26             TED4 DTI files, A-3
    DTI_PRINT_PROJECTION, 12-28         TED4 Header format, A-3
    DTI_READ_BIT_DATA, 12-51            UHL1 DTI files, A-3
    DTI_READ_BYTE_DATA, 12-52           UHL1 Header format, A-3
    DTI_READ_BYTE_HEADER, 12-45         Utility Routines, 12-25
    DTI_READ_DATA, 12-50                Write Data Routines, 12-65
    DTI_READ_DSI, 12-43                 Write Header Routines, 12-56
    DTI_READ_HEADER, 12-41            DTIPATCH, 10-1
    DTI_READ_LONG_DATA, 12-54           Description, 10-2
    DTI_READ_LONG_HEADER, 12-47           General, 10-2
    DTI_READ_PROJ_REC, 12-42            Examples, 10-6
    DTI_READ_REAL8_HEADER, 12-49        Format, 10-1
    DTI_READ_REAL_DATA, 12-55           Function, 10-1
    DTI_READ_REAL_HEADER, 12-48         Messages, 10-8
    DTI_READ_UHL, 12-44                   Other, 10-8
    DTI_READ_WORD_DATA, 12-53           Prompts, 10-1 to 10-2
    DTI_READ_WORD_HEADER, 12-46           Corner of Data Origin, 10-3
    DTI_UNITS, 12-29                      Data Direction, 10-3
    DTI_UNITS_TO_MATRIX, 12-33            Enter DTI Filename, 10-3
    DTI_WIN_MATRIX_TO_UNITS, 12-35        Maximum Data Value, 10-4
    DTI_WIN_UNITS_TO_MATRIX, 12-37        Minimum Data Value, 10-4
    DTI_WINDOW_MINMAX, 12-40              Number of Columns, 10-3
    DTI_WRITE_BIT_DATA, 12-66             Number of Rows, 10-4
    DTI_WRITE_BYTE_DATA, 12-67            X Grid Interval, 10-4
    DTI_WRITE_BYTE_HEADER, 12-60          Y Grid Interval, 10-4
    DTI_WRITE_DATA, 12-65               Replaces, 10-1
    DTI_WRITE_DSI, 12-58              DTIROTATE, 7-1
    DTI_WRITE_HEADER, 12-56             ! command, 7-10
    DTI_WRITE_LONG_DATA, 12-69          @ command, 7-8
    DTI_WRITE_LONG_HEADER, 12-62        command defaults, 7-2
    DTI_WRITE_PROJ_REC, 12-57           commands, 7-7
    DTI_WRITE_REAL8_HEADER, 12-64         !, 7-10
    DTI_WRITE_REAL_DATA, 12-70            @, 7-8
    DTI_WRITE_REAL_HEADER, 12-63          DISABLE DIAGNOSTICS, 7-11
    DTI_WRITE_UHL, 12-59                  DISABLE MIRROR, 7-12
    DTI_WRITE_WORD_DATA, 12-68            DISABLE PME, 7-13
    DTI_WRITE_WORD_HEADER, 12-61          DISABLE ROTATE, 7-14
    DTIDEF Parameter File, 12-13          ENABLE DIAGNOSTICS, 7-15
    DTIHDR Common Block, 12-4             ENABLE MIRROR BOTH, 7-16
    DTILIB Parameter Files, 12-10         ENABLE MIRROR X, 7-17
    DTILIBMSG.PAR, 12-3                   ENABLE MIRROR Y, 7-18
    DTIPAR Parameter File, 12-10          ENABLE PME, 7-19
    DTIPROJ Common Block, 12-7            ENABLE ROTATE, 7-20
    File Manipulation Routines,           FILEIN, 7-21
        12-18                             FILEOUT, 7-23
    Function Return Codes, 12-3           GO, 7-24
    Initialise Data Routines, 12-80       HELP, 7-26
    Introduction, 12-1                    PAUSE, 7-27
    Library Initialisation, 12-17         QUIT, 7-28
    LSLA DTI files, A-5                   RETURN, 7-29
    LSLA Header format, A-5               SHOW ENABLE, 7-30
    MIKE DTI files, A-4                   SHOW FILES, 7-31
    MIKE Header Format, A-4               SHOW PARAMETERS, 7-32
    Read Data Routines, 12-50             SPAWN, 7-33


  Index                                                     Page Index-6


      WAIT, 7-34                          FILEOUT, 5-20
    DESCRIPTION, 7-3                      GO, 5-21
      General, 7-3                        HELP, 5-23
      Operation states, 7-3               NULL, 5-24
      Typical Command Sequence, 7-6       ORIGIN, 5-26
    DISABLE DIAGNOSTICS command,          PAUSE, 5-29
        7-11                              QUIT, 5-30
    DISABLE MIRROR command, 7-12          RETURN, 5-31
    DISABLE PME command, 7-13             SHOW ENABLE, 5-32
    DISABLE ROTATE command, 7-14          SHOW FILES, 5-33
    ENABLE DIAGNOSTICS command,           SHOW NULL, 5-35
        7-15                              SHOW SIZE, 5-36
    ENABLE MIRROR BOTH command,           SHOW UNITS, 5-37
        7-16                              SHOW VOIDS, 5-38
    ENABLE MIRROR X command, 7-17         SIZE, 5-39
    ENABLE MIRROR Y command, 7-18         SPAWN, 5-41
    ENABLE PME command, 7-19              UNITS, 5-42
    ENABLE ROTATE command, 7-20           VOID, 5-44
    EXAMPLES, 7-35                        WAIT, 5-47
    FILEIN command, 7-21                  WINDOW, 5-48
    FILEOUT command, 7-23               DESCRIPTION, 5-2
    FORMAT, 7-1                           General, 5-2
    FUNCTION, 7-1                         Typical command sequence, 5-2
    GO command, 7-24                    DISABLE ABSOLUTE command, 5-10
    HELP command, 7-26                  DISABLE DIAGNOSTICS command,
    MESSAGES, 7-38                          5-11
      Other, 7-39                       DISABLE NULL_CHECKING command,
    PAUSE command, 7-27                     5-12
    PROMPTS, 7-1                        DISABLE PME command, 5-13
    QUIT command, 7-28                  ENABLE ABSOLUTE command, 5-14
    REPLACES, 7-1                       ENABLE DIAGNOSTICS command,
    RETURN command, 7-29                    5-15
    SHOW ENABLE command, 7-30           ENABLE NULL_CHECKING command,
    SHOW FILES command, 7-31                5-16
    SHOW PARAMETERS command, 7-32       ENABLE PME command, 5-17
    SPAWN command, 7-33                 EXAMPLES, 5-51
    WAIT command, 7-34                  FILEIN command, 5-18
  DTITILE, 5-1                          FILEOUT command, 5-20
    CANCEL VOID command, 5-8            FORMAT, 5-1
    ! command, 5-7                      FUNCTION, 5-1
    @ command, 5-5                      GO command, 5-21
    Command defaults, 5-1               HELP command, 5-23
    commands, 5-4                       MESSAGES, 5-55
      !, 5-7                            NULL command, 5-24
      @, 5-5                            ORIGIN command, 5-26
      CANCEL VOID, 5-8                  PAUSE command, 5-29
      DISABLE ABSOLUTE, 5-10            PROMPTS, 5-1
      DISABLE DIAGNOSTICS, 5-11         QUIT command, 5-30
      DISABLE NULL_CHECKING, 5-12       REPLACES, 5-1
      DISABLE PME, 5-13                 RETURN command, 5-31
      ENABLE ABSOLUTE, 5-14             SHOW ENABLE command, 5-32
      ENABLE DIAGNOSTICS, 5-15          SHOW FILES command, 5-33
      ENABLE NULL_CHECKING, 5-16        SHOW NULL command, 5-35
      ENABLE PME, 5-17                  SHOW SIZE command, 5-36
      FILEIN, 5-18                      SHOW UNITS command, 5-37


  Index                                                     Page Index-7


    SHOW VOIDS command, 5-38              @, 2-13
    SIZE command, 5-39                    CLEAR, 2-16
    SPAWN command, 5-41                   CLEAR PICTURE, 2-19
    UNITS command, 5-42                   CLEAR QUADRANT, 2-17
    VOID command, 5-44                    COLOURS, 2-21
    WAIT command, 5-47                    DESELECT FC, 2-23
    WINDOW command, 5-48                  DESELECT FSN, 2-25
  DTITRANS, 11-1                          DESELECT LAYER, 2-26
    and the DTI Projection Record,        DIRECTION, 2-27
        11-7                              DISABLE ABSOLUTE, 2-28
    COMMAND PARAMETERS, 11-2              DISABLE AUTOSCALE, 2-29
    COMMAND QUALIFIERS, 11-3              DISABLE BATHYMETRY, 2-30
    command qualifiers, 11-1              DISABLE COLOUR_IFF, 2-31
      /DESCRIPTOR, 11-1, 11-3             DISABLE DIVIDE, 2-32
      /FILE_TYPE, 11-1, 11-3              DISABLE FISHNET, 2-33
      /FOUR, 11-1, 11-3                   DISABLE FOG, 2-34
      /IFF, 11-1, 11-4                    DISABLE GRAPHICS, 2-35
      /IMAGEMAP, 11-1, 11-4               DISABLE IFF_OUTPUT, 2-36
      /LOG, 11-1, 11-4                    DISABLE OVERLAY, 2-37
      /PROJECTIVE, 11-1, 11-4             DISABLE PICTURE, 2-38
      /PROMPT, 11-1, 11-4                 DISABLE PRIMARY, 2-40
      /RESAMPLE, 11-2, 11-5               DISABLE SECONDARY, 2-41
      /ROUND_ORIGIN, 11-2, 11-5           DISABLE SYMBOLS, 2-42
      /SHIFT, 11-2, 11-5                  DISABLE TABLE, 2-43
      /THREE, 11-2, 11-5                  DISTANCE, 2-44
      /TRANSFORM, 11-2, 11-6              DRAW LABEL, 2-45
      /TWO, 11-2, 11-6                    DRAW LEGEND, 2-47
      /WINDOW, 11-2, 11-6                 ENABLE ABSOLUTE, 2-48
    DESCRIPTION, 11-7                     ENABLE AUTOSCALE, 2-49
      DTI Projection Record, 11-7         ENABLE BATHYMETRY, 2-51
      Plane Transformations, 11-10        ENABLE COLOUR_IFF, 2-52
      Projection Transformations,         ENABLE DIVIDE, 2-53
          11-9                            ENABLE FISHNET, 2-54
    EXAMPLES, 11-13                       ENABLE FOG, 2-56
    FORMAT, 11-1                          ENABLE GRAPHICS, 2-57
    FUNCTION, 11-1                        ENABLE IFF_OUTPUT, 2-58
    MESSAGES, 11-21                       ENABLE OVERLAY, 2-59
    Plane Transformations, 11-10          ENABLE PICTURE, 2-61
    Projection Transformations,           ENABLE PRIMARY, 2-63
        11-9                              ENABLE SECONDARY, 2-64
    projections, 11-8                     ENABLE SYMBOLS, 2-65
    PROMPTS, 11-2                         ENABLE TABLE, 2-66
    RESTRICTIONS, 11-2                    EXIT, 2-67
    spheroids, 11-8                       FILEIN, 2-68
    supported projections, 11-8           FOG COLOUR, 2-70
    supported spheroids, 11-8             FOG VISIBILITY, 2-72
  DTIVIEW, 2-1                            FRT, 2-74
    CLEAR command, 2-16                   HEIGHT, 2-76
    CLEAR PICTURE command, 2-19           HELP, 2-77
    CLEAR QUADRANT command, 2-17          IFF, 2-78
    COLOURS command, 2-21                 IFFWINDOW, 2-79
    ! command, 2-15                       ISOMETRIC, 2-81
    @ command, 2-13                       LABEL CLEAR, 2-82
    commands, 2-12                        LABEL COLOUR, 2-83
      !, 2-15                             LABEL POSITION, 2-85


  Index                                                     Page Index-8


      LABEL SIZE, 2-86                    Projection Transformations,
      LEGEND POSITION, 2-87                   2-2
      LEGEND SIZE, 2-88                   Restriction of Visibility
      LUT, 2-89                               (Fog), 2-9
      OVERLAY, 2-90                       Simple Profile, 2-4
      PERSPECTIVE, 2-92                   Symbol Plotting and Movement,
      PHI, 2-93                               2-8
      PLANES, 2-94                        Terrain View Generation, 2-3
      PROFILE, 2-96                       Use of Digitising Table and
      QUADRANT, 2-98                          Puck, 2-9
      SAMPLE, 2-99                      DESELECT FC command, 2-23
      SELECT ALL, 2-101                 DESELECT FSN command, 2-25
      SELECT FC, 2-102                  DESELECT LAYER command, 2-26
      SELECT FSN, 2-103                 DIRECTION command, 2-27
      SELECT LAYER, 2-104               DISABLE ABSOLUTE command, 2-28
      SET DEFAULT ANNOTATION, 2-105     DISABLE AUTOSCALE command, 2-29
      SET DEFAULT VIEW, 2-106           DISABLE BATHYMETRY command,
      SET LAND_FC, 2-107                    2-30
      SET LAYER, 2-109                  DISABLE COLOUR_IFF command,
      SET LINE_STYLE, 2-111                 2-31
      SET NULL_FC, 2-113                DISABLE DIVIDE command, 2-32
      SET ORIGIN, 2-115                 DISABLE FISHNET command, 2-33
      SET SCALE, 2-117                  DISABLE FOG command, 2-34
      SET SEA_FC, 2-118                 DISABLE GRAPHICS command, 2-35
      SET SYMBOL_FC, 2-120              DISABLE IFF_OUTPUT command,
      SET TEXT_FC, 2-121                    2-36
      SETUP MAP, 2-122                  DISABLE OVERLAY command, 2-37
      SETUP MENU, 2-124                 DISABLE PICTURE command, 2-38
      SHOW ANNOTATION, 2-126            DISABLE PRIMARY command, 2-40
      SHOW DEVICE, 2-127                DISABLE SECONDARY command, 2-41
      SHOW ENABLE, 2-128                DISABLE SYMBOLS command, 2-42
      SHOW FILEIN, 2-129                DISABLE TABLE command, 2-43
      SHOW IFF, 2-130                   DISTANCE command, 2-44
      SHOW SETTINGS, 2-131              DRAW LABEL command, 2-45
      SHOW SYMBOLS, 2-132               DRAW LEGEND command, 2-47
      SHOW VIEW, 2-134                  ENABLE ABSOLUTE command, 2-48
      SPAWN, 2-136                      ENABLE AUTOSCALE command, 2-49
      SRI, 2-137                        ENABLE BATHYMETRY command, 2-51
      SYMBOL CLEAR, 2-138               ENABLE COLOUR_IFF command, 2-52
      SYMBOL FC, 2-140                  ENABLE DIVIDE command, 2-53
      SYMBOL POSITION, 2-142            ENABLE FISHNET command, 2-54
      THETA, 2-145                      ENABLE FOG command, 2-56
      UNITS, 2-146                      ENABLE GRAPHICS command, 2-57
      WAIT, 2-147                       ENABLE IFF_OUTPUT command, 2-58
      WINDOW, 2-148                     ENABLE OVERLAY command, 2-59
      ZLIMITS, 2-150                    ENABLE PICTURE command, 2-61
      ZSCALE, 2-151                     ENABLE PRIMARY command, 2-63
      ZSTEP, 2-152                      ENABLE SECONDARY command, 2-64
    DESCRIPTION, 2-2                    ENABLE SYMBOLS command, 2-65
      Colour Tables, 2-5                ENABLE TABLE command, 2-66
      Display Annotation, 2-7           EXIT command, 2-67
      General, 2-2                      FILEIN command, 2-68
      Hidden Line Removal, 2-3          FOG COLOUR command, 2-70
      IFF Overlay, 2-6                  FOG VISIBILITY command, 2-72
      Pictures and Planes, 2-4          FORMAT, 2-1


  Index                                                     Page Index-9


    FRT command, 2-74                   SET SYMBOL_FC command, 2-120
    FUNCTION, 2-1                       SET TEXT_FC command, 2-121
    HEIGHT command, 2-76                SETUP MAP command, 2-122
    HELP command, 2-77                  SETUP MENU command, 2-124
    IFF command, 2-78                   SHOW ANNOTATION command, 2-126
    IFFWINDOW command, 2-79             SHOW DEVICE command, 2-127
    ISOMETRIC command, 2-81             SHOW ENABLE command, 2-128
    LABEL CLEAR command, 2-82           SHOW FILEIN command, 2-129
    LABEL COLOUR command, 2-83          SHOW IFF command, 2-130
    LABEL POSITION command, 2-85        SHOW SETTINGS command, 2-131
    LABEL SIZE command, 2-86            SHOW SYMBOLS command, 2-132
    LEGEND POSITION command, 2-87       SHOW VIEW command, 2-134
    LEGEND SIZE command, 2-88           SPAWN command, 2-136
    LUT command, 2-89                   SRI command, 2-137
    OVERLAY command, 2-90               SYMBOL CLEAR command, 2-138
    PERSPECTIVE command, 2-92           SYMBOL FC command, 2-140
    PHI command, 2-93                   SYMBOL POSITION command, 2-142
    PLANES command, 2-94                THETA command, 2-145
    PROFILE command, 2-96               UNITS command, 2-146
    PROMPTS, 2-1                        WAIT command, 2-147
    QUADRANT command, 2-98              WINDOW command, 2-148
    SAMPLE command, 2-99                ZLIMITS command, 2-150
    SELECT ALL command, 2-101           ZSCALE command, 2-151
    SELECT FC command, 2-102            ZSTEP command, 2-152
    SELECT FSN command, 2-103
    SELECT LAYER command, 2-104       LSLA DTI files, A-5
    SET DEFAULT ANNOTATION command,   LSLA Header format, A-5
        2-105
    SET DEFAULT VIEW command, 2-106   MIKE DTI files, A-4
    SET LAND_FC command, 2-107        MIKE Header Format, A-4
    SET LAYER command, 2-109
    SET LINE_STYLE command, 2-111     TED4 DTI files, A-3
    SET NULL_FC command, 2-113        TED4 Header format, A-3
    SET ORIGIN command, 2-115
    SET SCALE command, 2-117          UHL1 DTI files, A-3
    SET SEA_FC command, 2-118         UHL1 Header format, A-3
